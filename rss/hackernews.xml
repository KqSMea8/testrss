<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Police searches homes of Zwiebelfreunde board members and OpenLab in Augsburg</title>
<link>https://www.ccc.de/en/updates/2018/hausdurchsuchungen-bei-vereinsvorstanden-der-zwiebelfreunde-und-im-openlab-augsburg</link>
<guid isPermaLink="true" >https://www.ccc.de/en/updates/2018/hausdurchsuchungen-bei-vereinsvorstanden-der-zwiebelfreunde-und-im-openlab-augsburg</guid>
<description>&lt;p&gt;For seven years, the Zwiebelfreunde association has been promoting and creating privacy enhancing technologies, while also educating the public in their use. At &lt;a href=&quot;https://torservers.net/&quot; title=&quot;Tor Servers Homepage&quot;&gt;TorServers.net&lt;/a&gt;, the association operates Relays of the Tor anonymising network while helping operators technically and legally. In addition to this, the association helps other organisations raise funds. The board members of the association are not considered suspects but witnesses in the ongoing investigation.&lt;/p&gt;
&lt;p&gt;The story behind the searches and seizures is somewhat convoluted: There was an anonymous website on the internet, calling for protests against the far-right Alternative for Germany (AfD) party convention in Augsburg. The unknown operators of this website used an e-mail address at Riseup, a well-known alternative provider. [1] The Zwiebelfreunde association has a bank account to facilitate donations to &lt;a href=&quot;https://riseup.net/&quot; title=&quot;Riseup Homepage&quot;&gt;riseup.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Riseup is domiciled in the US, and essentially offers a non-commercial alternative to Gmail. Because data-protection practices are in decline world-wide, many NGOs and grassroots organisations use Riseup.&lt;/p&gt;
&lt;p&gt;These facts have not yet reached the police in Bavaria. The state prosecutor’s office in Munich has apparently been operating on the mistaken assumption that everyone even tangentially connected to Riseup would be able to provide information on any e-mail account registered there, including that of the alleged illegal website. [2] The officers on the scene made clear that they themselves felt this assumption would not hold and said so to the witnesses. But they performed the searches and seizures anyway.&lt;/p&gt;
&lt;p&gt;With such contrived reasoning, almost anyone could be searched if the anonymous website had been operated by people with a Gmail address. As a consequence of this clearly nonsensical attempt at logic, those involved in this as witnesses and their families have had to endure abjectly disproportional intrusions into their homes. Homes were searched without anyone even attempting to question the alleged witnesses.&lt;/p&gt;
&lt;p&gt;A multitude of storage media, computers and other devices were confiscated, also affecting family members of the association’s board members - none of whom stands accused of a criminal act. Also affected are completely unrelated businesses and sensitive projects of Zwiebelfreunde, such as the Tails Linux distribution. Some of those involved have had their requests to return the hardware denied.&lt;/p&gt;
&lt;p&gt;„This is a textbook example of how easy the fundamental rights of completely innocent citizens and their families can be violated as a result of artificially constructed evidence chains, no matter how ridiculous. To be drawn into this as a witness on the basis of such patently unsustainable reasoning is questionable to say the least. The recent introduction of draconian Bavarian laws governing police authority has clearly led to a culture where those responsible no longer feel bound by any sense of proportionality of their actions“, says Frank Rieger, speaker for the Chaos Computer Clubs (CCC).&lt;/p&gt;
&lt;p&gt;Just to recap: The mere presence of an e-mail address at a large free provider on a website has caused law enforcement authorities to deduce that a German association that helps raise funds for this provider must be connected to this website somehow. Although Zwiebelfreunde clearly has nothing to do with the operation of this provider, they were suspected anyway. That these searches and seizures were ordered by the Bavarian police shows either forensic incompetence at a very advanced stage, malicious intent or both.&lt;/p&gt;
&lt;p&gt;If you want to support Zwiebelfreunde – and still dare to send money to their account – please check here: &lt;a href=&quot;https://www.zwiebelfreunde.de/&quot; title=&quot;Homepage des Vereins Zwiebelfreunde&quot;&gt;https://www.zwiebelfreunde.de/&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Search of the OpenLab in Augsburg&lt;/h3&gt;
&lt;p&gt;While searching the premises of the board members in Augsburg, Jena, Dresden, and Berlin, the police – on their own accord –decided to extend the search to premises also used by members of the CCC: the OpenLab in Augsburg. Here the officers were confronted with hackers in their natural habitat: substances to clean and etch circuit boards as well as hair bleach. After interpreting the contents of a whiteboard as a bomb making manual, the officers then went on to accuse random people present at the hackerspace of plotting a bombing attack. Three people were arrested on the spot and the hackerspace was subsequently searched without a court order and without any witnesses.&lt;/p&gt;
&lt;p&gt;The police seized objects from OpenLab and used force to open locked cabinets holding member data and bank records. It has to be assumed that this information was copied and that the rights of members and supporters of both association were violated.&lt;/p&gt;
&lt;p&gt;Just like with the initial suspicion with regard to the board members of Zwiebelfreunde, the subsequent suspicions with regard to explosives are incompetent, malicious or both. The suspicion of „preparation of a explosive attack“ is a grave and direct threat to the operation of a hackerspace - family-friendly OpenLab is open to visitors almost every day. If the mere possession of basic chemical knowledge is a cause for suspicion then pretty soon teenagers will have to hide their chemistry books from nosy cops.&lt;/p&gt;
&lt;h3&gt;Links:&lt;/h3&gt;
</description>
<pubDate>Wed, 04 Jul 2018 10:12:31 +0000</pubDate>
<dc:creator>meskio</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.ccc.de/en/updates/2018/hausdurchsuchungen-bei-vereinsvorstanden-der-zwiebelfreunde-und-im-openlab-augsburg</dc:identifier>
</item>
<item>
<title>Latest Text of EU Copyright Directive Shows It&amp;#039;s Even Worse Than Expected</title>
<link>https://www.techdirt.com/articles/20180703/01343440162/latest-text-eu-copyright-directive-shows-even-worse-than-expected-must-be-stopped.shtml</link>
<guid isPermaLink="true" >https://www.techdirt.com/articles/20180703/01343440162/latest-text-eu-copyright-directive-shows-even-worse-than-expected-must-be-stopped.shtml</guid>
<description>&lt;p&gt;One of the oddities of &lt;a href=&quot;https://www.techdirt.com/articles/20180620/10063840078/eu-parliamentary-committee-votes-to-put-american-internet-giants-charge-what-speech-is-allowed-online.shtml&quot;&gt;the vote&lt;/a&gt; a few weeks back in the EU Parliament's JURI Committee concerning the proposed EU Copyright Directive, was that there was no published text of what they were voting on. There were snippets and earlier proposals released, but the full actual text &lt;a href=&quot;http://www.europarl.europa.eu/sides/getDoc.do?pubRef=-%2f%2fEP%2f%2fTEXT%2bREPORT%2bA8-2018-0245%2b0%2bDOC%2bXML%2bV0%2f%2fEN&amp;amp;language=EN#title1&quot; target=&quot;_blank&quot;&gt;was only just released&lt;/a&gt;, and it's not in the most readable of formats. However, what is now clear is that the JURI Committee not only failed in its attempts to &quot;fix&quot; the many, many, many problems people have been raising about the Directive, but it actually makes many of the problems &lt;strong&gt;worse&lt;/strong&gt; -- including saying that online platforms become legally responsible for any copyright infringement on their platforms. This new text effectively says that the internet should only be a broadcast medium, and no longer allow for open user platforms.&lt;/p&gt;
&lt;p&gt;MEP Julia Reda has &lt;a href=&quot;https://juliareda.eu/2018/06/article-11-13-vote/&quot; target=&quot;_blank&quot;&gt;an excellent analysis of what's problematic about the released text&lt;/a&gt;, but I want to focus in on a few of the more bizarre changes in particular. First, on the whole Article 11 &quot;link tax&quot; bit, JURI apparently thought they could quiet down the protests by adding a line that says:&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;em&gt;2a. The rights referred to in paragraph 1 shall not extend to acts of hyperlinking.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So now supporters of Article 11 will point to this new line and say &quot;see?!? it's not about a link tax.&quot; Which would be great... if the rest of the text actually lived up to that. Unfortunately, basically every bit of the rest of Article 11 undermines that. Because it still creates a license requirement on a snippet of &lt;strong&gt;any&lt;/strong&gt; length, and most URLs these days include a &quot;snippet&quot; of the headline of an article within the URL itself. Unless everyone starts stripping the text that includes such snippets -- making URLs significantly less useful -- those links will still run afoul of this licensing/tax requirement. Thus, them declaring that a hyperlink is not covered is meaningless if the rest of the directive can only be read in a manner that would include nearly all links.&lt;/p&gt;
&lt;p&gt;Once again, it appears this amendment was written by someone who has no functional understanding of how the internet works, and thus does not realize how badly drafted this proposal is. It's the kind of thing a non-technically-inclined lawyer would write in response to people calling this a &quot;link tax.&quot; &quot;Oh,&quot; they would say, &quot;well, let's just say it doesn't apply to links,&quot; even if any reading of the directive would mean it absolutely must apply to most links -- especially any that use any sort of descriptive text. On top of that if you share a link on a platform like Twitter or Facebook that automatically sucks in some snippet text, you're now violating the law as well.&lt;/p&gt;
&lt;p&gt;Another change made by JURI is much, much, much more concerning. This is on Article 13, the part about mandatory upload filters. For unclear and unknown reasons, JURI decided to &lt;strong&gt;expand&lt;/strong&gt; Article 13 to make it even more ridiculous. First, it redefines an &quot;online content sharing services&quot; to &lt;strong&gt;completely wipe out&lt;/strong&gt; any intermediary liability protections for such platforms. The most standard form of protecting platforms from liability is to note (correctly!) that a platform is just a tool and is not the publisher or speaker of works posted/uploaded by third-party users. That's sensible. You can then (as the EU already does) put certain restrictions on those protections, such as requiring a form of a notice-and-takedown regime. But, the fundamental, common sense, idea is that a platform is the tool, and not the actual &quot;speaker&quot; of the third party content.&lt;/p&gt;
&lt;p&gt;But JURI &lt;strong&gt;wiped that out&lt;/strong&gt;. Instead, it explicitly states that any content shown via online platforms are the responsibility of those platforms by saying that such platforms &quot;perform an act of communication to the public&quot; in showing the content uploaded by users. This is a &lt;strong&gt;massive&lt;/strong&gt; change and basically wipes out all intermediary liability protections for platforms:&lt;/p&gt;
&lt;blockquote readability=&quot;9&quot;&gt;
&lt;p&gt;&lt;em&gt;Online content sharing service providers &lt;strong&gt;perform an act of communication to the public and therefore are responsible for their content&lt;/strong&gt;. As a consequence, they should conclude fair and appropriate licensing agreements with rightholders. Therefore they cannot benefit from the liability exemption provided...&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That's... bad. It's much, much worse than the original text from the commission, which made it clear that intermediary liability protections in the E-Commerce Directive still applied to such platforms. Here they explicitly remove that exception and say that platforms cannot benefit from such protections. As Reda points out, under this reading of the law almost any user-generated site on the internet will be in violation, and potentially at significantly greater legal liability than the various &quot;pirate&quot; sites people have complained about in the past:&lt;/p&gt;
&lt;blockquote readability=&quot;11&quot;&gt;
&lt;p&gt;&lt;em&gt;By defining that platforms – and not their users – are the ones “communicating” uploaded works “to the public”, they become as liable for the actions of their users as if they had committed them themselves. Let’s imagine a company that makes an app for people to share videos of their cats. If even one user among millions uses the CatVideoWorld3000 app to record a Hollywood movie off a theater screen rather than their kitty, that’d be legally as bad as if the business’ employees had committed the copyright infringement themselves intentionally to profit off of it. The Pirate Bay, MegaUpload and Napster were all much more innocent than any site with an upload form will now be in the eyes of the law.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And that's not all that JURI did. It also &lt;strong&gt;outlawed image search&lt;/strong&gt; with an amendment. No joke.&lt;/p&gt;
&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;&lt;em&gt;Use of protected content by information society services providing automated image referencing&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Member States shall ensure that information society service providers that automatically reproduce or refer to significant amounts of copyright-protected visual works and make them available to the public for the purpose of indexing and referencing conclude fair and balanced licensing agreements with any requesting rightholders in order to ensure their fair remuneration. Such remuneration may be managed by the collective management organisation of the rightholders concerned.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This was not discussed previously and not recommended by the EU Commission. But, what the hell, while they're outlawing Google News, why not outlaw Google Images in the same shot.&lt;/p&gt;
&lt;p&gt;There's a lot more in the text, but it's really, really bad. Effectively, the document envisions a world in which everything on the internet is &quot;licensed&quot; and any platform will be legally liable for any content on its platform. What you get in that world is not the internet -- the greatest communications medium ever made. What you get is... TV. A limited broadcast medium only for those who are pre-checked by gatekeepers.&lt;/p&gt;
&lt;p&gt;It is incredibly important that the EU not move forward with this Directive. Contact the EU Parliament now and tell them to &lt;a href=&quot;https://saveyourinternet.eu/&quot; target=&quot;_blank&quot;&gt;#SaveYourInternet&lt;/a&gt; before they vote on this proposal this Thursday.&lt;/p&gt;
</description>
<pubDate>Tue, 03 Jul 2018 22:11:57 +0000</pubDate>
<dc:creator>sqdbps</dc:creator>
<og:title>Latest Text Of EU Copyright Directive Shows It's Even Worse Than Expected: Must Be Stopped</og:title>
<og:description>One of the oddities of the vote a few weeks back in the EU Parliament's JURI Committee concerning the proposed EU Copyright Directive, was that there was no published text of what they were voting on. There were snippets and earlier proposals...</og:description>
<og:type>article</og:type>
<og:url>https://www.techdirt.com/articles/20180703/01343440162/latest-text-eu-copyright-directive-shows-even-worse-than-expected-must-be-stopped.shtml</og:url>
<og:image>https://ii.techdirt.com/s/t/i/td_icon_300.png</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.techdirt.com/articles/20180703/01343440162/latest-text-eu-copyright-directive-shows-even-worse-than-expected-must-be-stopped.shtml</dc:identifier>
</item>
<item>
<title>Booze, Sex, and the Dark Art of Dealmaking in China (2015)</title>
<link>http://www.chinafile.com/reporting-opinion/postcard/bro-code</link>
<guid isPermaLink="true" >http://www.chinafile.com/reporting-opinion/postcard/bro-code</guid>
<description>&lt;p class=&quot;dropcap&quot;&gt;Turning down an after-dinner invite to a brothel is always a social minefield. But the city’s Party Secretary, a 50-something man with baby-soft hands, had been gently fondling my thigh underneath the banquet table for the past 45 minutes, making me even more eager than usual to make my excuses and leave.&lt;/p&gt;
&lt;p&gt;Perhaps the spa in the small-town Shandong hotel where I was dining with a cluster of businessmen and officials was an entirely legitimate establishment, and I was misreading the nature of the invitation. But the neon sign outside advertising the “Health Body Center” (康体中心) had replaced the upper strokes in the character 心 with flashing red hearts.&lt;/p&gt;
&lt;p&gt;“Health Body” is an approximation; I was sloshed on &lt;a href=&quot;http://www.chinafile.com/taxonomy/term/2130&quot;&gt;&lt;em&gt;baijiu&lt;/em&gt;&lt;/a&gt;, the &lt;a href=&quot;http://foreignpolicy.com/2014/07/02/one-billion-drinkers-can-be-wrong/&quot; target=&quot;_blank&quot;&gt;near-undrinkable&lt;/a&gt; spirit ubiquitous at social events, and my memory of the evening is dubious. I had been doing the rounds of provincial cities as my boss’ token foreigner for the whole summer, though, pitching training courses to the dim children of the rich so that they could study at foreign universities, and the routine of hard drinking followed by a group excursion to a brothel was becoming a familiar one. My status as a foreigner was enough to excuse me from the sex itself after only a light barrage of gay jokes from the others, but not from the social obligations around it.&lt;/p&gt;
&lt;p&gt;That was in 2004, but the routine of much interaction between businessmen and officials has remained the same over the past decade. An initial banquet and heavy drinking provides social lubrication, until, at about 10-11 pm, the party shifts to a KTV, a spa, or a club. Another two or three hours are spent in a shared social space, either accompanied by hostesses making professionally flirtatious conversation, or naked together with other men in a hot bathtub. By 2 am, some of the party collapse in bed, and some retire with the girls.&lt;/p&gt;
&lt;p&gt;Prostitution is illegal in China, but also ever-present, masked in varying degrees of ambiguity. Sociologists Yingying Huang and Pan Suiming have &lt;a href=&quot;http://prostitution.procon.org/sourcefiles/job-mobility-of-brothel-based-female-sex-workers-in-current-northeast-china-the-process-from-xiagang-worker-lay-offs-to-sex-worker.pdf&quot;&gt;highlighted the multiple layers&lt;/a&gt; of sex work for women in China, describing seven types that range from “factory girls” and “street-walkers” patronized chiefly by poor migrant workers, to “massage girls” and “beauty parlor girls” who work out of small parlors. At the top are “second wives” and “courtesans,” who are younger, better-educated, and charge far more. Businessmen mix at the higher end of the scale, especially with Pan’s third-ranking type, “karaoke dancing girls.”&lt;/p&gt;
&lt;p&gt;The KTV, a form of karaoke parlor, comes in two flavors, sometimes mixed in the same establishment. One is bawling “&lt;a href=&quot;https://www.youtube.com/watch?v=w4POWBd1ngk&quot; target=&quot;_blank&quot;&gt;Mice Like Rice&lt;/a&gt;” with friends, the other involves socializing,&lt;/p&gt;
&lt;div class=&quot;pullquote&quot; readability=&quot;10&quot;&gt;Brothel visits are not the be-and-end-all of business relationships, but for many years, they’ve been as essential a part of Chinese business culture as golf was in 1960s America.

&lt;/div&gt;
and occasional singing, with “hostesses” expected to provide sexual services later in the evening. Similarly, a spa that offers family discounts during the day may well be a &lt;em&gt;de facto&lt;/em&gt; brothel at night. In 2004, I saw the same framed print, apparently sold to every reputable and disreputable establishment across Northern China, about a dozen times; it showed a demurely sexy young southeast Asian woman. In the restaurants, a tied white top covered her breasts; in the brothels, they were perkily exposed.
&lt;p&gt;Brothel visits are not the be-and-end-all of business relationships, which require far more expensive gifts, shared entertainment, outright bribes, and even long trips together paid for by one party. But for many years, they’ve been as essential a part of Chinese business culture as golf was in 1960s America, albeit with slight shifts over the last decade toward more “sophisticated” tastes, such as the rise of foreign spirits or wine in preference to &lt;em&gt;baijiu&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Some of this may be a thing of the past, at least for officials. Before this year, periodic crackdowns on the sex trade would close down businesses for a couple of weeks or months, before all went back to business as normal. The ongoing purge of officials and “&lt;a href=&quot;http://www.chinafile.com/taxonomy/term/1849&quot;&gt;anti-corruption campaign&lt;/a&gt;” under President Xi Jinping, however, has put a freeze on what was once standard business practice. The fall of many high-level leaders has been accompanied by recitations of their moral failings, especially their keeping of mistresses. While shared brothel visits were once the norm, officials, especially policemen, are now terrified to be seen at clubs, KTVs, or even expensive restaurants.&lt;/p&gt;
&lt;p&gt;Regulations against “adultery” are being &lt;a href=&quot;http://www.business-standard.com/article/pti-stories/china-s-communist-party-sacks-2-women-officials-for-adultery-114112800546_1.html/&quot; target=&quot;_blank&quot;&gt;enforced&lt;/a&gt; for the first time in decades. A mild transgression has become a serious offence. And with lower-level officials, especially within China’s bloated State-owned enterprises, taking fierce advantage of the “anti-corruption” campaign to snitch on their superiors and open up their posts, the game is no longer worth the candle.&lt;/p&gt;
&lt;p&gt;In late 2013, a series of police raids, public closures, and new instructions to officials began to shut down spaces previously essential to business. I assumed, at first, that the crackdown efforts would be limited to Beijing and Shanghai, like many other campaigns, and to a few other key towns like Dongguan, long infamous for the sex trade, which saw a &lt;a href=&quot;http://www.scmp.com/news/china/article/1426442/dongguan-will-suffer-50b-yuan-loss-prostitution-crackdown-analysts/&quot; target=&quot;_blank&quot;&gt;massive raid&lt;/a&gt; last February.&lt;/p&gt;
&lt;p&gt;Reaching out to contacts in Chengdu, Chongqing, Tangshan, Shijiazhuang, and Harbin I found the same story: officials were terrified of being seen at establishments where they had previously been welcome guests. A long-established business norm was now, at least for anyone with ties to the government, a dangerous hobby. But what had drawn them there in the first place?&lt;/p&gt;
&lt;p&gt;* * *&lt;/p&gt;
&lt;div class=&quot;view view-photo-embed view-id-photo_embed view-display-id-panel_pane_2 visual-box view-dom-id-d258390354b7cf52373da3910c76d0e8 grid-8 photo-object&quot;&gt;
&lt;div class=&quot;views-field views-field-field-common-system-photo&quot;&gt;
&lt;div class=&quot;field-content&quot;&gt;&lt;a href=&quot;http://www.chinafile.com/sites/default/files/453432957_1.jpg&quot; title=&quot;The Bro Code | KTV Dancer&quot; class=&quot;colorbox&quot; data-colorbox-gallery=&quot;gallery-node-12951-uRCLYCKBXjI&quot;&gt;&lt;img src=&quot;http://www.chinafile.com/sites/default/files/453432957_1.jpg&quot; width=&quot;1000&quot; height=&quot;667&quot; alt=&quot;&quot; title=&quot;&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;views-field views-field-field-common-system-credit&quot;&gt;
&lt;p&gt;(AFP/Getty Images photo)&lt;/p&gt;
&lt;/div&gt;
&lt;div readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;photo-caption img-caption&quot; readability=&quot;8&quot;&gt;
&lt;p&gt;An erotic dancer performs for clients inside a KTV in Gejiu, Yunnan province.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;dropcap&quot;&gt;Alcohol, food, and sex are fun. But in China, the culture of banquet and brothel has become largely joyless, a business tool chiefly directed at transactional relationships with other men.&lt;/p&gt;
&lt;p&gt;It comes with a sniggering puerility, even though the majority of the men involved are well into middle-age. Drinking games, groping, crude jokes, and the bullying hunt for weakness, whether over drink or women, are the norm. Anthropologist John Osburg spent several years mixing with the rich in Chengdu, Sichuan province for his book &lt;a href=&quot;http://www.sup.org/books/title/?id=21527&quot;&gt;&lt;em&gt;Anxious Wealth: Money and Morality Among China’s New Rich&lt;/em&gt;&lt;/a&gt;. “These events are like a junior high school party—but with booze and hookers,” he told me.&lt;/p&gt;
&lt;p&gt;In private conversation, many businessmen confirm that the process is often a chore. (I include gangsters, the prime subject of Osburg’s research, in the general category of businessmen here; crime, business, and government are often effectively indistinguishable in China.) Especially outside of the metropolises, few of the establishments involved are particularly seductive. Instead, there’s a sweaty griminess of wipe-down sheets and 1970s floral wallpaper, as these &lt;a href=&quot;http://slide.news.sina.com.cn/s/slide_1_2841_36086.html#p=1&quot;&gt;photos&lt;/a&gt; from one small-time scandal show. In classier establishments, Western pin-ups hang in gold-tinted frames. And endless going out is physically wearing; my old boss would take the train, rather than the plane, because travelling “soft sleeper” gave him a rare chance to rest after two or three nights of “entertainment” for work.&lt;/p&gt;
&lt;p&gt;But the purpose of these visits isn’t a good time. It’s to cement business and personal ties, binding men together through the power of taboo and mutual self-exposure, or at least the pretense of it. It lets them judge that the others involved in a potential deal are men of the same stripe.&lt;/p&gt;
&lt;p&gt;Guo (a pseudonym), a friend’s cousin, greeted me ebulliently this May when we met in a smoky restaurant in the outskirts of Beijing. He works as a salesman of industrial-sized air conditioners and purifiers, mostly to local governments at inflated prices. “You know until now,” he told me in enthusiastic English, “I want to do business, I take a guy [from the government] out, we have drinks, we go to somewhere good, we find girls, he thinks I’m cool guy, I know he’s a guy likes girls, we’re friends. Business!”&lt;/p&gt;
&lt;p&gt;In part, the power of the experience comes from the mutual pleasure of shared transgression, the feeling of a shared secret. Like schoolboys’ playing hooky, being bad together moves a relationship along fast. As one saying that went rapidly around the Chinese Internet in 2011 put it, “It’s better to do one bad thing with your boss than a hundred good things for your boss.”&lt;/p&gt;
&lt;div class=&quot;node node-article cboxes article align-left grid-4 img-yes logo-no&quot;&gt;
&lt;div class=&quot;cboxes-inner&quot;&gt;


&lt;div class=&quot;cb-img&quot;&gt;&lt;img src=&quot;http://www.chinafile.com/sites/default/files/styles/system/public/assets/images/article/system/5ec-1.jpg?itok=qsEg3Nhv&quot; width=&quot;620&quot; height=&quot;450&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;div class=&quot;cb-cont&quot; readability=&quot;6.9771986970684&quot;&gt;

&lt;div class=&quot;inner-content&quot; readability=&quot;37&quot;&gt;
&lt;p&gt;When a sex video involving a Chongqing official went viral on the Internet on November 2012, like millions of others, Tan Linling clicked out of curiosity.To her surprise, Tan recognized the woman in the video as a former colleague and friend named...&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Over time, this can extend to an actual exchange of what criminologist Diego Gambetta in his pioneering &lt;em&gt;&lt;a href=&quot;http://www.amazon.com/Codes-Underworld-How-Criminals-Communicate/dp/0691152470&quot;&gt;Codes of the Underworld&lt;/a&gt;&lt;/em&gt; calls “hostage-information,” mutual knowledge of each party’s sins that acts as a powerful guarantee neither will break their agreements. But brothel visits in and of themselves give only slight leverage over the other party. These ties can be deepened through more serious offences, like sharing drugs, most popularly &lt;a href=&quot;http://motherboard.vice.com/blog/the-great-k-hole-of-china&quot;&gt;ketamine&lt;/a&gt;. There are cases of blackmail over visits to sex workers, but these are done &lt;a href=&quot;http://bigstory.ap.org/article/sex-tape-used-bribe-chinese-official-goes-viral&quot;&gt;through hidden cameras&lt;/a&gt; and the gathering of secret information, well outside the social sphere. Sex workers sometimes threaten to expose a man to his wife or make a scene at the office, but for another businessman to do it would be completely outside the pale.&lt;/p&gt;
&lt;p&gt;But vice serves as a kind of screen, weeding out the rare few who might have moral qualms about future dealings. It tells both sides that they’re playing by the same rules. In contrast with the embarrassment of being caught re-gifting in the West, a businessman’s handing over “gifts” often highlight that he is already part of a network of giving. A standard phrase is “This is just a little something, &lt;em&gt;somebody else gave it to me&lt;/em&gt;.” Refusing to play the game, on the other hand, comes at a sharp cost. Businessmen who convert to evangelical Christianity and make a commitment to avoid vice or bribery describe sharp &lt;a href=&quot;http://www.globaltimes.cn/content/845019.shtml&quot;&gt;business losses&lt;/a&gt; as a result, as former partners turn away from them, fearful of their newfound probity.&lt;/p&gt;
&lt;p&gt;For many businessmen, an evening out also acts as a kind of test of character. “If you go out together, you really get to know a guy,” explained Tao, a factory-owner visiting Beijing from Baoding who would give me only his family name. “You see how he handles his drink, you see how he deals with women.” I felt that I was getting to know Tao slightly too well, as he was drying his saggy balls with a towel in front of me at a hotel spa. His companion, heavily tattooed and with the build of a thuggish Buddha, nodded. “I wouldn’t trust a man I didn’t drink with,” he said.&lt;/p&gt;
&lt;p&gt;In a society where &lt;a href=&quot;http://chinadigitaltimes.net/2013/02/trust-among-chinese-drops-to-record-low/&quot; target=&quot;_blank&quot;&gt;trust of strangers is minimal&lt;/a&gt;, contract law is fragile, contracts themselves regarded more as guidelines than binding commitments, and the civil courts largely swayed by personal influence rather than legal right, the shared fraternity of the night out is one route to trust between partners. It may not, as businessmen admit, be a particularly effective or reliable way, but it’s all they’ve got to work with.&lt;/p&gt;
&lt;p&gt;Amid businessmen, just being somebody’s “friend” (&lt;em&gt;pengyou&lt;/em&gt;) isn’t that close. Casual acquaintances and uncertain contacts are “friends.” A “brother” (&lt;em&gt;xiongdi&lt;/em&gt;), on the other hand, is somebody inside the circle, a man who can be trusted. “It’s like the distinction between ‘a friend of mine’ and ‘a friend of ours’ in the mafia,” explains Osburg.&lt;/p&gt;
&lt;p&gt;The punishing alcoholism of Chinese banquets is a ripe chance to judge the other side of a business deal. Partially this is the simple belief that &lt;em&gt;in baijiu veritas&lt;/em&gt;, though experienced businessmen guard their tongues closely when drunk. Drinking often takes on a competitive edge, pitting each side against the other in round after round of toasts. Lacking the numbers to compete is a basic error; one of my sources was unsympathetic after an American friend, working with a sole colleague, was on the brink of hospitalization following a banquet with Hunanese officials. “What an idiot,” she said, “Bringing only one other person to drink with the government!”&lt;/p&gt;
&lt;p&gt;Many institutions, especially State-owned enterprises, maintain staff whose job is effectively to be professional drinkers, sacrificing their livers for the sake of the firm. One of my near-neighbors in the hutong of central Beijing holds down this post for a major energy company. But the drinking phase of the evening isn’t just about pure endurance. It’s also a chance for the host to show off a particular kind of leadership, guiding the conversation and the drinking so that everyone is having a “good time”—and most importantly, so that everyone is taking part.&lt;/p&gt;
&lt;div class=&quot;visual-box vertical right&quot; readability=&quot;9&quot;&gt;&lt;img src=&quot;http://www.chinafile.com/sites/default/files/assets/images/article/vertical/71268495-300.jpg&quot; alt=&quot;&quot;/&gt;&lt;p&gt;(China Photos/Getty Images)&lt;/p&gt;
&lt;p&gt;Women hide their faces during a police raid on a suspected prostitution business in Beijing.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The evaluation continues in the confines of the brothel. Zheng Tiantian, an anthropologist who spent several years working as a KTV hostess as part of her Ph.D., notes the importance of the “proper” treatment of sex workers in her book &lt;em&gt;Red Lights&lt;/em&gt;. “[M]en’s ability to dominate these jaded women with the force of their personalities and charm is seen as a demonstration of a man’s prestige, power, and status.” This is as subject to artifice as everything else in mainland business deals. “Shi [one of Zheng’s sources] bragged to his business partner that he played the hostesses without paying them. It was a flat lie because I knew that Shi’s mistresses […] had gleaned a great deal of money from them.”&lt;/p&gt;
&lt;p&gt;And, of course, the evening’s costs have to be covered. If dealing with officials, footing the bill for a night of sex is a relatively small sum compared to the volume of bribes that the business side is likely to fork out over the course of the relationship, and even smaller compared to the rewards the bribes can reap. If dealing with other businessmen, however, it’s a chance for one-upmanship and evaluation of “generosity,” like paying at a restaurant. It also gives a chance to see who’s important, and who isn’t, in the other side’s hierarchy; I once came downstairs in the early morning to find my boss beating one of his underlings around the head while holding the bill, verbally abusing him for having the effrontery to include himself and another of his low-ranking buddies in the night’s expensive entertainment.&lt;/p&gt;
&lt;p&gt;As Zheng details in her book, getting overly sentimental or romantic toward women is seen as a sign of weakness and lack of masculinity. If a businessman is unfortunate enough to love his wife or girlfriend, using it as an excuse to avoid sex is a massive faux pas. I’ve seen some instead plead tiredness or drunkenness, a more acceptable excuse, or use everyone’s 2 am exhaustion as a chance to slip away. Yet it’s not unknown, according to sex workers, for men who have retired with the girls for the night to pay for “special services” the next morning that they never received, instead spending the night watching television or sleeping chastely.&lt;/p&gt;
&lt;p&gt;Perhaps that’s why some bosses demand a more public performance. The ultimate are what participants describe as frequent forays into group sex, often with more male than female participants. Sharing women appears to bring men closer to each other, in a perversely familial fashion. As one northeastern saying goes, “Once two men share a woman, they’re brothers.” And when it comes to building up mutual trust, the photos often taken during these miniature orgies provide a rich source of mutual blackmail material that can prove explosive if exposed, as in the 2007 photos of one group of pasty officials leaked &lt;a href=&quot;http://www.huffingtonpost.com/2012/08/16/china-sex-scandal-photos_n_1792058.html&quot;&gt;online in 2012&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;node node-article-external cboxes recommended align-left grid-4 img-no logo-no&quot;&gt;
&lt;div class=&quot;cboxes-inner&quot;&gt;


&lt;div class=&quot;cb-cont&quot; readability=&quot;7.2631578947368&quot;&gt;

&lt;span class=&quot;authors&quot;&gt;Evan Osnos&lt;/span&gt;
&lt;h5&gt;&lt;span class=&quot;publication&quot;&gt;New Yorker&lt;/span&gt;&lt;/h5&gt;
&lt;div class=&quot;inner-content&quot; readability=&quot;37&quot;&gt;
&lt;p&gt;Orgies are back in the news in Beijing, but this time it’s the Communist Party that has found itself in an uncomfortable position, and it is now praising the virtues of privacy. A leaked batch of photos swept across the Chinese internet this month,...&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;While never explicitly stated, such activities often seem to push the homosocial into the homoerotic. Sam [a pseudonym], a handsome American in his early 40s, is married to a Chinese multi-millionaire. He told me of an incident earlier this year. “One of her friends was opening this new cinema, and we [the men] all headed out after dinner to celebrate. We went to a top-class brothel, and these girls, man, you wouldn’t &lt;em&gt;believe&lt;/em&gt; how beautiful they were. So these two guys—I can’t stand either of them, but they think I’m their buddy—go ‘Sam, pick one. Pick any of them. And then we’ll watch you with her.’ I said ‘Hell no! I’m not going to cheat on my wife, and even if I was, I wouldn’t want you to watch.’”&lt;/p&gt;
&lt;p&gt;Group sex can also directly demonstrate a man’s relative standing in the group. A friend’s husband, formerly involved in the coal business in Shaanxi province, described this. “You’re there [in the KTV] with these jumped-up thugs. One of them picks a girl, and then he fucks her, and everybody else has to watch. The most important boss there goes first. At least it’s over quick.” Other members of the group then have to follow the bosses’ lead with the woman. Those who can’t perform in front of other men, he added, are mocked.&lt;/p&gt;
&lt;p&gt;In these social spaces, the young women involved are props in a ritual directed mostly at other men. The conversational element of their work protects them from some forms of abuse, as well as ensuring that they only see one or two partners a night. For straight sex, it’s regular practice for them to be referred to only by number, not name. (“I’m number 16, please ask for me again next time.”) When hostessing, however, they assume &lt;em&gt;nom de guerre&lt;/em&gt;, usually a “cutesy” name associated with the sexy childishness some cultivate, doubled-up (“Lili,” “Maomao”) or “Little (xiao) X” (Xiaoxue, Xiaohua) or even in English.&lt;/p&gt;
&lt;p&gt;But group sex strips away those protections. “We hate being with more than one guy,” &lt;a href=&quot;http://aeon.co/magazine/society/why-young-women-in-rural-china-become-the-mistresses-of-wealthy-older-men/&quot; target=&quot;_blank&quot;&gt;Shanshan&lt;/a&gt;, a former KTV girl, explained to me, “The more guys, the less safe the girl is. When there are other men in the room [for sex], it’s like the men are competing with each other, and they get rougher, so the girls can get really hurt. Two girls, one man is much better. Then you get the same money for half the work.”&lt;/p&gt;
&lt;p&gt;Even with two women, attention is strictly directed at the man. “Perverted!” Shanshan said when I asked. “We don’t touch each other, and the men don’t ask for it. But the two of you can talk and make faces at each other when he isn’t looking. That’s why the girl will always say ‘Oh, why don’t I go get my friend? The two of us will treat you just like an emperor!’ Or you go in and the mama-san says ‘Why not have two girls, a rich man like you, twice as good!’”&lt;/p&gt;
&lt;p&gt;Some group activities exclude women altogether, creating purely male and weirdly childlike social spaces. “Sometimes everyone strips off and you lie around naked together in comfortable rooms. The lower ranking members of the group then serve the other ones food and drink. On other occasions, we got high together, took off our shirts, and danced around in a circle holding hands,” one Western observer commentated, preferring anonymity.&lt;/p&gt;
&lt;p&gt;Whatever the iteration, for many Chinese business owners the brothel is not optional. Every country has its own corrosive intersections of money and power, illegal or otherwise. But in China colluding with officials is a necessity, not an anomaly. For local businesses, a connection with the government is vital to protect themselves from predatory officials exploiting the country’s haze of regulations. Regular pay-offs are as ubiquitous as income tax elsewhere.&lt;/p&gt;
&lt;p&gt;My friend Yiping, now living in Australia, used to run a small but profitable IT training school in Shijiazhuang. “On a regular basis” she told me, “people from the government would try to shake my business down. I was paying off the dean of my graduate school and a high-ranking official at the local labor bureau that I had made contact with through my parents, so when other officials came to try their luck, I could refer them to my protectors and they would back off.”&lt;/p&gt;
&lt;p&gt;“But to maintain relationships, I had to go out for regular evenings with officials,” Yiping explained, “Because I was just 22 and a girl, though, I could only stay till about 10 pm. Instead, I had to hire male students from my university, and pay them to go out with the officials to the KTV, so that the officials would trust me.”&lt;/p&gt;
&lt;p&gt;The world of bonding through vice is especially difficult for women to negotiate, especially with their reputation intact. Female entrepreneurs in China are often believed to have used their sexuality for business advantage, a problem worsened by the strategies needed to negotiate the homosocial world of vice. As well as solutions like Yiping’s, Osburg says, “some successful younger businesswomen play a dual role. They act like the men during the banquet, drinking and joking, but then if they accompany them to the KTV, they switch into the role of hostess. They start flirting with the men and playing up their femininity.”&lt;/p&gt;
&lt;p&gt;Older businesswomen sometimes assume a semi-joking role as a “mama-san” negotiating between the hostesses and their male colleagues, or instead mandate that younger female colleagues attend the KTV as part of their work duties. While this usually stays only on the level of flirting or bawdy talk, arranging a date with a “nice girl” from your own firm for a business colleague provides a powerful bond, especially if she then becomes a permanent mistress.&lt;/p&gt;
&lt;p&gt;“Such relationships are valued much more highly than those with former sex workers,” Osburg noted. But the incentives offered are often still financial. My friend Wu, a young and stylish Beijing PR representative, escorted a visitor from Shanghai to dinner at her boss’ request, only to have to fend off his groping in the cab afterward. A week later, he offered, via her boss, a 40 percent pay rise if she moved to Shanghai to work with him.&lt;/p&gt;
&lt;p&gt;The values of business culture can extend into personal life. Sam’s wife made her own fortune, and “is a better shot than me. She’s fierce.” Yet “the first thing she said after we got married,” he told me, “was ‘I don’t mind if you sleep with other women, but only as long as you’re always paying them.’” Wives sometimes visit psychologists asking for help accepting their husbands’ womanizing, seeing their failure to cope with the cheating as a flaw in themselves, not their husbands, according to one U.S. psychologist working in Beijing.&lt;/p&gt;
&lt;p&gt;A few female entrepreneurs, however, explicitly reject the values pushed by businessmen. “One of my husband’s business friends got married just two years ago,” explained Li, in her early 40s, who co-owns a steel business with her husband, “We went to his wedding. But when we hosted an event last year, he came with a young girl who was obviously his mistress. I told my husband that if he cheats on his wife only after a year, he will cheat us. He said no way, he’s a good guy, we can trust him!” She looked a little smug. “Now this man owes us a lot of money that he won’t pay.”&lt;/p&gt;
&lt;p&gt;The current anti-corruption campaign has had a chilling effect on some of the high-end sex trade in the metropolises. On online forums, punters lament the shut-down of favorite haunts or the sudden disappearance of services. “This is why I only do business with foreigners now,” explained “Bianca,” a Beijing mama-san, to me over the phone, lamenting the instability of government clients. “No Chinese! Nobody cares if foreigners see girls.”&lt;/p&gt;
&lt;p&gt;But whether business as a whole has suffered or not from the campaign is hotly debated. There’s no doubt that certain sectors—liquor, luxury, high-end hotels, the travel industry—have been &lt;a href=&quot;http://qz.com/201257/global-cognac-sales-depend-on-the-health-of-chinas-erotic-sector/&quot;&gt;severely hit&lt;/a&gt;. Yet even as businesses find it harder to strike new deals, they’re also enjoying something of a relief period from the predations of officials. The impact on the entertainment sector, while visible, may have been lessened since in many cases services were expected to be provided for free to officials, who would regularly run up massive, never-to-be-paid tabs in restaurants and clubs &lt;a href=&quot;http://books.google.com/books?id=gFEK1pLNqqMC&amp;amp;printsec=frontcover&amp;amp;source=gbs_ge_summary_r&amp;amp;cad=0#v=onepage&amp;amp;q&amp;amp;f=false&quot;&gt;alike&lt;/a&gt;. “Karaoke bars and hostesses are our sources of livelihood,” one police officer told Zheng Tiantian, “We basically cannot live without them.”&lt;/p&gt;
&lt;p&gt;But efforts to permanently change the conditions that produce corruption, and its attendant vice, such as higher salaries, a free press, or interdependent watchdogs, are being actively discouraged by the authorities. Instead, lectures on Marxism and &lt;a href=&quot;http://news.xinhuanet.com/english/china/2014-07/20/c_133497715.htm&quot;&gt;reminders&lt;/a&gt; that officials should be “noble, pure and virtuous persons who have relinquished vulgar tastes” are expected to override officials’ greed or lust.&lt;/p&gt;
&lt;p&gt;And while officials are scared away for the moment, businessmen themselves seem as keen to head to the KTV as ever. Paid sex remains trivially easy to find at all levels. Even in Dongguan, the hardest target of the campaign, some brothel owners are maintaining their girls on the books, often shifting to less visible locations for favored and trustworthy clients. Outside my workplace in Beijing, prostitutes leaving the nearby hotel, who vanished for a few months during the most recent crackdown, are once again grabbing up the taxis at half past midnight.&lt;/p&gt;
&lt;p&gt;Guo, the enthusiastic air-conditioning salesman, got gloomy at the prospect. “Right now I can’t make new friends. The old ones, ok, they trust me, maybe we can’t go out for fun together, but we can still do business. But nobody new. Fuck!” He brightened up. “But one year, everything gets back to normal.”&lt;/p&gt;
</description>
<pubDate>Tue, 03 Jul 2018 20:56:46 +0000</pubDate>
<dc:creator>johnny313</dc:creator>
<og:type>article</og:type>
<og:title>The Bro Code</og:title>
<og:url>http://www.chinafile.com/reporting-opinion/postcard/bro-code</og:url>
<og:description>Turning down an after-dinner invite to a brothel is always a social minefield. But the city’s Party Secretary, a 50-something man with baby-soft hands, had been gently fondling my thigh underneath the banquet table for the past 45 minutes, making me even more eager than usual to make my excuses and leave.</og:description>
<og:image>http://www.chinafile.com/sites/default/files/assets/images/article/system/h_11951321.jpg</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.chinafile.com/reporting-opinion/postcard/bro-code</dc:identifier>
</item>
<item>
<title>AdamW and Super-convergence is now the fastest way to train neural nets</title>
<link>http://www.fast.ai/2018/07/02/adam-weight-decay/</link>
<guid isPermaLink="true" >http://www.fast.ai/2018/07/02/adam-weight-decay/</guid>
<description>&lt;span class=&quot;post-date&quot;&gt;Written: 02 Jul 2018 by &lt;em&gt;Sylvain Gugger and Jeremy Howard&lt;/em&gt;&lt;/span&gt;
&lt;p class=&quot;message&quot;&gt;&lt;em&gt;Note from Jeremy:&lt;/em&gt; Welcome to fast.ai’s first scholar-in-residence, &lt;a href=&quot;https://sgugger.github.io/&quot;&gt;Sylvain Gugger&lt;/a&gt;. What better way to introduce him than to publish the results of his first research project at fast.ai. We’ll be using the results of this research to change how we train models in the next version of our course and in our fastai library, as a result of which students and practitioners will be able to reliably train their models far faster than previous approaches.&lt;/p&gt;
&lt;h2 id=&quot;the-adam-roller-coaster&quot;&gt;The Adam roller-coaster&lt;/h2&gt;
&lt;p&gt;The journey of the Adam optimizer has been quite a roller coaster. First &lt;a href=&quot;https://arxiv.org/abs/1412.6980&quot;&gt;introduced&lt;/a&gt; in 2014, it is, at its heart, a simple and intuitive idea: why use the same learning rate for every parameter, when we know that some surely need to be moved further and faster than others? Since the square of recent gradients tells us how much signal we’re getting for each weight, we can just divide by that to ensure even the most sluggish weights get their chance to shine. Adam takes that idea, adds on the standard approach to momentum, and (with a little tweak to keep early batches from being biased) that’s it!&lt;/p&gt;
&lt;p&gt;When first released, the deep learning community was full of excitement after seeing charts like this one from the original paper:&lt;/p&gt;
&lt;img class=&quot;image&quot; width=&quot;400&quot; src=&quot;http://www.fast.ai/images/adam_charts.png&quot; alt=&quot;Comparison between Adam and other optimizers&quot;/&gt; Comparison between Adam and other optimizers
&lt;p&gt;200% speed up in training! “Overall, we found Adam to be robust and well-suited to a wide range of non-convex optimization problems in the field machine learning” concluded the paper. Ah yes, those were the days, over three years ago now, a life-time in deep-learning-years. But it started to become clear that all was not as we hoped. Few research articles used it to train their models, &lt;a href=&quot;https://arxiv.org/abs/1705.08292&quot;&gt;new studies&lt;/a&gt; began to clearly discourage to apply it and showed on several experiments that plain ole SGD with momentum was performing better. By the time the 2018 fast.ai course had come around, the decision was made to cut poor Adam from the early lessons.&lt;/p&gt;
&lt;p&gt;But at the end of 2017, Adam seemed to get a new lease of life. Ilya Loshchilov and Frank Hutter pointed out in &lt;a href=&quot;https://arxiv.org/abs/1711.05101&quot;&gt;their paper&lt;/a&gt; that the way weight decay is implemented in Adam in every library seems to be wrong, and proposed a simple way (which they call AdamW) to fix it. Although their results were slightly mixed, they did show some encouraging charts, such as this one:&lt;/p&gt;
&lt;img class=&quot;image&quot; width=&quot;600&quot; src=&quot;http://www.fast.ai/images/adamw_charts.png&quot; alt=&quot;Comparison between Adam and AdamW&quot;/&gt; Comparison between Adam and AdamW
&lt;p&gt;We expected to see the Adam enthusiasm return, since it seemed those first results could perhaps be found again. But that’s not what happened. Indeed, the only deep learning framework that implemented the fix was &lt;a href=&quot;https://github.com/fastai/fastai/&quot;&gt;fastai&lt;/a&gt;, using code written by Sylvain. Without broad framework availability, day-to-day practitioners were stuck with the old, “broken” Adam.&lt;/p&gt;
&lt;p&gt;But that’s not the only problem. More obstacles lay ahead. Two separate papers pointed out apparent problems with the convergence proof of poor Adam, although one of them claimed a fix (and won a “best paper” award at the prestigious ICLR conference), which they called &lt;em&gt;amsgrad&lt;/em&gt;. But if we’ve learned anything from this potted history of this most dramatic life (at least, dramatic by optimizer standards), it’s that nothing is as it seems. And indeed, PhD student Jeremy Bernstein &lt;a href=&quot;https://openreview.net/forum?id=ryQu7f-RZ&amp;amp;noteId=B1PDZUChG&quot;&gt;has pointed out&lt;/a&gt; that the claimed convergence problems are actually just signs of poorly chosen hyper-parameters, and that perhaps amsgrad won’t fix things anyway. Another PhD student, Filip Korzeniowski, showed some &lt;a href=&quot;https://fdlm.github.io/post/amsgrad/&quot;&gt;early results&lt;/a&gt; that seemed to support this discouraging view of amsgrad.&lt;/p&gt;
&lt;h2 id=&quot;getting-off-the-roller-coaster&quot;&gt;Getting off the roller-coaster&lt;/h2&gt;
&lt;p&gt;So for those of us that just want to train accurate models fast, what do we do? Let’s solve this debate the same way scientific debates have been solved for hundreds of years: with experiments! We’ll tell you all the details in just a moment, but first, here’s a summary of the results:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Properly tuned, Adam really works! We got new state of the art results (in terms of training time) on various tasks like
&lt;ul&gt;&lt;li&gt;training CIFAR10 to &amp;gt;94% accuracy in as few as 18 epochs with Test Time Augmentation or with 30 epochs without, as in the DAWNBench competition;&lt;/li&gt;
&lt;li&gt;fine-tuning Resnet50 to 90% accuracy on the Cars Stanford Dataset in just 60 epochs (previous reports to the same accuracy used 600);&lt;/li&gt;
&lt;li&gt;training from scratch an &lt;a href=&quot;https://arxiv.org/abs/1708.02182&quot;&gt;AWD LSTM or QRNN&lt;/a&gt; in 90 epochs (or 1 hour and a half on a single GPU) to state-of-the-art perplexity on Wikitext-2 (previous reports used 750 for LSTMs, 500 for QRNNs).&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;That means that we’ve seen (for the first time we’re aware of) &lt;a href=&quot;https://arxiv.org/abs/1708.07120&quot;&gt;super convergence&lt;/a&gt; using Adam! Super convergence is a phenomenon that occurs when training a neural net with high learning rates, growing for half the training. Before it was understood, training CIFAR10 to 94% accuracy took about 100 epochs.&lt;/li&gt;
&lt;li&gt;In contrast to previous work, we see Adam getting about as good accuracy as SGD+Momentum on every CNN image problem we’ve tried it on, as long as it’s properly tuned, and it’s nearly always a bit faster too.&lt;/li&gt;
&lt;li&gt;The suggestions that amsgrad are a poor “fix” are correct. We consistently found that amsgrad didn’t achieve any gain in accuracy (or other relevant metric) than plain Adam/AdamW.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;When you hear people saying that Adam doesn’t generalize as well as SGD+Momentum, you’ll nearly always find that they’re choosing poor hyper-parameters for their model. Adam generally requires more regularization than SGD, so be sure to adjust your regularization hyper-parameters when switching from SGD to Adam.&lt;/p&gt;
&lt;p&gt;Here’s an overview of the rest of this article:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#adamw&quot;&gt;AdamW&lt;/a&gt;
&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#understanding-adamw-weight-decay-or-l2-regularization&quot;&gt;Understanding AdamW&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#implementing-adamw&quot;&gt;Implementing AdamW&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#results-of-adamw-experiments-does-it-work&quot;&gt;Results of AdamW experiments&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#amsgrad&quot;&gt;amsgrad&lt;/a&gt;
&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#understanding-amsgrad&quot;&gt;Understanding amsgrad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#implementing-amsgrad&quot;&gt;Implementing amsgrad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#results-of-amsgrad-experiments-a-lot-of-noise-for-nothing&quot;&gt;Results of amsgrad experiments&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fast.ai/2018/07/02/adam-weight-decay/#appendix-full-results&quot;&gt;Tables of full results&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;h2 id=&quot;adamw&quot;&gt;AdamW&lt;/h2&gt;
&lt;h3 id=&quot;understanding-adamw-weight-decay-or-l2-regularization&quot;&gt;Understanding AdamW: Weight decay or L2 regularization?&lt;/h3&gt;
&lt;p&gt;L2 regularization is a classic method to reduce over-fitting, and consists in adding to the loss function the sum of the squares of all the weights of the model, multiplied by a given hyper-parameter (all equations in this article use python, numpy, and pytorch notation):&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;final_loss&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loss&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_weights&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;…where wd is the hyper-parameter to set. This is also called weight decay, because when applying vanilla SGD it’s equivalent to updating the weight like this:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;(Note that the derivative of &lt;em&gt;w&lt;sup&gt;2&lt;/sup&gt;&lt;/em&gt; with respect to &lt;em&gt;w&lt;/em&gt; is &lt;em&gt;2w&lt;/em&gt;.) In this equation we see how we subtract a little portion of the weight at each step, hence the name &lt;em&gt;decay&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;All libraries we have looked at use the first of these forms. (In practice, it is nearly always implemented by adding &lt;em&gt;wd*w&lt;/em&gt; to the gradients, rather than actually changing the loss function: we don’t want to add more computations by modifying the loss when there is an easier way.)&lt;/p&gt;
&lt;p&gt;So why make a distinction between those two concepts if they are the same thing? The answer is that they are only the same thing for vanilla SGD, but as soon as we add momentum, or use a more sophisticated optimizer like Adam, L2 regularization (first equation) and weight decay (second equation) become &lt;strong&gt;different&lt;/strong&gt;. In the rest of this article, when we talk about weight decay, we will always refer to this second formula (decay the weight by a little bit) and talk about L2 regularization if we want to mention the classic way.&lt;/p&gt;
&lt;p&gt;Let’s look at SGD with momentum for instance. Using L2 regularization consists in adding &lt;em&gt;wd*w&lt;/em&gt; to the gradients (as we saw earlier) but the gradients aren’t subtracted from the weights directly. First we compute a moving average:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;moving_avg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;moving_avg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;…and it’s this moving average that will be multiplied by the learning rate and subtracted from &lt;em&gt;w&lt;/em&gt;. So the part linked to the regularization that will be taken from &lt;em&gt;w&lt;/em&gt; is &lt;em&gt;lr* (1-alpha)*wd * w&lt;/em&gt; plus a combination of the previous weights that were already in &lt;em&gt;moving_avg&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;On the other hand, weight decay’s update will look like&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;moving_avg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;moving_avg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grad&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;moving_avg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;We can see that the part subtracted from w linked to regularization isn’t the same in the two methods. When using the Adam optimizer, it gets even more different: in the case of L2 regularization we add this &lt;em&gt;wd*w&lt;/em&gt; to the gradients then compute a moving average of the gradients and their squares before using both of them for the update. Whereas the weight decay method simply consists in doing the update, then subtract to each weight.&lt;/p&gt;
&lt;p&gt;Clearly those are two different approaches. And after experimenting with this, Ilya Loshchilov and Frank Hutter suggest in their article we should use weight decay with Adam, and not the L2 regularization that classic deep learning libraries implement.&lt;/p&gt;
&lt;h3 id=&quot;implementing-adamw&quot;&gt;Implementing AdamW&lt;/h3&gt;
&lt;p&gt;How can we do this? Very easily if you’re using the fastai library since its implemented inside. Specifically if you use the fit function, just add the argument use_wd_sched=True:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;learn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1e-4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use_wd_sched&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;If you prefer the new training API, you can use the argument wd_loss=False (for weight decay not computed in the loss) in each of your training phases:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;8&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;phases&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TrainingPhase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;optim&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Adam&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wd_loss&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;learn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fit_opt_sched&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phases&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here’s a quick summary of how we implemented this in fastai. Inside the step function of the optimizer, only the gradients are used to modify the parameters, the value of the parameters themselves isn’t used at all (except for the weight decay, but we will be dealing with that outside). We can then implement weight decay by simply doing it before the step of the optimizer. It still has to be done after the gradients are computed (otherwise it would impact the gradients values) so inside your training loop, you have to look for this spot.&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;loss&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;backward&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#Do the weight decay here!&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;optimizer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Of course, the optimizer should have been set with wd=0 otherwise it will do some L2 regularization, which is exactly what we don’t want right now. Now in that spot, we have to loop over all the parameters and do our little weight decay update. Your parameters should all be inside the dictionary &lt;em&gt;param_groups&lt;/em&gt; of your optimizer, so the loop looks something like this:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;loss&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;backward&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;optimizer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;param_groups&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;param&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'params'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'lr'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;optimizer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;results-of-adamw-experiments-does-it-work&quot;&gt;Results of AdamW experiments: does it work?&lt;/h3&gt;
&lt;p&gt;Our first tests on computer vision problems were very encouraging. Specifically, the accuracy we managed to get in 30 epochs (which is the necessary time for SGD to get to 94% accuracy with a &lt;a href=&quot;https://sgugger.github.io/the-1cycle-policy.html&quot;&gt;1cycle policy&lt;/a&gt;) with Adam and L2 regularization was at 93.96% on average, going over 94% one time out of two. We consistently reached values between 94% and 94.25% with Adam and weight decay. To do this, we found the optimal value for beta2 when using a 1cycle policy was 0.99. We treated the beta1 parameter as the momentum in SGD (meaning it goes from 0.95 to 0.85 as the learning rates grow, then goes back to 0.95 when the learning rates get lower).&lt;/p&gt;
&lt;img class=&quot;image&quot; width=&quot;500&quot; src=&quot;http://www.fast.ai/images/compare_acc.png&quot; alt=&quot;Accuracy with L2 regularization or weight decay&quot;/&gt; Accuracy with L2 regularization or weight decay
&lt;p&gt;Even more impressive, using Test Time Augmentation (i.e. taking the average of the predictions on one image of the test set and four data-augmented versions of it), we can get to those 94% accuracy in just 18 epochs (93.98% on average)! With plain Adam and L2 regularization, going over the 94% happened once every twenty tries.&lt;/p&gt;
&lt;p&gt;One thing to take into account in those comparisons is that changing the way we regularize changes the best values of weight decay or learning rate. In the tests we ran, the best learning rate with L2 regularization was 1e-6 (with a maximum learning rate of 1e-3) while 0.3 was the best value for weight decay (with a learning rate of 3e-3). The difference of orders of magnitude has been very consistent in all our tests, and comes primarily from the fact that L2 regularization gets effectively divided by the average norm of the gradients (which are pretty low) and that learning rates with Adam are pretty small (so the update of weight decay needs a stronger coefficient).&lt;/p&gt;
&lt;p&gt;So, weight decay is always better than L2 regularization with Adam then? We haven’t found a situation where it’s significantly worse, but for either a transfer-learning problem (e.g. fine-tuning Resnet50 on Stanford cars) or RNNs, it didn’t give better results.&lt;/p&gt;
&lt;h2 id=&quot;amsgrad&quot;&gt;amsgrad&lt;/h2&gt;
&lt;h3 id=&quot;understanding-amsgrad&quot;&gt;Understanding amsgrad&lt;/h3&gt;
&lt;p&gt;Amsgrad was introduced in &lt;a href=&quot;https://openreview.net/forum?id=ryQu7f-RZ&quot;&gt;a recent article&lt;/a&gt; by Sashank J. Reddi, Satyen Kale and Sanjiv Kumar. By analyzing the proof of convergence for the Adam optimizer, they spotted a mistake in the update rule that could cause the algorithm to converge to a sub-optimal point. They designed theoretical experiments that showed situations where Adam would fail and proposed a simple fix.&lt;/p&gt;
&lt;p&gt;To understand the error and the fix, let’s have a look at the update rule of Adam (if you need a refresher, &lt;a href=&quot;http://ruder.io/optimizing-gradient-descent/&quot;&gt;Sebastian got you covered&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;6.5&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;avg_grads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;beta1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;avg_grads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beta1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grad&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;avg_squared&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;beta2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avg_squared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beta2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;avg_grads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sqrt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avg_squared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;We’ve just skipped the bias correction (useful for the beginning of training) to focus on the important point. The error in the proof of Adam the authors spotted is that it requires the quantity&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;lr / sqrt(avg_squared)
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;…which is the step we take in the direction of our average gradients, to be decreasing over training. Since the learning rate is often taken constant or decreasing (except for crazy people like us trying to obtain super-convergence), the fix the authors proposed was to force the &lt;em&gt;avg_squared&lt;/em&gt; quantity to be increasing by adding another variable to keep track of their maximums.&lt;/p&gt;
&lt;h3 id=&quot;implementing-amsgrad&quot;&gt;Implementing amsgrad&lt;/h3&gt;
&lt;p&gt;The associated article won an award at ICLR 2018 and gained such popularity that it’s already implemented in two of the main deep learning libraries, pytorch and Keras. There is little to do except turn the option on with &lt;em&gt;amsgrad=True&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;This causes the weight update code from the previous section to be changed to something like this:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;7.5&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;n&quot;&gt;avg_grads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;beta1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;avg_grads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beta1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grad&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;avg_squared&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;beta2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avg_squared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beta2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;max_squared&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avg_squared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_squared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;avg_grads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sqrt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_squared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;results-of-amsgrad-experiments-a-lot-of-noise-for-nothing&quot;&gt;Results of amsgrad experiments: a lot of noise for nothing&lt;/h3&gt;
&lt;p&gt;Amsgrad turns out to be very disappointing. In none of our experiments did we find that it helped the slightest bit, and even if it’s true that the minimum found by amsgrad is sometimes slightly lower (in terms of loss) than the one reached by Adam, the metrics (accuracy, f1 score…) always end up worse (see the tables in our introduction, or more examples &lt;a href=&quot;https://fdlm.github.io/post/amsgrad/&quot;&gt;here&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;The proof of convergence for the Adam optimizer in deep learning (since it’s for convex problems) and the mistake they found in it mattered for synthetic experiments that have nothing to do with real-life problems. Actual tests show that when those &lt;em&gt;avg_squared&lt;/em&gt; gradients want to decrease, it’s best for the final result to do so.&lt;/p&gt;
&lt;p&gt;This shows that even if the focus on theory can be useful to gain some new ideas, nothing replaces experiments (and lots of them!) to make sure these ideas actually help practitioners train better models.&lt;/p&gt;
&lt;h2 id=&quot;appendix-full-results&quot;&gt;Appendix: Full results&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Training of CIFAR10 from scratch (model is a wide resnet 22, average of the error on the test set with five models shown):&lt;/em&gt;&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Method&lt;/th&gt;
&lt;th&gt;Without amsgrad&lt;/th&gt;
&lt;th&gt;With amsgrad&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;AdamW&lt;/td&gt;
&lt;td&gt;5.66%&lt;/td&gt;
&lt;td&gt;6.31%&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Adam&lt;/td&gt;
&lt;td&gt;6.06%&lt;/td&gt;
&lt;td&gt;6.64%&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;em&gt;Fine-tuning Resnet50 on the Stanford Cars dataset using the standard head introduced by the fastai library (training the head for 20 epochs before unfreezing and training with differential learning rates for 40 epochs).:&lt;/em&gt;&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Method&lt;/th&gt;
&lt;th&gt;Without amsgrad&lt;/th&gt;
&lt;th&gt;With amsgrad&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;AdamW&lt;/td&gt;
&lt;td&gt;10.8%/9.5%&lt;/td&gt;
&lt;td&gt;10.1%/9.5%&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Adam&lt;/td&gt;
&lt;td&gt;10.4%/9%&lt;/td&gt;
&lt;td&gt;10.1%/9%&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;em&gt;Training an AWD LSTM with the hyper-parameters from the &lt;a href=&quot;https://github.com/salesforce/awd-lstm-lm&quot;&gt;github repo&lt;/a&gt; (results show the perplexity on the validation/test set, with or without cache pointer):&lt;/em&gt;&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Method&lt;/th&gt;
&lt;th&gt;Raw model&lt;/th&gt;
&lt;th&gt;With cache pointer&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Adam&lt;/td&gt;
&lt;td&gt;68.7/65.5&lt;/td&gt;
&lt;td&gt;52.9/50.9&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Adam + amsgrad&lt;/td&gt;
&lt;td&gt;69.4/66.5&lt;/td&gt;
&lt;td&gt;53.1/51.3&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;AdamW&lt;/td&gt;
&lt;td&gt;69.3/66&lt;/td&gt;
&lt;td&gt;54.1/51.9&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;AdamW + amsgrad&lt;/td&gt;
&lt;td&gt;72.7/69&lt;/td&gt;
&lt;td&gt;57/54.7&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;em&gt;And the same with QRNNs instead of LSTMs:&lt;/em&gt;&lt;/p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Method&lt;/th&gt;
&lt;th&gt;Raw model&lt;/th&gt;
&lt;th&gt;With cache pointer&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Adam&lt;/td&gt;
&lt;td&gt;69.6/66.7&lt;/td&gt;
&lt;td&gt;53.6/51.7&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Adam + amsgrad&lt;/td&gt;
&lt;td&gt;71.5/68.4&lt;/td&gt;
&lt;td&gt;54.2/52.2&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;AdamW&lt;/td&gt;
&lt;td&gt;70.5/67.3&lt;/td&gt;
&lt;td&gt;55.5/53.3&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;AdamW + amsgrad&lt;/td&gt;
&lt;td&gt;74.3/70.9&lt;/td&gt;
&lt;td&gt;57.8/55.6&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;For this specific task, we used a modified version of the 1cycle policy, growing the learning rate faster, then having a long period of high constant learning rates before going down again.&lt;/p&gt;
&lt;img class=&quot;image&quot; width=&quot;400&quot; src=&quot;http://www.fast.ai/images/custom_cycle.png&quot; alt=&quot;Comparison between Adam and other optimizers&quot;/&gt; Comparison between Adam and other optimizers
&lt;p&gt;The values of all relevant hyper-parameters as well as the code used to produce these results are available &lt;a href=&quot;https://github.com/sgugger/Adam-experiments&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>Tue, 03 Jul 2018 16:57:40 +0000</pubDate>
<dc:creator>tim_sw</dc:creator>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.fast.ai/2018/07/02/adam-weight-decay/</dc:identifier>
</item>
<item>
<title>Cities don&amp;#039;t have to offer huge subsidies to companies like Apple and Amazon</title>
<link>https://www.theguardian.com/cities/2018/jul/03/cities-need-to-stop-selling-out-to-big-tech-companies-theres-a-better-way</link>
<guid isPermaLink="true" >https://www.theguardian.com/cities/2018/jul/03/cities-need-to-stop-selling-out-to-big-tech-companies-theres-a-better-way</guid>
<description>&lt;p&gt;Every mayor and governor wants to attract hi-tech jobs. And why not? Depending on the nature of the facility, such jobs can be well-paid and strengthen a region’s economy.&lt;/p&gt;
&lt;p&gt;But too few elected officials have taken the time to learn how hi-tech companies start up, how they thrive, and how government can best assist them – without overspending on a few big deals.&lt;/p&gt;
&lt;a href=&quot;https://interactive.guim.co.uk/embed/series-embed/v1/index.html?vertical=news&amp;amp;series-name=Big%20tech%2C%20desperate%20cities&amp;amp;series-link=https%3A%2F%2Fwww.theguardian.com%2Fcities%2Fseries%2Fbig-tech-desperate-cities&amp;amp;description=Tax%20giveaways%20to%20tech%20firms%20%E2%80%8B%E2%80%8Bare%20%E2%80%8Bcalculated%E2%80%8B%20to%20lure%20them%20to%20cities%20%E2%80%93%20but%20are%20cities%20really%20getting%20a%20good%20deal%3F%20&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Big tech, desperate cities&lt;/a&gt;
&lt;p&gt;Getting policy right is critical for high-tech success. It’s more complicated and volatile than the “old economy”: hi-tech firms are more susceptible to disruption. Product life cycles are typically much shorter. Skill sets are more specialised. Some facilities create very few permanent jobs, and some generate a lot of toxins.&lt;/p&gt;
&lt;p&gt;For all those reasons and more, using “old economy” incentives for “new economy” firms can be costly and counterproductive. The “lots of eggs in one basket” strategy is especially ill-suited. But many public leaders haven’t switched gears yet, often putting taxpayers at great risk, especially because some tech companies have become very aggressive about demanding big tax breaks. Companies with famous names are even more irresistible to politicians who want to look active on jobs.&lt;/p&gt;
&lt;p&gt;First, the too-many-eggs problem: hi-tech firms are prominent among recent tax-break “megadeals” awarded by cities and states. Tesla’s battery factory ($1.3bn from Nevada), Foxconn’s &lt;a href=&quot;https://www.theguardian.com/technology/2017/jul/29/foxconn-china-apple-wisconsin-trump&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;display-screen plant&lt;/a&gt; in Wisconsin ($4.8bn) and Apple’s data centre in Iowa ($214m) are typical.&lt;/p&gt;
&lt;aside class=&quot;element element-rich-link element--thumbnail element-rich-link--not-upgraded&quot; data-component=&quot;rich-link&quot; data-link-name=&quot;rich-link-3 | 1&quot;&gt;
&lt;/aside&gt;&lt;p&gt;The Apple centre, a cloud computing facility, will have only 50 permanent jobs, so the cost per job exceeds $4.2m. The &lt;a href=&quot;https://www.theguardian.com/technology/foxconn&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;Foxconn&lt;/a&gt; deal, even by the state’s own official estimate, won’t break even for taxpayers for 25 years – an extremely risky time horizon given the likelihood of new technologies leapfrogging the company’s product much sooner. The Tesla deal was 14 times costlier than anything Nevada had done before.&lt;/p&gt;
&lt;p&gt;It doesn’t have to be this way. There are proven alternatives to this buffalo-hunting, trophy deal school of economic development that can reduce taxpayer risk, grow many more employers and intentionally build valuable relationships between promising firms and local public institutions.&lt;/p&gt;
&lt;h2&gt;Two proven alternatives&lt;/h2&gt;
&lt;p&gt;Here are two proven alternative strategies. The first could be called “back to basics”. A regional government inventories existing small- and medium-sized firms, the backbone of many local communities. Typically family-owned and located in micropolitan and rural areas, these firms are often neglected by policymakers and shortchanged by incentive programmes.&lt;/p&gt;

&lt;div class=&quot;u-responsive-ratio&quot;&gt;&lt;img class=&quot;gu-image&quot; itemprop=&quot;contentUrl&quot; alt=&quot;Foxconn chairman Terry Gou, left, and Wisconsin governor Scott Walker celebrate a deal to bring the tech company to the state in return for tax breaks worth $4.8bn.&quot; src=&quot;https://i.guim.co.uk/img/media/3112eb474b5ab2dc9c85231095458b3b490fb091/0_16_3184_1911/master/3184.jpg?w=300&amp;amp;q=55&amp;amp;auto=format&amp;amp;usm=12&amp;amp;fit=max&amp;amp;s=73811958c1f213d07f67dd6aad3e664a&quot;/&gt;&lt;/div&gt;

Foxconn chairman Terry Gou, left, and Wisconsin governor Scott Walker celebrate a deal to bring the tech company to the state in return for tax breaks worth $4.8bn. Photograph: Mike De Sisti/AP
&lt;p&gt;A regional government asks: which industry sectors are we already comparatively good at? Which of those sectors have the best futures? How can our public systems help those promising firms grow? Do they need export assistance? Customised training? Technology diffusion? More engineering-school graduates?&lt;/p&gt;
&lt;p&gt;There are some simple fixes that could go a long way.&lt;/p&gt;
&lt;p&gt;The second alternative takes this same approach and applies it to very young companies and to emerging technologies with more speculative prospects. This was North Carolina’s successful strategy from the 1950s until the mid-1990s. Making no big bets on any one company, the state invested in all levels of education, created its community college system and upgraded the state universities. It also focused on highway upgrades and other infrastructure investments.&lt;/p&gt;
&lt;aside class=&quot;element element-rich-link element--thumbnail element-rich-link--not-upgraded&quot; data-component=&quot;rich-link&quot; data-link-name=&quot;rich-link-3 | 2&quot;&gt;
&lt;/aside&gt;&lt;p&gt;The state followed up with targeted investments such as the &lt;a href=&quot;https://www.theguardian.com/us-news/northcarolina&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;North Carolina&lt;/a&gt; Biotechnology Center, which especially benefited the Research Triangle Region. The centre wasn’t created for one company; its programmes provided an umbrella for a range of activities that promoted collaboration and commercialisation, such as offering small amounts of seed money to enable companies to test ideas, and convening diverse groups to respond to larger funding opportunities. Rather than defining biotechnology narrowly, it supported biomaterials, bioelectronics and biofuels.&lt;/p&gt;
&lt;p&gt;Though even North Carolina can stray from the wisdom of its history. Despite the Triangle’s steady success, the state would later abandon its patient approach and go buffalo hunting for hi-tech jobs. After secret negotiations and a one-day legislative session, in 2004 it gave &lt;a href=&quot;https://www.theguardian.com/technology/dell&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;Dell&lt;/a&gt; a package worth almost a quarter of a billion dollars. Five years later, the plant, a so-called screwdriver shop that assembled components imported from Asia (ie its supply chain was not in-state), shut down.&lt;/p&gt;

&lt;div class=&quot;u-responsive-ratio&quot;&gt;&lt;img class=&quot;gu-image&quot; itemprop=&quot;contentUrl&quot; alt=&quot;The Tesla Gigafactory is being built in Nevada thanks to one of the recent tax-break “megadeals” awarded by cities and states&quot; src=&quot;https://i.guim.co.uk/img/media/95f4083d075fe4cad31ad3ab648a2e678968b46f/19_0_1743_1046/master/1743.jpg?w=300&amp;amp;q=55&amp;amp;auto=format&amp;amp;usm=12&amp;amp;fit=max&amp;amp;s=e76822b80d32e531105ae6eabe3bee3f&quot;/&gt;&lt;/div&gt;

The Tesla Gigafactory is being built in Nevada thanks to one of the recent tax-break “megadeals” awarded by cities and states Photograph: Teslarati.com
&lt;p&gt;When North Carolina got it right, it bolstered public systems to help young companies. Investments like these succeed because they jump-start what academics call the agglomeration economies that benefit local firms. That is, as clusters of small firms grow in an area, government assistance can help grow the scientific talent pool, the entrepreneurial skills base and other key inputs. Some companies won’t make it, while others will thrive and grow the whole industry – but taxpayers won’t lose on any one big bet.&lt;/p&gt;
&lt;p&gt;Austin, Texas, currently the hottest tech-led economy in the US, provides a model: there, local entrepreneurs became local champions, creating early incubators, reinvesting their gains and working with local government. &lt;a href=&quot;http://ic2.utexas.edu/about/mission-and-history/george-kozmetsky/&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;George Kozmetsky&lt;/a&gt; is perhaps Austin’s most famous champion: before his death in 2003, he helped develop more than 100 tech-based companies, including Dell and Teledyne Technologies. He also held business-school positions at the University of Texas for more than 35 years.&lt;/p&gt;
&lt;p&gt;The most important element for public officials and local champions is to have a long-term vision rooted in an informed analysis of local strengths and weaknesses and market potential. Informed by that analysis, incentives to individual firms may make sense, along with the investments in public goods intended to benefit many employers.&lt;/p&gt;
&lt;aside class=&quot;element element-rich-link element--thumbnail element-rich-link--not-upgraded&quot; data-component=&quot;rich-link&quot; data-link-name=&quot;rich-link-3 | 3&quot;&gt;
&lt;/aside&gt;&lt;p&gt;This is a strategy for the long term, but arguably a much safer and more effective use of government funds. Plus it uses the tax revenue of current local citizens for their own benefit.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Maryann Feldman is the Heninger distinguished professor in the Department of Public Policy at the University of North Carolina, and director at the Center for Innovative and Prosperous Economies at the Kenan Institute of Private Enterprise.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Greg LeRoy directs Good Jobs First, a nonprofit watchdog group on economic development incentives.&lt;/em&gt;&lt;/p&gt;


</description>
<pubDate>Tue, 03 Jul 2018 16:06:14 +0000</pubDate>
<dc:creator>pmoriarty</dc:creator>
<og:url>http://www.theguardian.com/cities/2018/jul/03/cities-need-to-stop-selling-out-to-big-tech-companies-theres-a-better-way</og:url>
<og:description>Fostering local hi-tech success doesn’t have to mean offering huge tax breaks to companies like Apple and Amazon. Here are some alternative strategies</og:description>
<og:image>https://i.guim.co.uk/img/media/e44c2da42a9213b1b60d6b7abcdbd4da9b66f374/0_399_6000_3600/master/6000.jpg?w=1200&amp;h=630&amp;q=55&amp;auto=format&amp;usm=12&amp;fit=crop&amp;crop=faces%2Centropy&amp;bm=normal&amp;ba=bottom%2Cleft&amp;blend64=aHR0cHM6Ly9hc3NldHMuZ3VpbS5jby51ay9pbWFnZXMvb3ZlcmxheXMvNTM4OGZjODViNTQ0N2E4M2NmMWNlMTg5YTVhMjE1NzMvdGctb3BpbmlvbnMucG5n&amp;s=dce06885240972b3b2dc67dbed1f5818</og:image>
<og:type>article</og:type>
<og:title>Cities need to stop selling out to big tech companies. There's a better way</og:title>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.theguardian.com/cities/2018/jul/03/cities-need-to-stop-selling-out-to-big-tech-companies-theres-a-better-way</dc:identifier>
</item>
<item>
<title>Google to developers: We take down your extension because we can</title>
<link>https://palant.de/2018/07/03/google-to-developers-we-take-down-your-extension-because-we-can</link>
<guid isPermaLink="true" >https://palant.de/2018/07/03/google-to-developers-we-take-down-your-extension-because-we-can</guid>
<description>&lt;p&gt;Today, I found this email from Google in my inbox:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We routinely review items in the Chrome Web Store for compliance with our Program policies to ensure a safe and trusted experience for our users. We recently found that your item, “Google search link fix,” with ID: cekfddagaicikmgoheekchngpadahmlf, did not comply with our Developer Program Policies. Your item did not comply with the following section of our policy:&lt;/p&gt;
&lt;p&gt;We may remove your item if it has a blank description field, or missing icons or screenshots, and appears to be suspicious. Your item is still published, but is at risk of being removed from the Web Store.&lt;/p&gt;
&lt;p&gt;Please make the above changes within 7 days in order to avoid removal.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Not sure why Google chose the wrong email address to contact me about this (the account is associated with another email address) but luckily this email found me. I opened the extension listing and the description is there, as is the icon. What’s missing is a screenshot, simply because creating one for an extension without a user interface isn’t trivial. No problem, spent a bit of time making something that will do to illustrate the principle.&lt;/p&gt;
&lt;p&gt;And then I got another mail from Google, exactly 2 hours 30 minutes after the first one:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We have not received an update from you on your Google Chrome item, “Google search link fix,” with ID: cekfddagaicikmgoheekchngpadahmlf, item before the expiry of the warning period specified in our earlier email. Because your item continues to not comply with our policies stated in the previous email, it has now been removed from the Google Chrome Web Store.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I guess, Mountain View must be moving at extreme speeds, which is why time goes by way faster over there — relativity theory in action. Unfortunately, communication at near-light speeds is also problematic, which is likely why there is no way to ask questions about their reasoning. The only option is resubmitting, but:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Important Note: Repeated or egregious policy violations in the Chrome Web Store may result in your developer account being suspended or could lead to a ban from using the Chrome Web Store platform.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In other words: if I don’t understand what’s wrong with my extension, then I better stay away from the resubmission button. Or maybe my update with the new screenshot simply didn’t reach them yet and all I have to do is wait?&lt;/p&gt;
&lt;p&gt;Anyway, dear users of my Google search link fix extension. If you happen to use Google Chrome, I sincerely recommend switching to Mozilla Firefox. No, not only because of this simple extension of course. But Addons.Mozilla.Org policies happen to be enforced in a transparent way, and appealing is always possible. Mozilla also has a good track record of keeping out malicious extensions, something that cannot be said about Chrome Web Store (&lt;a href=&quot;https://palant.de/2018/04/18/the-ticking-time-bomb-fake-ad-blockers-in-chrome-web-store&quot;&gt;a recent example&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update (2018-07-04)&lt;/strong&gt;: The &lt;a href=&quot;https://news.ycombinator.com/item?id=17449903&quot;&gt;Hacker News thread&lt;/a&gt; lists a bunch of other cases where extensions were removed for unclear reasons without a possibility to appeal. It seems that having a contact within Google is the only way of resolving this.&lt;/p&gt;
</description>
<pubDate>Tue, 03 Jul 2018 13:21:16 +0000</pubDate>
<dc:creator>KwanEsq</dc:creator>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://palant.de/2018/07/03/google-to-developers-we-take-down-your-extension-because-we-can</dc:identifier>
</item>
<item>
<title>Show HN: Termtosvg – Record terminal sessions as SVG animations</title>
<link>https://github.com/nbedos/termtosvg</link>
<guid isPermaLink="true" >https://github.com/nbedos/termtosvg</guid>
<description>&lt;h3&gt;README.md&lt;/h3&gt;
&lt;article class=&quot;markdown-body entry-content&quot; itemprop=&quot;text&quot;&gt;&lt;p&gt;&lt;a href=&quot;https://travis-ci.org/nbedos/termtosvg&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;https://camo.githubusercontent.com/117a15a683e9f3156029fc3f5cb35800effa739f/68747470733a2f2f7472617669732d63692e6f72672f6e6265646f732f7465726d746f7376672e7376673f6272616e63683d6d6173746572&quot; alt=&quot;Build Status&quot; data-canonical-src=&quot;https://travis-ci.org/nbedos/termtosvg.svg?branch=master&quot;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A Linux terminal recorder written in Python which renders your command line sessions as standalone SVG animations.&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://camo.githubusercontent.com/394ba23a29d2fa3586954a81d6fd2a0ab8f478f8/68747470733a2f2f63646e2e7261776769742e636f6d2f6e6265646f732f7465726d746f7376672f302e332e302f6578616d706c65732f617765736f6d652e737667&quot;&gt;&lt;img src=&quot;https://camo.githubusercontent.com/394ba23a29d2fa3586954a81d6fd2a0ab8f478f8/68747470733a2f2f63646e2e7261776769742e636f6d2f6e6265646f732f7465726d746f7376672f302e332e302f6578616d706c65732f617765736f6d652e737667&quot; data-canonical-src=&quot;https://cdn.rawgit.com/nbedos/termtosvg/0.3.0/examples/awesome.svg&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;More examples of recordings &lt;a href=&quot;https://github.com/nbedos/termtosvg/blob/0.3.0/examples/examples.md&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Motivation&lt;/h2&gt;
&lt;p&gt;I really like the clean look of SVG animations and I also wanted to see how this solution would hold out against other attempts at terminal recording such as &lt;a href=&quot;https://github.com/asciinema/asciinema&quot;&gt;asciinema&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;termtosvg is compatible with Python &amp;gt;= 3.5 and can be installed with pip:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;pip install termtosvg
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2&gt;Usage&lt;/h2&gt;
&lt;h3&gt;Basic usage&lt;/h3&gt;
&lt;p&gt;Start recording with:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ termtosvg
Recording started, enter &quot;exit&quot; command or Control-D to end
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;You are now in a subshell where you can type your commands as usual. Once you are done, exit the shell to end the recording:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ exit
Recording ended, file is /tmp/termtosvg_exp5nsr4.svg
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Finally, use your favorite web browser to play the animation:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ firefox /tmp/termtosvg_exp5nsr4.svg
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;Detailed usage&lt;/h3&gt;
&lt;pre&gt;
&lt;code&gt;$ termtosvg --help
usage: termtosvg [output_file] [--font FONT] [--theme THEME] [--help] [--verbose]
Record a terminal session and render an SVG animation on the fly

positional arguments:
  output_file    optional filename of the SVG animation; if missing, a random
                 filename will be automatically generated

optional arguments:
  -h, --help     show this help message and exit
  --font FONT    font to specify in the CSS portion of the SVG animation
                 (DejaVu Sans Mono, Monaco...). If the font is not installed
                 on the viewer's machine, the browser will display a default
                 monospaced font instead.
  --theme THEME  color theme used to render the terminal session (circus,
                 classic-dark, classic-light, dracula, isotope, marrakesh,
                 material, monokai, solarized-dark, solarized-light, zenburn)
  -v, --verbose  increase log messages verbosity

See also 'termtosvg record --help' and 'termtosvg render --help'
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;Subcommands&lt;/h3&gt;
&lt;p&gt;Rendering the SVG animation while recording might sometimes slow the commands being executed a bit because of the CPU usage, so it is possible to proceed in two steps:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Record the terminal session to disk in asciicast v2 format&lt;/li&gt;
&lt;li&gt;Render the SVG animation using the recording on disk&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;The detailed usage of these two commands is available with &lt;code&gt;termtosvg record --help&lt;/code&gt; and &lt;code&gt;termtosvg render --help&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Configuration&lt;/h3&gt;
&lt;p&gt;termtosvg configuration file is located at &lt;code&gt;~/.config/termtosvg/termtosvg.ini&lt;/code&gt; and will be created by termtosvg if it does not exist. The configuration file is self-documenting but here are the basics.&lt;/p&gt;
&lt;h4&gt;Global section&lt;/h4&gt;
&lt;p&gt;The 'global' section of the file specifies the font and color theme used.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[global]
font = DejaVu Sans Mono
theme = solarized-dark
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;These options can be overridden at the command line with the &lt;code&gt;--font&lt;/code&gt; and &lt;code&gt;--theme&lt;/code&gt; flags.&lt;/p&gt;
&lt;h4&gt;Color themes&lt;/h4&gt;
&lt;p&gt;All other sections of the file define color themes. For example here's the definition of the theme 'circus':&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[circus]
foreground = #a7a7a7
background = #191919
color0 = #191919
color1 = #dc657d
color2 = #84b97c
color3 = #c3ba63
color4 = #639ee4
color5 = #b888e2
color6 = #4bb1a7
color7 = #a7a7a7
color8 = #5f5a60
color9 = #4bb1a7
color10 = #202020
color11 = #303030
color12 = #505050
color13 = #808080
color14 = #b888e2
color15 = #ffffff
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Color themes can freely be added, removed or modified. Once a color theme has been added to the configuration it can be referred to in the global section of the configuration, or be used at the command line as a parameter to the &lt;code&gt;--theme&lt;/code&gt; flag.&lt;/p&gt;
&lt;h2&gt;Dependencies&lt;/h2&gt;
&lt;p&gt;termtosvg uses:&lt;/p&gt;
&lt;/article&gt;</description>
<pubDate>Tue, 03 Jul 2018 13:06:50 +0000</pubDate>
<dc:creator>nbe</dc:creator>
<og:image>https://avatars3.githubusercontent.com/u/33371440?s=400&amp;v=4</og:image>
<og:type>object</og:type>
<og:title>nbedos/termtosvg</og:title>
<og:url>https://github.com/nbedos/termtosvg</og:url>
<og:description>termtosvg - Record terminal sessions as SVG animations</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://github.com/nbedos/termtosvg</dc:identifier>
</item>
<item>
<title>Italy Wikipedia shuts down in protest at proposed EU copyright law</title>
<link>https://www.bbc.com/news/world-europe-44696302</link>
<guid isPermaLink="true" >https://www.bbc.com/news/world-europe-44696302</guid>
<description>&lt;figure class=&quot;media-landscape has-caption full-width lead&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                &lt;img class=&quot;js-image-replace&quot; alt=&quot;A woman stands with her back to the camera, in front of an enormous Wikipedia logo of various jigsaw pieces with different symbols forming a globe&quot; src=&quot;https://ichef.bbci.co.uk/news/320/cpsprodpb/158F7/production/_102311388_gettyimages-860967818.jpg&quot; width=&quot;976&quot; height=&quot;549&quot;/&gt;&lt;span class=&quot;off-screen&quot;&gt;Image copyright&lt;/span&gt;
                 &lt;span class=&quot;story-image-copyright&quot;&gt;Getty Images&lt;/span&gt;
                
            &lt;/span&gt;
            
            &lt;figcaption class=&quot;media-caption&quot;&gt;&lt;span class=&quot;off-screen&quot;&gt;Image caption&lt;/span&gt;
                &lt;span class=&quot;media-caption__text&quot;&gt;
                    Wikipedia's co-founder Jimmy Wales called the new rules a &quot;disastrous EU copyright directive&quot;
                &lt;/span&gt;
            &lt;/figcaption&gt;&lt;/figure&gt;&lt;p class=&quot;story-body__introduction&quot;&gt;Italian Wikipedia blocked readers from its pages on Tuesday in protest over the future of EU online copyright law.&lt;/p&gt;&lt;p&gt;Critics say the rules, due to be voted on this week, could put an end to memes and remixes, and require platforms to pay for linking to news.&lt;/p&gt;&lt;p&gt;Instead of an encyclopaedia entry, visitors to any page on the Italian language Wikipedia were greeted with a statement about the upcoming vote. &lt;/p&gt;&lt;p&gt;The editors wrote that &quot;Wikipedia itself would be at risk of closing&quot;.&lt;/p&gt;&lt;p&gt;&quot;If the proposal is approved, it may be impossible to share a newspaper article on social networks or find it on a search engine,&quot; it said.&lt;/p&gt;&lt;p&gt;English-language users of the site were not cut off from its articles - but instead saw a large banner advert urging readers to contact their European representatives, or MEPs, ahead of the vote.&lt;/p&gt;&lt;ul class=&quot;story-body__unordered-list&quot;&gt;&lt;li class=&quot;story-body__list-item&quot;&gt;&lt;a href=&quot;https://www.bbc.com/news/technology-44546620&quot; class=&quot;story-body__link&quot;&gt;'Disastrous' copyright bill vote approved &lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;story-body__list-item&quot;&gt;&lt;a href=&quot;https://www.bbc.com/news/technology-44412025&quot; class=&quot;story-body__link&quot;&gt;Copyright law could put end to net memes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Wikipedia is one of the most visited sites on the internet, currently ranked fifth in the world by traffic ranking site Alexa.&lt;/p&gt;&lt;p&gt;The organisation has been a fierce opponent of the EU's proposed directive on copyright in the digital single market, calling it &quot;a serious threat to our mission&quot;.&lt;/p&gt;&lt;p&gt;Two particular parts of the new rules - articles 11 and 13 - have been the focus of much criticism online.&lt;/p&gt;&lt;p&gt;Article 13 has been the most controversial, requiring websites to enforce copyright, even on content uploaded by users.&lt;/p&gt;&lt;figure class=&quot;media-landscape has-caption full-width&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                
                
                
                
                 &lt;span class=&quot;off-screen&quot;&gt;Image copyright&lt;/span&gt;
                 &lt;span class=&quot;story-image-copyright&quot;&gt;Wikipedia&lt;/span&gt;
                
            &lt;/span&gt;
            
            &lt;figcaption class=&quot;media-caption&quot;&gt;&lt;span class=&quot;off-screen&quot;&gt;Image caption&lt;/span&gt;
                &lt;span class=&quot;media-caption__text&quot;&gt;
                    Italians visiting Wikipedia on Monday found themselves locked out
                &lt;/span&gt;
            &lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;Critics believe this could mean that social media sites and others would have to check every piece of content uploaded - a task that would be impossible for humans.&lt;/p&gt;&lt;p&gt;Instead, it would require automated copyright checking systems, put in place by each company - a potentially expensive process.&lt;/p&gt;&lt;p&gt;Such systems have&lt;a href=&quot;https://www.bbc.co.uk/news/technology-42580523&quot; class=&quot;story-body__link&quot;&gt; a high error rate, and have already been controversial on platforms, like YouTube&lt;/a&gt;, where they have been implemented.&lt;/p&gt;&lt;p&gt;Such systems have been labelled &quot;censorship machines&quot; or an &quot;upload filter&quot; by critics of article 13.&lt;/p&gt;&lt;p&gt;It has also led to fears that popular memes, remixes, parodies and other material which use small amounts of copyrighted material could become a thing of the past.&lt;/p&gt;&lt;figure class=&quot;media-landscape no-caption full-width&quot;&gt;&lt;span class=&quot;image-and-copyright-container&quot;&gt;
                
                
                
                
                
            &lt;/span&gt;
            
        &lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;http://www.consilium.europa.eu/media/35373/st09134-en18.pdf&quot; class=&quot;story-body__link-external&quot;&gt;The draft document&lt;/a&gt; does include a specific exemption for &quot;non-for-profit online encyclopaedias&quot;, but that has failed to allay fears.&lt;/p&gt;&lt;ul class=&quot;story-body__unordered-list&quot;&gt;&lt;li class=&quot;story-body__list-item&quot;&gt;&lt;a href=&quot;https://www.bbc.com/news/technology-44482381&quot; class=&quot;story-body__link&quot;&gt;Internet leaders oppose copyright reform&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;story-body__list-item&quot;&gt;&lt;a href=&quot;https://www.bbc.com/news/technology-42580523&quot; class=&quot;story-body__link&quot;&gt;White noise video hit by copyright claims&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Jimmy Wales, a founder of Wikipedia, was among &lt;a href=&quot;https://www.eff.org/files/2018/06/12/article13letter.pdf&quot; class=&quot;story-body__link-external&quot;&gt;dozens of leading technology figures who openly opposed the law&lt;/a&gt;, alongside Tim Berners-Lee, inventor of the World Wide Web.&lt;/p&gt;&lt;h2 class=&quot;story-body__crosshead&quot;&gt;A 'link tax'&lt;/h2&gt;&lt;p&gt;Article 11 of the proposed law requires online platforms to pay publishers a fee if they link to their news content.&lt;/p&gt;&lt;p&gt;The intent is to drive traffic to the home pages of news sites that, at the moment, have their work extensively linked to by huge organisations such as Google and Facebook. &lt;/p&gt;&lt;p&gt;Critics, though, have labelled it a &quot;link tax&quot; which would hand new, broad rights to large publishers and hurt smaller start-ups.&lt;/p&gt;&lt;p&gt;They also say the article fails to clearly define what constitutes a link and could be manipulated by governments to curb freedom of speech.&lt;/p&gt;&lt;p&gt;A collection of 169 &lt;a href=&quot;https://www.ivir.nl/academics-against-press-publishers-right/&quot; class=&quot;story-body__link-external&quot;&gt;European academics wrote that it was &quot;a bad piece of legislation&quot;&lt;/a&gt; which would &quot;impede the free flow of information that is of vital importance to democracy&quot;.&lt;/p&gt;&lt;ul class=&quot;story-body__unordered-list&quot;&gt;&lt;li class=&quot;story-body__list-item&quot;&gt;&lt;a href=&quot;https://www.bbc.com/news/technology-26187730&quot; class=&quot;story-body__link&quot;&gt;Linking to free web content is legal, EU court rules&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Axel Voss, a German MEP and key figure in creating the proposed law, defended it, saying the &quot;big platforms&quot; were behind a misinformation campaign.&lt;/p&gt;&lt;p&gt;&quot;We have, at the moment, an extreme imbalance in the whole copyright system,&quot; he said.&lt;/p&gt;&lt;p&gt;He said that creating links &quot;for a private purpose&quot; was explicitly excluded from the law, which would only affect commercial use.&lt;/p&gt;&lt;p&gt;Mr Voss also rubbished claims of an &quot;upload filter&quot;, saying the proposal would only affect 1%-5% of the internet.&lt;/p&gt;&lt;p&gt;He also said the rules would apply to &quot;only those that actually publish copyright protected content&quot; and earn money from it.&lt;/p&gt;&lt;p&gt;If the European Parliament and Council adopt the draft text, individual governments must then act to implement the directive in their national laws.&lt;/p&gt;&lt;p&gt;In the case of the UK, it would only become law if it comes into force before Brexit &quot;exit day&quot; - 29 March 2019.&lt;/p&gt;
            </description>
<pubDate>Tue, 03 Jul 2018 12:09:09 +0000</pubDate>
<dc:creator>mikece</dc:creator>
<og:title>Italy Wikipedia shuts down in EU protest</og:title>
<og:type>article</og:type>
<og:description>The pages go dark ahead of a vote on controversial new rules on website uploads and links.</og:description>
<og:url>https://www.bbc.co.uk/news/world-europe-44696302</og:url>
<og:image>https://ichef.bbci.co.uk/news/1024/branded_news/158F7/production/_102311388_gettyimages-860967818.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.bbc.com/news/world-europe-44696302</dc:identifier>
</item>
<item>
<title>PEP 572: Python assignment expressions has been accepted</title>
<link>https://groups.google.com/d/msg/dev-python/egS7A22oJgE/Ar6TfdrQCAAJ</link>
<guid isPermaLink="true" >https://groups.google.com/d/msg/dev-python/egS7A22oJgE/Ar6TfdrQCAAJ</guid>
<description>&lt;p&gt;On Wed, Jun 27, 2018 at 07:29:52PM -0500, Tim Peters wrote:&lt;br /&gt;[...]&lt;br /&gt;&amp;gt; For example, if the name is declared &quot;global&quot; in the outer scope, you'll&lt;br /&gt;&amp;gt; get a compile-time error if you try to declare it &quot;nonlocal&quot; in the&lt;br /&gt;&amp;gt; contained scope.  &quot;parentlocal&quot; adjusts its meaning accordingly, becoming a&lt;br /&gt;&amp;gt; synonym for &quot;global&quot; in that specific case.&lt;/p&gt;&lt;p&gt;&quot;Parentlocal&quot; is only a thing if we buy into the paradigm that inside&lt;br /&gt;comprehensions is a separate &quot;local&quot;. And *that* is only true under&lt;br /&gt;two circumstances:&lt;/p&gt;&lt;p&gt;- if you are utterly immersed in the implementation of comprehensions&lt;br /&gt;  as invisible, implicit functions;&lt;/p&gt;&lt;p&gt;- or if you start from the premise that comprehensions ought to&lt;br /&gt;  encapsulate not just the loop variable, but anything else as well.&lt;/p&gt;&lt;p&gt;But experimenting with locals() inside comprehensions shows that&lt;br /&gt;comprehension-scope *isn't* a well-defined thing. It already bleeds out&lt;br /&gt;of the comprehension, and so would some (but only some!) assignment&lt;br /&gt;expressions.&lt;/p&gt;&lt;p&gt;Instead, if we start from the premise that comprehensions (like any&lt;br /&gt;other expression) run in the current scope, then there is no need to&lt;br /&gt;invent a term &quot;parentlocal&quot;. There's just the usual LEGB scopes, plus&lt;br /&gt;class (which people usually forget).&lt;/p&gt;&lt;p&gt;With no sublocal scopes (a term we never even had prior to this PEP)&lt;br /&gt;assignments inside the comprehension are no more special than&lt;br /&gt;assignments inside any other expression. They bind in the current scope,&lt;br /&gt;same as always, and keep the sensible identity that these two&lt;br /&gt;expressions are exactly equivalent in their visible semantics:&lt;/p&gt;&lt;p&gt;    [x:=0, x:=1, x:=2]&lt;/p&gt;&lt;p&gt;    [x:=i for i in (0, 1, 2)]&lt;/p&gt;&lt;p&gt;including assignments.&lt;/p&gt;&lt;p&gt;What about the loop variable?&lt;/p&gt;&lt;p&gt;They ARE special, which is completely justified by the Zen:&lt;/p&gt;&lt;p&gt;Although practicality beats purity.&lt;/p&gt;&lt;p&gt;We can take a series of ever-more-detailed explanations, starting from&lt;br /&gt;the highest &quot;bird's eye&quot; view and gradually dropping further into the&lt;br /&gt;murky details of the implementation when, and if, required:&lt;/p&gt;&lt;p&gt;- assignment within comprehensions is no different from assignment&lt;br /&gt;  in any other expression, it occurs in the local scope;&lt;/p&gt;&lt;p&gt;- loop variables? they're a special case, for good reason, and are&lt;br /&gt;  encapsulated inside the comprehension;&lt;/p&gt;&lt;p&gt;- how? they're hidden in an implicit, invisible scope, same as .0&lt;br /&gt;  the implicit, invisible iterator object;&lt;/p&gt;&lt;p&gt;- oh, you didn't know about the .0 variable? well forget about it,&lt;br /&gt;  it's an undocumented implementation detail, just like the invisible,&lt;br /&gt;  implicit function used by comprehensions;&lt;/p&gt;&lt;p&gt;- oh, you didn't know about that either? read the source code.&lt;/p&gt;&lt;p&gt;Only the first two levels of explanation are part of Python the&lt;br /&gt;language. The rest is CPython implementation.&lt;/p&gt;&lt;p&gt;--&lt;br /&gt;Steve&lt;br /&gt;_______________________________________________&lt;br /&gt;Python-Dev mailing list&lt;br /&gt;&lt;a href=&quot;javascript:void(0);&quot; rel=&quot;nofollow&quot;&gt;Pytho...@python.org&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://mail.python.org/mailman/listinfo/python-dev&quot; rel=&quot;nofollow&quot;&gt;https://mail.python.org/mailman/listinfo/python-dev&lt;/a&gt;&lt;br /&gt;Unsubscribe: &lt;a href=&quot;https://mail.python.org/mailman/options/python-dev/guido%40python.org&quot; rel=&quot;nofollow&quot;&gt;https://mail.python.org/mailman/options/python-dev/guido%40python.org&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 03 Jul 2018 08:30:10 +0000</pubDate>
<dc:creator>est</dc:creator>
<og:title>Re: [Python-Dev] Informal educator feedback on PEP 572 (was Re: 2018 Python Language Summit coverage, last part)</og:title>
<og:type>website</og:type>
<og:url>https://groups.google.com/forum/#!msg/dev-python/egS7A22oJgE/Ar6TfdrQCAAJ</og:url>
<og:description>Posted by Guido van Rossum, Jul 2, 2018 11:21 AM</og:description>
<og:image>http://www.google.com/images/icons/product/groups-128.png</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>https://groups.google.com/forum/?_escaped_fragment_=msg/dev-python/egS7A22oJgE/Ar6TfdrQCAAJ</dc:identifier>
</item>
<item>
<title>Nancy Pearl’s Rule of 50 for dropping a bad book</title>
<link>https://www.theglobeandmail.com/arts/books-and-media/nancy-pearls-rule-of-50-for-dropping-a-bad-book/article565170/</link>
<guid isPermaLink="true" >https://www.theglobeandmail.com/arts/books-and-media/nancy-pearls-rule-of-50-for-dropping-a-bad-book/article565170/</guid>
<description>&lt;p class=&quot;c-article-body__text&quot;&gt;I was raised in a family in which the dictum &quot;Finish what you start&quot; was the 11th commandment. This stricture was applied in almost every conceivable situation, whether it was eating my father's lovingly (I'm sure) prepared soft-boiled eggs for breakfast (yuck!, way too runny for me), keeping up my elementary-school clarinet lessons long after the limits of my modest musical talent had been reached, or sticking it out at a college that, while it had been my first choice, had clearly proved to be the wrong one.&lt;/p&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;So it was only natural that when it came to reading, I simply took it for granted that virtue required that I slog through any book I started, whether it was William Thackeray's &lt;em&gt;Vanity Fair&lt;/em&gt; (a hated Grade 10 reading assignment) or Robert Heinlein's &lt;em&gt;Stranger in a Strange Land&lt;/em&gt; (I loved the beginning, but got bored with all the woo-woo philosophy about two-thirds of the way through).&lt;/p&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;Mine was also a family of readers, with a house full of books, and my childhood library was virtually a second home to me, so I certainly didn't lack for choices in my early reading life. But to my way of thinking back then, I had to finish the book I was reading, even if I already knew that I didn't especially like it, before I could start another one, one that I might love.&lt;/p&gt;
&lt;div class=&quot;u-wrapper pb-feature pb-layout-item pb-f-commercial-dfp-ads&quot; data-fn=&quot;&quot; id=&quot;&quot;&gt;
&lt;div class=&quot;&quot;&gt;
&lt;div id=&quot;c-ad--flex-gpt-1&quot; class=&quot;c-ad c-ad--inline c-ad--flex&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;c-ad__wrapper&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;c-ad__message&quot;&gt;Story continues below advertisement&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;It wasn't until I became an adult, and a librarian, that I began to question my commitment to finishing each and every book that I began. Now that I really was living a major portion of my life in the library, I literally found myself surrounded by books, tempting me, calling to me from the shelves. How could I - in one lifetime - ever get through everything I wanted to read if I had to finish those books that I discovered to be (at least to me) boring, badly written or just plain bad?&lt;/p&gt;




&lt;p class=&quot;c-article-body__text&quot;&gt;It dawned on me that maybe, just maybe, I didn't have to finish every book I started. Gradually my attitude changed, but not without a struggle. I felt bad for the authors whose books I gave up on. Didn't they deserve a full chance to entice me into the world they'd created? I could hear their voices in my head, like the voice of my conscience, saying, &quot;Wait, wait, it gets better! You haven't gotten to the good part yet.&quot; Oh the guilt, the guilt!&lt;/p&gt;

&lt;p class=&quot;c-article-body__text&quot;&gt;But, little by little, I finally became comfortable with not finishing books that I wasn't enjoying. And then, during the weekly radio show I was doing at the time on KUOW-FM, Seattle's local National Public Radio, my Rule of 50 finally came into focus. We were taking call-ins, as we often did, and I was trying to explain to a caller why I thought it was a mistake to keep reading a book that you've stopped enjoying. The woman on the other end of the line said, &quot;But how many pages should I read before I can guiltlessly stop reading a book?&quot;&lt;/p&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;On the spur of the moment, with no particular psychological or literary theory in mind to justify it, I developed my Rule of 50:&lt;/p&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;Give a book 50 pages. When you get to the bottom of Page 50, ask yourself if you're really liking the book. If you are, of course, then great, keep on reading. But if you're not, then put it down and look for another. (Always keep in mind that there's nothing to stop you from going back to it later, whether that might be in six days or six years. Or 60 years. There is many a book that I couldn't get into the first time, or even two, that I tried to read it, and then, giving it one more chance, totally fell under its spell. The book obviously hadn't changed - but I had.)&lt;/p&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;And if, at the bottom of Page 50, all you're really interested in is who marries whom, or who the murderer is, then turn to the last page and find out. If it's not on the last page, turn to the penultimate page, or the antepenultimate page, or however far back you have to go to discover what you want to know. And rest assured that, despite the sophistication of computerized checkout and check-in technology at the modern library, there's no way that anyone there will be able to tell (even if they were interested) whether you've really read every page of the book you just returned.&lt;/p&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;This rule of 50 worked exceedingly well until I entered my own 50s. As I wended my way toward 60, and beyond, I could no longer avoid the realization that, while the reading time remaining in my life was growing shorter, the world of books that I wanted to read was, if anything, growing larger. In a flash of, if I do say so myself, brilliance, I realized that my Rule of 50 was incomplete. It needed an addendum. And here it is: When you are 51 years of age or older, subtract your age from 100, and the resulting number (which, of course, gets smaller every year) is the number of pages you should read before you can guiltlessly give up on a book. As the saying goes, &quot;Age has its privileges.&quot;&lt;/p&gt;
&lt;div class=&quot;u-wrapper pb-feature pb-layout-item pb-f-commercial-dfp-ads&quot; data-fn=&quot;&quot; id=&quot;&quot;&gt;
&lt;div class=&quot;&quot;&gt;
&lt;div id=&quot;c-ad--flex-gpt-2&quot; class=&quot;c-ad c-ad--inline c-ad--flex&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;c-ad__wrapper&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;c-ad__message&quot;&gt;Story continues below advertisement&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;js-ad-slimcut-wrapper&quot; class=&quot;c-ad c-ad--slimcut u-hidden&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;c-ad__wrapper&quot; aria-hidden=&quot;true&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;c-ad__message&quot;&gt;Story continues below advertisement&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;And the ultimate privilege of age, of course, is that when you turn 100, you are authorized (by the Rule of 50) to judge a book by its cover.&lt;/p&gt;
&lt;p class=&quot;c-article-body__text&quot;&gt;&lt;em&gt;Nancy Pearl is a librarian, critic, radio commentator and author of Book Lust. She is also the only librarian with her own action figure.&lt;/em&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 03 Jul 2018 07:51:49 +0000</pubDate>
<dc:creator>ingve</dc:creator>
<og:title>Nancy Pearl's Rule of 50 for dropping a bad book</og:title>
<og:url>https://www.theglobeandmail.com/arts/books-and-media/nancy-pearls-rule-of-50-for-dropping-a-bad-book/article565170/</og:url>
<og:description>A simple axiom from the only librarian in the world to have her own action figure</og:description>
<og:type>article</og:type>
<dc:language>en-CA</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.theglobeandmail.com/arts/books-and-media/nancy-pearls-rule-of-50-for-dropping-a-bad-book/article565170/</dc:identifier>
</item>
</channel>
</rss>