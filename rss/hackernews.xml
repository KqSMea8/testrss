<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Finding a CPU Design Bug in the Xbox 360</title>
<link>https://randomascii.wordpress.com/2018/01/07/finding-a-cpu-design-bug-in-the-xbox-360/</link>
<guid isPermaLink="true" >https://randomascii.wordpress.com/2018/01/07/finding-a-cpu-design-bug-in-the-xbox-360/</guid>
<description>&lt;p&gt;The recent reveal of &lt;a href=&quot;https://meltdownattack.com/meltdown.pdf&quot;&gt;Meltdown&lt;/a&gt; and &lt;a href=&quot;https://spectreattack.com/spectre.pdf&quot;&gt;Spectre&lt;/a&gt; reminded me of the time I found a related design bug in the Xbox 360 CPU – a newly added instruction whose mere existence was dangerous.&lt;/p&gt;
&lt;p&gt;Back in 2005 I was the Xbox 360 CPU guy. I lived and breathed that chip. I still have a 30-cm CPU wafer on my wall, and a four-foot poster of the CPU’s layout. I spent so much time understanding how that CPU’s pipelines worked that when I was asked to investigate some impossible crashes I was able to intuit how a design bug must be their cause. But first, some background…&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://randomascii.files.wordpress.com/2018/01/xbox360_processor_die-fixed.jpg&quot;&gt;&lt;img title=&quot;Annotated Xbox 360 die&quot; border=&quot;0&quot; alt=&quot;Annotated Xbox 360 die&quot; src=&quot;https://randomascii.files.wordpress.com/2018/01/xbox360_processor_die-fixed_thumb.jpg?w=254&amp;amp;h=305&quot; width=&quot;254&quot; align=&quot;right&quot; height=&quot;305&quot;/&gt;&lt;/a&gt;The Xbox 360 CPU is a three-core PowerPC chip made by IBM. The three cores sit in three separate quadrants with the fourth quadrant containing a 1-MB L2 cache – you can see the different components, in the picture at right and on my CPU wafer. Each core has a 32-KB instruction cache and a 32-KB data cache.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Trivia: Core 0 was closer to the L2 cache and had measurably lower L2 latencies.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The Xbox 360 CPU had high latencies for everything, with memory latencies being particularly bad. And, the 1-MB L2 cache (all that could fit) was pretty small for a three-core CPU. So, conserving space in the L2 cache in order to minimize cache misses was important.&lt;/p&gt;
&lt;p&gt;CPU caches improve performance due to spatial and temporal locality. Spatial locality means that if you’ve used one byte of data then you’ll probably use other nearby bytes of data soon. Temporal locality means that if you’ve used some memory then you will probably use it again in the near future.&lt;/p&gt;
&lt;p&gt;But sometimes temporal locality doesn’t actually happen. If you are processing a large array of data once-per-frame then it may be trivially provable that it will all be gone from the L2 cache by the time you need it again. You still want that data in the L1 cache so that you can benefit from spatial locality, but having it consuming valuable space in the L2 cache just means it will evict other data, perhaps slowing down the other two cores.&lt;/p&gt;
&lt;p&gt;Normally this is unavoidable. The memory coherency mechanism of our PowerPC CPU &lt;em&gt;required&lt;/em&gt; that all data in the L1 caches also be in the L2 cache. The &lt;a href=&quot;https://en.wikipedia.org/wiki/MESI_protocol&quot;&gt;MESI protocol&lt;/a&gt; used for memory coherency requires that when one core writes to a cache line that any other cores with a copy of the same cache line need to discard it – and the L2 cache was responsible for keeping track of which L1 caches were caching which addresses.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://randomascii.files.wordpress.com/2018/01/dsc02402-cropped.jpg&quot;&gt;&lt;img title=&quot;About 40 cores on my wafer, L2 caches visible&quot; border=&quot;0&quot; alt=&quot;About 40 cores on my wafer, L2 caches visible&quot; src=&quot;https://randomascii.files.wordpress.com/2018/01/dsc02402-cropped_thumb.jpg?w=334&amp;amp;h=286&quot; width=&quot;334&quot; align=&quot;right&quot; height=&quot;286&quot;/&gt;&lt;/a&gt;But, the CPU was for a video game console and performance trumped all so a new instruction was added – &lt;a href=&quot;https://en.wikipedia.org/wiki/Xbox_360_technical_specifications#CPU_data_streaming&quot;&gt;&lt;em&gt;xdcbt&lt;/em&gt;&lt;/a&gt;. The normal PowerPC &lt;em&gt;dcbt&lt;/em&gt; instruction was a typical prefetch instruction. The &lt;em&gt;&lt;a href=&quot;https://xathrya.id/2015/12/05/architecture-of-xbox-360/&quot;&gt;xdcbt&lt;/a&gt;&lt;/em&gt; instruction was an &lt;em&gt;extended&lt;/em&gt; prefetch instruction that fetched straight from memory to the L1 d-cache, skipping L2. This meant that memory coherency was no longer guaranteed, but hey, we’re video game programmers, we know what we’re doing, it will be fine.&lt;/p&gt;
&lt;p&gt;Oops.&lt;/p&gt;
&lt;p&gt;I wrote a widely-used Xbox 360 memory copy routine that optionally used &lt;em&gt;xdcbt&lt;/em&gt;. Prefetching the source data was crucial for performance and normally it would use &lt;em&gt;dcbt&lt;/em&gt; but pass in the PREFETCH_EX flag and it would prefetch with &lt;em&gt;xdcbt&lt;/em&gt;. This was not well-thought-out.&lt;/p&gt;
&lt;p&gt;A game developer who was using this function reported weird crashes – heap corruption crashes, but the heap structures in the memory dumps looked normal. After staring at the crash dumps for awhile I realized what a mistake I had made.&lt;/p&gt;
&lt;p&gt;Memory that is prefetched with &lt;em&gt;xdcbt&lt;/em&gt; is toxic. If it is written by another core before being flushed from L1 then two cores have different views of memory and there is no guarantee their views will ever converge. The Xbox 360 cache lines were 128 bytes and my copy routine’s prefetching went right to the end of the source memory, meaning that &lt;em&gt;xdcbt&lt;/em&gt; was applied to some cache lines whose latter portions were part of adjacent data structures. Typically this was heap metadata – at least that’s where we saw the crashes. The incoherent core saw stale data (despite careful use of locks), and crashed, but the crash dump wrote out the actual contents of RAM so that we couldn’t see what happened.&lt;/p&gt;
&lt;p&gt;So, the only safe way to use &lt;em&gt;xdcbt&lt;/em&gt; was to be very careful not to prefetch even a single byte beyond the end of the buffer. I fixed my memory copy routine to avoid prefetching too far, but while waiting for the fix the game developer stopped passing the PREFETCH_EX flag and the crashes went away.&lt;/p&gt;
&lt;h2&gt;The real bug&lt;/h2&gt;
&lt;p&gt;So far so normal, right? Cocky game developers play with fire, fly too close to the sun, &lt;a href=&quot;https://literarydevices.net/hubris/&quot;&gt;marry their mothers&lt;/a&gt;, and a game console almost misses Christmas.&lt;/p&gt;
&lt;p&gt;But, we caught it in time, we got away with it, and we were all set to ship the games and the console and go home happy.&lt;/p&gt;
&lt;p&gt;And then the same game started crashing again.&lt;/p&gt;
&lt;p&gt;The symptoms were identical. Except that the game was no longer using the &lt;em&gt;xdcbt&lt;/em&gt; instruction. I could step through the code and see that. We had a serious problem.&lt;/p&gt;
&lt;p&gt;I used the ancient debugging technique of staring at my screen with a blank mind, let the CPU pipelines fill my subconscious, and I suddenly realized the problem. A quick email to IBM confirmed my suspicion about a subtle internal CPU detail that I had never thought about before. And it’s the same culprit behind Meltdown and Spectre.&lt;/p&gt;
&lt;p&gt;The Xbox 360 CPU is an in-order CPU. It’s pretty simple really, relying on its high frequency (not as high as hoped despite 10 &lt;a href=&quot;https://en.wikipedia.org/wiki/FO4&quot;&gt;FO4&lt;/a&gt;) for performance. But it does have a branch predictor – its very long pipelines make that necessary. Here’s a publicly shared CPU pipeline diagram I made (my cycle-accurate version is NDA only, but looky &lt;a href=&quot;https://arstechnica.com/features/2005/06/xbox360-2/3/&quot;&gt;here&lt;/a&gt;) that shows all of the pipelines:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://randomascii.files.wordpress.com/2018/01/image.png&quot;&gt;&lt;img title=&quot;image&quot; border=&quot;0&quot; alt=&quot;image&quot; src=&quot;https://randomascii.files.wordpress.com/2018/01/image_thumb.png?w=640&amp;amp;h=500&quot; width=&quot;640&quot; height=&quot;500&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can see the branch predictor, and you can see that the pipelines are very long (wide on the diagram) – plenty long enough for mispredicted instructions to get up to speed, even with in-order processing.&lt;/p&gt;
&lt;p&gt;So, the branch predictor makes a prediction and the predicted instructions are fetched, decoded, and executed – but not retired until the prediction is known to be correct. Sound familiar? The realization I had – it was new to me at the time – was what it meant to speculatively execute a prefetch. The latencies were long, so it was important to get the prefetch transaction on the bus as soon as possible, and once a prefetch had been initiated there was no way to cancel it. So a speculatively-executed &lt;em&gt;xdcbt&lt;/em&gt; was &lt;em&gt;identical to a real&lt;/em&gt; &lt;em&gt;xdcbt!&lt;/em&gt; (a speculatively-executed load instruction was just a prefetch, FWIW).&lt;/p&gt;
&lt;p&gt;And that was the problem – the branch predictor would sometimes cause &lt;em&gt;xdcbt&lt;/em&gt; instructions to be speculatively executed and that was just as bad as really executing them. One of my coworkers (thanks Tracy!) suggested a clever test to verify this – replace every &lt;em&gt;xdcbt&lt;/em&gt; in the game with a breakpoint. This achieved two things:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;The breakpoints were not hit, thus proving that the game was not executing &lt;em&gt;xdcbt&lt;/em&gt; instructions.&lt;/li&gt;
&lt;li&gt;The crashes went away.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;I &lt;em&gt;knew&lt;/em&gt; that would be the result and yet it was still amazing. All these years later, and even after reading about &lt;em&gt;Meltdown&lt;/em&gt;, it’s still nerdy cool to see solid proof that instructions that &lt;em&gt;were not executed&lt;/em&gt; were causing crashes.&lt;/p&gt;
&lt;p&gt;The branch predictor realization made it clear that this instruction was too dangerous to have anywhere in the code segment of any game – controlling when an instruction might be speculatively executed is too difficult. The branch predictor for indirect branches could, theoretically, predict any address, so there was no “safe place” to put an &lt;em&gt;xdcbt&lt;/em&gt; instruction. And, if speculatively executed it would happily do an extended prefetch of whatever memory the specified registers happened to randomly contain. It was possible to reduce the risk, but not eliminate it, and it just wasn’t worth it. While Xbox 360 architecture discussions continue to mention the instruction I doubt that any games ever shipped with it.&lt;/p&gt;
&lt;p&gt;I mentioned this once during a job interview – “describe the toughest bug you’ve had to investigate” – and the interviewer’s reaction was “yeah, we hit something similar on the Alpha processor”. The more things change…&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href=&quot;http://michaelbrundage.com/project/xbox-360-emulator/&quot;&gt;Michael&lt;/a&gt; for some editing.&lt;/p&gt;
&lt;div class=&quot;wpcnt&quot;&gt;
&lt;div class=&quot;wpa wpmrec&quot;&gt;&lt;span class=&quot;wpa-about&quot;&gt;Advertisements&lt;/span&gt;



&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;jp-post-flair&quot; class=&quot;sharedaddy sd-like-enabled sd-sharing-enabled&quot;&gt;
&lt;div class=&quot;sharedaddy sd-sharing-enabled&quot;&gt;
&lt;div class=&quot;robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing&quot;&gt;
&lt;h3 class=&quot;sd-title&quot;&gt;Share this:&lt;/h3&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded&quot; id=&quot;like-post-wrapper-18565082-2663-5a53953fc26b0&quot; data-src=&quot;//widgets.wp.com/likes/#blog_id=18565082&amp;amp;post_id=2663&amp;amp;origin=randomascii.wordpress.com&amp;amp;obj_id=18565082-2663-5a53953fc26b0&quot; data-name=&quot;like-post-frame-18565082-2663-5a53953fc26b0&quot;&gt;
&lt;h3 class=&quot;sd-title&quot;&gt;Like this:&lt;/h3&gt;
&lt;div class=&quot;likes-widget-placeholder post-likes-widget-placeholder&quot;&gt;&lt;span class=&quot;button&quot;&gt;&lt;span&gt;Like&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;loading&quot;&gt;Loading...&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
</description>
<pubDate>Mon, 08 Jan 2018 05:53:46 +0000</pubDate>
<dc:creator>nikbackm</dc:creator>
<og:type>article</og:type>
<og:title>Finding a CPU Design Bug in the Xbox 360</og:title>
<og:url>https://randomascii.wordpress.com/2018/01/07/finding-a-cpu-design-bug-in-the-xbox-360/</og:url>
<og:description>The recent reveal of Meltdown and Spectre reminded me of the time I found a related design bug in the Xbox 360 CPU – a newly added instruction whose mere existence was dangerous. Back in 2005 I was…</og:description>
<og:image>https://randomascii.files.wordpress.com/2018/01/image_thumb.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://randomascii.wordpress.com/2018/01/07/finding-a-cpu-design-bug-in-the-xbox-360/</dc:identifier>
</item>
<item>
<title>Exercise Alters Our Microbiome</title>
<link>https://www.nytimes.com/2018/01/03/well/move/exercise-microbiome-health-weight-gut-bacteria.html</link>
<guid isPermaLink="true" >https://www.nytimes.com/2018/01/03/well/move/exercise-microbiome-health-weight-gut-bacteria.html</guid>
<description>&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;159&quot; data-total-count=&quot;1487&quot; id=&quot;story-continues-3&quot;&gt;But those studies have been associational and could not show whether exercise actually altered microbes or how any microbial changes might later affect health.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;242&quot; data-total-count=&quot;1729&quot;&gt;So for the &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/29166320&quot;&gt;new study, which was published in November in Medicine &amp;amp; Science in Sports &amp;amp; Exercise&lt;/a&gt;, scientists from the University of Illinois at Urbana-Champaign decided to track the guts of people who undertook an unfamiliar exercise routine.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;564&quot; data-total-count=&quot;2293&quot;&gt;The study was designed, in fact, as a follow-up to an &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/28862530&quot;&gt;earlier, interesting animal study&lt;/a&gt; by the same scientists. In that work, the researchers had allowed some lab mice to run and others to sit around for most of their adult lives. Gut material from the mice was then transplanted into animals that had been bred to be germ-free, so that their guts would easily incorporate these new tribes of bacteria. After the animals’ microbiomes were established, the scientists exposed the mice to a substance that can cause tissue irritation and inflammation in the colon.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;201&quot; data-total-count=&quot;2494&quot;&gt;The scientists found that the animals with gut bugs from the runners were better able to resist and heal tissue damage and tamp down inflammation than those whose microbes had come from sedentary mice.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;105&quot; data-total-count=&quot;2599&quot;&gt;Now the scientists wished to see if exercise would likewise affect the functioning of microbes in people.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;116&quot; data-total-count=&quot;2715&quot;&gt;They began by recruiting 32 men and women who did not exercise. About half were obese and the rest of normal weight.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;310&quot; data-total-count=&quot;3025&quot;&gt;The scientists took blood and fecal samples and tested everyone’s aerobic fitness. Then they had the men and women begin supervised workouts, during which their efforts increased over time from about 30 minutes of easy walking or cycling to about an hour of vigorous jogging or pedaling three times per week.&lt;/p&gt;


&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;59&quot; data-total-count=&quot;3084&quot;&gt;The volunteers were asked not to change their normal diets.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;138&quot; data-total-count=&quot;3222&quot;&gt;After six weeks, the scientists collected more samples and retested everyone, and then asked the volunteers to stop exercising altogether.&lt;/p&gt;
&lt;div id=&quot;story-ad-2&quot; class=&quot;story-ad ad ad-placeholder nocontent robots-nocontent&quot;&gt;

&lt;a class=&quot;visually-hidden skip-to-text-link&quot; href=&quot;https://www.nytimes.com/2018/01/03/well/move/exercise-microbiome-health-weight-gut-bacteria.html#story-continues-4&quot;&gt;Continue reading the main story&lt;/a&gt;&lt;/div&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;52&quot; data-total-count=&quot;3274&quot; id=&quot;story-continues-4&quot;&gt;Six weeks later, the tests were once again repeated.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;311&quot; data-total-count=&quot;3585&quot;&gt;The subsequent analysis showed that the volunteers’ gut bugs had changed throughout the experiment, with some increasing in numbers and others declining. The researchers also found changes in the operations of many microbes’ genes. Some of those genes were working harder now, while others had grown silent.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;115&quot; data-total-count=&quot;3700&quot;&gt;Most of these changes were not shared from one person to the next. Everyone’s gut responded uniquely to exercise.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;399&quot; data-total-count=&quot;4099&quot;&gt;But there were some similarities, the researchers found. In particular, they noted widespread increases in certain microbes that can help to produce substances called short-chain fatty acids. These fatty acids are believed to aid in reducing inflammation in the gut and the rest of the body. They also work to fight insulin resistance, a precursor to diabetes, and otherwise bolster our metabolisms.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;160&quot; data-total-count=&quot;4259&quot;&gt;Most of the volunteers had larger concentrations of these short-chain fatty acids in their intestines after exercise, along with the microbes that produce them.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;149&quot; data-total-count=&quot;4408&quot;&gt;These increases were greatest, though, among the volunteers who had begun the experiment lean compared to those who were obese, the scientists found.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;207&quot; data-total-count=&quot;4615&quot;&gt;And perhaps not surprisingly, almost all of the changes in people’s guts dissipated after six weeks of not exercising. By and large, their microbiomes reverted to what they had been at the study’s start.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;375&quot; data-total-count=&quot;4990&quot;&gt;Still, the study’s overall results suggest that even a few weeks of exercise can alter the makeup and function of people’s microbiomes, says Jeffrey Woods, a professor of kinesiology and community health at the University of Illinois who conducted the study, along with his doctoral student Jacob Allen (now a postdoctoral researcher at Ohio State University) and others.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;178&quot; data-total-count=&quot;5168&quot;&gt;In theory, Dr. Woods continues, these changes could contribute to some of the broader health benefits of exercise, such as its ability to reduce inflammation throughout the body.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;62&quot; data-total-count=&quot;5230&quot;&gt;“But more studies need to be done to prove this,” he says.&lt;/p&gt;
&lt;p class=&quot;story-body-text story-content&quot; data-para-count=&quot;400&quot; data-total-count=&quot;5630&quot;&gt;He also hopes that future research can explain why the obese volunteers showed smaller gains in their fatty-acid producing microbes than the leaner men and women. Additional study could also help to determine whether and how people’s microbiomes might continue to change if they exercise for longer than six weeks — a goal that all of us, of course, have resolved to do in the coming year, right?&lt;/p&gt;
&lt;a class=&quot;visually-hidden skip-to-text-link&quot; href=&quot;https://www.nytimes.com/2018/01/03/well/move/exercise-microbiome-health-weight-gut-bacteria.html#whats-next&quot;&gt;Continue reading the main story&lt;/a&gt;</description>
<pubDate>Mon, 08 Jan 2018 05:13:34 +0000</pubDate>
<dc:creator>fillskills</dc:creator>
<og:url>https://www.nytimes.com/2018/01/03/well/move/exercise-microbiome-health-weight-gut-bacteria.html</og:url>
<og:type>article</og:type>
<og:title>Exercise Alters Our Microbiome. Is That One Reason It’s So Good for Us?</og:title>
<og:description>Lean people were especially responsive to exercise’s effects on the bacterial makeup of our guts.</og:description>
<og:image>https://static01.nyt.com/images/2018/01/09/well/physed-microbiome/physed-microbiome-facebookJumbo.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.nytimes.com/2018/01/03/well/move/exercise-microbiome-health-weight-gut-bacteria.html</dc:identifier>
</item>
<item>
<title>Apple shareholders push for study of phone addiction in children</title>
<link>https://www.bloomberg.com/news/articles/2018-01-08/jana-calpers-push-apple-to-study-iphone-addiction-in-children</link>
<guid isPermaLink="true" >https://www.bloomberg.com/news/articles/2018-01-08/jana-calpers-push-apple-to-study-iphone-addiction-in-children</guid>
<description>&lt;p&gt;Two big shareholders of &lt;a itemscope=&quot;itemscope&quot; itemprop=&quot;StoryLink&quot; href=&quot;https://www.bloomberg.com/quote/AAPL:US&quot; title=&quot;Company Overview&quot; rel=&quot;nofollow noopener&quot;&gt;Apple Inc.&lt;/a&gt; are concerned that the entrancing qualities of the iPhone have fostered a public health crisis that could hurt children -- and the company as well.&lt;/p&gt;

&lt;p&gt;In a &lt;a itemscope=&quot;itemscope&quot; itemprop=&quot;StoryLink&quot; href=&quot;https://thinkdifferentlyaboutkids.com/&quot; title=&quot;Website&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;letter&lt;/a&gt; to the smartphone maker dated Jan. 6, activist investor &lt;a itemscope=&quot;itemscope&quot; itemprop=&quot;StoryLink&quot; href=&quot;https://www.bloomberg.com/quote/746225Z:US&quot; title=&quot;Company Overview&quot; rel=&quot;nofollow noopener&quot;&gt;Jana Partners LLC&lt;/a&gt; and the &lt;a itemscope=&quot;itemscope&quot; itemprop=&quot;StoryLink&quot; href=&quot;https://www.bloomberg.com/quote/53793Z:US&quot; title=&quot;Company Overview&quot; rel=&quot;nofollow noopener&quot;&gt;California State Teachers’ Retirement System&lt;/a&gt; urged Apple to create ways for parents to restrict children’s access to their mobile phones. They also want the company to study the effects of heavy usage on mental health.&lt;/p&gt;

&lt;p&gt;“There is a growing body of evidence that, for at least some of the most frequent young users, this may be having unintentional negative consequences,” according to the letter from the investors, who combined own about $2 billion in Apple shares. The “growing societal unease” is “at some point is likely to impact even Apple.”&lt;/p&gt;


&lt;p&gt;“Addressing this issue now will enhance long-term value for all shareholders,” the letter said.&lt;/p&gt;

&lt;p&gt;An Apple spokesman declined to comment on the letter, which was reported earlier by the Wall Street Journal.&lt;/p&gt;
&lt;h3&gt;Parental Controls&lt;/h3&gt;
&lt;p&gt;It’s a problem most companies would kill to have: Young people liking a product too much. But as smartphones become ubiquitous, government leaders and Silicon Valley alike have wrestled for ways to limit their inherent intrusiveness.&lt;/p&gt;
&lt;p&gt;France, for instance, has moved to ban the use of smartphones in its primary and middle schools. Meanwhile, Android co-founder Andy Rubin is seeking to &lt;a itemscope=&quot;itemscope&quot; itemprop=&quot;StoryLink&quot; href=&quot;https://www.bloomberg.com/news/articles/2017-08-18/andy-rubin-explains-why-the-world-needs-another-smartphone&quot; title=&quot;Android Co-Founder Has a Plan to Cure Our Smartphone Addiction&quot; target=&quot;_blank&quot;&gt;apply artificial intelligence to phones&lt;/a&gt; so that they perform relatively routine tasks without needing to be physically handled.&lt;/p&gt;
&lt;p&gt;Apple already offers some parental controls, such as the Ask to Buy feature, which requires parental approval to buy goods and services. Restrictions can also be placed on access to some apps, content and data usage.&lt;/p&gt;
&lt;aside class=&quot;inline-newsletter&quot; data-state=&quot;ready&quot;/&gt;
&lt;p&gt;The activist pressure is the latest in a series of challenges for the tech giant. Last week, Cupertino, California-based Apple said that all of its Mac computers and iOS devices, which include both the iPhones and iPads, &lt;a itemscope=&quot;itemscope&quot; itemprop=&quot;StoryLink&quot; href=&quot;https://www.bloomberg.com/news/articles/2018-01-05/apple-says-all-macs-iphones-ipads-exposed-to-chip-flaw&quot; title=&quot;Apple Says All Macs, IPhones, IPads Exposed to Chip Flaw (4)&quot; target=&quot;_blank&quot;&gt;faced security vulnerabilities&lt;/a&gt; due to flawed chips made by Intel Corp. At the tail end of 2017, the company apologized to customers for software changes that resulted in older versions of its iPhones &lt;a itemscope=&quot;itemscope&quot; itemprop=&quot;StoryLink&quot; href=&quot;https://www.bloomberg.com/news/articles/2017-12-28/apple-apologizes-for-iphone-performance-cuts-to-extend-battery&quot; title=&quot;Apple Apologizes for IPhone Speed Cuts to Prevent Crashing (1)&quot; target=&quot;_blank&quot;&gt;running slower than newly introduced editions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;— With assistance by Scott Deveau, and Alex Webb&lt;/em&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 08 Jan 2018 01:46:37 +0000</pubDate>
<dc:creator>anigbrowl</dc:creator>
<og:description>Two big shareholders of Apple Inc. are concerned that the entrancing qualities of the iPhone have fostered a public health crisis that could hurt children -- and the company as well.</og:description>
<og:image>https://assets.bwbx.io/images/users/iqjWHBFdfxIU/iRt3KLVoJtFc/v0/1200x801.jpg</og:image>
<og:title>Two Major Apple Shareholders Push for Study of iPhone Addiction in Children</og:title>
<og:type>article</og:type>
<og:url>https://www.bloomberg.com/news/articles/2018-01-08/jana-calpers-push-apple-to-study-iphone-addiction-in-children</og:url>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.bloomberg.com/news/articles/2018-01-08/jana-calpers-push-apple-to-study-iphone-addiction-in-children</dc:identifier>
</item>
<item>
<title>California Introduces Its Own Bill to Protect Net Neutrality</title>
<link>https://www.eff.org/deeplinks/2018/01/california-introduces-its-own-bill-protect-net-neutrality</link>
<guid isPermaLink="true" >https://www.eff.org/deeplinks/2018/01/california-introduces-its-own-bill-protect-net-neutrality</guid>
<description>&lt;p&gt;2018 has barely begun, and so has the fight to preserve net neutrality. January 3 was the first day of business in the California state legislature, and state Sen. Scott Wiener used it to introduce legislation to protect net neutrality for Californians.&lt;/p&gt;
&lt;p&gt;As the FCC has sought to &lt;a href=&quot;https://www.eff.org/deeplinks/2017/12/team-internet-far-done-whats-next-net-neutrality-and-how-you-can-help&quot;&gt;abandon its role&lt;/a&gt; as the protector of a free and open Internet at the federal level, states are seeking ways to step into the void. Prior to December, the FCC’s rules prevented Internet service providers (ISPs) from blocking or slowing down traffic to websites. The rules also kept ISPs from charging users higher rates for faster access to certain websites or charging websites to be automatically included in any sort of “fast lane.” On December 14th, the FCC voted to remove these restrictions and even tried to make it harder for anyone else to regulate ISPs in a similar way.&lt;/p&gt;
&lt;p&gt;Wiener’s proposed legislation, co-authored by ten state assembly and Senate Democrats, has a number of ways to ensure that telecom companies operating in California adhere to the principals of net neutrality. Washington and New York have &lt;a href=&quot;https://www.fastcompany.com/40510095/snubbing-fcc-states-are-writing-their-own-net-neutrality-laws&quot;&gt;similar bills in progress&lt;/a&gt; and Wiener isn’t even the only California legislator proposing legislation, as state Sen. Kevin de León has introduced &lt;a href=&quot;http://leginfo.legislature.ca.gov/faces/billNavClient.xhtml?bill_id=201720180SB460&quot;&gt;a net neutrality bill&lt;/a&gt; as well.&lt;/p&gt;
&lt;p&gt;The substance of the legislation is still in the works, but the intent is to leverage the state's assets as a means to require networks to operate neutrally. In essence, the California bill &lt;a href=&quot;http://sd11.senate.ca.gov/news/20180103-senator-wiener-introduce-net-neutrality-legislation-today-california-legislature&quot;&gt;would require&lt;/a&gt; net neutrality of businesses that operate within the state of California if they are relying on state infrastructure or state funding to provide the service.&lt;/p&gt;
&lt;p&gt;EFF supports this bill, as the FCC’s actions in December mean states must provide whatever protections they can to safeguard the Internet as we know it. However, state laws can only restore network neutrality for some Americans, and only a federal rule can ensure that everyone in the country has access to a neutral net.&lt;/p&gt;
&lt;p&gt;Even as state legislatures craft bills, state attorneys general are joining public interest groups and members of Congress to challenge the FCC in federal court. Congress &lt;a href=&quot;https://www.youtube.com/watch?v=VABCjxFtRnI&quot;&gt;has the ability&lt;/a&gt; to reverse a change in federal regulation—which is technically what the FCC’s rule change is—with a simple majority within 60 legislative days of the order being published in the federal register. That means you can &lt;a href=&quot;https://act.eff.org/action/save-the-open-internet-order&quot;&gt;ask your member of Congress to save net neutrality&lt;/a&gt; now, since the rule is expected to be published and the vote therefore required this year.&lt;/p&gt;
</description>
<pubDate>Sun, 07 Jan 2018 22:11:38 +0000</pubDate>
<dc:creator>MilnerRoute</dc:creator>
<og:type>article</og:type>
<og:title>California Introduces Its Own Bill to Protect Net Neutrality</og:title>
<og:url>https://www.eff.org/deeplinks/2018/01/california-introduces-its-own-bill-protect-net-neutrality</og:url>
<og:description>2018 has barely begun, and so has the fight to preserve net neutrality. January 3 was the first day of business in the California state legislature, and state Sen. Scott Wiener used it to introduce legislation to protect net neutrality for Californians. As the FCC has sought to abandon its role...</og:description>
<og:image>https://www.eff.org/files/2016/04/12/og-neutrality-banner.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.eff.org/deeplinks/2018/01/california-introduces-its-own-bill-protect-net-neutrality</dc:identifier>
</item>
<item>
<title>Npm operational incident, 6 Jan 2018</title>
<link>http://blog.npmjs.org/post/169432444640/npm-operational-incident-6-jan-2018</link>
<guid isPermaLink="true" >http://blog.npmjs.org/post/169432444640/npm-operational-incident-6-jan-2018</guid>
<description>&lt;p&gt;The npm registry had an &lt;a href=&quot;http://t.umblr.com/redirect?z=https%3A%2F%2Fstatus.npmjs.org%2Fincidents%2F41zfb8qpvrdj&amp;amp;t=YjAzNmNlOTI2Y2VhNjMwNmQ4MjBkYTJhODE4M2U1MzQzYjk5ZTg0MCxQempaVzI4ag%3D%3D&amp;amp;b=t%3AnXsLs1P4AptPf1fBr_nFxw&amp;amp;p=http%3A%2F%2Fblog.npmjs.org%2Fpost%2F169432444640%2Fnpm-operational-incident-6-jan-2018&amp;amp;m=1&quot;&gt;operations incident Saturday&lt;/a&gt; that caused 97 packages to be temporarily unavailable for download for approximately 30 minutes, and an additional 9 packages to be unavailable for approximately three hours. Early this coming week, we will share a full analysis and technical explanation of the incident. We wanted to communicate with you sooner, however, to eliminate any doubts: &lt;strong&gt;no malicious actors were involved in yesterday’s incident, and the security of npm users’ accounts and the integrity of these 106 packages were never jeopardized.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The incident was caused by npm’s systems for detecting spam and malicious code on the npm registry.&lt;/p&gt;
&lt;p&gt;We don’t discuss all of our security processes and technologies in specific detail for what should be obvious reasons, but here is a high-level overview. Automated systems perform static analysis in several ways to flag suspicious code and authors. npm personnel then review the flagged items to make a judgment call whether to block packages from distribution.&lt;/p&gt;
&lt;p&gt;In yesterday’s case, we got it wrong, which prevented a publisher’s legitimate code from being distributed to developers whose projects depend on it.&lt;/p&gt;
&lt;p&gt;We identified the error within five minutes and followed defined processes to reverse this block. Unfortunately, the process was complicated by well-meaning members of the npm community who believed that a malicious actor or security breach was to blame and independently attempted to publish their own replacements for these packages. Ensuring the integrity of the affected packages required additional steps and time.&lt;/p&gt;
&lt;p&gt;We are fully evaluating the processes and technologies involved, and we’ve already made immediate changes to prevent what happened yesterday from happening again. My most important job is ensuring the reliable delivery of safe code to the millions of developers who depend on npm. I promise you a full accounting of how we fell short this weekend, and my continued focus on improving our systems and processes — you deserve no less.&lt;/p&gt;
</description>
<pubDate>Sun, 07 Jan 2018 19:18:39 +0000</pubDate>
<dc:creator>bradleyboy</dc:creator>
<og:title>npm operational incident, 6 Jan 2018</og:title>
<og:url>http://blog.npmjs.org/post/169432444640/npm-operational-incident-6-jan-2018</og:url>
<og:description>The npm registry had an operations incident Saturday that caused 97 packages to be temporarily unavailable for download for approximately 30 minutes, and an additional 9 packages to be unavailable for...</og:description>
<og:type>tumblr-feed:entry</og:type>
<og:image>http://assets.tumblr.com/images/og/fb_landscape_share.png</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>http://blog.npmjs.org/post/169432444640/npm-operational-incident-6-jan-2018</dc:identifier>
</item>
<item>
<title>The $25B eigenvector (2006) [pdf]</title>
<link>https://www.rose-hulman.edu/~bryan/googleFinalVersionFixed.pdf</link>
<guid isPermaLink="true" >https://www.rose-hulman.edu/~bryan/googleFinalVersionFixed.pdf</guid>
<description>&lt;a href=&quot;https://www.rose-hulman.edu/~bryan/googleFinalVersionFixed.pdf&quot;&gt;Download PDF&lt;/a&gt;</description>
<pubDate>Sun, 07 Jan 2018 17:29:18 +0000</pubDate>
<dc:creator>onecooldev24</dc:creator>
<og:title>npm operational incident, 6 Jan 2018</og:title>
<og:url>http://blog.npmjs.org/post/169432444640/npm-operational-incident-6-jan-2018</og:url>
<og:description>The npm registry had an operations incident Saturday that caused 97 packages to be temporarily unavailable for download for approximately 30 minutes, and an additional 9 packages to be unavailable for...</og:description>
<og:type>tumblr-feed:entry</og:type>
<og:image>http://assets.tumblr.com/images/og/fb_landscape_share.png</og:image>
<dc:format>application/pdf</dc:format>
<dc:identifier>https://www.rose-hulman.edu/~bryan/googleFinalVersionFixed.pdf</dc:identifier>
</item>
<item>
<title>Show HN: A simple Go web server with logging, tracing, health check</title>
<link>https://gist.github.com/enricofoltran/10b4a980cd07cb02836f70a4ab3e72d7</link>
<guid isPermaLink="true" >https://gist.github.com/enricofoltran/10b4a980cd07cb02836f70a4ab3e72d7</guid>
<description>&lt;tr&gt;&lt;td id=&quot;file-main-go-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;/&gt;
&lt;td id=&quot;file-main-go-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;package&lt;/span&gt; main&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;/&gt;
&lt;td id=&quot;file-main-go-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;/&gt;
&lt;td id=&quot;file-main-go-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; (&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;/&gt;
&lt;td id=&quot;file-main-go-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;context&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;/&gt;
&lt;td id=&quot;file-main-go-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;flag&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;/&gt;
&lt;td id=&quot;file-main-go-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;fmt&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;/&gt;
&lt;td id=&quot;file-main-go-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;log&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;/&gt;
&lt;td id=&quot;file-main-go-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;net/http&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;/&gt;
&lt;td id=&quot;file-main-go-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;os&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;/&gt;
&lt;td id=&quot;file-main-go-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;os/signal&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;/&gt;
&lt;td id=&quot;file-main-go-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;sync/atomic&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;/&gt;
&lt;td id=&quot;file-main-go-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;time&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;/&gt;
&lt;td id=&quot;file-main-go-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;/&gt;
&lt;td id=&quot;file-main-go-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;/&gt;
&lt;td id=&quot;file-main-go-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;type&lt;/span&gt; key &lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;/&gt;
&lt;td id=&quot;file-main-go-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;/&gt;
&lt;td id=&quot;file-main-go-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; (&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;/&gt;
&lt;td id=&quot;file-main-go-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;requestIDKey key = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;/&gt;
&lt;td id=&quot;file-main-go-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;/&gt;
&lt;td id=&quot;file-main-go-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;/&gt;
&lt;td id=&quot;file-main-go-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; (&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;/&gt;
&lt;td id=&quot;file-main-go-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;listenAddr &lt;span class=&quot;pl-k&quot;&gt;string&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;/&gt;
&lt;td id=&quot;file-main-go-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;healthy &lt;span class=&quot;pl-k&quot;&gt;int32&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;/&gt;
&lt;td id=&quot;file-main-go-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;/&gt;
&lt;td id=&quot;file-main-go-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;/&gt;
&lt;td id=&quot;file-main-go-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;main&lt;/span&gt;() {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-main-go-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;/&gt;
&lt;td id=&quot;file-main-go-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;flag.&lt;span class=&quot;pl-c1&quot;&gt;StringVar&lt;/span&gt;(&amp;amp;listenAddr, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;listen-addr&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;:5000&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;server listen address&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;/&gt;
&lt;td id=&quot;file-main-go-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;flag.&lt;span class=&quot;pl-c1&quot;&gt;Parse&lt;/span&gt;()&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;/&gt;
&lt;td id=&quot;file-main-go-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-main-go-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;/&gt;
&lt;td id=&quot;file-main-go-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;logger&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; log.&lt;span class=&quot;pl-c1&quot;&gt;New&lt;/span&gt;(os.&lt;span class=&quot;pl-smi&quot;&gt;Stdout&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;http: &lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, log.&lt;span class=&quot;pl-smi&quot;&gt;LstdFlags&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;/&gt;
&lt;td id=&quot;file-main-go-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;logger.&lt;span class=&quot;pl-c1&quot;&gt;Println&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Server is starting...&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;/&gt;
&lt;td id=&quot;file-main-go-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;/&gt;
&lt;td id=&quot;file-main-go-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;router&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; http.&lt;span class=&quot;pl-c1&quot;&gt;NewServeMux&lt;/span&gt;()&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;/&gt;
&lt;td id=&quot;file-main-go-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;router.&lt;span class=&quot;pl-c1&quot;&gt;Handle&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;index&lt;/span&gt;())&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;/&gt;
&lt;td id=&quot;file-main-go-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;router.&lt;span class=&quot;pl-c1&quot;&gt;Handle&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;/healthz&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;healthz&lt;/span&gt;())&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L36&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;36&quot;/&gt;
&lt;td id=&quot;file-main-go-LC36&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L37&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;37&quot;/&gt;
&lt;td id=&quot;file-main-go-LC37&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;nextRequestID&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;func&lt;/span&gt;() &lt;span class=&quot;pl-k&quot;&gt;string&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L38&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;38&quot;/&gt;
&lt;td id=&quot;file-main-go-LC38&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; fmt.&lt;span class=&quot;pl-c1&quot;&gt;Sprintf&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, time.&lt;span class=&quot;pl-c1&quot;&gt;Now&lt;/span&gt;().&lt;span class=&quot;pl-c1&quot;&gt;UnixNano&lt;/span&gt;())&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L39&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;39&quot;/&gt;
&lt;td id=&quot;file-main-go-LC39&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L40&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;40&quot;/&gt;
&lt;td id=&quot;file-main-go-LC40&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L41&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;41&quot;/&gt;
&lt;td id=&quot;file-main-go-LC41&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; &amp;amp;http.&lt;span class=&quot;pl-smi&quot;&gt;Server&lt;/span&gt;{&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L42&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;42&quot;/&gt;
&lt;td id=&quot;file-main-go-LC42&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;Addr: listenAddr,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L43&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;43&quot;/&gt;
&lt;td id=&quot;file-main-go-LC43&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;Handler: &lt;span class=&quot;pl-c1&quot;&gt;tracing&lt;/span&gt;(nextRequestID)(&lt;span class=&quot;pl-c1&quot;&gt;logging&lt;/span&gt;(logger)(router)),&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L44&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;44&quot;/&gt;
&lt;td id=&quot;file-main-go-LC44&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;ErrorLog: logger,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L45&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;45&quot;/&gt;
&lt;td id=&quot;file-main-go-LC45&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;ReadTimeout: &lt;span class=&quot;pl-c1&quot;&gt;5&lt;/span&gt; * time.&lt;span class=&quot;pl-smi&quot;&gt;Second&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L46&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;46&quot;/&gt;
&lt;td id=&quot;file-main-go-LC46&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;WriteTimeout: &lt;span class=&quot;pl-c1&quot;&gt;10&lt;/span&gt; * time.&lt;span class=&quot;pl-smi&quot;&gt;Second&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L47&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;47&quot;/&gt;
&lt;td id=&quot;file-main-go-LC47&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;IdleTimeout: &lt;span class=&quot;pl-c1&quot;&gt;15&lt;/span&gt; * time.&lt;span class=&quot;pl-smi&quot;&gt;Second&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L48&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;48&quot;/&gt;
&lt;td id=&quot;file-main-go-LC48&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L49&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;49&quot;/&gt;
&lt;td id=&quot;file-main-go-LC49&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L50&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;50&quot;/&gt;
&lt;td id=&quot;file-main-go-LC50&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;make&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;chan&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;bool&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L51&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;51&quot;/&gt;
&lt;td id=&quot;file-main-go-LC51&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;quit&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;make&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;chan&lt;/span&gt; os.&lt;span class=&quot;pl-smi&quot;&gt;Signal&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L52&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;52&quot;/&gt;
&lt;td id=&quot;file-main-go-LC52&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;signal.&lt;span class=&quot;pl-c1&quot;&gt;Notify&lt;/span&gt;(quit, os.&lt;span class=&quot;pl-smi&quot;&gt;Interrupt&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L53&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;53&quot;/&gt;
&lt;td id=&quot;file-main-go-LC53&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L54&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;54&quot;/&gt;
&lt;td id=&quot;file-main-go-LC54&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;go&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt;() {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L55&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;55&quot;/&gt;
&lt;td id=&quot;file-main-go-LC55&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;&amp;lt;-&lt;/span&gt;quit&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L56&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;56&quot;/&gt;
&lt;td id=&quot;file-main-go-LC56&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;logger.&lt;span class=&quot;pl-c1&quot;&gt;Println&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Server is shutting down...&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L57&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;57&quot;/&gt;
&lt;td id=&quot;file-main-go-LC57&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;atomic.&lt;span class=&quot;pl-c1&quot;&gt;StoreInt32&lt;/span&gt;(&amp;amp;healthy, &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L58&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;58&quot;/&gt;
&lt;td id=&quot;file-main-go-LC58&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-main-go-L59&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;59&quot;/&gt;
&lt;td id=&quot;file-main-go-LC59&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;ctx&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;cancel&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; context.&lt;span class=&quot;pl-c1&quot;&gt;WithTimeout&lt;/span&gt;(context.&lt;span class=&quot;pl-c1&quot;&gt;Background&lt;/span&gt;(), &lt;span class=&quot;pl-c1&quot;&gt;30&lt;/span&gt;*time.&lt;span class=&quot;pl-smi&quot;&gt;Second&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L60&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;60&quot;/&gt;
&lt;td id=&quot;file-main-go-LC60&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;cancel&lt;/span&gt;()&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L61&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;61&quot;/&gt;
&lt;td id=&quot;file-main-go-LC61&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L62&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;62&quot;/&gt;
&lt;td id=&quot;file-main-go-LC62&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-c1&quot;&gt;SetKeepAlivesEnabled&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;false&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L63&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;63&quot;/&gt;
&lt;td id=&quot;file-main-go-LC63&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; server.&lt;span class=&quot;pl-c1&quot;&gt;Shutdown&lt;/span&gt;(ctx); err != &lt;span class=&quot;pl-c1&quot;&gt;nil&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L64&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;64&quot;/&gt;
&lt;td id=&quot;file-main-go-LC64&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;logger.&lt;span class=&quot;pl-c1&quot;&gt;Fatalf&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Could not gracefully shutdown the server: &lt;span class=&quot;pl-c1&quot;&gt;%v&lt;/span&gt;&lt;span class=&quot;pl-cce&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, err)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L65&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;65&quot;/&gt;
&lt;td id=&quot;file-main-go-LC65&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L66&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;66&quot;/&gt;
&lt;td id=&quot;file-main-go-LC66&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;close&lt;/span&gt;(done)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L67&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;67&quot;/&gt;
&lt;td id=&quot;file-main-go-LC67&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}()&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L68&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;68&quot;/&gt;
&lt;td id=&quot;file-main-go-LC68&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L69&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;69&quot;/&gt;
&lt;td id=&quot;file-main-go-LC69&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;logger.&lt;span class=&quot;pl-c1&quot;&gt;Println&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Server is ready to handle requests at&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, listenAddr)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L70&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;70&quot;/&gt;
&lt;td id=&quot;file-main-go-LC70&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;atomic.&lt;span class=&quot;pl-c1&quot;&gt;StoreInt32&lt;/span&gt;(&amp;amp;healthy, &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L71&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;71&quot;/&gt;
&lt;td id=&quot;file-main-go-LC71&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; server.&lt;span class=&quot;pl-c1&quot;&gt;ListenAndServe&lt;/span&gt;(); err != &lt;span class=&quot;pl-c1&quot;&gt;nil&lt;/span&gt; &amp;amp;&amp;amp; err != http.&lt;span class=&quot;pl-smi&quot;&gt;ErrServerClosed&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-main-go-L72&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;72&quot;/&gt;
&lt;td id=&quot;file-main-go-LC72&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;logger.&lt;span class=&quot;pl-c1&quot;&gt;Fatalf&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Could not listen on &lt;span class=&quot;pl-c1&quot;&gt;%s&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;%v&lt;/span&gt;&lt;span class=&quot;pl-cce&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, listenAddr, err)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L73&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;73&quot;/&gt;
&lt;td id=&quot;file-main-go-LC73&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L74&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;74&quot;/&gt;
&lt;td id=&quot;file-main-go-LC74&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L75&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;75&quot;/&gt;
&lt;td id=&quot;file-main-go-LC75&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;&amp;lt;-&lt;/span&gt;done&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L76&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;76&quot;/&gt;
&lt;td id=&quot;file-main-go-LC76&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;logger.&lt;span class=&quot;pl-c1&quot;&gt;Println&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Server stopped&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L77&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;77&quot;/&gt;
&lt;td id=&quot;file-main-go-LC77&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L78&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;78&quot;/&gt;
&lt;td id=&quot;file-main-go-LC78&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L79&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;79&quot;/&gt;
&lt;td id=&quot;file-main-go-LC79&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;index&lt;/span&gt;() &lt;span class=&quot;pl-v&quot;&gt;http&lt;/span&gt;.&lt;span class=&quot;pl-v&quot;&gt;Handler&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L80&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;80&quot;/&gt;
&lt;td id=&quot;file-main-go-LC80&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; http.&lt;span class=&quot;pl-c1&quot;&gt;HandlerFunc&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt;(w http.&lt;span class=&quot;pl-smi&quot;&gt;ResponseWriter&lt;/span&gt;, r *http.&lt;span class=&quot;pl-smi&quot;&gt;Request&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L81&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;81&quot;/&gt;
&lt;td id=&quot;file-main-go-LC81&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; r.&lt;span class=&quot;pl-smi&quot;&gt;URL&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;Path&lt;/span&gt; != &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-main-go-L82&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;82&quot;/&gt;
&lt;td id=&quot;file-main-go-LC82&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;http.&lt;span class=&quot;pl-c1&quot;&gt;Error&lt;/span&gt;(w, http.&lt;span class=&quot;pl-c1&quot;&gt;StatusText&lt;/span&gt;(http.&lt;span class=&quot;pl-smi&quot;&gt;StatusNotFound&lt;/span&gt;), http.&lt;span class=&quot;pl-smi&quot;&gt;StatusNotFound&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L83&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;83&quot;/&gt;
&lt;td id=&quot;file-main-go-LC83&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L84&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;84&quot;/&gt;
&lt;td id=&quot;file-main-go-LC84&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L85&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;85&quot;/&gt;
&lt;td id=&quot;file-main-go-LC85&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;w.&lt;span class=&quot;pl-c1&quot;&gt;Header&lt;/span&gt;().&lt;span class=&quot;pl-c1&quot;&gt;Set&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Content-Type&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;text/plain; charset=utf-8&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L86&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;86&quot;/&gt;
&lt;td id=&quot;file-main-go-LC86&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;w.&lt;span class=&quot;pl-c1&quot;&gt;Header&lt;/span&gt;().&lt;span class=&quot;pl-c1&quot;&gt;Set&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;X-Content-Type-Options&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;nosniff&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L87&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;87&quot;/&gt;
&lt;td id=&quot;file-main-go-LC87&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;w.&lt;span class=&quot;pl-c1&quot;&gt;WriteHeader&lt;/span&gt;(http.&lt;span class=&quot;pl-smi&quot;&gt;StatusOK&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-main-go-L88&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;88&quot;/&gt;
&lt;td id=&quot;file-main-go-LC88&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;fmt.&lt;span class=&quot;pl-c1&quot;&gt;Fprintln&lt;/span&gt;(w, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Hello, World!&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L89&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;89&quot;/&gt;
&lt;td id=&quot;file-main-go-LC89&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;})&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L90&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;90&quot;/&gt;
&lt;td id=&quot;file-main-go-LC90&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L91&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;91&quot;/&gt;
&lt;td id=&quot;file-main-go-LC91&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L92&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;92&quot;/&gt;
&lt;td id=&quot;file-main-go-LC92&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;healthz&lt;/span&gt;() &lt;span class=&quot;pl-v&quot;&gt;http&lt;/span&gt;.&lt;span class=&quot;pl-v&quot;&gt;Handler&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L93&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;93&quot;/&gt;
&lt;td id=&quot;file-main-go-LC93&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; http.&lt;span class=&quot;pl-c1&quot;&gt;HandlerFunc&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt;(w http.&lt;span class=&quot;pl-smi&quot;&gt;ResponseWriter&lt;/span&gt;, r *http.&lt;span class=&quot;pl-smi&quot;&gt;Request&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L94&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;94&quot;/&gt;
&lt;td id=&quot;file-main-go-LC94&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; atomic.&lt;span class=&quot;pl-c1&quot;&gt;LoadInt32&lt;/span&gt;(&amp;amp;healthy) == &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L95&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;95&quot;/&gt;
&lt;td id=&quot;file-main-go-LC95&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;w.&lt;span class=&quot;pl-c1&quot;&gt;WriteHeader&lt;/span&gt;(http.&lt;span class=&quot;pl-smi&quot;&gt;StatusNoContent&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L96&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;96&quot;/&gt;
&lt;td id=&quot;file-main-go-LC96&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L97&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;97&quot;/&gt;
&lt;td id=&quot;file-main-go-LC97&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L98&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;98&quot;/&gt;
&lt;td id=&quot;file-main-go-LC98&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;w.&lt;span class=&quot;pl-c1&quot;&gt;WriteHeader&lt;/span&gt;(http.&lt;span class=&quot;pl-smi&quot;&gt;StatusServiceUnavailable&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L99&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;99&quot;/&gt;
&lt;td id=&quot;file-main-go-LC99&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;})&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L100&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;100&quot;/&gt;
&lt;td id=&quot;file-main-go-LC100&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L101&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;101&quot;/&gt;
&lt;td id=&quot;file-main-go-LC101&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L102&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;102&quot;/&gt;
&lt;td id=&quot;file-main-go-LC102&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;logging&lt;/span&gt;(&lt;span class=&quot;pl-v&quot;&gt;logger&lt;/span&gt; *&lt;span class=&quot;pl-v&quot;&gt;log&lt;/span&gt;.&lt;span class=&quot;pl-v&quot;&gt;Logger&lt;/span&gt;) &lt;span class=&quot;pl-v&quot;&gt;func&lt;/span&gt;(http.Handler) http.Handler {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L103&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;103&quot;/&gt;
&lt;td id=&quot;file-main-go-LC103&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;func&lt;/span&gt;(next http.&lt;span class=&quot;pl-smi&quot;&gt;Handler&lt;/span&gt;) http.&lt;span class=&quot;pl-smi&quot;&gt;Handler&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L104&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;104&quot;/&gt;
&lt;td id=&quot;file-main-go-LC104&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; http.&lt;span class=&quot;pl-c1&quot;&gt;HandlerFunc&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt;(w http.&lt;span class=&quot;pl-smi&quot;&gt;ResponseWriter&lt;/span&gt;, r *http.&lt;span class=&quot;pl-smi&quot;&gt;Request&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L105&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;105&quot;/&gt;
&lt;td id=&quot;file-main-go-LC105&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt;() {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L106&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;106&quot;/&gt;
&lt;td id=&quot;file-main-go-LC106&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;requestID&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; r.&lt;span class=&quot;pl-c1&quot;&gt;Context&lt;/span&gt;().&lt;span class=&quot;pl-c1&quot;&gt;Value&lt;/span&gt;(requestIDKey).(&lt;span class=&quot;pl-k&quot;&gt;string&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L107&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;107&quot;/&gt;
&lt;td id=&quot;file-main-go-LC107&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; !ok {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L108&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;108&quot;/&gt;
&lt;td id=&quot;file-main-go-LC108&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;requestID = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;unknown&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L109&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;109&quot;/&gt;
&lt;td id=&quot;file-main-go-LC109&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td id=&quot;file-main-go-L110&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;110&quot;/&gt;
&lt;td id=&quot;file-main-go-LC110&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;logger.&lt;span class=&quot;pl-c1&quot;&gt;Println&lt;/span&gt;(requestID, r.&lt;span class=&quot;pl-smi&quot;&gt;Method&lt;/span&gt;, r.&lt;span class=&quot;pl-smi&quot;&gt;URL&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;Path&lt;/span&gt;, r.&lt;span class=&quot;pl-smi&quot;&gt;RemoteAddr&lt;/span&gt;, r.&lt;span class=&quot;pl-c1&quot;&gt;UserAgent&lt;/span&gt;())&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L111&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;111&quot;/&gt;
&lt;td id=&quot;file-main-go-LC111&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}()&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L112&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;112&quot;/&gt;
&lt;td id=&quot;file-main-go-LC112&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;next.&lt;span class=&quot;pl-c1&quot;&gt;ServeHTTP&lt;/span&gt;(w, r)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L113&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;113&quot;/&gt;
&lt;td id=&quot;file-main-go-LC113&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;})&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L114&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;114&quot;/&gt;
&lt;td id=&quot;file-main-go-LC114&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L115&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;115&quot;/&gt;
&lt;td id=&quot;file-main-go-LC115&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L116&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;116&quot;/&gt;
&lt;td id=&quot;file-main-go-LC116&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L117&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;117&quot;/&gt;
&lt;td id=&quot;file-main-go-LC117&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;tracing&lt;/span&gt;(nextRequestID &lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt;() &lt;span class=&quot;pl-k&quot;&gt;string&lt;/span&gt;) &lt;span class=&quot;pl-c1&quot;&gt;func&lt;/span&gt;(http.&lt;span class=&quot;pl-smi&quot;&gt;Handler&lt;/span&gt;) http.&lt;span class=&quot;pl-smi&quot;&gt;Handler&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L118&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;118&quot;/&gt;
&lt;td id=&quot;file-main-go-LC118&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;func&lt;/span&gt;(next http.&lt;span class=&quot;pl-smi&quot;&gt;Handler&lt;/span&gt;) http.&lt;span class=&quot;pl-smi&quot;&gt;Handler&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L119&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;119&quot;/&gt;
&lt;td id=&quot;file-main-go-LC119&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; http.&lt;span class=&quot;pl-c1&quot;&gt;HandlerFunc&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;func&lt;/span&gt;(w http.&lt;span class=&quot;pl-smi&quot;&gt;ResponseWriter&lt;/span&gt;, r *http.&lt;span class=&quot;pl-smi&quot;&gt;Request&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L120&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;120&quot;/&gt;
&lt;td id=&quot;file-main-go-LC120&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;requestID&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; r.&lt;span class=&quot;pl-smi&quot;&gt;Header&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;Get&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;X-Request-Id&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L121&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;121&quot;/&gt;
&lt;td id=&quot;file-main-go-LC121&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; requestID == &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-main-go-L122&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;122&quot;/&gt;
&lt;td id=&quot;file-main-go-LC122&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;requestID = &lt;span class=&quot;pl-c1&quot;&gt;nextRequestID&lt;/span&gt;()&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L123&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;123&quot;/&gt;
&lt;td id=&quot;file-main-go-LC123&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-main-go-L124&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;124&quot;/&gt;
&lt;td id=&quot;file-main-go-LC124&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;:=&lt;/span&gt; context.&lt;span class=&quot;pl-c1&quot;&gt;WithValue&lt;/span&gt;(r.&lt;span class=&quot;pl-c1&quot;&gt;Context&lt;/span&gt;(), requestIDKey, requestID)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L125&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;125&quot;/&gt;
&lt;td id=&quot;file-main-go-LC125&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;w.&lt;span class=&quot;pl-c1&quot;&gt;Header&lt;/span&gt;().&lt;span class=&quot;pl-c1&quot;&gt;Set&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;X-Request-Id&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, requestID)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-main-go-L126&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;126&quot;/&gt;
&lt;td id=&quot;file-main-go-LC126&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;next.&lt;span class=&quot;pl-c1&quot;&gt;ServeHTTP&lt;/span&gt;(w, r.&lt;span class=&quot;pl-c1&quot;&gt;WithContext&lt;/span&gt;(ctx))&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L127&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;127&quot;/&gt;
&lt;td id=&quot;file-main-go-LC127&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;})&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L128&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;128&quot;/&gt;
&lt;td id=&quot;file-main-go-LC128&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-main-go-L129&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;129&quot;/&gt;
&lt;td id=&quot;file-main-go-LC129&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;</description>
<pubDate>Sun, 07 Jan 2018 14:40:20 +0000</pubDate>
<dc:creator>enricofoltran</dc:creator>
<og:image>https://avatars3.githubusercontent.com/u/236736?s=400&amp;v=4</og:image>
<og:type>object</og:type>
<og:title>A simple golang web server with basic logging, tracing, health check, graceful shutdown and zero dependencies</og:title>
<og:url>https://gist.github.com/enricofoltran/10b4a980cd07cb02836f70a4ab3e72d7</og:url>
<og:description>A simple golang web server with basic logging, tracing, health check, graceful shutdown and zero dependencies</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://gist.github.com/enricofoltran/10b4a980cd07cb02836f70a4ab3e72d7</dc:identifier>
</item>
<item>
<title>JVM Anatomy Park</title>
<link>https://shipilev.net/jvm-anatomy-park/</link>
<guid isPermaLink="true" >https://shipilev.net/jvm-anatomy-park/</guid>
<description>&lt;div class=&quot;paragraph&quot; readability=&quot;21.070422535211&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://shipilev.net/jvm-anatomy-park&quot;&gt;&quot;JVM Anatomy Park&quot;&lt;/a&gt; is the on-going mini-post series, where every post is slated to take 5-10 minutes to read. As such, it goes deep for only a single topic, a single test, a single benchmark, a single observation. So, the evidence and discussion here are anecdotal, not actually reviewed for errors, consistency, writing style, syntactic and semantic errors, duplicates, or consistency. Use and/or trust this at your own risk.&lt;/p&gt;
&lt;/div&gt;

</description>
<pubDate>Sun, 07 Jan 2018 12:09:15 +0000</pubDate>
<dc:creator>r4um</dc:creator>
<og:image>https://shipilev.net/avatars/4sq-sm-x.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://shipilev.net/jvm-anatomy-park/</dc:identifier>
</item>
<item>
<title>The Empathy Gap in Tech: Interview with a Software Engineer</title>
<link>http://quillette.com/2018/01/05/empathy-gap-tech-interview-software-engineer/</link>
<guid isPermaLink="true" >http://quillette.com/2018/01/05/empathy-gap-tech-interview-software-engineer/</guid>
<description>&lt;p&gt;Last year I was working on an article about the tech industry when I decided to interview a software engineer who writes for &lt;em&gt;Quillette&lt;/em&gt; under the pseudonym “Gideon Scopes”. Gideon had mentioned to me in passing that he had Asperger’s Syndrome (a mild variant of autism spectrum disorder) and I wanted to find out more about the industry from the point of view of someone who is not neurotypical.&lt;/p&gt;
&lt;p&gt;I first asked him when it was that he knew he wanted to work in technology. He told me that he first knew it when he was five. His family got their first home computer and he was transfixed. Later, he would come across a brief introduction to the BASIC programming language in a book and proceed to teach himself his first programming language. He was only seven.&lt;/p&gt;
&lt;p&gt;As a child he taught himself programming out of books, mostly alone at home. He told me that his family were not particularly supportive of his hobby. His mother was not happy to see him focus so intently on one interest and viewed his study of programming “as the equivalent of a kid spending too much time watching TV.”&lt;/p&gt;
&lt;p&gt;Growing up in suburban New York, he told me that a compiler for a programming language would cost at least $100, and programming books generally cost $40-60 each. His only source of income was a $1 per week allowance, so it would take him a year or two to save for just one item. This was despite the fact that his parents were in a high income bracket, and could have easily provided resources to help him learn. He learned anyway.&lt;/p&gt;
&lt;p&gt;Despite his cognitive ability, however, Gideon underperformed early on in his schooling. He thinks it may have been because he experienced the school environment as overly rigid and inflexible, and the work was just not challenging enough to engage him. It wasn’t until he was able to take accelerated math and science classes that his grades reflected his ability.&lt;/p&gt;
&lt;p&gt;Fast forward several years, and today Gideon is a successful senior software engineer in a prestigious technology company in New York. He loves his job and he loves where he works. He is grateful for the fact that his company values his work, and not how he promotes himself and how he dresses. He feels that the technology industry rewards talent and hard work, and that it is one of the best places for “Aspies” to be. He tells me that the only drawback is the occasional bar event (where he doesn’t like the noise) and a weird and somewhat rigid political culture.&lt;/p&gt;
&lt;p&gt;*   *   *&lt;/p&gt;
&lt;p&gt;A &lt;a href=&quot;https://link.springer.com/article/10.1023%2FA%3A1005653411471?LI=true&quot;&gt;paper authored by Simon Baron Cohen et al in 2001&lt;/a&gt;, outlines a brief measurement tool for screening for autism in adults who have normal or above average intelligence. The tool, which is called the Autism Spectrum Quotient (ASQ) can be self-administered and only requires a pencil and paper; individuals receive a score from 1 – 50 with scores closer to 50 representing a higher likelihood of having Aspergers or High Functioning Autism (HFA).&lt;/p&gt;
&lt;p&gt;In validating the test, Baron-Cohen assessed a range of adults including some with Aspergers or HFA, randomly selected controls, students in Cambridge University and winners of the UK Mathematics Olympiad.&lt;/p&gt;
&lt;p&gt;The results were remarkable. Adults with Aspergers or HFA had an average score of 35.8, much higher than the controls who had an average score of 16.4, (with men on average scoring slightly higher than women). Among the Cambridge University students the average score was the same as the control group, except mathematicians and scientists scored significantly higher than humanities and social sciences students, which, the researchers claimed, “confirm[ed] an earlier study that autistic conditions are associated with scientific skills”. Within the sciences, those studying mathematics scored the highest. This was again reflected in the scores found in the winners of the Mathematics Olympiad, who had an average score of 32.7.&lt;/p&gt;
&lt;p&gt;More recently, in 2015, a team of researchers led by Baron-Cohen collected the autism quotient scores of &lt;a href=&quot;http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0141229&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;half a million people on the UK’s Channel 4 website&lt;/a&gt;, after the airing of a medical education program. They found that the mean AQ score was 19.83, with men scoring 21.55 and women scoring 18.95. They also found that individuals working in STEM careers had a higher average score (21.92) compared to those who didn’t work in STEM (18.92).&lt;/p&gt;
&lt;p&gt;The theory underpinning Baron-Cohen’s work is the &lt;a href=&quot;https://spectrumnews.org/opinion/linking-autism-sex-gender-and-prenatal-hormones/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;prenatal sex steroid theory&lt;/a&gt;. The theory posits that when a baby’s brain is developing in utero, the amounts of hormones produced by the ovaries or testes his or her brain is exposed to affects its development. Baron-Cohen’s theory predicts that exposure to higher levels of testosterone in the prenatal period leads to a “masculinization” of the brain, which can result in symptoms associated with autism. Such symptoms include higher rates of delayed language, reduced eye contact as well as higher attention to detail and a stronger interest in systems than people.&lt;/p&gt;
&lt;p&gt;Critics of Baron-Cohen’s work have long said that while his hypotheses are interesting, the evidence so far has been insufficient. The core criticisms have focused on his reliance on proxy measures for prenatal testosterone (looking at digit ratio rather than sampling amniotic fluid directly) and self reported measures of behaviour, such as pencil and paper or online surveys. These methods have not been adequate, &lt;a href=&quot;https://spectrumnews.org/news/study-on-extreme-male-brain-theory-of-autism-draws-critics/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;claim the critics&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Such criticisms have been met with further research, however. In 2015, Baron-Cohen published the results of the &lt;a href=&quot;https://www.nature.com/articles/mp201448&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;first direct test&lt;/a&gt; of amniotic hormonal fluid levels and their relation to the development of autism later in life. He found a clear relationship – boys with autism had been exposed to elevated levels of testosterone, cortisol and other sex steroid hormones in utero. When the study was published, &lt;a href=&quot;https://www.theguardian.com/society/2014/jun/03/boys-with-autism-likely-exposed-to-more-hormones-in-the-womb&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;em&gt;The Guardian&lt;/em&gt;&lt;/a&gt;&lt;em&gt; &lt;/em&gt;quoted Baron-Cohen, who explained: “in the womb, boys produce about twice as much testosterone as girls, but compared with typical boys, the autism group has even higher levels. It’s a significant difference and may have a large effect on brain development.”&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-width=&quot;550&quot; data-dnt=&quot;true&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Autistic boys exposed to higher levels of hormones in womb, study finds &lt;a href=&quot;http://t.co/gsjzDqRM53&quot;&gt;http://t.co/gsjzDqRM53&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;— Guardian Science (@guardianscience) &lt;a href=&quot;https://twitter.com/guardianscience/status/473736914407665664?ref_src=twsrc%5Etfw&quot;&gt;June 3, 2014&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In my interview with Gideon, he mentions Baron-Cohen’s work to me. He tells me that it resonates with his own experience and his experience of taking computer science classes at university. With regard to the tech industry he says—&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I’ve opted to stay in the closet at work to avoid the risk of either being discriminated against on account of the AS label, having others unfairly discriminated against in the name of helping me (à la affirmative action), or being perceived, whether correctly or incorrectly, as having gotten where I am because of my diagnosis rather than on merit. There are a number of people I’ve met over the years who I suspect are likely on the spectrum, but I can’t really bring it up in a work setting. I definitely find that software engineers tend to have higher levels of autistic traits than the average person on the street, even if the overwhelming majority wouldn’t have enough to qualify for a diagnosis.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;People with Asperger’s or high functioning autism often struggle socially, and those with more severe versions of the syndrome are often incapacitated in the social realm. So I asked Gideon what his social life was like growing up. This was where the story became fraught. Gideon says that he was mostly a loner at school, but made one friend in second grade and another in fourth grade, whom he felt very close to. But things eventually changed. He wrote to me in an email—&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;During sixth grade, my two friends from elementary school both turned their backs on me. With David he did so by telling me, “I was never your friend. I just took pity on you.” At the time, I was perplexed by the comment and didn’t understand why I was someone to be pitied. Looking back on it now, I wonder if he may have known about my AS [Asperger’s Syndrome] years before I did. In seventh grade, I made some new friends, but that only lasted for a few months before they each decided that I wasn’t cool enough for them.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Gideon also suffered serious bullying in elementary school and middle school. He was picked on by both girls and boys; and at times this escalated into violence. One boy was suspended from school after repeatedly trapping him and violently strangling him in a busy hallway near the gym during passing time.&lt;/p&gt;
&lt;p&gt;Despite these social difficulties and other symptoms such as hypersensitivity to touch and prosopagnosia (difficulty recognising faces) it wasn’t until he was in college that he received a diagnosis of Aspergers Syndrome. He says the “breakthrough came during a Yom Kippur service during my junior year”&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I was standing there in the sanctuary, and the distress from the shirt I was wearing was such that I couldn’t focus on the service. It felt horrible—there I was at the service on the holiest day of the year to atone for my sins against God and other people, and all I could think about was my own suffering! Then, this crazy theory came to me. I had read something several months earlier about the similarity between Asperger’s syndrome and the traits that characterize a “nerd” or “geek” in popular culture. I had also heard something years earlier about autistic people having issues with certain types of clothing similar to my own. I put the two together and wondered if I could have some very mild level of autism. After the holiday was over, I went on Google and typed in “Asperger’s syndrome.” I pressed enter, and my life changed forever.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;*   *   *&lt;/p&gt;
&lt;p&gt;When the tech industry is written about in the media, it is often portrayed in terms of its maleness and sometimes “macho” qualities, exemplified by the widespread use of the epithet “techbros” and “brogrammers”. As an example, a book about the Valley has just been released with the portmanteau &lt;a href=&quot;http://amzn.to/2CyzaXV&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;em&gt;Brotopia&lt;/em&gt;&lt;/a&gt; as its title. This is a growing phenomenon.&lt;/p&gt;
&lt;p&gt;Yet the tech industry more broadly is rarely discussed in terms of friendliness towards those with high functioning autism, such as Gideon. On the job selection process Gideon says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When you come for a coding interview, it’s a three- to five-hour-long oral exam. Show us what you can do. That’s what we care about, ultimately, not how good you are at talking yourself up or what you look like.&lt;/p&gt;
&lt;p&gt;Speaking of what someone looks like, the fact that software engineers largely have the freedom to dress as they please is huge for those of us with sensory differences that affect clothing. Before I realized that this would be such a non-issue in my field, I was worried that I’d have trouble finding a job at all if I insisted on being able to work and interview under humane conditions. I suspect that people with similar sensory issues whose interests and aptitudes lie elsewhere may face a really tough situation that&lt;br/&gt;I’ve been fortunate enough to not have to deal with.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;On the day to day work experience he says—&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The technology industry is one of the most Aspie-friendly places that there is. The social demands on software engineers mostly consist of collaborating with colleagues to build a product, so if your social skills are good enough to handle that and you’ve got good technical skills, you can be very successful.&lt;/p&gt;

&lt;/blockquote&gt;
&lt;p&gt;Gideon tells me that in his experience there are many autistic traits that don’t fit at all with our cultural conception of masculinity. Hypersensitivity to sensory stimulation is one of them, as is the tendency for those with autism to develop anxiety and depression—conditions that in the general population are higher in women than in men—the predilection of autistic people to prefer consistency and predictability also contrasts with the masculine trait of risk-taking.&lt;/p&gt;
&lt;p&gt;Nevertheless, individuals who are adept at systematising tend to be good at the tasks which are profitable in today’s information economy. Baron-Cohen’s work shows that systematisers tend to be interested in patterns, and can quickly spot them in natural, mathematic or mechanical settings. A good empathiser, by contrast, can quickly spot emotional states in others. While both skills are vital, and have been crucial to our evolution as a species, our modern economy increasingly rewards those who can build systems which scale, ratcheting up productivity and efficiency. Often—but not always—it’s systematisers who do this (it’s also worth remembering that this will not last forever, with the advent of automation and AI).&lt;/p&gt;
&lt;p&gt;Yet the fact that systematisers are often well remunerated in today’s economy does not mean that these individuals have lives that are necessarily easier, or even happier than the average person. A person who is an outlier on the systematising spectrum might find it hard to make friends, find a girlfriend or boyfriend, and engage in the day-to-day social activities that make up so much of our lives. Last year, Thomas Clements, a writer with autism, &lt;a href=&quot;http://quillette.com/2017/10/15/problem-neurodiversity-movement/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;wrote for &lt;em&gt;Quillette&lt;/em&gt;&lt;/a&gt;—&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Every morning when I wake up I feel a heavy sense of trepidation as I contemplate the complex series of social interactions I will have to navigate in order to make it through the day at work. Being on the autism spectrum makes me instinctively averse to the superficial chit-chat I am expected to engage in in my job as a retail cashier. To my mind at least, small-talk serves no real practical purpose. It just makes me feel on edge and increases my overall stress levels as I expend huge amounts of cognitive energy decoding idioms and non-verbal communication…I am prone to be blunt, sometimes to the point of rudeness, which is a personality trait that tends not to sit especially well with many members of the so-called ‘neuro-typical’ or non-autistic world.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As accounts like Thomas’s describe, autism can be extremely debilitating, especially if one sits further out on the spectrum. But even those who are “high functioning” often describe social anxieties, unemployment and prejudice. The fact that the tech industry is perceived by some as being “friendly” towards those with autistic traits could be seen as a positive attribute—and one that deserves recognition.&lt;/p&gt;
&lt;p&gt;But the industry does not receive recognition for being friendly. Most of the media attention that the industry attracts focuses on sexism. For example, &lt;em&gt;The New Yorker&lt;/em&gt; recently published “&lt;a href=&quot;https://www.newyorker.com/magazine/2017/11/20/the-tech-industrys-gender-discrimination-problem&quot;&gt;The Tech Industry’s Gender Discrimination Problem&lt;/a&gt;,” which argued that the lack of women in companies such as Tesla was due to a rampant culture of misogyny, on par with the criminal predation of Harvey Weinstein. In April 2017, the prestigious &lt;em&gt;The Atlantic&lt;/em&gt; ran a cover story titled: “&lt;a href=&quot;https://www.theatlantic.com/magazine/archive/2017/04/why-is-silicon-valley-so-awful-to-women/517788/&quot;&gt;Why is Silicon Valley so Awful to Women&lt;/a&gt;&lt;em&gt;.&lt;/em&gt;”&lt;/p&gt;
&lt;div id=&quot;attachment_78567&quot; class=&quot;wp-caption aligncenter&quot;&gt;&lt;img class=&quot;size-large wp-image-78567&quot; src=&quot;https://i2.wp.com/d24fkeqntp1r7r.cloudfront.net/wp-content/uploads/2018/01/05223905/TheAtlantic-768x1024.jpg?resize=768%2C1024&quot; alt=&quot;&quot; width=&quot;768&quot; height=&quot;1024&quot; srcset=&quot;http://d24fkeqntp1r7r.cloudfront.net/wp-content/uploads/2018/01/05223905/TheAtlantic.jpg 768w, http://d24fkeqntp1r7r.cloudfront.net/wp-content/uploads/2018/01/05223905/TheAtlantic.jpg 225w, http://d24fkeqntp1r7r.cloudfront.net/wp-content/uploads/2018/01/05223905/TheAtlantic.jpg 420w, http://d24fkeqntp1r7r.cloudfront.net/wp-content/uploads/2018/01/05223905/TheAtlantic.jpg 900w&quot; sizes=&quot;(max-width: 768px) 100vw, 768px&quot; data-recalc-dims=&quot;1&quot;/&gt;&lt;p class=&quot;wp-caption-text&quot;&gt;The Atlantic’s April 2017 issue.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The articles in &lt;em&gt;The Atlantic &lt;/em&gt;and &lt;em&gt;New Yorker&lt;/em&gt; contained the same reasoning. which can be reduced to the following syllogism:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;The ratio of men and women in the tech industry is uneven,&lt;/li&gt;
&lt;li&gt;There are cases of sexism and sexual harassment within the tech industry,&lt;/li&gt;
&lt;li&gt;Sexism and sexual harassment has caused the imbalanced gender ratio.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Of course, women &lt;em&gt;are&lt;/em&gt; sexually harassed in the tech industry just as they are harassed in every other industry in which they work—so the first two components of the above reasoning are correct. But the third is simply unfounded. There is little evidence that shows that harassment in tech is any higher than other industries, such as public administration, government, academia or media (in fact there is evidence that the &lt;a href=&quot;https://www.americanprogress.org/issues/women/news/2017/11/20/443139/not-just-rich-famous/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;prevalence is lower&lt;/a&gt;). Statistics collected on sexual harassment find, overwhelmingly, that the majority of reported cases occur in &lt;a href=&quot;https://www.vox.com/identities/2017/11/21/16685942/sexual-harassment-industry-service-retail&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;low-wage and service sector jobs&lt;/a&gt;. The causal evidence showing that sexism causes the gender imbalance simply isn’t there.&lt;/p&gt;
&lt;p&gt;What we do know, however, is that while girls and women do meet the diagnosis for autism spectrum disorder, &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/28545751&quot;&gt;the ratio between men and women sits somewhere between 5:1 to 3:1&lt;/a&gt;.&lt;strong&gt;&lt;em&gt; &lt;/em&gt;&lt;/strong&gt;We also know that men and women’s interests diverge in ways that are congruent with Baron-Cohen’s &lt;a href=&quot;https://link.springer.com/article/10.1023/B:JADD.0000029552.42724.1b&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;systematising- empathising spectrum&lt;/a&gt;. Women overwhelmingly prefer working with people, and have “artistic” and “social” vocational interests, and men overwhelmingly prefer working with things and have “&lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/27505283&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;investigative,” “enterprising,” “realistic,” and “conventional&lt;/a&gt;,” interests.&lt;/p&gt;
&lt;p&gt;Indeed, academics at the &lt;em&gt;&lt;a href=&quot;https://heterodoxacademy.org/2017/08/10/the-google-memo-what-does-the-research-say-about-gender-differences/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Heterodox Academy&lt;/a&gt; &lt;/em&gt;have concurred that the most important sex difference that is relevant to the question of unequal gender ratios in certain industries is that of enjoyment and interest. My interview subject, Gideon, did not need any direction from a teacher to learn coding. He learned it because he was transfixed by computers, and teaching himself to code was a pleasurable activity for him. When I ask if there are any benefits to having Asperger’s Syndrome he says—&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For me, the hyper-focused special interest aspect of autism is one of the greatest joys in the world and a significant part of why I’ve been able to be so successful at what I do. I wouldn’t trade it for anything. The extremely strong memory and navigation skills are also very much something to cherish. Certainly, there have been plenty of difficulties when it comes to how I’ve been perceived by others, especially as a child, and how to navigate a world that’s built for people whose sensory perceptions work differently from mine. I believe that most of this can be fixed in good time through awareness and understanding.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My discussion with Gideon made me reflect. If the technology industry is indeed a friendly place for Aspies and those who have subclinical levels of autistic traits, then intuitively, it is going to attract and retain more men than women (at least in the engineering streams) due to baseline rates of systematising, combined with men’s demonstrated interest in working with “things” rather than people. Stating this is not sexism, it is simply engaging in probabilistic reasoning.&lt;/p&gt;
&lt;p&gt;Of course, none of this rules out sexism and sexual harassment as playing a role in deterring women or prompting women to leave the industry once they are there. But any discussion of women in tech should at least mention sex differences in systematising and autistic traits, and sex differences in vocational interests as a relevant factor, even if it is to rule these factors out. Of course, the recent articles in &lt;em&gt;The Atlantic &lt;/em&gt;and &lt;em&gt;New Yorker &lt;/em&gt;do no such thing.&lt;/p&gt;
&lt;p&gt;James Damore, who wrote the infamous ‘Google Memo,’ has recently said that he may have high functioning autism himself.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-width=&quot;550&quot; data-dnt=&quot;true&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Most balanced &lt;a href=&quot;https://twitter.com/guardian?ref_src=twsrc%5Etfw&quot;&gt;@guardian&lt;/a&gt; piece on &lt;a href=&quot;https://twitter.com/hashtag/GoogleMemo?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#GoogleMemo&lt;/a&gt;.&lt;br/&gt;I brought up personality differences to de-gender workplace issues and diagnose the root cause. Alas, none of the criticisms addressed testosterone→systemizing→career preference.&lt;a href=&quot;https://t.co/TQ6wvSrQEo&quot;&gt;https://t.co/TQ6wvSrQEo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;— James Damore (@JamesADamore) &lt;a href=&quot;https://twitter.com/JamesADamore/status/933075513375186944?ref_src=twsrc%5Etfw&quot;&gt;November 21, 2017&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In &lt;em&gt;The Guardian,&lt;/em&gt; he was reported as saying—“my biggest flaw and strength may be that I see things very differently than normal…I’m not necessarily the best at predicting what would be controversial.”&lt;/p&gt;
&lt;p&gt;In considering Damore’s experience, it’s important to remember the caveats that Damore included in his memo. He wrote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note, I’m not saying that all men differ from all women in the following ways or that these differences are “just.” I’m simply stating that the distribution of preferences and abilities of men and women differ in part due to biological causes and that these differences may explain why we don’t see equal representation of women in tech and leadership. Many of these differences are small and there’s significant overlap between men and women, so you can’t say anything about an individual given these population level distributions.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Despite this, he was, of course, &lt;a href=&quot;https://www.wsj.com/articles/why-i-was-fired-by-google-1502481290&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;fired&lt;/a&gt; for “perpetuating gender stereotypes”.&lt;/p&gt;
&lt;p&gt;In an email, Gideon mentioned to me that when the news first broke about Damore and the Google Memo, he immediately suspected that Damore “was on the spectrum,” and possibly further out on the spectrum than himself. When I asked him to explain why, and he said:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If he didn’t get the message that the women in science movement wasn’t interested in dialogue and is glad to destroy anyone who questioned it then he must be [on the spectrum]. The only reason why it was him rather than me winding up that [kind of] situation is that I realized what was happening well enough to keep my mouth shut at work and to also turn down an offer from Google, since I knew that they [are] one of the worst offenders, if not the worst.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I asked Gideon if he thought that the American media painted a distorted picture of the gender gap in tech. He told me yes. He chalked it up to three factors: a growing tendency towards collectivism in American culture, combined with a blank slate view of human nature and an empathy gap towards men.&lt;/p&gt;
&lt;p&gt;He said that society increasingly sees groups instead of individuals, to the extent that group rights may supersede individual rights in all sorts of contexts, including politicised work environments. Because contemporary moral codes delineate women as vulnerable or marginalised, we stop seeing them as individuals with unique talents and idiosyncrasies, but as representatives of a victimised class. The reverse is true of men. Because women are now a victimised class, men are increasingly seen as victimisers, irrespective of their individual attributes or actions.&lt;/p&gt;
&lt;p&gt;The second factor, he thought, was an attachment to an outdated, blank slate view of human nature. He says that many people still insist on seeing the human brain as predominantly moulded by culture, despite scientific evidence to the contrary. There tends to be a hesitancy towards attributing &lt;em&gt;any&lt;/em&gt; differences between people to &lt;em&gt;any&lt;/em&gt; cause that is biological in origin. This hesitancy has been around for decades, and appears like it will not be alleviated anytime soon.&lt;/p&gt;
&lt;p&gt;And the third factor, Gideon said, was the empathy gap, where we tend to be more receptive to women’s pain than men’s. When women talk about being made to feel uncomfortable at work, or being sexually harassed, we feel empathy and want to punish the wrong-doers. But we don’t have the same reaction for “geeks,” or “techbros”. Because our understanding of neurodiversity is painfully lacking, our culture tends to view men as a homogenous category, seeing all men as inheritors of privilege and all men as possessing the masculine traits that foster toughness and resilience. We have a habit of ignoring those who don’t, and when they do talk about their vulnerability, we are inclined to ignore, or ridicule them for it.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Claire Lehmann is the editor of &lt;em&gt;Quillette&lt;/em&gt;. Follow her on Twitter &lt;a href=&quot;https://twitter.com/clairlemon&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;@clairlemon&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;sharedaddy sd-sharing-enabled&quot;&gt;
&lt;div class=&quot;robots-nocontent sd-block sd-social sd-social-official sd-sharing&quot;&gt;
&lt;h3 class=&quot;sd-title&quot;&gt;Share this:&lt;/h3&gt;

&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Sun, 07 Jan 2018 09:29:10 +0000</pubDate>
<dc:creator>Radim</dc:creator>
<og:type>article</og:type>
<og:title>The Empathy Gap in Tech: Interview with a Software Engineer - Quillette</og:title>
<og:description>Last year I was working on an article about the tech industry when I decided to interview a software engineer who writes for Quillette under the pseudonym “Gideon Scopes”. Gideon had mentioned to me in passing that he had Asperger’s Syndrome (a mild variant of autism spectrum disorder) and I wanted to find out more about the industry from the point of view of someone who is not neurotypical. I first asked him when it was that he knew he wanted to work in technology. He told me that he first knew it when he was five. His family got their first home computer and he was transfixed. Later, he would come across a brief introduction to the BASIC programming language in a book and proceed to teach himself his first programming language. He was only seven. As a child he taught himself programming out of books, mostly alone at home. He told me that his family were not particularly supportive of his hobby. His mother was not happy to see him focus so intently on one …</og:description>
<og:url>http://quillette.com/2018/01/05/empathy-gap-tech-interview-software-engineer/</og:url>
<og:image>http://d24fkeqntp1r7r.cloudfront.net/wp-content/uploads/2018/01/05214949/Tech.jpg</og:image>
<dc:language>en-AU</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://quillette.com/2018/01/05/empathy-gap-tech-interview-software-engineer/</dc:identifier>
</item>
<item>
<title>How the JVM compares strings on x86 using pcmpestri</title>
<link>http://jcdav.is/2016/09/01/How-the-JVM-compares-your-strings/</link>
<guid isPermaLink="true" >http://jcdav.is/2016/09/01/How-the-JVM-compares-your-strings/</guid>
<description>&lt;span class=&quot;post-date&quot;&gt;01 Sep 2016&lt;/span&gt;
&lt;p&gt;We’ve all probably seen Java’s String comparison function before. It compares strings by the first differing character, falling back to the length difference when they are identical up to the end of the shorter string:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;compareTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;anotherString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;anotherString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;len1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;anotherString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But did you know there is also a secret second implementation? &lt;code&gt;String.compareTo&lt;/code&gt; is one of a few methods that is important enough to also get a special hand-rolled assembly version. On my machine, it something like this:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;79&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-asm&quot; data-lang=&quot;asm&quot;&gt;&lt;span class=&quot;c&quot;&gt;# {method} 'compare' '(Ljava/lang/String;Ljava/lang/String;)I' in 'Test'&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# parm0:    rsi:rsi   = 'java/lang/String'&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# parm1:    rdx:rdx   = 'java/lang/String'&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#           [sp+0x20]  (sp of caller)&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159a0:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0x14000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159a7:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;push&lt;/span&gt;   &lt;span class=&quot;nv&quot;&gt;%rbp&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159a8:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sub&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsp&lt;/span&gt;        
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159ac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;  
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159b0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%r10&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159b4:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%r10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159b7:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;add&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159bb:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%r10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159bf:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%ecx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159c2:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;add&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159c6:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%ecx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159c8:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sub&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%ecx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159ca:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;push&lt;/span&gt;   &lt;span class=&quot;nv&quot;&gt;%rcx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159cb:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;cmovle&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159ce:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test&lt;/span&gt;   &lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159d0:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;je&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a6f&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159d6:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;movzwl&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159d9:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;movzwl&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%ecx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159dc:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sub&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%ecx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159de:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jne&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a72&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159e4:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;cmp&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159e7:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;je&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a6f&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159ed:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;cmp&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159f0:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;je&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a6f&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159f6:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159f8:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;and&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0xfffffff8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159fb:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;je&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a4f&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159fd:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lea&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a01:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lea&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a05:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;neg&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a08:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;vmovdqu&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%xmm0&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a0d:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;vpcmpestri&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;$0x19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%xmm0&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a14:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jb&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a40&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a16:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;add&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a1a:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sub&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a1e:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jne&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a08&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a20:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test&lt;/span&gt;   &lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a23:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;je&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a6f&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a25:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a2a:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a2f:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;neg&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a32:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;vmovdqu&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%xmm0&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a37:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;vpcmpestri&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;$0x19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%xmm0&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a3e:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jae&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a6f&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a40:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;add&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rcx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a43:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;movzwl&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rcx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a47:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;movzwl&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rcx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a4b:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sub&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a4d:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jmp&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a72&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a4f:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a51:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lea&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a55:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lea&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a59:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dec&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a5b:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;neg&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a5e:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;movzwl&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a62:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;movzwl&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%ecx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a66:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sub&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%ecx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a68:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jne&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a72&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a6a:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;inc&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a6d:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jne&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a5e&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a6f:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;pop&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a70:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jmp&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a73&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a72:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;pop&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rcx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a73:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;add&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsp&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a77:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;pop&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rbp&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a78:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test&lt;/span&gt;   &lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0x17ed6582&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a7e:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;retq&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The code that generates this, &lt;code&gt;MacroAssembler::string_compare&lt;/code&gt; in &lt;a href=&quot;http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/cpu/x86/vm/macroAssembler_x86.cpp#l5719&quot;&gt;macroAssembler_x86.cpp&lt;/a&gt; is well-documented for the curious. Its worth noting that there is an even fancier version for modern systems using AVX2 (with its 256bit vectorized registers) that I’m not going to cover here.&lt;/p&gt;

&lt;p&gt;Introduced in SSE4.2, &lt;code&gt;pcmpestri&lt;/code&gt; is a member of the &lt;code&gt;pcmpxstrx&lt;/code&gt; family of vectorized string comparison instructions. With a control byte to specify options for their complex functionality, they are complicated enough to get their own subsection in the x86 ISR. Intel even provides a flow diagram for our viewing pleasure:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://jcdav.is/public/pcmpestri_flow.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Now that’s &lt;em&gt;really&lt;/em&gt; putting the C in CISC!&lt;/p&gt;
&lt;p&gt;The option bits for the control byte are specified as follows:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;-------0b 128-bit sources treated as 16 packed bytes.
-------1b 128-bit sources treated as 8 packed words.
------0-b Packed bytes/words are unsigned.
------1-b Packed bytes/words are signed.
----00--b Mode is equal any.
----01--b Mode is ranges.
----10--b Mode is equal each.
----11--b Mode is equal ordered.
---0----b IntRes1 is unmodified.
---1----b IntRes1 is negated (1’s complement).
--0-----b Negation of IntRes1 is for all 16 (8) bits.
--1-----b Negation of IntRes1 is masked by reg/mem validity.
-0------b Index of the least significant, set, bit is used
          (regardless of corresponding input element validity).
          IntRes2 is returned in least significant bits of XMM0.
-1------b Index of the most significant, set, bit is used
          (regardless of corresponding input element validity).
          Each bit of IntRes2 is expanded to byte/word.
0-------b This bit currently has no defined effect, should be 0.
1-------b This bit currently has no defined effect, should be 0.
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;sup&gt;1. If you want to learn more, Section 4.1 of the Instruction Set Reference covers these options in detail.&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;compareTo&lt;/code&gt; uses &lt;code&gt;0x19&lt;/code&gt;, which means doing the “equal each” (aka string comparison) operation across 8 unsigned words (thanks UTF-16!) with a negated result. This monster of an instruction takes in 4 registers of input: the 2 strings themselves as parameters, plus their lengths in &lt;code&gt;%rax&lt;/code&gt; and &lt;code&gt;%rdx&lt;/code&gt; (‘e’ meaning explicit length - pcmpistri &amp;amp; pcmpistrm instead look for terminating nulls). The result (the index generated from IntRes2) is placed in &lt;code&gt;%ecx&lt;/code&gt;. And just in case that wasn’t enough, &lt;code&gt;pcmpxstrx&lt;/code&gt; also reappropriate flags as well:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;CFlag – Reset if IntRes2 is equal to zero, set otherwise
ZFlag – Set if absolute-value of EDX is &amp;lt; 16 (8), reset otherwise
SFlag – Set if absolute-value of EAX is &amp;lt; 16 (8), reset otherwise
OFlag – IntRes2[0]
AFlag – Reset
PFlag – Reset
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;With all of out of our way, lets look at the main loop in detail with some setup before it for context:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;27&quot;&gt;
&lt;pre&gt;
&lt;code class=&quot;language-asm&quot; data-lang=&quot;asm&quot;&gt;&lt;span class=&quot;nl&quot;&gt;7fe3ed1159f6:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mov&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%eax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159f8:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;and&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0xfffffff8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%edx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed1159fd:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lea&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a01:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lea&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a05:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;neg&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a08:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;vmovdqu&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%xmm0&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a0d:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;vpcmpestri&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;$0x19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%xmm0&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a14:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jb&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a40&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a16:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;add&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rax&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a1a:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sub&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;$0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;%rdx&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;7fe3ed115a1e:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;jne&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0x00007fe3ed115a08&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Going in, &lt;code&gt;%rax%&lt;/code&gt; is the minimum of the strings’ lengths, and &lt;code&gt;%rdx&lt;/code&gt; is that minimum masked by &lt;code&gt;~0x7&lt;/code&gt; (so 8x the maximum number of iterations). It then bumps the pointers in the character arrays (&lt;code&gt;%rsi&lt;/code&gt; and &lt;code&gt;%rdi&lt;/code&gt;) by that many characters and then negates &lt;code&gt;%rax&lt;/code&gt;, so the indexing into the array in the main loop is actually backwards. After loading 8 characters of the first string into &lt;code&gt;%xmm0&lt;/code&gt;, it then does the comprison against 8 characters of the second, jumping out if &lt;code&gt;CFlag&lt;/code&gt; is set (which means the index of the differing character is in &lt;code&gt;%ecx&lt;/code&gt;), and then adjusts the 2 length registers and checks to see if this was the last iteration (which would make &lt;code&gt;%rdx&lt;/code&gt; 0). How does a negative number make a valid length? Oops, almost forgot to mention that &lt;code&gt;pcmpestri&lt;/code&gt; actually considers the lengths to be the absolute value:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;The length of each input is interpreted as being the absolute-value of the value in
the length register.
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Following the main loop, there is a fallthrough case to check the remaining characters when the minimum length isn’t a multiple of 8, and then the final case of diffing the lengths when the strings are identical up the shortest’s length. Phew!&lt;/p&gt;

&lt;p&gt;If this wasn’t complicated enough for you, have a quick gander at the &lt;a href=&quot;http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/cpu/x86/vm/macroAssembler_x86.cpp#l5456&quot;&gt;indexOf&lt;/a&gt; &lt;a href=&quot;http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/cpu/x86/vm/macroAssembler_x86.cpp#l5305&quot;&gt;implementations&lt;/a&gt; (there are 2, depending on the size of the matching string), which use control byte &lt;code&gt;0x0d&lt;/code&gt;, which does “equal ordered” (aka substring) matching.&lt;/p&gt;
&lt;p&gt;As always, if you are crazy enough to find wierd JVM internals interesting you should totally &lt;a href=&quot;https://twitter.com/jcdavis&quot;&gt;follow me on twitter&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 07 Jan 2018 07:20:34 +0000</pubDate>
<dc:creator>mpweiher</dc:creator>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://jcdav.is/2016/09/01/How-the-JVM-compares-your-strings/</dc:identifier>
</item>
</channel>
</rss>