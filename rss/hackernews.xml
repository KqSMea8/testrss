<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Detecting the use of &quot;curl | bash&quot; server-side</title>
<link>https://www.idontplaydarts.com/2016/04/detecting-curl-pipe-bash-server-side/</link>
<guid isPermaLink="true" >https://www.idontplaydarts.com/2016/04/detecting-curl-pipe-bash-server-side/</guid>
<description>&lt;p&gt;Installing software by piping from curl to bash is obviously &lt;a href=&quot;https://xkcd.com/1654/&quot; rel=&quot;nofollow&quot; target=&quot;new&quot;&gt;a bad idea&lt;/a&gt; and a knowledgable user will most likely check the content first. So wouldn't it be great if a malicious payload would only render when piped to bash? A few people have tried this before by checking for the curl user agent which is by no means fail safe - the user may simply curl the url on the commandline revealing your malicious code. Luckily the behaviour of curl (and wget) changes subtely when piped into bash. This allows an attacker to present two different versions of their script depending on the context :)&lt;/p&gt;
&lt;p&gt;Its not that the HTTP requests from curl when piped to bash look any different than those piped to stdout, in fact for all intents and purposes they are identical:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot;&gt;
&lt;pre&gt;
# curl -vv http://pluver.xqi.cc/setup.bash
* Hostname was NOT found in DNS cache
*   Trying 69.28.82.189...
* Connected to xqi.cc (69.28.82.189) port 80 (#0)
&amp;gt; GET /setup.sh HTTP/1.1
&amp;gt; User-Agent: curl/7.35.0
&amp;gt; Host: xqi.cc
&amp;gt; Accept: */*
&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The key difference is in time it takes for the contents of large http responses to be ingested by bash.&lt;/p&gt;
&lt;h2&gt;Passive detection using a short delay&lt;/h2&gt;
&lt;p&gt;Execution in bash is performed line by line and so the speed that bash can ingest data is limited by the speed of execution of the script. This means if we return a sleep at the start of our script the TCP send stream will pause while we wait for the sleep to execute. This pause can be detected and used to render different content streams.&lt;/p&gt;
&lt;p&gt;Unfortuneatly its not just a simple case of wrapping a socket.send(&quot;sleep 10&quot;) in a timer and waiting for a send call to block. The send and receive TCP streams in linux are buffered on a per socket basis, so we have to fill up these buffers before the call to send data will block. We know the buffer is full when the receiving client to replies to a packet with the Window Size flag set to 0 (&lt;a href=&quot;http://rtoodtoo.net/tcp-window-full-zero-window/&quot; rel=&quot;nofollow&quot; target=&quot;new&quot;&gt;Win=0 in wireshark&lt;/a&gt;).&lt;/p&gt;
&lt;h3&gt;Filling the TCP buffers&lt;/h3&gt;
&lt;p&gt;To detect a pause in execution we need to fill all the buffers before the pipe to bash. The flow of data from the HTTP response looks like this:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;TCP buffer flow chart&quot; src=&quot;https://www.idontplaydarts.com/images/tcp_buffers.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Both the send and receive buffer sizes on linux are &quot;auto tuned&quot; per socket, this means their size can vary (check /proc/sys/net/ipv4/tcp_rmem and /proc/sys/net/ipv4/tcp_wmem to see just how much). We can control the send buffer as its on the server side but we can't do anything about the receive buffer. By fixing the size of the send buffer we can reduce the overal variance in the amount of data we need to send before we receive a window size of 0 from the client. A smaller fixed sized send buffer helps to prevent the TCP receive buffer from growing.&lt;/p&gt;
&lt;p&gt;The bufer size can be set like so (87380 is the default for Ubunty 14.04 LTS)&lt;/p&gt;
&lt;div class=&quot;codehilite&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;n&quot;&gt;sck&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setsockopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SOL_SOCKET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SO_SNDBUF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;87380&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When tested with Ubuntu you need to send about 1mb of data to fill up the receive buffer - remove the restriction on the send buffer and this easily doubles. The question is what to fill the TCP buffer up with as a curl request without a pipe to bash will render in the console.&lt;/p&gt;
&lt;h3&gt;Hiding data from the terminal&lt;/h3&gt;
&lt;p&gt;The only character you can really use to fill the buffer is a null byte as it won't render in most consoles. It also wont render in chrome when the charset text/html is specified. As we dont know the content-length data is transfered with &lt;a href=&quot;https://en.wikipedia.org/wiki/Chunked_transfer_encoding&quot; rel=&quot;nofollow&quot; target=&quot;new&quot;&gt;chunked encoding&lt;/a&gt; with each chunk being a string of null bytes same size as the TCP send buffer.&lt;/p&gt;
&lt;p&gt;In the end we have an HTTP server that generates responses looking like this:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;nt&quot;&gt;HTTP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;OK&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;Host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;xqi&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.cc&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;Transfer-type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;chunked&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;Content-type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;us-ascii&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;10&lt;/span&gt;                                &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;chunk&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;#1&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;0x0000000000000000000000000000000000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;chunk&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;#2&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;0x0000000000000000000000000000000000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;chunk&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;#3&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;0x0000000000000000000000000000000000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;chunk&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;#4&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Detecting bash&lt;/h3&gt;
&lt;p&gt;If you chart the time between each chunk is sent and do this for both scenarios it becomes easy to determine which outputs were piped through bash. For &lt;em&gt;curl | bash&lt;/em&gt; you can see a clear jump of just under 10 seconds when the sleep command is executed (the exact location varies according to the size of the tcp receive buffer on the client side).&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;https://www.idontplaydarts.com/images/tcpchart.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;This works well and as long as the connection between the server and the client are stable you could happily reduce the sleep command to less than a second, you can also disguise the delay as another slow command (ping, find etc..). The exact time the command takes to run doesn't matter as long as the server is able to detect a sudden jump in the cumulative transmission time.&lt;/p&gt;
&lt;p&gt;This distinctive pattern can be identified by taking the differences in times between chunk transmissions, finding the maximum value, removing it from the list, &lt;a href=&quot;https://en.wikipedia.org/wiki/Variance&quot; rel=&quot;nofollow&quot; target=&quot;new&quot;&gt;calculating the varience&lt;/a&gt; of the remaining data and ensuring that the both the varience is low (this implies a stable connection) and the maximum difference is high. If this pattern is identified you can send another http chunk containing your malicious script.&lt;/p&gt;
&lt;h2&gt;Demo&lt;/h2&gt;
&lt;p&gt;Putting everything together and you end up with a small python based server that can deliver different payloads based on what the content is piped to (this also works with &quot;&lt;em&gt;wget -o /dev/null -O -&lt;/em&gt;&quot;). If for some reason the connection is unreliable (the variance is high) or you request the file via a browser the non-malicious payload will display:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;Demo (animated GIF)&quot; src=&quot;https://www.idontplaydarts.com/images/bashmov.gif&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.idontplaydarts.com/static/bashserver.zip&quot;&gt;Download source code&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Detecting a server detecting curl | bash&lt;/h2&gt;
&lt;p&gt;So how do you detect if a server is doing this? If the detection is done via a simple delay then you could try either looking for large scripts containing lots of padding or do:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot;&gt;
&lt;pre&gt;
curl https://example.com/setup.bash &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;sleep 3&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; cat&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, this is by no means fool proof as an attacker can use other methods (e.g. http/dns callbacks) or set multiple passive delays. The better solution is never to pipe untrusted data streams into bash. If you still want to run untrusted bash scripts a better approach is to pipe the contents of URL into a file, review the contents on disk and only then execute it.&lt;/p&gt;
</description>
<pubDate>Sun, 29 Jul 2018 01:44:54 +0000</pubDate>
<dc:creator>rubyn00bie</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.idontplaydarts.com/2016/04/detecting-curl-pipe-bash-server-side/</dc:identifier>
</item>
<item>
<title>TSA is tracking regular travelers like terrorists in secret surveillance program</title>
<link>http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/?p1=HP_SpecialTSA</link>
<guid isPermaLink="true" >http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/?p1=HP_SpecialTSA</guid>
<description>&lt;p class=&quot;story__graf&quot;&gt;Federal air marshals have begun following ordinary US citizens not suspected of a crime or on any terrorist watch list and collecting extensive information about their movements and behavior under a new domestic surveillance program that is drawing criticism from within the agency.&lt;/p&gt;&lt;p class=&quot;story__graf&quot;&gt;The previously undisclosed program, called “Quiet Skies,” specifically targets travelers who “are not under investigation by any agency and are not in the Terrorist Screening Data Base,” according to a Transportation Security Administration bulletin in March.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;The internal bulletin describes the program’s goal as thwarting threats to commercial aircraft “posed by unknown or partially known terrorists,” and gives the agency broad discretion over which air travelers to focus on and how closely they are tracked.&lt;/p&gt;
&lt;aside class=&quot;story__photo--container&quot; readability=&quot;27&quot;&gt;&lt;img src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/airport_delay_placeholder.jpg&quot; data-src=&quot;assets/img/airport_delay_800.jpg&quot; alt=&quot;Silhouette of a man walking in an airport while passengers are seen waiting in the background&quot; class=&quot;lazyload&quot;/&gt;&lt;p&gt;Brynn Anderson/Associated Press&lt;/p&gt;
&lt;/aside&gt;&lt;p class=&quot;story__graf&quot;&gt;But some air marshals, in interviews and internal communications shared with the Globe, say the program has them tasked with shadowing travelers who appear to pose no real threat — a businesswoman who happened to have traveled through a Mideast hot spot, in one case; a Southwest Airlines flight attendant, in another; a fellow federal law enforcement officer, in a third.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;It is a time-consuming and costly assignment, they say, which saps their ability to do more vital law enforcement work.&lt;/p&gt;


&lt;p class=&quot;story__graf&quot;&gt;TSA officials, in a written statement to the Globe, broadly defended the agency’s efforts to deter potential acts of terror. But the agency declined to discuss whether Quiet Skies has intercepted any threats, or even to confirm that the program exists.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Release of such information “would make passengers less safe,” spokesman James Gregory said in the statement.&lt;/p&gt;
&lt;aside class=&quot;story__doc-aside&quot;&gt;&lt;img src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/docs/doc3_placeholder.jpg&quot; data-src=&quot;assets/docs/doc3_400.jpg&quot; alt=&quot;&quot; class=&quot;lazyload&quot;/&gt;&lt;a href=&quot;https://assets.documentcloud.org/documents/4620696/Doc-Checklist-2.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Read the checklist&lt;/a&gt;&lt;/aside&gt;&lt;p class=&quot;story__graf&quot;&gt;Already under Quiet Skies, thousands of unsuspecting Americans have been subjected to targeted airport and inflight surveillance, carried out by small teams of armed, undercover air marshals, government documents show. The teams document whether passengers fidget, use a computer, have a “jump” in their Adam’s apple or a “cold penetrating stare,” among other behaviors, according to the records.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Air marshals note these observations — minute-by-minute — in two separate reports and send this information back to the TSA.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;All US citizens who enter the country are automatically screened for inclusion in Quiet Skies — their travel patterns and affiliations are checked and their names run against a terrorist watch list and other databases, according to agency documents.&lt;/p&gt;
&lt;div class=&quot;observations&quot; readability=&quot;15&quot;&gt;
&lt;h3 class=&quot;observations__hed&quot;&gt;Explore the behavior checklist&lt;/h3&gt;
&lt;div class=&quot;observations__container&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.collapse.first&quot; readability=&quot;8&quot;&gt;
&lt;h4&gt;1. Subject was abnormally aware of surroundings&lt;/h4&gt;
&lt;p class=&quot;observations__fineprint&quot;&gt;&lt;small&gt;(If observed, check any that apply below) | Y N Unknown&lt;/small&gt;&lt;/p&gt;
&lt;div class=&quot;observations__list first collapse show&quot;&gt;
&lt;ul&gt;&lt;li class=&quot;observations__list--item&quot;&gt;Reversing or changing directions and/or stopping while in transit through the airport&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Attempting to change appearance by changing clothes, shaving etc. while in the airport or on the plane&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Using the reflection in storefront windows to identify surveillance&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Observing the boarding gate area from afar&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Boarded last&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Observing other people who appear to be observing FAM team and/or subject&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;observations__container&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.collapse.second&quot; readability=&quot;8&quot;&gt;
&lt;h4&gt;2. Subject exhibited Behavioral Indicators&lt;/h4&gt;
&lt;p class=&quot;observations__fineprint&quot;&gt;&lt;small&gt;(If observed, check any that apply below) | Y N Unknown&lt;/small&gt;&lt;/p&gt;
&lt;div class=&quot;observations__list second collapse&quot;&gt;
&lt;ul&gt;&lt;li class=&quot;observations__list--item&quot;&gt;Excessive fidgeting&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Excessive perspiration&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Facial flushing&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Rapid eye blinking&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;“Adam’s apple jump”&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Rubbing/wringing of hands&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Strong body odor&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Sweaty palms&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Trembling&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Cold penetrating stare&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Exaggerated emotions&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Gripping/“White knuckling” bags&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Wide open, staring eyes&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Face touching&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Other&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;observations__container&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.collapse.third&quot; readability=&quot;8&quot;&gt;
&lt;h4&gt;3. Subject’s appearance was different from information provided&lt;/h4&gt;
&lt;p class=&quot;observations__fineprint&quot;&gt;&lt;small&gt;(If yes, check any that apply below) | Y N Unknown&lt;/small&gt;&lt;/p&gt;
&lt;div class=&quot;observations__list third collapse&quot;&gt;
&lt;ul&gt;&lt;li class=&quot;observations__list--item&quot;&gt;Lost weight&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Gained weight&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Balding&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Graying&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Hair length/style change&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Goatee&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Visible Tattoos (Describe)&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Visible Piercings (Describe)&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Beard&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Mustache&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Apparent Altered Experience (Explain)&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Clean shaven&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Other&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;observations__container&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.collapse.fourth&quot; readability=&quot;8&quot;&gt;
&lt;h4&gt;4. Subject slept during the flight&lt;/h4&gt;
&lt;p class=&quot;observations__fineprint&quot;&gt;&lt;small&gt;(If observed, check any that apply below) | Y N Unknown&lt;/small&gt;&lt;/p&gt;
&lt;div class=&quot;observations__list fourth collapse&quot;&gt;
&lt;ul&gt;&lt;li class=&quot;observations__list--item&quot;&gt;Subject slept during most of the flight&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Subject slept briefly&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;observations__container&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.collapse.fifth&quot; readability=&quot;8&quot;&gt;
&lt;h4&gt;5. General Observations&lt;/h4&gt;
&lt;p class=&quot;observations__fineprint&quot;&gt;&lt;small&gt;(Provide detailed descriptions of any electronic devices in subject’s possession in AAR) | Y N Unknown&lt;/small&gt;&lt;/p&gt;
&lt;div class=&quot;observations__list fifth collapse&quot;&gt;
&lt;ul&gt;&lt;li class=&quot;observations__list--item&quot;&gt;Checked baggage?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;In possession of cell/smartphone?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;In possession of multiple phones?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Used phone to talk?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Used phone to text?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;In possession of computer?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Seated in first/business class?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Used lavatory?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;In possession of any unusual items?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Traveled with others?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Met with others in the airport?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Engaged in conversation with others?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Subject initiated conversation with FAM?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Carryon baggage?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Other notable activity?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Subject engaged in “more than casual contact” with airport or airline employee?&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;observations__container&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.collapse.sixth&quot; readability=&quot;10&quot;&gt;
&lt;h4&gt;6. For Domestic Arrivals Only&lt;/h4&gt;
&lt;p class=&quot;observations__fineprint&quot;&gt;&lt;small&gt;(If possible, provide identifiers (license plate, vehicle description) of pick up vehicle in AAR) | Y N Unknown&lt;/small&gt;&lt;/p&gt;
&lt;div class=&quot;observations__list sixth collapse&quot;&gt;
&lt;ul&gt;&lt;li class=&quot;observations__list--item&quot;&gt;Picked up at curbside shuttle, taxi, bus or public transit?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Picked up at curbside by private vehicle?&lt;/li&gt;
&lt;li class=&quot;observations__list--item&quot;&gt;Obtained rental car for transportation&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;story__graf&quot;&gt;The program relies on 15 rules to screen passengers, according to a May agency bulletin, and the criteria appear broad: “rules may target” people whose travel patterns or behaviors match those of known or suspected terrorists, or people “possibly affiliated” with someone on a watch list.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;The full list of criteria for Quiet Skies screening was unavailable to the Globe, and is a mystery even to the air marshals who field the surveillance requests the program generates. TSA declined to comment.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;When someone on the Quiet Skies list is selected for surveillance, a team of air marshals is placed on the person’s next flight. The team receives a file containing a photo and basic information — such as date and place of birth — about the target, according to agency documents.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;The teams track citizens on domestic flights, to or from dozens of cities big and small — such as Boston and Harrisburg, Pa., Washington, D.C., and Myrtle Beach, S.C. — taking notes on whether travelers use a phone, go to the bathroom, chat with others, or change clothes, according to documents and people within the department.&lt;/p&gt;
&lt;div class=&quot;story__airportmap&quot; readability=&quot;31.5&quot;&gt;
&lt;div class=&quot;story__graphicheds&quot; readability=&quot;33&quot;&gt;

&lt;p class=&quot;bg-chartIntro benton-regular&quot;&gt;Air marshals are following citizens to or from cities big and small, including these airports&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-airportmap-box&quot; class=&quot;ai2html&quot;&gt;
&lt;div id=&quot;bg-airportmap-big&quot; class=&quot;bg-artboard bg-artboard-v4&quot; data-aspect-ratio=&quot;1.834&quot; data-min-width=&quot;720&quot;&gt;&lt;img id=&quot;bg-airportmap-big-img&quot; class=&quot;bg-aiImg&quot; src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/airportmap-big.png&quot;/&gt;
&lt;div id=&quot;bg-ai0-2&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Minneapolis&lt;/p&gt;
&lt;/div&gt;




&lt;div id=&quot;bg-ai0-7&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p class=&quot;bg-pstyle0&quot;&gt;Harrisburg&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai0-8&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;San Francisco&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai0-9&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Philadelphia&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai0-10&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p class=&quot;bg-pstyle0&quot;&gt;Washington, D.C.&lt;/p&gt;
&lt;/div&gt;



&lt;div id=&quot;bg-ai0-14&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Myrtle Beach&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai0-15&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Los Angeles&lt;/p&gt;
&lt;/div&gt;



&lt;/div&gt;
&lt;div id=&quot;bg-airportmap-medium&quot; class=&quot;bg-artboard bg-artboard-v4&quot; data-aspect-ratio=&quot;1.846&quot; data-min-width=&quot;600&quot; data-max-width=&quot;719&quot;&gt;&lt;img id=&quot;bg-airportmap-medium-img&quot; class=&quot;bg-aiImg&quot; src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/airportmap-medium.png&quot;/&gt;
&lt;div id=&quot;bg-ai1-2&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p class=&quot;bg-pstyle0&quot;&gt;Minneapolis&lt;/p&gt;
&lt;/div&gt;




&lt;div id=&quot;bg-ai1-7&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p class=&quot;bg-pstyle0&quot;&gt;Harrisburg&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai1-8&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;San Francisco&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai1-9&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Philadelphia&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai1-10&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p class=&quot;bg-pstyle0&quot;&gt;Washington, D.C.&lt;/p&gt;
&lt;/div&gt;


&lt;div id=&quot;bg-ai1-13&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Myrtle Beach&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai1-14&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Los Angeles&lt;/p&gt;
&lt;/div&gt;



&lt;/div&gt;
&lt;div id=&quot;bg-airportmap-tablet&quot; class=&quot;bg-artboard bg-artboard-v4&quot; data-aspect-ratio=&quot;1.861&quot; data-min-width=&quot;460&quot; data-max-width=&quot;599&quot;&gt;&lt;img id=&quot;bg-airportmap-tablet-img&quot; class=&quot;bg-aiImg&quot; src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/airportmap-tablet.png&quot;/&gt;
&lt;div id=&quot;bg-ai2-2&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p class=&quot;bg-pstyle0&quot;&gt;Minneapolis&lt;/p&gt;
&lt;/div&gt;



&lt;div id=&quot;bg-ai2-6&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;San Francisco&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai2-7&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p class=&quot;bg-pstyle0&quot;&gt;Washington, D.C.&lt;/p&gt;
&lt;/div&gt;



&lt;div id=&quot;bg-ai2-11&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Myrtle Beach&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;bg-ai2-12&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Los Angeles&lt;/p&gt;
&lt;/div&gt;



&lt;/div&gt;
&lt;div id=&quot;bg-airportmap-mobile&quot; class=&quot;bg-artboard bg-artboard-v4&quot; data-aspect-ratio=&quot;1.808&quot; data-min-width=&quot;330&quot; data-max-width=&quot;459&quot;&gt;&lt;img id=&quot;bg-airportmap-mobile-img&quot; class=&quot;bg-aiImg&quot; src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/airportmap-mobile.png&quot;/&gt;
&lt;div id=&quot;bg-ai3-2&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Minneapolis&lt;/p&gt;
&lt;/div&gt;




&lt;div id=&quot;bg-ai3-7&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;San Francisco&lt;/p&gt;
&lt;/div&gt;


&lt;div id=&quot;bg-ai3-10&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Myrtle&lt;/p&gt;
&lt;p&gt;Beach&lt;/p&gt;
&lt;/div&gt;





&lt;/div&gt;
&lt;div id=&quot;bg-airportmap-xs&quot; class=&quot;bg-artboard bg-artboard-v4&quot; data-aspect-ratio=&quot;1.804&quot; data-min-width=&quot;270&quot; data-max-width=&quot;329&quot;&gt;&lt;img id=&quot;bg-airportmap-xs-img&quot; class=&quot;bg-aiImg&quot; src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/airportmap-xs.png&quot;/&gt;
&lt;div id=&quot;bg-ai4-2&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Minneapolis&lt;/p&gt;
&lt;/div&gt;



&lt;div id=&quot;bg-ai4-6&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;San Francisco&lt;/p&gt;
&lt;/div&gt;




&lt;div id=&quot;bg-ai4-11&quot; class=&quot;bg-Layer_1 bg-aiAbs&quot;&gt;
&lt;p&gt;Myrtle&lt;/p&gt;
&lt;p&gt;Beach&lt;/p&gt;
&lt;/div&gt;




&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;story__graf&quot;&gt;Quiet Skies represents a major departure for TSA. Since the Sept. 11 attacks, the agency has traditionally placed armed air marshals on routes it considered potentially higher risk, or on flights with a passenger on a terrorist watch list. Deploying air marshals to gather intelligence on civilians not on a terrorist watch list is a new assignment, one that some air marshals say goes beyond the mandate of the US Federal Air Marshal Service. Some also worry that such domestic surveillance might be illegal. Between 2,000 and 3,000 men and women, so-called flying FAMs, work the skies.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Since this initiative launched in March, dozens of air marshals have raised concerns about the Quiet Skies program with senior officials and colleagues, sought legal counsel, and expressed misgivings about the surveillance program, according to interviews and documents reviewed by the Globe.&lt;/p&gt;
&lt;div class=&quot;globe-tips__link&quot; readability=&quot;5.75&quot;&gt;
&lt;p class=&quot;globe-tips__copy benton-cond-regular&quot;&gt;Send The Boston Globe a confidential news tip&lt;/p&gt;
&lt;a href=&quot;https://apps.bostonglobe.com/spotlight/tips/&quot; class=&quot;globe-tips__btn benton-bold&quot; target=&quot;_blank&quot; rel=&quot;noreferrer noopener&quot;&gt;Send a tip&lt;/a&gt;&lt;/div&gt;
&lt;p class=&quot;story__graf&quot;&gt;“What we are doing [in Quiet Skies] is troubling and raising some serious questions as to the validity and legality of what we are doing and how we are doing it,” one air marshal wrote in a text message to colleagues.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;The TSA, while declining to discuss details of the Quiet Skies program, did address generally how the agency pursues its work.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;“FAMs [federal air marshals] may deploy on flights in furtherance of the TSA mission to ensure the safety and security of passengers, crewmembers, and aircraft throughout the aviation sector,” spokesman James Gregory said in an e-mailed statement. “As its assessment capabilities continue to enhance, FAMS leverages multiple internal and external intelligence sources in its deployment strategy.”&lt;/p&gt;


&lt;div class=&quot;story__video-container&quot; data-load=&quot;&quot; readability=&quot;32&quot;&gt;

&lt;p&gt;Scott LaPierre/Globe Staff&lt;/p&gt;
&lt;/div&gt;
&lt;p class=&quot;story__graf&quot;&gt;Agency documents show there are about 40 to 50 Quiet Skies passengers on domestic flights each day. On average, air marshals follow and surveil about 35 of them.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;In late May, an air marshal complained to colleagues about having just surveilled a working Southwest Airlines flight attendant as part of a Quiet Skies mission. “Cannot make this up,” the air marshal wrote in a message.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;One colleague replied: “jeez we need to have an easy way to document this nonsense. Congress needs to know that it’s gone from bad to worse.”&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Experts on civil liberties called the Quiet Skies program worrisome and potentially illegal.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;“These revelations raise profound concerns about whether TSA is conducting pervasive surveillance of travelers without any suspicion of actual wrongdoing,” said Hugh Handeyside, senior staff attorney with the American Civil Liberties Union’s National Security Project.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;“If TSA is using proxies for race or religion to single out travelers for surveillance, that could violate the travelers’ constitutional rights. These concerns are all the more acute because of TSA’s track record of using unreliable and unscientific techniques to screen and monitor travelers who have done nothing wrong.”&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;George Washington University law professor Jonathan Turley said Quiet Skies touches on several sensitive legal issues and appears to fall into a gray area of privacy law.&lt;/p&gt;
&lt;aside class=&quot;pquote&quot; readability=&quot;4.5&quot;&gt;&lt;blockquote readability=&quot;12&quot;&gt;
&lt;p class=&quot;pull-quote-title&quot;&gt;If this was about foreign citizens, the government would have considerable power. But if it’s US citizens — US citizens don’t lose their rights simply because they are in an airplane at 30,000 feet.&lt;/p&gt;
&lt;p class=&quot;pull-quote-by&quot;&gt;— Jonathan Turley, George Washington University law professor&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/aside&gt;&lt;p class=&quot;story__graf&quot;&gt;“If this was about foreign citizens, the government would have considerable power. But if it’s US citizens — US citizens don’t lose their rights simply because they are in an airplane at 30,000 feet,” Turley said. “There may be indeed constitutional issues here depending on how restrictive or intrusive these measures are.”&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Turley, who has testified before Congress on privacy protection, said the issue could trigger a “transformative legal fight.”&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Geoffrey Stone, a University of Chicago law professor chosen by President Obama in 2013 to help review foreign intelligence surveillance programs, said the program could pass legal muster if the selection criteria are sufficiently broad. But if the program targets by nationality or race, it could violate equal protection rights, Stone said.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Asked about the legal basis for the Quiet Skies program, Gregory, the agency’s spokesman, said TSA “maintains a robust engagement with congressional committees to ensure maximum support and awareness” of its effort to keep the aviation sector safe. He declined to comment further.&lt;/p&gt;
&lt;aside class=&quot;story__photo--container&quot; readability=&quot;27&quot;&gt;&lt;img src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/top_passengers_placeholder.jpg&quot; data-src=&quot;assets/img/top_passengers_800.jpg&quot; alt=&quot;A view from the top of dozens of passengers walking in an airport terminal.&quot; class=&quot;lazyload&quot;/&gt;&lt;p&gt;Chip Somodevilla/Getty Images&lt;/p&gt;
&lt;/aside&gt;&lt;p class=&quot;story__graf&quot;&gt;Beyond the legalities, some air marshals believe Quiet Skies is not a sound use of limited agency resources.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Several air marshals, who spoke on the condition of anonymity because they are not authorized to speak publicly, told the Globe the program wastes taxpayer dollars and makes the country less safe because attention and resources are diverted away from legitimate, potential threats. The US Federal Air Marshal Service, which is part of TSA and falls under the Department of Homeland Security, has a mandate to protect airline passengers and crew against the risk of criminal and terrorist violence.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;John Casaretti, president of the Air Marshal Association, said in a statement: “The Air Marshal Association believes that missions based on recognized intelligence, or in support of ongoing federal investigations, is the proper criteria for flight scheduling. Currently the Quiet Skies program does not meet the criteria we find acceptable.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;“The American public would be better served if these [air marshals] were instead assigned to airport screening and check in areas so that active shooter events can be swiftly ended, and violations of federal crimes can be properly and consistently addressed.”&lt;/p&gt;
&lt;aside class=&quot;pquote&quot; readability=&quot;3&quot;&gt;&lt;blockquote readability=&quot;9&quot;&gt;
&lt;p class=&quot;pull-quote-title&quot;&gt;These revelations raise profound concerns about whether TSA is conducting pervasive surveillance of travelers without any suspicion of actual wrongdoing.&lt;/p&gt;
&lt;p class=&quot;pull-quote-by&quot;&gt;— Hugh Handeyside, American Civil Liberties Union’s National Security Project&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/aside&gt;&lt;p class=&quot;story__graf&quot;&gt;TSA has come under increased scrutiny from Congress since a 2017 Government Accountability Office report raised questions about its management of the Federal Air Marshal Service. Requested by Congress, the report noted that the agency, which spent $800 million in 2015, has “no information” on its effectiveness in deterring attacks.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Late last year, Representative Jody Hice, a Georgia Republican, introduced a bill that would require the Federal Air Marshal Service to better incorporate risk assessment in its deployment strategy, provide detailed metrics on flight assignments, and report data back to Congress.&lt;/p&gt;


&lt;p class=&quot;story__graf&quot;&gt;Without this information, Congress, TSA, and the Department of Homeland Security “are not able to effectively conduct oversight” of the air marshals, Hice wrote in a letter to colleagues.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;“With threats coming at us left and right, our focus should be on implementing effective, evidence-based means of deterring, detecting, and disrupting plots hatched by our enemies.”&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Hice’s bill, the “Strengthening Aviation Security Act of 2017,” passed the House and is awaiting consideration by the full Senate.&lt;/p&gt;
&lt;aside class=&quot;story__doc-aside&quot;&gt;&lt;img src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/docs/doc-full_placeholder.jpg&quot; data-src=&quot;assets/docs/doc-full_400.jpg&quot; alt=&quot;&quot; class=&quot;lazyload&quot;/&gt;&lt;a href=&quot;https://assets.documentcloud.org/documents/4620695/Doc-Bulletin-2.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Read the bulletin&lt;/a&gt;&lt;/aside&gt;&lt;p class=&quot;story__graf&quot;&gt;The Globe, in its review of Quiet Skies, examined numerous TSA internal bulletins, directives, and internal communications, and interviewed more than a dozen people with direct knowledge of the program.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;The purpose of Quiet Skies is to decrease threats by “unknown or partially known terrorists; and to identify and provide enhanced screening to higher risk travelers before they board aircraft based on analysis of terrorist travel trends, tradecraft and associations,” according to a TSA internal bulletin.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;The criteria for surveillance appear fluid. Internal agency e-mails show some confusion about the program’s parameters and implementation.&lt;/p&gt;

&lt;p class=&quot;story__graf&quot;&gt;A bulletin in May notes that travelers entering the United States may be added to the Quiet Skies watch list if their “international travel patters [sic] or behaviors match the travel routing and tradecraft of known or suspected terrorists” or “are possibly affiliated with Watch Listed suspects.”&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Travelers remain on the Quiet Skies watch list “for up to 90 days or three encounters, whichever comes first, after entering the United States,” agency documents show.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Travelers are not notified when they are placed on the watch list or have their activity and behavior monitored.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;Quiet Skies surveillance is an expansion of a long-running practice in which federal air marshals are assigned to surveil the subject of an open FBI terrorism investigation.&lt;/p&gt;


&lt;p class=&quot;story__graf&quot;&gt;In such assignments, air marshal reports are relayed back to the FBI or another outside law enforcement agency. In Quiet Skies, these same reports are completed in the same manner but stay within TSA, agency documents show, and details are shared with outside agencies only if air marshals observe “significant derogatory information.”&lt;/p&gt;
&lt;aside class=&quot;story__photo--container&quot; readability=&quot;27&quot;&gt;&lt;img src=&quot;http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/plane_takeoff_placeholder.jpg&quot; data-src=&quot;assets/img/plane_takeoff_800.jpg&quot; alt=&quot;Front view of a plane taking off from Boston Logan airport with residential buildings in the background.&quot; class=&quot;lazyload&quot;/&gt;&lt;p&gt;Pat Greenhouse/Globe Staff&lt;/p&gt;
&lt;/aside&gt;&lt;p class=&quot;story__graf&quot;&gt;According to a TSA bulletin, the program may target people who have spent a certain amount of time in one or more specific countries or whose reservation information includes e-mail addresses or phone numbers associated to suspects on a terrorism watch list.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;The bulletin does not list the specific countries, but air marshals have been advised in several instances to follow passengers because of past travel to Turkey, according to people with direct knowledge of the program.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;One air marshal described an assignment to conduct a Quiet Skies mission on a young executive from a major company.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;“Her crime apparently was she flew to Turkey in the past,” the air marshal said, noting that many international companies have executives travel through Turkey.&lt;/p&gt;
&lt;p class=&quot;story__graf&quot;&gt;“According to the government’s own [Department of Justice] standards there is no cause to be conducting these secret missions.”&lt;/p&gt;
&lt;p class=&quot;story__graf final&quot;&gt;Jana Winter can be reached at &lt;a href=&quot;mailto:jana.winter@globe.com&quot;&gt;jana.winter@globe.com&lt;/a&gt; and on Twitter &lt;a href=&quot;https://twitter.com/JanaWinter&quot; rel=&quot;noreferrer noopener&quot;&gt;@JanaWinter&lt;/a&gt;. This investigation was made possible through the Spotlight Investigative Journalism Fellowship, a social impact initiative of &lt;a href=&quot;https://www.participantmedia.com/&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Participant Media&lt;/a&gt;. For more, go to &lt;a href=&quot;https://www.spotlightfellowship.com/&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;www.spotlightfellowship.com&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>Sun, 29 Jul 2018 00:13:19 +0000</pubDate>
<dc:creator>Anechoic</dc:creator>
<og:type>article</og:type>
<og:title>TSA is tracking regular travelers like terrorists in secret surveillance program</og:title>
<og:description>Air marshals are conducting a new domestic surveillance program, tracking people as they fly and move through airports. It might be illegal.</og:description>
<og:url>https://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies</og:url>
<og:image>https://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/airport_delay_1200.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/?p1=HP_SpecialTSA</dc:identifier>
</item>
<item>
<title>Administrative Purgatory</title>
<link>https://daniel.haxx.se/blog/2018/07/28/administrative-purgatory/</link>
<guid isPermaLink="true" >https://daniel.haxx.se/blog/2018/07/28/administrative-purgatory/</guid>
<description>&lt;blockquote&gt;
&lt;p&gt; your case is still going through administrative processing and we don't know when that process will be completed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Last year&lt;/strong&gt; I was &lt;a href=&quot;https://daniel.haxx.se/blog/2017/06/28/denied-entry/&quot;&gt;denied&lt;/a&gt; to go to the US when I was about to travel to San Francisco. Me and my employer's legal team never got answers as to &lt;em&gt;why&lt;/em&gt; this happened so I've personally tried to convince myself it was all because of some human screw-up. Because why would they suddenly block me? I've traveled to the US almost a dozen times over the years.&lt;/p&gt;
&lt;p&gt;The fact that there was no reason or explanation given makes any theory as likely as the next. Whatever we think or guess might have happened can be true. Or not. We will probably never know. And I've been told a &lt;strong&gt;lot&lt;/strong&gt; of different theories.&lt;/p&gt;
&lt;h2&gt;Denied again&lt;/h2&gt;
&lt;p&gt;In early April 2018 I applied for ESTA &lt;em&gt;again&lt;/em&gt; to go to San Francisco in mid June for another Mozilla All Hands conference and... got denied. The craziness continues. This also ruled out some of the theories from last year that it was just some human error by the airline or similar...&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/04/ESTA-travel-not-authorized.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-11101&quot; src=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/04/ESTA-travel-not-authorized-1200x857.png&quot; alt=&quot;&quot; width=&quot;474&quot; height=&quot;339&quot; srcset=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/04/ESTA-travel-not-authorized-1200x857.png 1200w, https://daniel.haxx.se/blog/wp-content/uploads/2018/04/ESTA-travel-not-authorized-200x143.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2018/04/ESTA-travel-not-authorized-450x321.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2018/04/ESTA-travel-not-authorized-768x548.png 768w, https://daniel.haxx.se/blog/wp-content/uploads/2018/04/ESTA-travel-not-authorized.png 1507w&quot; sizes=&quot;(max-width: 474px) 100vw, 474px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As seen on the screenshot, this decision has no expire date... While they don't provide any motivation for not accepting me, this result makes it perfectly clear that it wasn't just a mistake last year. It makes me view last year with different eyes.&lt;/p&gt;
&lt;p&gt;Put in this situation, I activated plan B.&lt;/p&gt;
&lt;h2&gt;Plan B&lt;/h2&gt;
&lt;p&gt;I then applied for a &quot;real&quot; non-immigrant visa - even though it feels that having been denied ESTA probably puts me in a disadvantage for that as well. Applying for this visa means filling in a 10-something-page &quot;DS-160&quot; form online on a site that sometimes takes minutes just to display the next page in the form where they ask for a lot of personal details. After finally having conquered that obstacle, I paid the 160 USD fee and scheduled an appointment to appear physically at the US embassy in Sweden.&lt;/p&gt;
&lt;p&gt;I acquired an &quot;extraction of the population register&quot; (&quot;personbevis&quot; in Swedish) from the Swedish tax authorities - as required (including personal details of my parents and siblings), I got myself a new mugshot printed on photo paper and was lucky enough to find a date for an appointment not too far into the future.&lt;/p&gt;
&lt;h2&gt;Appointment&lt;/h2&gt;
&lt;p&gt;I spent the better part of a fine Tuesday morning in different waiting lines at my local US embassy where I eventually was called up to a man at a counter behind a window. I was fingerprinted, handed over my papers and told the clerk I have no idea why I was denied ESTA when asked, and no, I have not been on vacation in Iraq, Iran or Sudan. The clerk game me the impression that's the sort of thing that is the common reason for not getting ESTA.&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignright wp-image-11185&quot; src=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/05/512px-Firefox_Logo_2017-200x200.png&quot; alt=&quot;&quot; width=&quot;122&quot; height=&quot;122&quot; srcset=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/05/512px-Firefox_Logo_2017-200x200.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2018/05/512px-Firefox_Logo_2017-450x450.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2018/05/512px-Firefox_Logo_2017.png 512w&quot; sizes=&quot;(max-width: 122px) 100vw, 122px&quot;/&gt;When I answered the interviewer's question that I work for Mozilla, he responded &quot;Aha, Firefox?&quot; - which brightened up my moment a little.&lt;/p&gt;
&lt;p&gt;Apparently the process is then supposed to take &quot;several weeks&quot; until I get to know anything more. I explained that I needed my passport in three weeks (for another trip) and he said he didn't expect them to be done that quickly.  Therefore I got the passport back while they process my application and I'm expected to mail it to them when they ask for it.&lt;/p&gt;
&lt;h2&gt;The next form&lt;/h2&gt;
&lt;p&gt;When I got back home again, I got an email from &quot;the visa unit&quot; asking me to fill in another form (in the shape of a Word document). And what a form it is! It might be called &quot;OMB 1405-0226&quot; and has this fancy title:&lt;/p&gt;
&lt;p&gt;&quot;SUPPLEMENTAL QUESTIONS FOR VISA APPLICANTS&quot;&lt;/p&gt;
&lt;p&gt;Among other things it requires me to provide info about &lt;em&gt;all&lt;/em&gt; trips abroad (with dates and duration) I've done over the &lt;em&gt;last 15 years&lt;/em&gt;. What aliases I use on social media sites (hello mr US visa agent, how do you like this post so far?), every physical address I've lived at in the last 15 years, information about all my employers the last 15 years and every email address I've used during the last 5 years.&lt;/p&gt;
&lt;p&gt;It took me many hours digging through old calendars, archives and memories and asking around in order to fill this in properly. (&quot;hey that company trip we did to Germany back in 2005, can you remember the dates?&quot;) As a side-note: it turns out I've been in the US no less than nine times the last fifteen years. In total I managed to list sixty-five different trips abroad for this period.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/04/travel-history.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-11108&quot; src=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/04/travel-history-1200x263.png&quot; alt=&quot;&quot; width=&quot;474&quot; height=&quot;104&quot; srcset=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/04/travel-history-1200x263.png 1200w, https://daniel.haxx.se/blog/wp-content/uploads/2018/04/travel-history-200x44.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2018/04/travel-history-450x99.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2018/04/travel-history-768x168.png 768w, https://daniel.haxx.se/blog/wp-content/uploads/2018/04/travel-history.png 1313w&quot; sizes=&quot;(max-width: 474px) 100vw, 474px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;How do I submit my filled-in form, with all these specific and very private details from my life for the last 15 years, back to &quot;the visa unit&quot;? By email. Good old insecure, easy to snoop on, email! At least I'm using my own mail server (and it is configured to prefer TLS for connections) but that's a small comfort.&lt;/p&gt;
&lt;h2&gt;Is it worth it?&lt;/h2&gt;
&lt;p&gt;This is a very time and energy consuming process - I understand why this puts people off and simply make them decide its not worth it to go there. And of course I understand that I'm in a lucky position where I've not had to deal with this much in the past.&lt;/p&gt;
&lt;p&gt;I have many friends and contacts in the US in both my personal and professional life. I would be sad if I couldn't go there ever again. It would give me grief personally since it'll limit where I can go on vacation and who out of my friends I can visit, but it will also limit my professional life as interesting Mozilla, Internet, open source and curl related events that I'd like to attend are frequently hosted there.&lt;/p&gt;
&lt;h2&gt;What's happening?&lt;/h2&gt;
&lt;p&gt;So the weeks came and went and on May 29th,  six weeks after I was interviewed at the embassy, I checked the online service that allows me to check my application progress. It said &quot;Case Created: April 17&quot; and the following useful addition &quot;Case Last Updated: April 17&quot;.&lt;/p&gt;
&lt;p&gt;Wat? Did something go fatally wrong here? I emailed the embassy to double-check. I got this single sentence response back:&lt;/p&gt;
&lt;pre&gt;
Dear Sir,

You don't have to do anything, your case is still going through administrative processing and we don't know when that process will be completed.
&lt;/pre&gt;
&lt;p&gt;In my life I've visited a whole series of countries for which I've been required to apply for a visa. None of them have ever taken more than a few weeks, including countries with complicated bureaucracy like India and China. What are they doing all this time?&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/06/Screenshot_2018-06-14-CEAC.png&quot;&gt;&lt;img class=&quot;alignnone size-medium wp-image-11288&quot; src=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/06/Screenshot_2018-06-14-CEAC-450x195.png&quot; alt=&quot;&quot; width=&quot;450&quot; height=&quot;195&quot; srcset=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/06/Screenshot_2018-06-14-CEAC-450x195.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2018/06/Screenshot_2018-06-14-CEAC-200x87.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2018/06/Screenshot_2018-06-14-CEAC-768x333.png 768w, https://daniel.haxx.se/blog/wp-content/uploads/2018/06/Screenshot_2018-06-14-CEAC.png 1200w&quot; sizes=&quot;(max-width: 450px) 100vw, 450px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;At the time of this writing, more than 100 days have passed and I have still not heard back from them. I know this is unusually long and I have a strong suspicion this means they will deny me visa, but for some reason they want to keep me unaware for a while more.&lt;/p&gt;
&lt;h2&gt;No All Hands in the US&lt;/h2&gt;
&lt;p&gt;I clearly underestimated the time this required so I missed our meeting in SF this year again...&lt;/p&gt;
&lt;p&gt;Mozilla has since then announced that a number of the forthcoming All Hands conferences in the coming years will be held outside of the US. Unfortunately several of them are to be held in Canada, and there are indications that having being denied entry to the US means that Canada will deny me as well. But I have yet to test that!&lt;/p&gt;
&lt;h2&gt;Why they deny me?&lt;/h2&gt;
&lt;p&gt;Me knowingly, I've never broken a law, rule or regulation that would explain this. Some speculations me and others can think of include...&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;I'm the main author of &lt;a href=&quot;https://curl.haxx.se/&quot;&gt;curl&lt;/a&gt;, a tool that is used in a lot of security research and proof of concept exploits of security vulnerabilities&lt;/li&gt;
&lt;li&gt;I'm the main author of libcurl, a transfer library that is one of the world's most widely used software components. It is subsequently also &lt;a href=&quot;https://daniel.haxx.se/blog/2015/11/16/the-most-popular-curl-download-by-a-malware/&quot;&gt;used extensively by malware&lt;/a&gt; and other offensive and undesired software.&lt;/li&gt;
&lt;li&gt;I use the name &lt;a href=&quot;https://haxx.se&quot;&gt;haxx.se&lt;/a&gt; domain for many of my sites and email address etc. haxx or hacking could be interpreted by some, not as &quot;&lt;a href=&quot;https://www.urbandictionary.com/define.php?term=hack&quot;&gt;To program a computer in a clever, virtuosic, and wizardly manner&lt;/a&gt;&quot; but as the act to &quot;gain unauthorized access to data in a system or computer&quot;.&lt;/li&gt;
&lt;li&gt;It's been suggested that my presence at multiple conferences in the US over the years could've been a violation of the ESTA rules - but the rules explicitly allow this. I have not violated the ESTA rules.&lt;/li&gt;
&lt;/ol&gt;&lt;h2&gt;Administrative Processing&lt;/h2&gt;
&lt;p&gt;It's been 102 days now. I'm not optimistic.&lt;img class=&quot;aligncenter size-full wp-image-11315&quot; src=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/06/dogs-2195708_640.jpg&quot; alt=&quot;&quot; width=&quot;640&quot; height=&quot;457&quot; srcset=&quot;https://daniel.haxx.se/blog/wp-content/uploads/2018/06/dogs-2195708_640.jpg 640w, https://daniel.haxx.se/blog/wp-content/uploads/2018/06/dogs-2195708_640-200x143.jpg 200w, https://daniel.haxx.se/blog/wp-content/uploads/2018/06/dogs-2195708_640-450x321.jpg 450w&quot; sizes=&quot;(max-width: 640px) 100vw, 640px&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 28 Jul 2018 22:30:32 +0000</pubDate>
<dc:creator>robin_reala</dc:creator>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://daniel.haxx.se/blog/2018/07/28/administrative-purgatory/</dc:identifier>
</item>
<item>
<title>If you put chalk under a powerful microscope</title>
<link>https://twitter.com/ferrisjabr/status/1022534132415356928</link>
<guid isPermaLink="true" >https://twitter.com/ferrisjabr/status/1022534132415356928</guid>
<description>[unable to retrieve full-text content]&lt;p&gt;Article URL: &lt;a href=&quot;https://twitter.com/ferrisjabr/status/1022534132415356928&quot;&gt;https://twitter.com/ferrisjabr/status/1022534132415356928&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Comments URL: &lt;a href=&quot;https://news.ycombinator.com/item?id=17635247&quot;&gt;https://news.ycombinator.com/item?id=17635247&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Points: 315&lt;/p&gt;&lt;p&gt;# Comments: 62&lt;/p&gt;</description>
<pubDate>Sat, 28 Jul 2018 21:52:05 +0000</pubDate>
<dc:creator>DanBC</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://mobile.twitter.com/ferrisjabr/status/1022534132415356928</dc:identifier>
</item>
<item>
<title>iTerm2 has a new drawing engine that uses Metal 2</title>
<link>https://gitlab.com/gnachman/iterm2/wikis/Metal-Renderer</link>
<guid isPermaLink="true" >https://gitlab.com/gnachman/iterm2/wikis/Metal-Renderer</guid>
<description>&lt;div class=&quot;wiki-page-header has-sidebar-toggle&quot; readability=&quot;6.6285714285714&quot;&gt;
&lt;p&gt;
&lt;h2 class=&quot;wiki-page-title&quot;&gt;Metal renderer&lt;/h2&gt;
&lt;span class=&quot;wiki-last-edit-by&quot;&gt;Last edited by &lt;strong&gt;George Nachman&lt;/strong&gt; &lt;time class=&quot;js-timeago&quot; title=&quot;Jul 29, 2018 1:12am&quot; datetime=&quot;2018-07-29T01:12:53Z&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; data-container=&quot;body&quot;&gt;Jul 29, 2018&lt;/time&gt;&lt;/span&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;div class=&quot;prepend-top-default append-bottom-default&quot; readability=&quot;17.937646141855&quot;&gt;
&lt;div class=&quot;wiki&quot; readability=&quot;31.027279812938&quot;&gt;

&lt;p dir=&quot;auto&quot;&gt;iTerm2 has a new drawing engine that uses Metal 2. For many users, this will significantly improve performance.&lt;/p&gt;
&lt;h2 dir=&quot;auto&quot;&gt;Benefits&lt;/h2&gt;
&lt;ul dir=&quot;auto&quot;&gt;&lt;li/&gt;
&lt;li&gt;60 frame per second rendering. Buttery smooth!&lt;/li&gt;
&lt;li/&gt;
&lt;li&gt;Increased throughput (e.g., when you &lt;code&gt;cat&lt;/code&gt; a giant file, it'll finish sooner.)&lt;/li&gt;
&lt;li/&gt;
&lt;li&gt;Most users will see improved latency (time between pressing a key and seeing it drawn.)&lt;/li&gt;
&lt;li/&gt;
&lt;/ul&gt;&lt;h2 dir=&quot;auto&quot;&gt;Availability&lt;/h2&gt;
&lt;p dir=&quot;auto&quot;&gt;The Metal renderer is in the nightly builds and iTerm2 3.2beta1 and later.&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;The new renderer is not available for some configurations:&lt;/p&gt;
&lt;ol dir=&quot;auto&quot;&gt;&lt;li/&gt;
&lt;li&gt;You must have macOS 10.12 or later.&lt;/li&gt;
&lt;li&gt;Transparent windows are not supported. They must be opaque. This is because subpixel anti-aliasing becomes too complex.&lt;/li&gt;
&lt;li&gt;You must disable ligatures for both ASCII and non-ASCII fonts in &lt;strong&gt;Prefs &amp;gt; Profiles &amp;gt; Text&lt;/strong&gt;. Ligatures are very hard to support in a GPU-based renderer.&lt;/li&gt;
&lt;li&gt;If you have adjusted &lt;strong&gt;Prefs &amp;gt; Advanced &amp;gt; Height of top and bottom margins in terminal panes&lt;/strong&gt; to be less than 2, the Metal renderer will not be used.&lt;/li&gt;
&lt;li&gt;Vertical spacing for your fonts (as configured in the font panel) must not be set to less than 100% (the default).&lt;/li&gt;
&lt;/ol&gt;&lt;p dir=&quot;auto&quot;&gt;It is also temporarily disabled under certain conditions:&lt;/p&gt;
&lt;ol dir=&quot;auto&quot;&gt;&lt;li/&gt;
&lt;li&gt;When another view, such as the find bar, is drawn overtop the terminal.&lt;/li&gt;
&lt;li&gt;When your device is not plugged into a charger. This is controlled by &lt;strong&gt;Prefs &amp;gt; Advanced &amp;gt; Disable Metal renderer when not connected to power&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p dir=&quot;auto&quot;&gt;Support me at &lt;a href=&quot;https://www.patreon.com/gnachman&quot; rel=&quot;nofollow noreferrer noopener&quot; target=&quot;_blank&quot;&gt;https://www.patreon.com/gnachman&lt;/a&gt; 😁&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;If you have issues, please see below:&lt;/p&gt;

&lt;p dir=&quot;auto&quot;&gt;You can disable it in &lt;strong&gt;Prefs &amp;gt; General &amp;gt; GPU Rendering&lt;/strong&gt;.&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;The easiest way to verify that it's working is to enable the FPS Meter (&lt;strong&gt;Prefs &amp;gt; Advanced &amp;gt; Show FPS meter&lt;/strong&gt;). When the Metal renderer is in use it shows the current frame rate in magenta text in the top right of the session.&lt;/p&gt;
&lt;h2 dir=&quot;auto&quot;&gt;How to report performance issues&lt;/h2&gt;
&lt;ol dir=&quot;auto&quot;&gt;&lt;li/&gt;
&lt;li&gt;Create a new issue at &lt;a href=&quot;https://iterm2.com/bugs&quot; rel=&quot;nofollow noreferrer noopener&quot; target=&quot;_blank&quot;&gt;https://iterm2.com/bugs&lt;/a&gt;, if needed&lt;/li&gt;
&lt;li&gt;Make sure this is on: &lt;strong&gt;Prefs &amp;gt; Advanced &amp;gt; Log stats about text drawing performance to console&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Create a new window&lt;/li&gt;
&lt;li&gt;Scroll through a big file or whatever it is that's slow&lt;/li&gt;
&lt;li&gt;Select &lt;strong&gt;iTerm2 &amp;gt; Copy Performance Stats&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Paste into the issue report (cmd-V)&lt;/li&gt;
&lt;/ol&gt;&lt;p dir=&quot;auto&quot;&gt;Note that recorded stats are erased when iTerm2 becomes active, so the only drawing that's timed is between when iTerm2 became active and when you copied the stats out.&lt;/p&gt;
&lt;h2 dir=&quot;auto&quot;&gt;How to report drawing problems&lt;/h2&gt;
&lt;ol dir=&quot;auto&quot;&gt;&lt;li/&gt;
&lt;li&gt;Make the session that's drawing wrong is active (i.e., it would receive keyboard input)&lt;/li&gt;
&lt;li&gt;Select &lt;strong&gt;iTerm2 &amp;gt; Capture Metal Frame&lt;/strong&gt; (it will be enabled if Metal is in use)&lt;/li&gt;
&lt;li&gt;Wait a few seconds&lt;/li&gt;
&lt;li&gt;File a bug at &lt;a href=&quot;https://iterm2.com/bugs&quot; rel=&quot;nofollow noreferrer noopener&quot; target=&quot;_blank&quot;&gt;https://iterm2.com/bugs&lt;/a&gt; and attach &lt;code&gt;/tmp/iTerm2-frame-capture.zip&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;&lt;p dir=&quot;auto&quot;&gt;Please let me know if you have any problems.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;aside class=&quot;right-sidebar right-sidebar-expanded wiki-sidebar js-wiki-sidebar js-right-sidebar&quot; data-offset-top=&quot;50&quot; data-spy=&quot;affix&quot;&gt;
&lt;/aside&gt;&lt;div class=&quot;modal&quot; id=&quot;modal-new-wiki&quot;&gt;
&lt;div class=&quot;modal-dialog&quot;&gt;
&lt;div class=&quot;modal-content&quot;&gt;
&lt;p&gt;
&lt;h3 class=&quot;page-title&quot;&gt;New Wiki Page&lt;/h3&gt;
&lt;button aria-label=&quot;Close&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; type=&quot;button&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;×&lt;/span&gt;&lt;/button&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Sat, 28 Jul 2018 19:25:31 +0000</pubDate>
<dc:creator>CharlesW</dc:creator>
<og:type>object</og:type>
<og:title>Metal renderer · Wiki · George Nachman / iterm2</og:title>
<og:description>Issues site for iTerm2</og:description>
<og:image>/uploads/-/system/project/avatar/252461/icon_256x256_2x.png</og:image>
<og:url>https://gitlab.com/gnachman/iterm2/wikis/Metal-Renderer</og:url>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://gitlab.com/gnachman/iterm2/wikis/Metal-Renderer</dc:identifier>
</item>
<item>
<title>Our brain is a storyteller, not a reporter from an inner world</title>
<link>http://nautil.us/issue/62/systems/this-man-says-the-mind-has-no-depths</link>
<guid isPermaLink="true" >http://nautil.us/issue/62/systems/this-man-says-the-mind-has-no-depths</guid>
<description>&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;A&lt;/span&gt; whole lot of books on the brain are published these days and you can read yourself into a coma trying to make sense of their various messages. So it was with my usual low-burn curiosity that I starting reading &lt;em&gt;The Mind Is Flat&lt;/em&gt; by British behavioral scientist Nick Chater. At least the title is intriguing. But as I started reading it, I perked right up. Maybe that’s because it starts with a long riff on Anna Karenina and asks us to plumb the motivations of her suicide. Can we explain them? What if the great steam engine slammed on its brakes and Anna didn’t die? Would she be able to explain her own motivations to a psychologist while convalescing in a Swiss sanatorium?&lt;/p&gt;
&lt;p&gt;Chater writes it makes no difference that Anna is a fictional character. We would go through the exact same mental peregrinations with a real person. In fact, the surviving real person, struggling to find clarity in the muddle of her feelings, would only be telling the psychologist a story about why she wanted to take her life. Chater’s point is a bold one: There is no deep truth about motivations to be found. “No amount of therapy, dream analysis, word association, experiment or brain-scanning can recover a person’s ‘true motives,’ not because they are difficult to find, but because there is nothing to find,” he writes. “The inner, mental world, and the beliefs, motives, and fears it is supposed to contain is, itself, a work of the imagination.”&lt;/p&gt;
&lt;img src=&quot;http://static.nautil.us/15068_e3d2b39d8bc215f6540218d20280232a.png&quot; alt=&quot;&quot; width=&quot;733&quot;/&gt;&lt;span class=&quot;caption&quot;&gt;&lt;strong&gt;SURFACE THOUGHTS:&lt;/strong&gt; Freud’s iceberg/mind analogy couldn’t be more misleading, Chater writes: “There are no conscious thoughts and unconscious thoughts … There is just one type of thought, and each such thought has two aspects: a conscious read-out, and unconscious processes generating the read-out.”&lt;/span&gt;&lt;span class=&quot;credit&quot;&gt;T and Z / Shutterstock&lt;/span&gt;
&lt;p&gt;Well, then, I thought, if Chater keeps up this audacious tone, &lt;em&gt;The Mind Is Flat&lt;/em&gt; is going to be anything but flat. Indeed, as it makes its way through a modern landscape of cognitive research and experiments, it shoots one dart after another at treasured cultural notions about truths lurking in the tangles of our brains. Emotions are not pre-formed feelings waiting to burst forth, Chater writes, they are momentary improvisations to bodily reactions. Our brains are jazz players, he tells us, cooking up the best thoughts and behaviors for the moment. Tapping into a higher consciousness may be a beloved idea, Chater writes, but it amounts to “nonsense on stilts.” James Joyce’s &lt;em&gt;Ulysses&lt;/em&gt; is an exploration of the innermost workings of the mind, you say? “Quite the reverse,” Chater writes. Joyce and Virginia Woolf’s celebrated stream-of-consciousness styles are “outputs of successful cycles of thought.” (OK, that’s a little clunky.)&lt;/p&gt;
&lt;p&gt;Nevertheless, I raced through &lt;em&gt;The Mind Is Flat&lt;/em&gt; fascinated. I’ve encountered shades of Chater’s ideas in other recent books, notably &lt;em&gt;How Emotions Are Made&lt;/em&gt;, in which author Lisa Feldman Barrett, a neuroscientist, illuminates in detail how an “emotion is your brain’s creation of what your bodily sensations mean.” But I was consistently engaged by Chater’s brazen points—“We have all been victims of a hoax, perpetrated on us by our brains”—even if I was never quite sure they were right. And so I was anxious to talk to Chater in person, see if I could get him to clear up some of my misgivings about his portrait of the unconscious. He answered my questions with a cheerful spirit and thoughtful insights, along with the wit I associated with his book, particularly when he called Jung’s collective unconscious “the astrology of psychology.” I began by asking about psychotherapy because if there is one pillar of thought that Chater seeks to topple it’s the idea that voyaging into the unconscious can set us free.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Are you saying psychotherapy that tries to alleviate pain by bringing unconscious motives to the surface is …&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Doomed?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Yes, doomed. Why?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It’s doomed by the fact that there is not a deep inner story that is hiding from you. Rather, you’ve got the first draft or a set of incoherent notes for a novel. You’ve got an incoherent muddle. And we’re all incoherent muddles to some degree. But when some of those incoherencies cause us problems, when we’re terrified of something we very much want to do, even something as narrow as a fear of spiders, these are conflicts in our thinking and reactions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Do you believe in the value of psychotherapy?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I do, yes. And I think a reasonable goal should be to help a person understand the world in a more coherent, consistent, integrated way. This is a tremendously creative act on the patient’s part.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;If only it were that easy.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Right, it’s hard. It’s not that the therapist can say, “I see a tangle there, and let’s untangle it and everything will be fine.” It requires a creative leap. It’s like writing novels is hard. You might think if all you’ve got to do is make everything consistent and fit together and have the characters make sense, and that’s easy. But of course it isn’t. We struggle to do it with our own lives, which are at least as complex as novels.&lt;/p&gt;
&lt;blockquote class=&quot;pull-quote&quot;&gt;
&lt;p&gt;If we imagine conscious thought is generated by hidden depths, we torture ourselves to find them.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In fact, our minds are not based on consistency. They are based on precedent, on a transmutation or extension of past experiences. Our past experiences are built on each other and they create habits of thought. Sometimes the past is going to equip us quite badly. We’re going to have patterns of behavior, patterns of thought, that haunt us and are hard to break out of.&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;Now, you might say, “Well, if there are no hidden mental depths, psychotherapy ought to be a piece of cake.” But that fact actually makes it more difficult. It’s not that there’s a coherent story and we just need to tweak it a bit. It’s that the whole project of creating an integrated understanding of one’s life is just a really hard thing to do.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Still, that sounds like we can just improvise our way out of problems. Let’s consider grief. It overtakes your mind. How can a person think his way out of it?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I don’t think there’s a winning solution to addressing any of life’s problems in a particularly straightforward way. But what’s likely happening in grief is a breakdown in one’s understanding of one’s life. If you think of something really awful like the loss of a child or a partner, one of the things that makes getting over that really hard is the sense that this was not supposed to happen. This was not the script. Life is not supposed to do things like this. My life, my partner, my child’s life, had a course, a direction. And now how do I make sense of what’s happened? This makes no sense, it makes the world seem completely purposeless. A friend of mine whose marriage was breaking down said it’s like someone’s just taken the script and scrunched it up. The sense of the future is a void.&lt;/p&gt;
&lt;p&gt;But once something unexpectedly awful happens, we need to rewrite that story. And I think when people are trying to change—grief being a big, difficult hurdle—a lot of that is creative re-imagining. We’re trying to find a way of conceptualizing how the world can make sense when something as bad as this could happen. Maybe I can conceive of the departed person’s life as a very good life. Shorter than I would have wished, but I can understand that there were many positive things.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;If you were a psychotherapist, what would you tell people?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I suppose I would start by saying that how we interpret the people of the world around us, and the behavioral and mental habits that shape us, can crucially affect how we feel about our lives, and how well we can cope with them. So one aim of therapy is to help people construct new thoughts and patterns of behavior that can help them move forward. It is not, for example, about uncovering or correcting unconscious motives or beliefs—it is about helping the conscious mind move forward.&lt;/p&gt;
&lt;div class=&quot;reco&quot;&gt;
&lt;article class=&quot;issue-article&quot;&gt;&lt;div&gt;&lt;a href=&quot;http://nautil.us/issue/45/Power/bias-in-the-er&quot; class=&quot;obnd_lnk&quot; data-trval=&quot;bias-in-the-er&quot; data-trlbl=&quot;foc_rec&quot; data-tract=&quot;internal_art&quot;&gt;&lt;img src=&quot;http://static.nautil.us/11574_486d016ed2f8a1de28c4b664be01f35f.jpg&quot; alt=&quot;Sapolsky_TH-F1&quot; width=&quot;314&quot; height=&quot;177&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div&gt;&lt;span class=&quot;article-tag&quot;&gt;&lt;span class=&quot;article-tag&quot;&gt;&lt;span class=&quot;article-tag-focus&quot;&gt;&lt;a href=&quot;http://nautil.us/term/f/Cognitive%20Science&quot;&gt;Also in Cognitive Science&lt;/a&gt;&lt;/span&gt;  &lt;/span&gt;&lt;/span&gt;
&lt;h4 class=&quot;article-title&quot;&gt;&lt;a href=&quot;http://nautil.us/issue/45/Power/bias-in-the-er&quot; class=&quot;obnd_lnk&quot; data-trval=&quot;bias-in-the-er&quot; data-trlbl=&quot;foc_rec&quot; data-tract=&quot;internal_art&quot;&gt;Bias in the ER&lt;/a&gt;&lt;/h4&gt;
&lt;p class=&quot;article-author&quot;&gt;By Michael Lewis&lt;/p&gt;
&lt;p&gt;The dazed young woman who arrived at Sunnybrook Hospital, Canada’s first and largest regional trauma center, from a head-on car crash presented the surgeons treating her with a disturbing problem. In addition to her many broken bones, the rhythm of...&lt;strong&gt;&lt;a href=&quot;http://nautil.us/issue/45/Power/bias-in-the-er&quot; class=&quot;obnd_lnk&quot; data-trval=&quot;bias-in-the-er&quot; data-trlbl=&quot;foc_rec&quot; data-tract=&quot;internal_art&quot;&gt;READ MORE&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;/article&gt;&lt;/div&gt;
&lt;p&gt;A better understanding of the shallow and improvised nature of our thinking may help—often, attempting to look deep inside ourselves can create some illusory problems for ourselves. If we imagine that our conscious thought is generated by hidden mental depths, we can start to torture ourselves about what those mental depths might contain. In the case of grief, we may wonder: “Am I feeling sad enough? Should I be feeling better this soon? Does that mean I didn’t love my partner or child enough?” You become tormented by a search for what your true inner reality is, and I think that really hamstrings us.&lt;/p&gt;
&lt;p&gt;People tear up relationships on similarly thin grounds. Suppose, for example, we look inside ourselves for the love I feel I ought to be feeling for my partner. But now I’m looking for it, where is it? Is it there at all? Or maybe it’s not enough or maybe it’s too much. You can get to a pathological state with this line of thinking. And that comes from this misconception that there’s a true inner reality within me and my reality may not be as it should be. Indeed, the whole idea of the authentic feeling is dangerous because it presupposes there’s a true feeling, and some fake ones, and the true ones are really deep inside me. And then we can worry endlessly about which of our feelings is true, and which isn’t. We should be skeptical about those feelings.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Why?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Because to answer such questions about our inner world, our brain is creatively concocting an answer at the very moment we ask the question—not reading out from an inner library of preformed thoughts, feelings, and motivations. We can tell this because if we ask ourselves the same question in even subtly different ways we will get often flatly contradictory answers—our brain is an inveterate, and not entirely consistent, story spinner, not a reporter from an inner world. Yet the brain is such a fluent and compelling storyteller that we can so easily believe it is reporting fact, rather than creating fiction.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;OK, I see what you’re saying. But I don’t quite understand why you’re dismissive of the unconscious. Our conscious thoughts and behavior are influenced by past memories and ingrained habits. So how can you say that the unconscious is a dangerous illusion?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The reason I think the unconscious is a dangerous metaphor is because it gives you the impression that mental things that are unconscious &lt;em&gt;could&lt;/em&gt; be conscious. This whole idea of uncovering things from the unconscious and making them conscious has the presupposition that they are of the same type. It’s the iceberg metaphor of the mind. The tip of the iceberg is made of the same stuff as the rest of the iceberg, which is an invisible mass. And I think that’s really a mistake. The reality is that the things we’re conscious of—experiences, thoughts, fragments of conversation—are completely different in type from the things we’re unconscious of—all these mysterious brain processes, which lay down and retrieve memories, piece fragments of information together, and so on. The brain is doing lots of unconscious work—but it is not thought in any way we understand it. At the everyday level, thought is what flows through my mind—images, pains, fragments of language. But the unconscious brain activity that generates such thoughts is not more of the same. If we could understand the processes by which billions of neurons cooperate to help us recognize a face or interpret a fragment of speech, we would find these as unrelated to the stream of consciousness as the operation of the liver.&lt;/p&gt;
&lt;blockquote class=&quot;pull-quote&quot;&gt;
&lt;p&gt;Suppose we look inside ourselves for the love we ought to be feeling. Where is it?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Maybe you should define “thought” for us.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Well, that’s a tall order of course! But roughly the stuff of conscious experience: the pains, prods, shapes, movements, noises, and scraps of language that flow through our conscious mind. Until Freud, the very idea that there could be thoughts we are not aware of would have seemed bizarre to most people. The idea that the brain is teeming with activity which is just like conscious thought, but not actually conscious, was a radical idea—but a false trail, I think.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Is your problem with the unconscious a semantic one? Maybe you don’t like the common usage of the term.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I think it is really a substantive issue, not a semantic one. The unconscious thought viewpoint actually is a rather parochial view on how the brain works—it assumes that the thoughts that inhabit my conscious mind are a pretty good representation of how my brain operates of which, of course, I have no awareness. But the operation of the brain is much stranger than this: The brain mechanisms of perception, language processing, motor control, and memory help generate conscious thoughts—but they are nothing like hidden “copies” of conscious thoughts.&lt;/p&gt;
&lt;p&gt;So the brain’s activity is unconscious all right—it is just not &lt;em&gt;thought&lt;/em&gt; in any way we commonly understand it. The trap we fall into is thinking, “Well, if brain activity is not conscious, the brain must be doing unconscious things, and those things must be thinking.” And thinking is about beliefs and reasoning and motives and planning and pains—the things that flow through our conscious minds. So we suddenly start to think, “Yes, the brain has two types of thought, divided by some mysterious boundary of consciousness.” I think that’s a big mistake. You’re quite right that we have brain processes of which we’re not conscious. But it’s not right that those brain processes are doing unconscious &lt;em&gt;thinking&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;But they do influence our conscious thinking.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Yes, absolutely. They completely determine it. Yes, they are the machinery that is generating conscious experiences and conscious thoughts.&lt;/p&gt;
&lt;blockquote class=&quot;pull-quote&quot;&gt;
&lt;p&gt;Our brains are no more engaged in unconscious thought that our livers, immune systems, or genes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Here’s a simple example of influence. Hearing an old David Bowie song will instantly trigger emotional memories in me. That sure doesn’t feel like a conscious action.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Yes, that’s right. But think about the brain processes involved in even realizing that the song is familiar; or recognizing that the singer is David Bowie. We have no introspective access to these brain processes. And this is always true: we are only ever aware of the results of the brain’s processing—“Oh, that’s Bowie”—and never of the processing itself. The unconscious operation of the brain is crucially related to thought, but it’s not thought.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I don’t see how you can separate the two. For instance, you write that the inventiveness of the human brain is best exemplified by “the centrality of metaphor in our thoughts.” Yet the things that make up metaphor—language and symbols—are acquired through evolution and genetics and culture. I don’t see how those unconscious influences can be separated from thoughts. So don’t you think it’s also dangerous, or even misleading, to say that the unconscious is a myth?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; Well, yes, unconscious influences on thought are everywhere—genetics, experiences, mental habits, the language and metaphors we use, and much more. But the unconscious influences—including the activity of our brains which underpin our thoughts—aren’t themselves thoughts. That’s the mistake we can so easily make. And the second mistake is thinking that, by looking inside ourselves, or through therapy or brain imaging or some other method, we can bring these supposed unconscious thoughts into the light of consciousness. But this is a hopeless project—we can no more bring to consciousness the operation of our brain than we can bring to consciousness other aspects of our own biology. We can invent stories about what the liver is trying to achieve, speak as if the immune system is confused by tissues from our own bodies, or talk of genes being selfish. And we can invent stories about our brain too—suggesting that it might be suppressing beliefs, harboring hidden motives, tapping into the collective unconscious, or whatever we like. But this is metaphor, not literal truth. Our brains are no more engaged in unconscious thought than our livers, immune systems, or genes.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How do you define emotions?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I think emotions are interpretations. Understanding one’s own emotions, or another person’s, is very much like understanding the emotions of a fictional character. You’re in a situation, you have a physiological reaction, and you need to make sense of that. If you see someone sweating profusely and looking tense on a high ledge, you think, “That’s bad, they’re afraid of falling, they’re feeling fear.” You do the same with yourself. If you’re on a high ledge, you have the experience being afraid, you are thinking, “My goodness, my heart’s going like crazy, I’m full of adrenaline, I’m sweating profusely,” and, “Help, I’m on this high ledge.’ But you might experience the same physiological symptoms at the starting blocks of a 100-meter race. So your physiological state is highly ambiguous. The point is feelings don’t burst forth from some mental depths. They don’t pre-exist at all. They’re our brain’s best momentary interpretation of feedback about our bodily state, in the light of the situation we’re in.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Let’s apply your theory about how the mind works to something important in people’s everyday lives, like religion.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I think religion is quite an interesting illustration of the viewpoint, actually.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;OK. How so?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If you ask people about the religious doctrines they subscribe to, they’ll say I totally believe these doctrines. But if you try to elucidate how their beliefs and doctrines fit together, that will be a tough thing to do. I’m not saying it wouldn’t be tough to probe our beliefs about science. Our thinking in almost everything is incoherent. Maybe that’s because the world is too complex for us. But let’s take the doctrine of transubstantiation. Somebody who holds this doctrine would say the actual blood and body of Christ is in this wine and wafer. If you try to unpick this and make sense of it, you can’t do it, they can’t do it. It’s just not a doable thing. But that reveals, I think, that what it means to think of yourself as believing something very strongly is to adhere to the surface. What you’re saying, given my loose perspective and background and so on, this is something I will hold to. I might even die at the stake for this thing.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What makes one belief over another so persuasive to us?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In my perspective, it comes from this central idea that the brain is a sequential processor, thinking one thought at a time. With each thought, you’re taking up massive fragments of information and trying to pull them together. It could be perceptual information, it could be linguistic information, it could be fragments of memory. And one of the things that presumably religion’s good at doing is giving us the sense that it all somehow fits. It has the sense that all these different aspects of life click into place. Rather like when you see a hard-to-process image and suddenly think, “Oh, I see, it’s a cow’s face” or “It’s a dog.”&lt;/p&gt;
&lt;p&gt;Now, maybe all the bits don’t quite fit together, but it has a sense of being coherent. Once you start to disturb that coherence, then your life feels less meaningful. So people will defend a particular perspective of the world and not want to deviate from it. By doing that, the world, the ability to creatively understand their lives, their purpose, and the world around them, is reduced. Maybe there’s another way of thinking about things, which would be at least as appealing. But, at least temporarily, the questioning is painful. Questioning anything we believe, not just religion, is actually quite disturbing.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ultimately, what’s the benefit of thinking our minds are flat?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It’s about focusing on the creative project of understanding one’s own life, rather than trying to unpick one’s own psyche. How do we live our lives more happily and better? How do we think more coherently and better? How do we solve problems going forward? Sometimes solving problems requires going backward, like when you’re trying to write a novel or produce a proof in mathematics. Sometimes you need to go back and think, Wait a minute, I made a mistake here, I did the wrong character development, I made a calculation error. But it’s important to think of the project as going forward, rather than thinking that I and everyone else are in the grip of a mysterious force that’s controlling us and we need to voyage inward to find it. It’s just an unconstructive direction to be looking inward instead of outward. A forward-looking approach to our lives is the positive benefit.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Kevin Berger is the features editor at&lt;/em&gt; Nautilus.&lt;/p&gt;
&lt;section class=&quot;leaderboard-ad-belt&quot;&gt;&lt;div class=&quot;leaderboard-ad-belt-inner adarticle&quot;&gt;&lt;div id=&quot;div-gpt-ad-1380044019755-0&quot; class=&quot;leaderboard-ad&quot;/&gt;
&lt;/div&gt;
&lt;/section&gt;</description>
<pubDate>Sat, 28 Jul 2018 16:26:46 +0000</pubDate>
<dc:creator>dnetesn</dc:creator>
<og:type>website</og:type>
<og:url>http://nautil.us/issue/62/systems/this-man-says-the-mind-has-no-depths</og:url>
<og:title>This Man Says the Mind Has No Depths - Issue 62: Systems - Nautilus</og:title>
<og:description>A whole lot of books on the brain are published these days and you can read yourself into a coma trying to make sense of their various&amp;#8230;</og:description>
<og:image>http://static.nautil.us/15072_0a90e4944afb2476c3021501c165a937.png</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>http://nautil.us/issue/62/systems/this-man-says-the-mind-has-no-depths</dc:identifier>
</item>
<item>
<title>Sonic Pi: Compose electronic music with code</title>
<link>https://sonic-pi.net/</link>
<guid isPermaLink="true" >https://sonic-pi.net/</guid>
<description>&lt;h3&gt;Acid Walk&lt;/h3&gt;&lt;pre&gt;
&lt;code class=&quot;highlight&quot;&gt;&lt;span class=&quot;n&quot;&gt;in_thread&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;use_synth&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:fm&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;loop&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:drum_bass_hard&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;amp: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;
       &lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;play&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:e2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;release: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:elec_cymbal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;rate: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;amp: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;
       &lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
     &lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;use_synth&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:tb303&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;with_fx&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:reverb&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
   &lt;span class=&quot;kp&quot;&gt;loop&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;control&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;mix: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;with_fx&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:slicer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;phase: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;125&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:ambi_lunar_land&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;sustain: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;release: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;amp: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

     &lt;span class=&quot;n&quot;&gt;control&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;mix: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mo&quot;&gt;05&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;play&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:e3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:minor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;choose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;release: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;cutoff: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;amp: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
       &lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;125&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

     &lt;span class=&quot;n&quot;&gt;control&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;mix: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;with_synth&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:prophet&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
       &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
         &lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;125&lt;/span&gt;
         &lt;span class=&quot;n&quot;&gt;play&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:m7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;choose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;release: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;cutoff: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;130&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;amp: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

     &lt;span class=&quot;n&quot;&gt;control&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;mix: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mo&quot;&gt;05&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;play&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:e3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:minor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;choose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;release: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;cutoff: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;110&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;130&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;amp: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;
       &lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;125&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

     &lt;span class=&quot;n&quot;&gt;control&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;mix: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;with_fx&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:echo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;phase: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;decay: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
       &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
         &lt;span class=&quot;n&quot;&gt;play&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:e2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:e3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:e4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;choose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:m7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;choose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;release: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mo&quot;&gt;05&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;cutoff: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;129&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;amp: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
         &lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;125&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Sat, 28 Jul 2018 13:13:13 +0000</pubDate>
<dc:creator>liamdanielduffy</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://sonic-pi.net/</dc:identifier>
</item>
<item>
<title>Common Git Problems and How to Fix Them</title>
<link>https://citizen428.net/10-common-git-problems-and-how-to-fix-them-e8d809299f08</link>
<guid isPermaLink="true" >https://citizen428.net/10-common-git-problems-and-how-to-fix-them-e8d809299f08</guid>
<description>&lt;p name=&quot;f998&quot; id=&quot;f998&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;I originally wrote this article for &lt;a href=&quot;https://www.codementor.io/citizen428/git-tutorial-10-common-git-problems-and-how-to-fix-them-aajv0katd&quot; data-href=&quot;https://www.codementor.io/citizen428/git-tutorial-10-common-git-problems-and-how-to-fix-them-aajv0katd&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;Codementor&lt;/a&gt; in October 2014. It should have something for everyone, from fairly new git users to experienced developers.&lt;/p&gt;
&lt;h3 name=&quot;0a45&quot; id=&quot;0a45&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;1. Discard local file modifications&lt;/h3&gt;
&lt;p name=&quot;2b1a&quot; id=&quot;2b1a&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Sometimes the best way to get a feel for a problem is diving in and playing around with the code. Unfortunately, the changes made in the process sometimes turn out to be less than optimal, in which case reverting the file to its original state can be the fastest and easiest solution:&lt;/p&gt;

&lt;p name=&quot;2eb3&quot; id=&quot;2eb3&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;In case you’re wondering, the double dash (&lt;code class=&quot;markup--code markup--p-code&quot;&gt;--&lt;/code&gt;) is a common way for command line utilities to signify the end of command options.&lt;/p&gt;
&lt;h3 name=&quot;3dee&quot; id=&quot;3dee&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;2. Undo local commits&lt;/h3&gt;
&lt;p name=&quot;75f9&quot; id=&quot;75f9&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Alas, sometimes it takes us a bit longer to realize that we are on the wrong track, and by that time one or more changes may already have been committed locally. This is when &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git reset&lt;/code&gt; comes in handy:&lt;/p&gt;

&lt;p name=&quot;57f1&quot; id=&quot;57f1&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;Be careful with the &lt;code class=&quot;markup--code markup--p-code&quot;&gt;--hard&lt;/code&gt; option! It resets your working tree as well as the index, so all your modifications will be lost for good.&lt;/p&gt;
&lt;h3 name=&quot;5754&quot; id=&quot;5754&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;3. Remove a file from git without removing it from your file system&lt;/h3&gt;
&lt;p name=&quot;603b&quot; id=&quot;603b&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;If you are not careful during a &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git add&lt;/code&gt;, you may end up adding files that you didn’t want to commit. However, &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git rm&lt;/code&gt; will remove it from both your staging area, as well as your file system, which may not be what you want. In that case make sure you only remove the staged version, and add the file to your &lt;code class=&quot;markup--code markup--p-code&quot;&gt;.gitignore&lt;/code&gt; to avoid making the same mistake a second time:&lt;/p&gt;

&lt;h3 name=&quot;69f0&quot; id=&quot;69f0&quot; class=&quot;graf graf--h3 graf-after--mixtapeEmbed&quot;&gt;4. Edit a commit message&lt;/h3&gt;
&lt;p name=&quot;d35f&quot; id=&quot;d35f&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Typos happen, but luckily in the case of commit messages, it is very easy to fix them:&lt;/p&gt;

&lt;p name=&quot;ec73&quot; id=&quot;ec73&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;But that’s not all &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git-amend&lt;/code&gt; can do for you. Did you forget to add a file? Just add it and amend the previous commit!&lt;/p&gt;
&lt;p name=&quot;e4e8&quot; id=&quot;e4e8&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;a href=&quot;https://gist.github.com/31c426d1ba93d2f787428a6a990cb856&quot; data-href=&quot;https://gist.github.com/31c426d1ba93d2f787428a6a990cb856&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;https://gist.github.com/31c426d1ba93d2f787428a6a990cb856&lt;/a&gt;&lt;/p&gt;
&lt;p name=&quot;f1e5&quot; id=&quot;f1e5&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Please keep in mind that &lt;code class=&quot;markup--code markup--p-code&quot;&gt;--amend&lt;/code&gt; actually will create a new commit which replaces the previous one, so don’t use it for modifying commits which already have been pushed to a central repository. An exception to this rule can be made if you are absolutely sure that no other developer has already checked out the previous version and based their own work on it, in which case a forced push (&lt;code class=&quot;markup--code markup--p-code&quot;&gt;git push --force&lt;/code&gt;) may still be ok. The &lt;code class=&quot;markup--code markup--p-code&quot;&gt;--force&lt;/code&gt; option is necessary here since the tree’s history was locally modified which means the push will be rejected by the remote server since no fast-forward merge is possible.&lt;/p&gt;
&lt;h3 name=&quot;1b3f&quot; id=&quot;1b3f&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;5. Clean up local commits before pushing&lt;/h3&gt;
&lt;p name=&quot;3a0b&quot; id=&quot;3a0b&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;While &lt;code class=&quot;markup--code markup--p-code&quot;&gt;--amend&lt;/code&gt; is very useful, it doesn’t help if the commit you want to reword is not the last one. In that case an interactive rebase comes in handy:&lt;/p&gt;

&lt;p name=&quot;0cd6&quot; id=&quot;0cd6&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;This will open your configured editor and present you with the following menu:&lt;/p&gt;

&lt;p name=&quot;c9e0&quot; id=&quot;c9e0&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;On top you’ll see a list of local commits, followed by an explanation of the available commands. Just pick the commit(s) you want to update, change &lt;code class=&quot;markup--code markup--p-code&quot;&gt;pick&lt;/code&gt; to &lt;code class=&quot;markup--code markup--p-code&quot;&gt;reword&lt;/code&gt; (or &lt;code class=&quot;markup--code markup--p-code&quot;&gt;r&lt;/code&gt; for short), and you will be taken to a new view where you can edit the message.&lt;/p&gt;
&lt;p name=&quot;423b&quot; id=&quot;423b&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;However, as can be seen from the above listing, interactive rebases offer a lot more than simple commit message editing: you can completely remove commits by deleting them from the list, as well as edit, reorder, and squash them. Squashing allows you to merge several commits into one, which is something I like to do on feature branches before pushing them to the remote. No more “Add forgotten file” and “Fix typo” commits recorded for eternity!&lt;/p&gt;
&lt;h3 name=&quot;7af1&quot; id=&quot;7af1&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;6. Reverting pushed commits&lt;/h3&gt;
&lt;p name=&quot;fb8d&quot; id=&quot;fb8d&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Despite the fixes demonstrated in the previous tips, faulty commits do occasionally make it into the central repository. Still this is no reason to despair, since &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git&lt;/code&gt; offers an easy way to revert single or multiple commits:&lt;/p&gt;

&lt;p name=&quot;a82c&quot; id=&quot;a82c&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;In case you don’t want to create additional revert commits but only apply the necessary changes to your working tree, you can use the &lt;code class=&quot;markup--code markup--p-code&quot;&gt;--no-commit&lt;/code&gt;/&lt;code class=&quot;markup--code markup--p-code&quot;&gt;-n&lt;/code&gt; option.&lt;/p&gt;

&lt;p name=&quot;5b5a&quot; id=&quot;5b5a&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;The manual page at &lt;code class=&quot;markup--code markup--p-code&quot;&gt;man 1 git-revert&lt;/code&gt; list further options and provides some additional examples.&lt;/p&gt;
&lt;h3 name=&quot;4074&quot; id=&quot;4074&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;7. Avoid repeated merge conflicts&lt;/h3&gt;
&lt;p name=&quot;91b4&quot; id=&quot;91b4&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;As every developer knows, fixing merge conflicts can be tedious, but solving the exact same conflict repeatedly (e.g. in long running feature branches) is outright annoying. If you’ve suffered from this in the past, you’ll be happy to learn about the underused reuse recorded resolution feature. Add it to your global config to enable it for all projects:&lt;/p&gt;

&lt;p name=&quot;a9fb&quot; id=&quot;a9fb&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;Alternatively you can enable it on a per-project basis by manually creating the directory &lt;code class=&quot;markup--code markup--p-code&quot;&gt;.git/rr-cache&lt;/code&gt;.&lt;/p&gt;
&lt;p name=&quot;09d1&quot; id=&quot;09d1&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;This sure isn’t a feature for everyone, but for people who need it, it can be real time saver. Imagine your team is working on various feature branches at the same time. Now you want to merge all of them together into one testable pre-release branch. As expected, there are several merge conflicts, which you resolve. Unfortunately it turns out that one of the branches isn’t quite there yet, so you decide to un-merge it again. Several days (or weeks) later when the branch is finally ready you merge it again, but thanks to the recorded resolutions, you won’t have to resolve the same merge conflicts again.&lt;/p&gt;
&lt;p name=&quot;57d1&quot; id=&quot;57d1&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;The man page (&lt;code class=&quot;markup--code markup--p-code&quot;&gt;man git-rerere&lt;/code&gt;) has more information on further use cases and commands (&lt;code class=&quot;markup--code markup--p-code&quot;&gt;git rerere status&lt;/code&gt;, &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git rerere diff&lt;/code&gt;, etc).&lt;/p&gt;
&lt;h3 name=&quot;5cd5&quot; id=&quot;5cd5&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;8. Find the commit that broke something after a merge&lt;/h3&gt;
&lt;p name=&quot;5684&quot; id=&quot;5684&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Tracking down the commit that introduced a bug after a big merge can be quite time consuming. Luckily &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git&lt;/code&gt; offers a great binary search facility in the form of &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git-bisect&lt;/code&gt;. First you have to perform the initial setup:&lt;/p&gt;

&lt;p name=&quot;52fc&quot; id=&quot;52fc&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;After this git will automatically checkout a revision halfway between the known “good” and “bad” versions. You can now run your specs again and mark the commit as “good” or “bad” accordingly.&lt;/p&gt;

&lt;p name=&quot;192a&quot; id=&quot;192a&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;This process continues until you get to the commit that introduced the bug.&lt;/p&gt;
&lt;h3 name=&quot;2d83&quot; id=&quot;2d83&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;9. Avoid common mistakes with git hooks&lt;/h3&gt;
&lt;p name=&quot;b238&quot; id=&quot;b238&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Some mistakes happen repeatedly, but would be easy to avoid by running certain checks or cleanup tasks at a defined stage of the &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git&lt;/code&gt; workflow. This is exactly the scenario that hooks were designed for. To create a new hook, add an executable file to &lt;code class=&quot;markup--code markup--p-code&quot;&gt;.git/hooks&lt;/code&gt;. The name of the script has to correspond to one of the available hooks, a full list of which is available in the manual page (&lt;code class=&quot;markup--code markup--p-code&quot;&gt;man githooks&lt;/code&gt;). You can also define global hooks to use in all your projects by creating a template directory that git will use when initializing a new repository (see man git-init for further information). Here’s how the relevant entry in &lt;code class=&quot;markup--code markup--p-code&quot;&gt;~/.gitconfig&lt;/code&gt; and an example template directory look like:&lt;/p&gt;

&lt;p name=&quot;db00&quot; id=&quot;db00&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;When you initialize a new repository, files in the template directory will be copied to the corresponding location in your project’s &lt;code class=&quot;markup--code markup--p-code&quot;&gt;.git&lt;/code&gt; directory.&lt;/p&gt;
&lt;p name=&quot;aa72&quot; id=&quot;aa72&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;What follows is a slightly contrived example &lt;code class=&quot;markup--code markup--p-code&quot;&gt;commit-msg&lt;/code&gt; hook, which will ensure that every commit message references a ticket number like “&lt;code class=&quot;markup--code markup--p-code&quot;&gt;#123&lt;/code&gt;“.&lt;/p&gt;

&lt;h3 name=&quot;8e88&quot; id=&quot;8e88&quot; class=&quot;graf graf--h3 graf-after--mixtapeEmbed&quot;&gt;10. When all else fails&lt;/h3&gt;
&lt;p name=&quot;3d96&quot; id=&quot;3d96&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;So far we covered quite a lot of ground on how to fix common errors when working with &lt;code class=&quot;markup--code markup--p-code&quot;&gt;git&lt;/code&gt;. Most of them have easy enough solutions, however there are times when one has to get out the big guns and rewrite the history of an entire branch. One common use case for this is removing sensitive data (e.g. login credentials for production systems) that were committed to a public repository:&lt;/p&gt;

&lt;p name=&quot;64d9&quot; id=&quot;64d9&quot; class=&quot;graf graf--p graf-after--mixtapeEmbed&quot;&gt;This will remove the file &lt;code class=&quot;markup--code markup--p-code&quot;&gt;secrets.txt&lt;/code&gt; from every branch and tag. It will also remove any commits that would be empty as a result of the above operation. Keep in mind that this will rewrite your project’s entire history, which can be very disruptive in a distributed workflow. Also while the file in question has now been removed, the credentials it contained should still be considered compromised!&lt;/p&gt;
&lt;p name=&quot;6f2d&quot; id=&quot;6f2d&quot; class=&quot;graf graf--p graf-after--p graf--trailing&quot;&gt;GitHub has a &lt;a href=&quot;https://help.github.com/articles/remove-sensitive-data/&quot; data-href=&quot;https://help.github.com/articles/remove-sensitive-data/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;very good tutorial on removing sensitive data&lt;/a&gt; and &lt;code class=&quot;markup--code markup--p-code&quot;&gt;man git-filter-branch&lt;/code&gt; has all details on the various available filters and their options.&lt;/p&gt;
</description>
<pubDate>Sat, 28 Jul 2018 11:53:52 +0000</pubDate>
<dc:creator>mzehrer</dc:creator>
<og:title>10 Common Git Problems and How to Fix Them – citizen428.blog</og:title>
<og:url>https://citizen428.net/10-common-git-problems-and-how-to-fix-them-e8d809299f08</og:url>
<og:description>I originally wrote this article for Codementor in October 2014. It should have something for everyone, from fairly new git users to…</og:description>
<og:type>article</og:type>
<dc:format>text/html</dc:format>
<dc:identifier>https://citizen428.net/10-common-git-problems-and-how-to-fix-them-e8d809299f08?gi=24fb158f97f3</dc:identifier>
</item>
<item>
<title>Melatonin: Much More Than You Wanted to Know</title>
<link>https://www.lesswrong.com/posts/E4cKD9iTWHaE7f3AJ/melatonin-much-more-than-you-wanted-to-know</link>
<guid isPermaLink="true" >https://www.lesswrong.com/posts/E4cKD9iTWHaE7f3AJ/melatonin-much-more-than-you-wanted-to-know</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;em&gt;[I am not a sleep specialist. Please consult with one before making any drastic changes or trying to treat anything serious.]&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2982730/&quot;&gt;Van Geiklswijk et al&lt;/a&gt; describe supplemental melatonin as “a chronobiotic drug with hypnotic properties”. Using it as a pure hypnotic – a sleeping pill – is like using an AK-47 as a club to bash your enemies’ heads in. It might work, but you’re failing to appreciate the full power and subtlety available to you.&lt;/p&gt;
&lt;p&gt;Melatonin is a neurohormone produced by the pineal gland. In a normal circadian cycle, it’s lowest (undetectable, less than 1 pg/ml of blood) around the time you wake up, and stays low throughout the day. Around fifteen hours after waking, your melatonin suddenly shoots up to 10 pg/ml – a process called “dim light melatonin onset”. For the next few hours, melatonin continues to increase, maybe as high as 60 or 70 pg/ml, making you sleepier and sleepier, and presumably at some point you go to bed. Melatonin peaks around 3 AM, then declines until it’s undetectably low again around early morning.&lt;/p&gt;
&lt;p&gt;Is this what makes you sleepy? Yes and no. Sleepiness is a combination of the circadian cycle and the so-called “Process S”. This is an unnecessarily sinister-sounding name for the fact that the longer you’ve been awake, the sleepier you’ll be. It seems to be partly regulated by a molecule called adenosine. While you’re awake, the body produces adenosine, which makes you tired; as you sleep, the body clears adenosine away, making you feel well-rested again.&lt;/p&gt;
&lt;p&gt;In healthy people these processes work together. Circadian rhythm tells you to feel sleepy at night and awake during the day. Process S tells you to feel awake when you’ve just risen from sleep (naturally the morning), and tired when you haven’t slept in a long time (naturally the night). Both processes agree that you should feel awake during the day and tired at night, so you do.&lt;/p&gt;
&lt;p&gt;When these processes disagree for some reason – night shifts, jet lag, drugs, genetics, playing &lt;em&gt;Civilization&lt;/em&gt; until 5 AM – the system fails. One process tells you to go to sleep, the other to wake up. You’re never quite awake enough to feel energized, or quite tired enough to get restful sleep. You find yourself lying in bed tossing and turning, or waking up while it’s still dark and not being able to get back to sleep.&lt;/p&gt;
&lt;p&gt;Melatonin works on both systems. It has a weak “hypnotic” effect on Process S, making you immediately sleepier when you take it. It also has a stronger “chronobiotic” effect on the circadian rhythm, shifting what time of day your body considers sleep to be a good idea. Effective use of melatonin comes from understanding both these effects and using each where appropriate.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. Is melatonin an effective hypnotic?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Yes.&lt;/p&gt;
&lt;p&gt;That is, taking melatonin just before you want to get to sleep, does help you get to sleep. The evidence on this is pretty unanimous. For primary insomnia, two meta-analyses – one by &lt;a href=&quot;https://www.smrv-journal.com/article/S1087-0792(04)00060-7/abstract&quot;&gt;Brzezinski&lt;/a&gt; in 2005 and another by &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/23691095&quot;&gt;Ferracioli-Oda&lt;/a&gt; in 2013 – both find it safe and effective. For jet lag, a meta-analysis by the usually-skeptical &lt;a href=&quot;http://www.cochrane.org/CD001520/DEPRESSN_melatonin-for-the-prevention-and-treatment-of-jet-lag&quot;&gt;Cochrane Collaboration&lt;/a&gt; pronounces melatonin “remarkably effective”. For a wide range of &lt;a href=&quot;https://onlinelibrary.wiley.com/doi/pdf/10.1111/j.1525-1497.2005.0243.x&quot;&gt;primary&lt;/a&gt; and &lt;a href=&quot;https://www.bmj.com/content/332/7538/385&quot;&gt;secondary&lt;/a&gt; sleep disorders, Buscemi et al say in their abstract that it doesn’t work, but a quick glance at the study shows it absolutely does and they are incorrectly under-reporting their own results. The &lt;a href=&quot;http://www.psychiatrictimes.com/amnesia/role-melatonin-circadian-rhythm-sleep-wake-cycle/page/0/1&quot;&gt;Psychiatric Times&lt;/a&gt; agrees with me on this: “Results from another study reported as negative actually demonstrated a statistically significant positive result of a decrease in sleep latency by an average of 7.2 minutes for melatonin”.&lt;/p&gt;
&lt;p&gt;Expert consensus generally follows the meta-analyses: melatonin works. I find cautious endorsements by the &lt;a href=&quot;https://www.mayoclinic.org/drugs-supplements-melatonin/art-20363071&quot;&gt;Mayo Clinic&lt;/a&gt; and &lt;a href=&quot;https://www.hopkinsmedicine.org/health/healthy-sleep/sleep-science/melatonin-for-sleep-does-it-work&quot;&gt;John Hopkins&lt;/a&gt; less impressive than its &lt;a href=&quot;https://sciencebasedmedicine.org/melatonin-for-sleep-disorders-safe-and-effective/&quot;&gt;less-than-completely-negative review&lt;/a&gt; on Science-Based Medicine, a blog I can usually count on for a hit job on any dietary supplement.&lt;/p&gt;
&lt;p&gt;The consensus stresses that melatonin is a very weak hypnotic. The Buscemi meta-analysis cites this as their reason for declaring negative results despite a statistically significant effect – the supplement only made people get to sleep about ten minutes faster. “Ten minutes” sounds pretty pathetic, but we need to think of this in context. Even the strongest sleep medications, like Ambien, only show up in studies as getting you to sleep ten or twenty minutes faster; &lt;a href=&quot;https://www.nytimes.com/2007/10/23/health/23drug.html&quot;&gt;this &lt;em&gt;New York Times&lt;/em&gt; article&lt;/a&gt; says that “viewed as a group, [newer sleeping pills like Ambien, Lunesta, and Sonata] reduced the average time to go to sleep 12.8 minutes compared with fake pills, and increased total sleep time 11.4 minutes.” I don’t know of any statistically-principled comparison between melatonin and Ambien, but the difference is hardly (pun not intended) day and night.&lt;/p&gt;
&lt;p&gt;Rather than say “melatonin is crap”, I would argue that all sleeping pills have measurable effects that vastly underperform their subjective effects. The linked article speculates on one reason this might be: people have low awareness around the time they get to sleep, and a lot of people’s perception of whether they’re insomniac or not is more anxiety (or sometimes literally dream) than reality. This is possible, but I also think of this in terms of &lt;a href=&quot;http://slatestarcodex.com/2014/07/07/ssris-much-more-than-you-wanted-to-know/&quot;&gt;antidepressant studies&lt;/a&gt;, which find similarly weak objective effects despite patients (and doctors) who swear by them and say they changed their lives. If I had to guess, I would say that the studies include an awkward combination of sick and less-sick people &lt;em&gt;and&lt;/em&gt; confuse responders and non-responders. Maybe this is special pleading. I don’t know. But if you think any sleeping pill works well, melatonin doesn’t necessarily work much worse than that.&lt;/p&gt;
&lt;p&gt;Sleep latency statistics are hard to compare to one another because they’re so dependent on the study population. If your subjects take an hour to fall asleep, perhaps melatonin could shave off &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/19379289&quot;&gt;thirty-four minutes&lt;/a&gt;. But if your subjects take twenty minutes to fall asleep, then no sleeping pill will ever take off thirty-four minutes, and even an amazing sleeping pill might struggle to make fifteen. I cannot directly compare the people who say melatonin gives back ten minutes to the people who say melatonin gives back thirty-four minutes to the people who say Ambien gives back twelve, but my totally unprincipled guess is that melatonin is about a third as strong as Ambien. It also has about a hundred times fewer side effects, so there’s definitely a place for it in sleep medicine.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. What is the right dose of melatonin?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;0.3 mg.&lt;/p&gt;
&lt;p&gt;“But my local drugstore sells 10 mg pills! When I asked if they had anything lower, they looked through their stockroom and were eventually able to find 3 mg pills! And you’re saying the correct dose is a third of a milligram?!”&lt;/p&gt;
&lt;p&gt;Yes. Most existing melatonin tablets are around ten to thirty times the correct dose.&lt;/p&gt;
&lt;p&gt;Many early studies were done on elderly people, who produce less endogenous melatonin than young people and so are considered especially responsive to the drug. Several lines of evidence determined that 0.3 mg was the best dose for this population. Elderly people given doses around 0.3 mg slept better than those given 3 mg or more and had fewer side effects (&lt;a href=&quot;https://academic.oup.com/jcem/article/86/10/4727/2849013&quot;&gt;Zhdanova et al 2001&lt;/a&gt;). A meta-analysis of dose-response relationships concurred, finding a plateau effect around 0.3 mg, with doses after that having no more efficacy, but worse side effects (&lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/15649737&quot;&gt;Brzezinski et al, 2005&lt;/a&gt;). And doses around 0.3 mg cause blood melatonin spikes most similar in magnitude and duration to the spikes seen in healthy young people with normal sleep (&lt;a href=&quot;http://sci-hub.tw/10.1007/s40266-014-0178-0&quot;&gt;Vural et al, 2014&lt;/a&gt;).&lt;/p&gt;
&lt;center&gt;&lt;img src=&quot;http://slatestarcodex.com/blog_images/melatonin1.jpeg&quot;/&gt;&lt;/center&gt;
&lt;p&gt;Other studies were done on blind people, who are especially sensitive to melatonin since they lack light cues to entrain their circadian rhythms. This is a little bit of a different indication, since it’s being used more as a chronobiotic than a sleeping pill, but the results were very similar: lower doses worked better than higher doses. For example, in &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/12069043&quot;&gt;Lewy et al 2002&lt;/a&gt;, nightly doses of 0.5 mg worked to get a blind subject sleeping normally at night; doses of 20 mg didn’t. They reasonably conclude that the 20 mg is such a high dose that it stays in their body all day, defeating the point of a hormone whose job is to signal nighttime. Other studies on the blind have generally confirmed that doses of around 0.3 to 0.5 mg are optimal.&lt;/p&gt;
&lt;p&gt;There have been disappointingly few studies on sighted young people. One such, &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/8856838&quot;&gt;Attenburrow et al 1996&lt;/a&gt; finds that 1 mg works but 0.3 mg doesn’t, suggesting these people may need slightly higher doses, but this study is a bit of an outlier. &lt;a href=&quot;ftp://s173-183-201-52.ab.hsia.telus.net/Inetpub/wwwroot/DairyScience/Resources/NTS/CPT57_552.pdf&quot;&gt;Another Zhdanova study&lt;/a&gt; on 25 year olds found both to work equally. And &lt;a href=&quot;ftp://173.183.201.52/Inetpub/wwwroot/DairyScience/Resources/NTS/JPR31_326.pdf&quot;&gt;Pires et al&lt;/a&gt; studying 22-24 year olds found that 0.3 mg worked better than 1.0. I am less interested in judging the 0.3 mg vs. 1.0 mg debate than in pointing out that both numbers are much lower than the 3 – 10 mg doses found in the melatonin tablets sold in drugstores.&lt;/p&gt;
&lt;p&gt;UpToDate, the gold standard research database used by doctors, agrees with these low doses. “We suggest the use of low, physiologic doses (0.1 to 0.5 mg) for insomnia or jet lag (Grade 2B). High-dose preparations raise plasma melatonin concentrations to a supraphysiologic level and alter normal day/night melatonin rhythms.” Mayo Clinic &lt;a href=&quot;https://newsnetwork.mayoclinic.org/discussion/mayo-clinic-q-and-a-prepare-for-jet-lag-before-boarding-the-plane/&quot;&gt;makes&lt;/a&gt; a similar recommendation: they recommend 0.5 mg. John Hopkins’ experts almost agree: &lt;a href=&quot;https://www.hopkinsmedicine.org/health/healthy-sleep/sleep-science/melatonin-for-sleep-does-it-work&quot;&gt;they say&lt;/a&gt; “less is more” but end up chickening out and recommending 1 to 3 mg, which is well above what the studies would suggest.&lt;/p&gt;
&lt;p&gt;Based on a bunch of studies that either favor the lower dose or show no difference between doses, plus clear evidence that 0.3 mg produces an effect closest to natural melatonin spikes in healthy people, plus UpToDate usually having the best recommendations, I’m in favor of the 0.3 mg number. I think you could make an argument for anything up to 1 mg. Anything beyond that and you’re definitely too high. Excess melatonin isn’t grossly dangerous, but tends to produce tolerance and might mess up your chronobiology in other ways. Based on anecdotal reports and the implausibility of becoming tolerant to a natural hormone at the dose you naturally have it, I would guess sufficiently low doses are safe and effective long term, but this is just a guess, and most guidelines are cautious in saying anything after three months or so.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. What are circadian rhythm disorders? How do I use melatonin for them?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Circadian rhythm disorders are when your circadian rhythm doesn’t match the normal cycle where you want to sleep at night and wake up in the morning.&lt;/p&gt;
&lt;p&gt;The most popular circadian rhythm disorder is “being a teenager”. Teenagers’ melatonin cycle is naturally shifted later, so that they don’t want to go to bed until midnight or later, and don’t want to wake up until eight or later. This is an obvious mismatch with school starting times, leading to teenagers either not getting enough sleep, or getting their sleep at times their body doesn’t want to be asleep and isn’t able to use it properly. This is why &lt;a href=&quot;https://tonic.vice.com/en_us/article/qkq8xx/scientists-really-really-think-school-should-start-later&quot;&gt;every&lt;/a&gt; &lt;a href=&quot;https://www.cdc.gov/features/school-start-times/index.html&quot;&gt;reputable&lt;/a&gt; &lt;a href=&quot;http://sciencenordic.com/should-teens%E2%80%99-school-day-start-later&quot;&gt;sleep&lt;/a&gt; &lt;a href=&quot;https://www.theatlantic.com/education/archive/2015/08/why-school-should-start-later/401489/&quot;&gt;scientist&lt;/a&gt; &lt;a href=&quot;https://sleepfoundation.org/sleep-news/backgrounder-later-school-start-times&quot;&gt;and&lt;/a&gt; &lt;a href=&quot;http://time.com/4741147/school-start-time/&quot;&gt;relevant&lt;/a&gt; &lt;a href=&quot;https://bigthink.com/news/study-reveals-long-term-effects-of-delaying-school-start-time&quot;&gt;scientific&lt;/a&gt; &lt;a href=&quot;https://www.ted.com/talks/wendy_troxel_why_school_should_start_later_for_teens&quot;&gt;body&lt;/a&gt; &lt;a href=&quot;http://theconversation.com/sleepy-teenage-brains-need-school-to-start-later-in-the-morning-82484&quot;&gt;keeps&lt;/a&gt; &lt;a href=&quot;https://education.media/why-school-should-start-later&quot;&gt;telling&lt;/a&gt; &lt;a href=&quot;http://www.kappanonline.org/later-start-time-for-teens/&quot;&gt;the&lt;/a&gt; &lt;a href=&quot;https://www.smithsonianmag.com/smart-news/sleep-scientists-say-school-days-should-start-later-180956565/&quot;&gt;public&lt;/a&gt; &lt;a href=&quot;https://www.reuters.com/article/us-health-sleep-school-start/later-middle-school-start-times-tied-to-longer-sleep-for-kids-idUSKBN1HP2VX&quot;&gt;school&lt;/a&gt; &lt;a href=&quot;https://www.usatoday.com/story/news/nation-now/2017/04/18/schools-should-start-later-prevent-accidents-depression-scientists-say/100573390/&quot;&gt;system&lt;/a&gt; &lt;a href=&quot;https://blogs.scientificamerican.com/observations/sleepy-teens-high-school-should-start-later-in-the-morning/&quot;&gt;to&lt;/a&gt; &lt;a href=&quot;https://www.sciencealert.com/delay-school-day-adolescents-improves-wellbeing-and-alertness&quot;&gt;start&lt;/a&gt; &lt;a href=&quot;https://www.sciencedaily.com/releases/2018/04/180410084223.htm&quot;&gt;later&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When a this kind of late sleep schedule persists into adulthood or becomes too distressing, we call it &lt;a href=&quot;https://en.wikipedia.org/wiki/Delayed_sleep_phase_disorder&quot;&gt;Delayed Sleep Phase Disorder&lt;/a&gt;. People with DSPD don’t get tired until very late, and will naturally sleep late if given the chance. The weak version of this is “being a night owl” or “not being a morning person”. The strong version just looks like insomnia: you go to bed at 11 PM, toss and turn until 2 AM, wake up when your alarm goes off at 7, and complain you “can’t sleep”. But if you can sleep at 2 AM, consistently, regardless of when you wake up, and you would fall asleep as soon as your head hit the pillow if you first got into bed at 2, then this isn’t insomnia – it’s DSPD.&lt;/p&gt;
&lt;p&gt;The opposite of this pattern is Advanced Sleep Phase Disorder. This is most common in the elderly, and I remember my grandfather having this. He would get tired around 6 PM, go to bed by 7, wake around 1 or 2 AM, and start his day feeling fresh and alert. But the weak version of this is the person who wakes up at 5 each morning even though their alarm doesn’t go off until 8 and they could really use the extra two hours’ sleep. These people would probably do fine if they just went to bed at 8 or 9, but the demands of work and a social life make them feel like they “ought” to stay up as late as everyone else. So they go to bed at 11, wake up at 5, and complain of “terminal insomnia”.&lt;/p&gt;
&lt;p&gt;Finally, there’s Non-24-Hour-Sleep Disorder, where somehow your biological clock ended up deeply and unshakeably convinced that days on Earth are twenty-five (or whatever) hours long, and decides this is the hill it wants to die on. So if you naturally sleep 11 – 7 one night, you’ll naturally sleep 12 – 8 the next night, 1 to 9 the night after that, and so on until either you make a complete 24-hour cycle or (more likely) you get so tired and confused that you stay up 24+ hours and break the cycle. This is most common in blind people, who don’t have the visual cues they need to remind themselves of the 24 hour day, but it happens in a few sighted people also; Eliezer Yudkowsky has written about his struggles with this condition.&lt;/p&gt;
&lt;p&gt;Melatonin effectively treats these conditions, but you’ve got to use it right.&lt;/p&gt;
&lt;p&gt;The general heuristic is that melatonin drags your sleep time towards the direction of when you take the melatonin.&lt;/p&gt;
&lt;p&gt;So if you want to go to sleep (and wake up) earlier, you want to take melatonin early in the day. How early? &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2982730/&quot;&gt;Van Geijlswijk et al&lt;/a&gt; sums up the research as saying it is most effective “5 hours prior to both the traditionally determined [dim light melatonin onset] (circadian time 9)”. If you don’t know your own melatonin cycle, your best bet is to take it 9 hours after you wake up (which is presumably about seven hours before you go to sleep).&lt;/p&gt;
&lt;p&gt;What if you want to go to sleep (and wake up) later? Our understanding of the melatonin cycle strongly suggests melatonin taken first thing upon waking up would work for this, but as far as I know this has never been formally investigated. The best I can find is researchers saying that they think it would happen and being confused why no other researcher has investigated this.&lt;/p&gt;
&lt;p&gt;And what about non-24-hour sleep disorders? I think the goal in treatment here is to advance your phase each day by taking melatonin at the same time, so that your sleep schedule is more dependent on your own supplemental melatonin than your (screwed up) natural melatonin. I see conflicting advice about how to do this, with some people saying to use melatonin as a hypnotic (ie just before you go to bed) and others saying to use it on a typical phase advance schedule (ie nine hours after waking and seven before sleeping, plausibly about 5 PM). I think this one might be complicated, and a qualified sleep doctor who understands your personal rhythm might be able to tell you which schedule is best for you. Eliezer says the latter regimen had very impressive effects for him (search “Last but not least” &lt;a href=&quot;http://www.hpmor.com/notes/98/&quot;&gt;here&lt;/a&gt;). I’m interested in hearing from the MetaMed researcher who gave him that recommendation on how they knew he needed a phase advance schedule.&lt;/p&gt;
&lt;p&gt;Does melatonin used this way cause drowsiness (eg at 5 PM)? I think it might, but probably such a minimal amount compared to the non-sleep-conduciveness of the hour that it doesn’t register.&lt;/p&gt;
&lt;p&gt;Melatonin isn’t the only way to advance or delay sleep phase. Here is a handy cheat sheet of research findings and theoretical predictions:&lt;/p&gt;
&lt;p&gt;&lt;u&gt;TO TREAT DELAYED PHASE SLEEP DISORDER&lt;/u&gt; (ie you go to bed too late and wake up too late, and you want it to be earlier)&lt;br/&gt;– Take melatonin 9 hours after wake and 7 before sleep, eg 5 PM&lt;br/&gt;– Block blue light (eg with blue-blocker sunglasses or &lt;a href=&quot;https://justgetflux.com/&quot;&gt;f.lux&lt;/a&gt;) after sunset&lt;br/&gt;– Expose yourself to bright blue light (sunlight if possible, &lt;a href=&quot;https://en.wikipedia.org/wiki/Dawn_simulation&quot;&gt;dawn simulator&lt;/a&gt; or light boxes if not) early in the morning&lt;br/&gt;– Get early morning exercise&lt;br/&gt;– Beta-blockers early in the morning (not generally recommended, but if you’re taking beta-blockers, take them in the morning)&lt;/p&gt;
&lt;p&gt;&lt;u&gt;TO TREAT ADVANCED PHASE SLEEP DISORDER&lt;/u&gt; (ie you go to bed too early and wake up too early, and you want it to be later)&lt;br/&gt;– Take melatonin immediately after waking&lt;br/&gt;– Block blue light (eg with blue-blocker sunglasses or f.lux) early in the morning&lt;br/&gt;– Expose yourself to bright blue light (sunlight if possible, light boxes if not) in the evening.&lt;br/&gt;– Get late evening exercise&lt;br/&gt;– Beta-blockers in the evening (not generally recommended, but if you’re taking beta-blockers, take them in the evening)&lt;/p&gt;
&lt;p&gt;These don’t “cure” the condition permanently; you have to keep doing them every day, or your circadian rhythm will snap back to its natural pattern.&lt;/p&gt;
&lt;p&gt;What is the correct dose for these indications? Here there is a lot more controversy than the hypnotic dose. Of the nine studies van Geijlswijk describes, seven have doses of 5 mg, which suggests this is something of a standard for this purpose. But the only study to compare different doses directly (&lt;a href=&quot;http://sci-hub.tw/https://academic.oup.com/sleep/article-abstract/28/10/1271/2708107&quot;&gt;Mundey et al 2005&lt;/a&gt;) found no difference between a 0.3 and 3.0 mg dose. The &lt;a href=&quot;http://cochranelibrary-wiley.com/doi/10.1002/14651858.CD001520/abstract;jsessionid=20D65484B47838F671E48B9E263FA215.f03t03&quot;&gt;Cochrane Review on jet lag&lt;/a&gt;, which we’ll see is the same process, similarly finds no difference between 0.5 and 5.0.&lt;/p&gt;
&lt;p&gt;Van Geijlswijk makes the important point that if you take 0.3 mg seven hours before bedtime, none of it is going to be remaining in your system at bedtime, so it’s unclear how this even works. But – well, it &lt;em&gt;is&lt;/em&gt; pretty unclear how this works. In particular, I don’t think there’s a great well-understood physiological explanation for how taking melatonin early in the day shifts your circadian rhythm seven hours later.&lt;/p&gt;
&lt;p&gt;So I think the evidence points to 0.3 mg being a pretty good dose here too, but I wouldn’t blame you if you wanted to try taking more.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. How do I use melatonin for jet lag?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Most studies say to take a dose of 0.3 mg just before (your new time zone’s) bedtime.&lt;/p&gt;
&lt;p&gt;This doesn’t make a lot of sense to me. It seems like you should be able to model jet lag as a circadian rhythm disorder. That is, if you move to a time zone that’s five hours earlier, you’re in the exact same position as a teenager whose circadian rhythm is set five hours later than the rest of the world’s. This suggests you should use DSPD protocol of taking melatonin nine hours after waking / five hours before DLMO / seven hours before sleep.&lt;/p&gt;
&lt;p&gt;My guess is for most people, their new time zone bedtime &lt;em&gt;is&lt;/em&gt; a couple of hours before their old bedtime, so you’re getting most of the effect, plus the hypnotic effect. But I’m not sure. Maybe taking it earlier would work better. But given that the new light schedule is already working in your favor, I think most people find that taking it at bedtime is more than good enough for them.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. I try to use melatonin for sleep, but it just gives me weird dreams and makes me wake up very early&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is my experience too. When I use melatonin, I find I wake the next morning with a jolt of energy. Although I usually have to grudgingly pull myself out of bed, melatonin makes me wake up bright-eyed, smiling, and ready to face the day ahead of me…&lt;/p&gt;
&lt;p&gt;…at 4 AM, invariably. This is why despite my interest in this substance I never take melatonin myself anymore.&lt;/p&gt;
&lt;p&gt;There are many people like me. What’s going on with us, and can we find a way to make melatonin work for us?&lt;/p&gt;
&lt;p&gt;This &lt;a href=&quot;http://www.blueprintfitness.co.uk/how-melatonin-can-help-you-sleep-or-wake-you-up-early/&quot;&gt;bro-science site&lt;/a&gt; has an uncited theory. Melatonin is known to suppress cortisol production. And cortisol is inversely correlated with adrenaline. So if you’re naturally very low cortisol, melatonin spikes your adrenaline too high, producing the “wake with a jolt” phenomenon that I and some other people experience. I like the way these people think. They understand individual variability, their model is biologically plausible, and it makes sense. It’s also probably wrong; it has too many steps, and nothing in biology is ever this elegant or sensible.&lt;/p&gt;
&lt;p&gt;I think a more parsimonious theory would have to involve circadian rhythm in some way. Even an 0.3 mg dose of melatonin gives your body the absolute maximum amount of melatonin it would ever have during a natural circadian cycle. So suppose I want to go to bed at 11, and take 0.3 mg melatonin. Now my body has a melatonin peak (usually associated with the very middle of the night, like 3 AM) at 11. If it assumes that means it’s &lt;em&gt;really&lt;/em&gt; 3 AM, then it might decide to wake up 5 hours later, at what it thinks is 8 AM, but which is actually 4.&lt;/p&gt;
&lt;p&gt;I think I have a much weaker circadian rhythm than most people – at least, I take a lot of naps during the day, and fall asleep about equally well whenever. If that’s true, maybe melatonin acts as a superstimulus for me. The normal tendency to wake up feeling refreshed and alert gets exaggerated into a sudden irresistable jolt of awakeness.&lt;/p&gt;
&lt;p&gt;I don’t know if this is any closer to the truth than the adrenaline theory, but it at least fits what we know about circadian rhythms. I’m going to try to put some questions about melatonin response on the SSC survey this year, so start trying melatonin now so you can provide useful data.&lt;/p&gt;
&lt;p&gt;What about the weird dreams?&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.huffingtonpost.com/entry/crazy-melatonin-dreams_us_56fd59e6e4b0a06d58051de8&quot;&gt;a HuffPo article&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote readability=&quot;22&quot;&gt;
&lt;p&gt;Dr. Rafael Pelayo, a Stanford University professor of sleep medicine, said he doesn’t think melatonin causes vivid dreams on its own. “Who takes melatonin? Someone who’s having trouble sleeping. And once you take anything for your sleep, once you start sleeping more or better, you have what’s called ‘REM rebound,’” he said.&lt;/p&gt;
&lt;p&gt;This means your body “catches up” on the sleep phase known as rapid eye movement, which is characterized by high levels of brain-wave activity.&lt;/p&gt;
&lt;p&gt;Normal subjects who take melatonin supplements in the controlled setting of a sleep lab do not spend more time dreaming or in REM sleep, Pelayo added. This suggests that there is no inherent property of melatonin that leads to more or weirder dreams.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Okay, but I usually have normal sleep. I take melatonin sometimes because I like experimenting with psychotropic substances. And I still get some really weird dreams. A Slate journalist &lt;a href=&quot;http://www.slate.com/blogs/the_drift/2015/11/05/you_will_never_dream_as_vividly_as_you_do_on_melatonin.html&quot;&gt;says&lt;/a&gt; he’s been taking melatonin for nine years and still gets crazy dreams.&lt;/p&gt;
&lt;p&gt;We know that REM sleep is most common towards the end of sleep in the early morning. And &lt;a href=&quot;http://journals.sagepub.com/doi/abs/10.1177/074873049701200618&quot;&gt;we know&lt;/a&gt; that some parts of sleep structure are responsive to melatonin directly. There’s a lot of debate over &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pubmed/14715839&quot;&gt;exactly what&lt;/a&gt; melatonin does to REM sleep, but given all the reports of altered dreaming, I think you could pull together a case that it has some role in sleep architecture that promotes or intensifies REM.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. Does this relate to any other psychiatric conditions?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Probably, but this is all still speculative.&lt;/p&gt;
&lt;p&gt;Seasonal affective disorder is the clearest suspect. We know that the seasonal mood changes don’t have anything to do with temperature; they seem to be based entirely on winter having shorter (vs. summer having longer) days.&lt;/p&gt;
&lt;p&gt;There’s some evidence that there are two separate kinds of winter depression. In one, the late sunrises train people to a late circadian rhythm and they end up phase-delayed. In the other, the early sunsets train people to an early circadian rhythm and they end up phase-advanced. Plausibly SAD also involves some combination of the two where the circadian rhythm doesn’t know what it’s doing. In either case, this can make sleep non-circadian-rhythm-congruent and so less effective at doing whatever it is sleep does, which causes mood problems.&lt;/p&gt;
&lt;p&gt;How does sunrise time affect the average person, who is rarely awake for the sunrise anyway and usually sleeps in a dark room? I think your brain subconsciously “notices” the time of the dawn even if you are asleep. There are some weird pathways leading from the eyes to the nucleus governing circadian rhythm that seem independent of any other kind of vision; these might be keeping tabs on the sunrise if even a little outside light is able to leak into your room. I’m basing this also on the claim that &lt;a href=&quot;https://en.wikipedia.org/wiki/Dawn_simulation&quot;&gt;dawn simulators&lt;/a&gt; work even if you sleep through them. I don’t know if people get seasonal affective disorder if they sleep in a completely enclosed spot (eg underground) where there’s no conceivable way for them to monitor sunrise times.&lt;/p&gt;
&lt;p&gt;Bright light is the standard treatment for SAD for the same reason it’s the standard treatment for any other circadian phase delay, but shouldn’t melatonin work also? Yes, and there are some preliminary studies (&lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3202495/&quot;&gt;paper&lt;/a&gt;, &lt;a href=&quot;https://www.sciencedaily.com/releases/2006/05/060501113832.htm&quot;&gt;article&lt;/a&gt;) showing it does. You have to be a bit careful, because some people are phase-delayed and others phase-advanced, and if you use melatonin the wrong way it will make things worse. But for the standard phase-delay type of SAD, normal phase advancing melatonin protocol seems to go well with bright light as an additional treatment.&lt;/p&gt;
&lt;p&gt;This model also explains the otherwise confusing tendency of some SAD sufferers to get depressed in the summer. The problem isn’t amount of light, it’s circadian rhythm disruption – which summer can do just as well as winter can.&lt;/p&gt;
&lt;p&gt;I’m also very suspicious there’s a strong circadian component to depression, based on a few lines of evidence.&lt;/p&gt;
&lt;p&gt;First, one of the most classic symptoms of depression is awakening in the very early morning and not being able to get back to sleep. This is confusing for depressed people, who usually think of themselves as very tired and needing to sleep more, but it definitely happens. This fits the profile for a circadian rhythm issue.&lt;/p&gt;
&lt;p&gt;Second, &lt;a href=&quot;https://en.wikipedia.org/wiki/Agomelatine&quot;&gt;agomelatine&lt;/a&gt;, a melatonin analogue, is an effective (ish) antidepressant.&lt;/p&gt;
&lt;p&gt;Third, for some reason &lt;a href=&quot;https://www.scientificamerican.com/article/fighting-depression-by-staying-awake/&quot;&gt;staying awake for 24+ hours&lt;/a&gt; is a very effective depression treatment (albeit temporary; you’ll go back to normal after sleeping). This seems to sort of be a way of telling your circadian rhythm “You can’t fire me, I quit”, and there are some complicated sleep deprivation / circadian shift protocols that try to leverage it into a longer-lasting cure. I don’t know anything about this, but it seems pretty interesting.&lt;/p&gt;
&lt;p&gt;Fourth, we checked and depressed people &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2612129/&quot;&gt;definitely have weird circadian rhythms&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Last of all, bipolar has a very strong circadian component. There aren’t a whole lot of lifestyle changes that really work for preventing bipolar mood episodes, but one of the big ones is keeping a steady bed and wake time. &lt;a href=&quot;https://en.wikipedia.org/wiki/Interpersonal_and_social_rhythm_therapy&quot;&gt;Social rhythms therapy&lt;/a&gt;, a rare effective psychotherapy for bipolar disorder, revolves around training bipolar people to control their circadian rhythms.&lt;/p&gt;
&lt;p&gt;Theories of why circadian rhythms matter so much revolve either around the idea of pro-circadian sleep – that sleep is more restorative and effective when it matches the circadian cycle – or the idea of multiple circadian rhythms, with the body functioning better when all of them are in sync.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7. How can I know what the best melatonin supplement is?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Labdoor has done purity tests on various brands and has &lt;a href=&quot;https://labdoor.com/rankings/melatonin&quot;&gt;ranked them&lt;/a&gt; for you. All the ones they highlight are still ten to thirty times the appropriate dose (also, stop calling them things like “Triple Strength!” You don’t &lt;em&gt;want&lt;/em&gt; your medications to be too strong!). As usual, I trust NootropicsDepot for things like this – and sure enough their melatonin (available &lt;a href=&quot;https://www.amazon.com/Melatonin-Capsules-Supports-Relaxation-Supplement/dp/B01HFN5NVU/ref=sr_1_15_a_it?ie=UTF8&amp;amp;qid=1530605913&amp;amp;sr=8-15&amp;amp;keywords=melatonin+0.3+mg&quot;&gt;on Amazon&lt;/a&gt;) is &lt;em&gt;exactly&lt;/em&gt; 0.3 mg. God bless them.&lt;/p&gt;
</description>
<pubDate>Sat, 28 Jul 2018 11:19:01 +0000</pubDate>
<dc:creator>cepp</dc:creator>
<og:type>article</og:type>
<og:url>https://www.lesswrong.com/</og:url>
<og:image>https://res.cloudinary.com/lesswrong-2-0/image/upload/v1503704344/sequencesgrid/h6vrwdypijqgsop7xwa0.jpg</og:image>
<og:title>LessWrong</og:title>
<og:description>A community blog devoted to refining the art of rationality</og:description>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.lesswrong.com/posts/E4cKD9iTWHaE7f3AJ/melatonin-much-more-than-you-wanted-to-know</dc:identifier>
</item>
<item>
<title>Keep a Changelog</title>
<link>https://keepachangelog.com</link>
<guid isPermaLink="true" >https://keepachangelog.com</guid>
<description>&lt;div class=&quot;answers&quot; readability=&quot;17&quot;&gt;
&lt;h3 id=&quot;what&quot;&gt; What is a changelog?&lt;/h3&gt;
&lt;p&gt;A changelog is a file which contains a curated, chronologically ordered list of notable changes for each version of a project.&lt;/p&gt;
&lt;h3 id=&quot;why&quot;&gt; Why keep a changelog?&lt;/h3&gt;
&lt;p&gt;To make it easier for users and contributors to see precisely what notable changes have been made between each release (or version) of the project.&lt;/p&gt;
&lt;h3 id=&quot;who&quot;&gt; Who needs a changelog?&lt;/h3&gt;
&lt;p&gt;People do. Whether consumers or developers, the end users of software are human beings who care about what's in the software. When the software changes, people want to know why and how.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;good-practices&quot;&gt;
&lt;h3 id=&quot;how&quot;&gt; How do I make a good changelog?&lt;/h3&gt;
&lt;h4 id=&quot;principles&quot;&gt; Guiding Principles&lt;/h4&gt;
&lt;ul&gt;&lt;li&gt;Changelogs are &lt;em&gt;for humans&lt;/em&gt;, not machines.&lt;/li&gt;
&lt;li&gt;There should be an entry for every single version.&lt;/li&gt;
&lt;li&gt;The same types of changes should be grouped.&lt;/li&gt;
&lt;li&gt;Versions and sections should be linkable.&lt;/li&gt;
&lt;li&gt;The latest version comes first.&lt;/li&gt;
&lt;li&gt;The release date of each version is displayed.&lt;/li&gt;
&lt;li&gt;Mention whether you follow &lt;a href=&quot;http://semver.org/&quot;&gt;Semantic Versioning&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;types&quot;&gt;Types of changes&lt;/h4&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;Added&lt;/code&gt; for new features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Changed&lt;/code&gt; for changes in existing functionality.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Deprecated&lt;/code&gt; for soon-to-be removed features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Removed&lt;/code&gt; for now removed features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Fixed&lt;/code&gt; for any bug fixes.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Security&lt;/code&gt; in case of vulnerabilities.&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div class=&quot;effort&quot; readability=&quot;9&quot;&gt;
&lt;h3 id=&quot;effort&quot;&gt; How can I reduce the effort required to maintain a changelog?&lt;/h3&gt;
&lt;p&gt;Keep an &lt;code&gt;Unreleased&lt;/code&gt; section at the top to track upcoming changes.&lt;/p&gt;
&lt;p&gt;This serves two purposes:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;People can see what changes they might expect in upcoming releases&lt;/li&gt;
&lt;li&gt;At release time, you can move the &lt;code&gt;Unreleased&lt;/code&gt; section changes into a new release version section.&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;div class=&quot;bad-practices&quot; readability=&quot;43.222222222222&quot;&gt;
&lt;h3 id=&quot;bad-practices&quot;&gt; Can changelogs be bad?&lt;/h3&gt;
&lt;p&gt;Yes. Here are a few ways they can be less than useful.&lt;/p&gt;
&lt;h4 id=&quot;log-diffs&quot;&gt; Commit log diffs&lt;/h4&gt;
&lt;p&gt;Using commit log diffs as changelogs is a bad idea: they're full of noise. Things like merge commits, commits with obscure titles, documentation changes, etc.&lt;/p&gt;
&lt;p&gt;The purpose of a commit is to document a step in the evolution of the source code. Some projects clean up commits, some don't.&lt;/p&gt;
&lt;p&gt;The purpose of a changelog entry is to document the noteworthy difference, often across multiple commits, to communicate them clearly to end users.&lt;/p&gt;
&lt;h4 id=&quot;ignoring-deprecations&quot;&gt; Ignoring Deprecations&lt;/h4&gt;
&lt;p&gt;When people upgrade from one version to another, it should be painfully clear when something will break. It should be possible to upgrade to a version that lists deprecations, remove what's deprecated, then upgrade to the version where the deprecations become removals.&lt;/p&gt;
&lt;p&gt;If you do nothing else, list deprecations, removals, and any breaking changes in your changelog.&lt;/p&gt;
&lt;h4 id=&quot;confusing-dates&quot;&gt; Confusing Dates&lt;/h4&gt;
&lt;p&gt;Regional date formats vary throughout the world and it's often difficult to find a human-friendly date format that feels intuitive to everyone. The advantage of dates formatted like &lt;code&gt;2017-07-17&lt;/code&gt; is that they follow the order of largest to smallest units: year, month, and day. This format also doesn't overlap in ambiguous ways with other date formats, unlike some regional formats that switch the position of month and day numbers. These reasons, and the fact this date format is an &lt;a href=&quot;http://www.iso.org/iso/home/standards/iso8601.htm&quot;&gt;ISO standard&lt;/a&gt;, are why it is the recommended date format for changelog entries.&lt;/p&gt;
&lt;aside&gt;There’s more. Help me collect these antipatterns by &lt;a href=&quot;https://github.com/olivierlacan/keep-a-changelog/issues&quot;&gt;opening an issue&lt;/a&gt; or a pull request.&lt;/aside&gt;&lt;/div&gt;
&lt;div class=&quot;frequently-asked-questions&quot; readability=&quot;63.243243243243&quot;&gt;
&lt;h3 id=&quot;frequently-asked-questions&quot;&gt; Frequently Asked Questions&lt;/h3&gt;
&lt;h4 id=&quot;standard&quot;&gt; Is there a standard changelog format?&lt;/h4&gt;
&lt;p&gt;Not really. There's the GNU changelog style guide, or the two- paragraph-long GNU NEWS file &quot;guideline&quot;. Both are inadequate or insufficient.&lt;/p&gt;
&lt;p&gt;This project aims to be &lt;a href=&quot;https://github.com/olivierlacan/keep-a-changelog/blob/master/CHANGELOG.md&quot;&gt;a better changelog convention.&lt;/a&gt; It comes from observing good practices in the open source community and gathering them.&lt;/p&gt;
&lt;p&gt;Healthy criticism, discussion and suggestions for improvements &lt;a href=&quot;https://github.com/olivierlacan/keep-a-changelog/issues&quot;&gt;are welcome.&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;filename&quot;&gt; What should the changelog file be named?&lt;/h4&gt;
&lt;p&gt;Call it &lt;code&gt;CHANGELOG.md&lt;/code&gt;. Some projects use &lt;code&gt;HISTORY&lt;/code&gt;, &lt;code&gt;NEWS&lt;/code&gt; or &lt;code&gt;RELEASES&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;While it's easy to think that the name of your changelog file doesn't matter that much, why make it harder for your end users to consistently find notable changes?&lt;/p&gt;
&lt;h4 id=&quot;github-releases&quot;&gt; What about GitHub Releases?&lt;/h4&gt;
&lt;p&gt;It's a great initiative. &lt;a href=&quot;https://help.github.com/articles/creating-releases/&quot;&gt;Releases&lt;/a&gt; can be used to turn simple git tags (for example a tag named &lt;code&gt;v1.0.0&lt;/code&gt;) into rich release notes by manually adding release notes or it can pull annotated git tag messages and turn them into notes.&lt;/p&gt;
&lt;p&gt;GitHub Releases create a non-portable changelog that can only be displayed to users within the context of GitHub. It's possible to make them look very much like the Keep a Changelog format, but it tends to be a bit more involved.&lt;/p&gt;
&lt;p&gt;The current version of GitHub releases is also arguably not very discoverable by end-users, unlike the typical uppercase files (&lt;code&gt;README&lt;/code&gt;, &lt;code&gt;CONTRIBUTING&lt;/code&gt;, etc.). Another minor issue is that the interface doesn't currently offer links to commit logs between each release.&lt;/p&gt;
&lt;h4 id=&quot;automatic&quot;&gt; Can changelogs be automatically parsed?&lt;/h4&gt;
&lt;p&gt;It’s difficult, because people follow wildly different formats and file names.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tech-angels/vandamme/&quot;&gt;Vandamme&lt;/a&gt; is a Ruby gem created by the &lt;a href=&quot;https://gemnasium.com/&quot;&gt;Gemnasium&lt;/a&gt; team and which parses many (but not all) open source project changelogs.&lt;/p&gt;
&lt;h4 id=&quot;yanked&quot;&gt; What about yanked releases?&lt;/h4&gt;
&lt;p&gt;Yanked releases are versions that had to be pulled because of a serious bug or security issue. Often these versions don't even appear in change logs. They should. This is how you should display them:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;## 0.0.5 - 2014-12-13 [YANKED]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;[YANKED]&lt;/code&gt; tag is loud for a reason. It's important for people to notice it. Since it's surrounded by brackets it's also easier to parse programmatically.&lt;/p&gt;
&lt;h4 id=&quot;rewrite&quot;&gt; Should you ever rewrite a changelog?&lt;/h4&gt;
&lt;p&gt;Sure. There are always good reasons to improve a changelog. I regularly open pull requests to add missing releases to open source projects with unmaintained changelogs.&lt;/p&gt;
&lt;p&gt;It's also possible you may discover that you forgot to address a breaking change in the notes for a version. It's obviously important for you to update your changelog in this case.&lt;/p&gt;
&lt;h4 id=&quot;contribute&quot;&gt; How can I contribute?&lt;/h4&gt;
&lt;p&gt;This document is not the &lt;strong&gt;truth&lt;/strong&gt;; it’s my carefully considered opinion, along with information and examples I gathered.&lt;/p&gt;
&lt;p&gt;This is because I want our community to reach a consensus. I believe the discussion is as important as the end result.&lt;/p&gt;
&lt;p&gt;So please &lt;strong&gt;&lt;a href=&quot;https://github.com/olivierlacan/keep-a-changelog&quot;&gt;pitch in&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;press&quot; readability=&quot;7.9137931034483&quot;&gt;
&lt;h3&gt;Conversations&lt;/h3&gt;
&lt;p&gt;I went on &lt;a href=&quot;http://5by5.tv/changelog/127&quot;&gt;The Changelog podcast&lt;/a&gt; to talk about why maintainers and contributors should care about changelogs, and also about the motivations behind this project.&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Sat, 28 Jul 2018 03:18:53 +0000</pubDate>
<dc:creator>privong</dc:creator>
<og:title>Keep a Changelog</og:title>
<og:type>article</og:type>
<og:url>http://keepachangelog.com/en/1.0.0/</og:url>
<og:description>Keep a Changelog</og:description>
<og:image>/assets/images/logo-fe0986a5.png</og:image>
<dc:format>text/html</dc:format>
<dc:identifier>https://keepachangelog.com/en/1.0.0/</dc:identifier>
</item>
</channel>
</rss>