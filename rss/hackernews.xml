<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Turn the web into a database: An alternative to web crawling</title>
<link>https://www.mixnode.com/blog/posts/turn-the-web-into-a-database-an-alternative-to-web-crawling-scraping</link>
<guid isPermaLink="true" >https://www.mixnode.com/blog/posts/turn-the-web-into-a-database-an-alternative-to-web-crawling-scraping</guid>
<description>&lt;p&gt;After months of development we are incredibly excited to announce that starting today Mixnode will enter private beta and we will start sending invitations to the awesome, patient people on the waiting list. Once you receive your invitation you can create an account and take Mixnode for a spin. If you haven't done so yet, you can request an invite &lt;a href=&quot;https://www.mixnode.com&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;What is Mixnode?&lt;/h2&gt;
&lt;p&gt;Mixnode turns the web into a giant database!&lt;/p&gt;
&lt;p&gt;In other words, Mixnode allows you to think of all the web pages, images, videos, PDF files, and other resources on the web as rows in a database table; a giant database table with trillions of rows that you can query using the standard &lt;a href=&quot;https://en.wikipedia.org/wiki/SQL&quot;&gt;Structured Query Language (SQL)&lt;/a&gt;. So, rather than running web crawlers/scrapers you can write simple queries in a familiar language to retrieve all sorts of interesting information from this table of &lt;strong&gt;live&lt;/strong&gt; data.&lt;/p&gt;
&lt;img src=&quot;https://s3.amazonaws.com/assets.mixnode.com/particles.png&quot; id=&quot;web-image&quot;/&gt;&lt;img src=&quot;https://s3.amazonaws.com/assets.mixnode.com/arrow-bent.png&quot; id=&quot;arrow-bent&quot;/&gt;&lt;img src=&quot;https://s3.amazonaws.com/assets.mixnode.com/arrow-down.png&quot; id=&quot;arrow-down&quot;/&gt;&lt;div id=&quot;table-wrapper&quot; class=&quot;table-responsive&quot;&gt;
&lt;table class=&quot;table table-bordered results-table&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;url&lt;/th&gt;
&lt;th&gt;content_type&lt;/th&gt;
&lt;th&gt;content_language&lt;/th&gt;
&lt;th&gt;content&lt;/th&gt;
&lt;th&gt;headers&lt;/th&gt;
&lt;th&gt;url_protocol&lt;/th&gt;
&lt;th&gt;url_host&lt;/th&gt;
&lt;th&gt;url_domain&lt;/th&gt;
&lt;th&gt;url_etld&lt;/th&gt;
&lt;th&gt;url_abs_path&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;29&quot;&gt;&lt;tr readability=&quot;9&quot;&gt;&lt;td&gt;https://news.ycombinator.com/&lt;/td&gt;
&lt;td&gt;text/html; charset=utf-8&lt;/td&gt;
&lt;td&gt;en&lt;/td&gt;
&lt;td&gt;&amp;lt;html op=&quot;news&quot;&amp;gt;&amp;lt;head&amp;gt;&amp;lt;meta name=&quot;referrer&quot; content=&quot;origin&quot;&amp;gt;&amp;lt;meta name=&quot;viewport&quot; content=&quot;width=de&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;HTTP/1.1 200 OK Server: nginx Date: Mon, 24 Sep 2018 19:36:30 GMT Content-Type: text/html; charse&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;https&lt;/td&gt;
&lt;td&gt;news.ycombinator.com&lt;/td&gt;
&lt;td&gt;ycombinator.com&lt;/td&gt;
&lt;td&gt;com&lt;/td&gt;
&lt;td&gt;/&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;11&quot;&gt;&lt;td&gt;https://fr.wikipedia.org/wiki/Base_de_donn%C3%A9es&lt;/td&gt;
&lt;td&gt;text/html; charset=UTF-8&lt;/td&gt;
&lt;td&gt;fr&lt;/td&gt;
&lt;td&gt;&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html class=&quot;client-nojs&quot; lang=&quot;fr&quot; dir=&quot;ltr&quot;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&quot;UTF-8&quot;/&amp;gt; &amp;lt;title&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;HTTP/1.1 200 OK Date: Mon, 24 Sep 2018 19:39:49 GMT Content-Type: text/html; charset=UTF-8 Connec&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;https&lt;/td&gt;
&lt;td&gt;fr.wikipedia.org&lt;/td&gt;
&lt;td&gt;wikipedia.org&lt;/td&gt;
&lt;td&gt;org&lt;/td&gt;
&lt;td&gt;/wiki/Base_de_donn%C3%A9es&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;11&quot;&gt;&lt;td&gt;https://www.reddit.com/sitemaps/subreddit-sitemaps.xml&lt;/td&gt;
&lt;td&gt;text/xml&lt;/td&gt;
&lt;td&gt;&lt;span class=&quot;label label-default&quot;&gt;NULL&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&amp;lt;?xml version='1.0' encoding='UTF-8'?&amp;gt; &amp;lt;sitemapindex xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;HTTP/1.1 200 OK Last-Modified: Mon, 24 Sep 2018 06:13:14 GMT ETag: &quot;aeae350d08f76f005e2fe8098a4713&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;https&lt;/td&gt;
&lt;td&gt;www.reddit.com&lt;/td&gt;
&lt;td&gt;reddit.com&lt;/td&gt;
&lt;td&gt;com&lt;/td&gt;
&lt;td&gt;/sitemaps/subreddit-sitemaps.xml&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;10&quot;&gt;&lt;td&gt;http://www.diarioelpuerto.com.mx/&lt;/td&gt;
&lt;td&gt;text/html&lt;/td&gt;
&lt;td&gt;es&lt;/td&gt;
&lt;td&gt;&amp;lt;!DOCTYPE HTML&amp;gt; &amp;lt;html&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta name=&quot;google-site-verification&quot; content=&quot;SzDRrSxL_mhLV_bCAnR_s8e&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;HTTP/1.1 200 OK Date: Mon, 24 Sep 2018 19:13:26 GMT Server: Apache X-Powered-By: PHP/5.2.17 Keep&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;http&lt;/td&gt;
&lt;td&gt;www.diarioelpuerto.com.mx&lt;/td&gt;
&lt;td&gt;diarioelpuerto.com.mx&lt;/td&gt;
&lt;td&gt;com.mx&lt;/td&gt;
&lt;td&gt;/&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;8&quot;&gt;&lt;td&gt;http://www.wfnmc.org/mc20101.pdf&lt;/td&gt;
&lt;td&gt;application/pdf&lt;/td&gt;
&lt;td&gt;en&lt;/td&gt;
&lt;td&gt;%PDF-1.6 206 0 obj &amp;lt;&amp;lt;/Linearized 1/L 213940/O 208/E 89344/N 12/T 209772/H [ 1196 788]&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;HTTP/1.1 200 OK ETag: &quot;343b4-53e2b129-5cf784d6aa98c961&quot; Last-Modified: Wed, 06 Aug 2014 22:50:17 G&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;http&lt;/td&gt;
&lt;td&gt;www.wfnmc.org&lt;/td&gt;
&lt;td&gt;wfnmc.org&lt;/td&gt;
&lt;td&gt;org&lt;/td&gt;
&lt;td&gt;/mc20101.pdf&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;9&quot;&gt;&lt;td&gt;https://code.jquery.com/jquery-1.11.3.js&lt;/td&gt;
&lt;td&gt;application/javascript; charset=utf-8&lt;/td&gt;
&lt;td&gt;&lt;span class=&quot;label label-default&quot;&gt;NULL&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;/*! * jQuery JavaScript Library v1.11.3 * http://jquery.com/ * * Includes Sizzle.js * http://si&lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;HTTP/1.1 200 OK Date: Mon, 24 Sep 2018 19:55:14 GMT Connection: Keep-Alive Accept-Ranges: bytes &lt;span&gt;...&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;https&lt;/td&gt;
&lt;td&gt;code.jquery.com&lt;/td&gt;
&lt;td&gt;jquery.com&lt;/td&gt;
&lt;td&gt;com&lt;/td&gt;
&lt;td&gt;/jquery-1.11.3.js&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;10&quot;&gt;...&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;Mixnode turns the web into a giant database table with multiple columns.&lt;/p&gt;
&lt;p&gt;Just like a regular database table, you are provided with several &lt;em&gt;columns&lt;/em&gt; (a.k.a. &lt;em&gt;fields&lt;/em&gt;) that represent different attributes of web resources such as URL, content, content type, content language, domain name, ... Additionally, Mixnode comes with hundreds of functions that you can use to further analyze the data in any way that you want. From parsing HTML/XML and JSON to handling date/time and processing text, there are numerous built-in functions to use directly in your queries.&lt;/p&gt;
&lt;p&gt;As a simple example, using Mixnode, getting the URL and title of every web page from the web boils down to a simple SQL query:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-sql&quot;&gt;select 
    url,
    string_between(content, '&amp;lt;title&amp;gt;', '&amp;lt;/title&amp;gt;') as title
from
    resources
where
    content_type like 'text/html%'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Where the results will look similar to:&lt;/p&gt;
&lt;div class=&quot;table-responsive&quot;&gt;
&lt;table class=&quot;table table-bordered results-table&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;url&lt;/th&gt;
&lt;th&gt;title&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;10.5&quot;&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;https://stackoverflow.com/questions/8318911/why-does-html-think-chucknorris-is-a-color&lt;/td&gt;
&lt;td&gt;[Why does HTML think “chucknorris” is a color? - Stack Overflow]&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;https://en.wikipedia.org/wiki/List_of_animals_with_fraudulent_diplomas&lt;/td&gt;
&lt;td&gt;[List of animals with fraudulent diplomas - Wikipedia]&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td&gt;https://www.amazon.co.jp/dp/B06XXQD54H/&lt;/td&gt;
&lt;td&gt;[Amazon | アクータメンツ フィンガーリス 指人形 フィンガーパペット 指人形 | おもちゃ雑貨 | おもちゃ]&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;https://www.reddit.com/r/funny/comments/5yhipb/its_a_bit_breezy_out_there_today/&lt;/td&gt;
&lt;td&gt;[It's a bit breezy out there today : funny]&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td&gt;https://imgur.com/gallery/cJO834B&lt;/td&gt;
&lt;td&gt;[Just cause you pelican doesn't mean you pelishould - Album on Imgur]&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;3&quot;&gt;...&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;You can expand this query in any number of ways by utilizing the built-in columns and functions of Mixnode. For example, if you wanted to get the title of every English web page you could simply use a condition on the &lt;code&gt;content_language&lt;/code&gt; column:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-sql&quot;&gt;select 
    url,
    string_between(content, '&amp;lt;title&amp;gt;', '&amp;lt;/title&amp;gt;') as title
from
    resources
where
    content_type like 'text/html%' and
    content_language = 'en'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Did you want the title and first paragraph of every English web page? The &lt;code&gt;css_text_first&lt;/code&gt; function has you covered:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-sql&quot;&gt;select 
    url,
    string_between(content, '&amp;lt;title&amp;gt;', '&amp;lt;/title&amp;gt;') as title,
    css_text_first(content, 'p') as first_paragraph
from
    resources
where
    content_type like 'text/html%' and
    content_language = 'en'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Same query, but only on &lt;code&gt;.net&lt;/code&gt; domains? You only need to use the &lt;code&gt;url_etld&lt;/code&gt; column:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-sql&quot;&gt;select 
    url,
    string_between(content, '&amp;lt;title&amp;gt;', '&amp;lt;/title&amp;gt;') as title,
    css_text_first(content, 'p') as first_paragraph
from
    resources
where
    content_type like 'text/html%' and
    content_language = 'en' and
    url_etld = 'net'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Consider the question &lt;em&gt;&quot;Sort the English Wikipedia articles by length&quot;&lt;/em&gt;. All you need to answer this question is to use the &lt;code&gt;order by&lt;/code&gt; clause:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-sql&quot;&gt;select
    url,
    cardinality(words(content)) as article_length
from 
    resources
where 
    url_host = 'en.wikipedia.org' and
    url_abs_path like '/wiki/%'
order by article_length desc&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;By combining table columns and built-in functions you can practically analyze the web in an infinite number of ways. Additionally, you can integrate Mixnode with external data sources (e.g. sending and receiving data from Amazon S3) and create even more flexible queries.&lt;/p&gt;
&lt;h2&gt;Give it a try!&lt;/h2&gt;
&lt;p&gt;Mixnode allows you to focus only on what you need to get from the web and not how to get it. It is an end-to-end solution that takes you from question to answer with a simple query; you don't need to deploy web crawlers or run scrapers, you don't need to process raw data, and there are no &quot;intermediate results&quot;.&lt;/p&gt;
&lt;p&gt;We are super excited to finally share this amazing technology with the world. Once you receive your invitation you can create an account and start using Mixnode. You can request an invite &lt;a href=&quot;https://www.mixnode.com&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Last but not least, we would love to hear from you! Please contacts us at &lt;a href=&quot;mailto:hi@mixnode.com&quot;&gt;hi@mixnode.com&lt;/a&gt; if you have any questions or comments.&lt;/p&gt;
</description>
<pubDate>Sun, 07 Oct 2018 16:27:06 +0000</pubDate>
<dc:creator>cloudblare</dc:creator>
<og:image>https://www.mixnode.com/img/og_image.png</og:image>
<og:title>Turn the web into a database: An alternative to web crawling/scraping - Mixnode News Blog</og:title>
<og:description>Mixnode allows you to execute SQL against the web.</og:description>
<og:url>https://www.mixnode.com/blog/posts/turn-the-web-into-a-database-an-alternative-to-web-crawling-scraping</og:url>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.mixnode.com/blog/posts/turn-the-web-into-a-database-an-alternative-to-web-crawling-scraping</dc:identifier>
</item>
<item>
<title>Update to Ask HN: What to do if I’m about to lose my job to mental health issues</title>
<link>https://pastebin.com/raw/RdLGZpSC</link>
<guid isPermaLink="true" >https://pastebin.com/raw/RdLGZpSC</guid>
<description>&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body id=&quot;readabilityBody&quot; readability=&quot;88&quot;&gt;
&lt;p&gt;It's hard to imagine it's been 4 months since my original post, in a sense it feels like it has been much longer than that. I received a lot of support and encouragement from Hacker News, at a difficult time, and I felt now was a good time to give an update to the community that helped me move forward from then. Because of the encouragement I got, the very next morning I approached my manager and told them the truth. I told them about my depression, the problems with motivation it has been causing. And in the end, that kept me from losing my job immediately. I also went to see a therapist, and that ended up being one of the most important steps out of my situation. He supported me no matter how bleak things seemed and helped me keep myself accountable even when I lacked the motivation to complete basic tasks. Because I had mentioned depression, my work wanted a doctor to fill out forms detailing my depression as a disability. However, I hadn't been to a doctor in years. My physician wasn't able to fill out the forms, the therapist didn't have enough history to fill it out, and so for a few more weeks, I went back and forth between sources trying to get it filled out. But eventually, my work had enough, understandably. My lateness had barely improved, and now I was additionally distracted by the burden of thinking on any given day I'd be called in and fired. One day, about a month and a half later, it happened. I remember I had asked for a day off midweek and didn't get a response from my manager, and suspecting something was wrong. The next day I was sat down in front of the CEO and the closest person we had to HR. I remember feeling frustration, anger, and even guilt in the first few moments I realized I was being fired. But by the time I got to my car I felt free. Fortunately, I had been searching for work before that day, my therapist had helped me realize, part of my depression was from feeling the job was inadequate. It involved minimal effort and had failed to fulfill what I was looking for when I left my last position, namely working with a team (it started as a 3 person dev team and by the time I left it was just me and my manager). So the day I had asked off for was actually to travel to a final interview. It was difficult being fired on a Tuesday and flying off to an interview on a Thursday, but I knew that I had to make it work. In the state I was in, restarting the process at another company would have been too draining, and I'd really be in a difficult position. The interview went well, the company was everything I was looking for, demanding work with a proven track record for caring about developer wellbeing, a strong team that would help me grow as a developer, and I was a good fit. My flight home hadn't landed before I got the good news that I would be getting an offer. At this point, I realize the post has gone on for a bit so I'll skip over some of the details. The job was about 1000 miles away from where I lived, so I was given a month to move. It was a difficult month and I regret how I spent it in retrospect. My savings had already been wiped out by a car accident, so I spent a month not paying bills, moping at home, and my depression got to the worst it had been in years. But as the day I had to move came around I knew I had to do something, and somehow I rallied myself and made it to the job. The position has been great, I love the company and my coworkers, and they have entirely &quot;walked the walk&quot; to all the great things I heard about their approach to development and treating employees. I can't say everything is perfect, but that's life. And things are better. I've put off finding a new therapist and psychiatrist because of the same catch-22 that was affecting me earlier, being depressed removing my motivation, but writing this post and reliving the last few months has reminded me that nothing good will come of continuing that. My finances were a mess before, but I think I hit a new bottom. My parents had to loan me money pay rent and bills, and while I'm incredibly grateful to them and feel somewhat selfish for saying this, it didn't help my psyche. Suddenly my sense of agency is affected realizing despite making as much as I was for as long as I was, I was literally one paycheck away from having to depend on my parents. I'll add the experience has taught me a lot. Before this ordeal, I was naive in my views of money. I always felt there'd be time to save later, that saving is for the long-term. But I can't imagine how much better my mental health would have been if I could have left the company on my own terms. If that last month hadn't been spent panicking about bills and rent. I'll never look at savings the same way again, and even now I'm trying to find freelance gigs to catch up on all my unpaid bills. It also made me appreciate the power of having someone to talk to. My post 4 months ago is why I'm here today. It's the singular action that pushed me to talk to my work, to talk to a therapist, and eventually to talk to my parents. The truth is it's easy to hole yourself up when you reach a dark enough place, but sometimes staying silent is its own torture. Even talking to my creditors instead of ignoring their calls helped, often times they were more sympathetic to my situation than I would have ever imagined. I've written a wall of text, and in some ways, it's exhausting to write about those times again, so I'll end this here, with a thank you once again to this community for helping me find my way. I hope one day I can find a way to pass it on, but until then I'll continue to take all the support I've been given forward.&lt;/p&gt;
&lt;/body&gt;</description>
<pubDate>Sun, 07 Oct 2018 14:42:08 +0000</pubDate>
<dc:creator>throwawaydev00</dc:creator>
<dc:format>text/plain</dc:format>
<dc:identifier>https://pastebin.com/raw/RdLGZpSC</dc:identifier>
</item>
<item>
<title>A Year in Clojure</title>
<link>https://blog.taylorwood.io/2017/09/15/year-behind.html</link>
<guid isPermaLink="true" >https://blog.taylorwood.io/2017/09/15/year-behind.html</guid>
<description>&lt;p&gt;A lot has changed since my last post nearly a year ago. I want to write about my experience coming from a ML-family language to a Lisp. It’s not very informative as a tutorial; it’s mostly scattershot notes and things I’ve found interesting along the way.&lt;/p&gt;&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;&lt;em&gt;Updated 2018-10-07: Sequences; 2018-10-04: Some corrections from feedback; 2018-02-11: Added notes on metadata, pre-/post-conditions, and refactoring.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;background&quot;&gt;Background&lt;/h2&gt;
&lt;p&gt;My first exposure to functional programming was through a book called &lt;a href=&quot;https://mitpress.mit.edu/books/little-schemer&quot;&gt;The Little Schemer&lt;/a&gt;: a fairly thin, flourescent, mind-melting paperback that I’m not quite sure how I came upon. I’d been programming for ten years but reading it was like reincarnating my inner programmer.&lt;/p&gt;
&lt;p&gt;I was working mostly with .NET at the time so F# was a natural choice for functional exploration, even though it wasn’t a Lisp. After a few years of F# I found myself back in Lispland.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://blog.taylorwood.io/img/oh-lawd.jpeg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;My new language was &lt;a href=&quot;https://clojure.org&quot;&gt;Clojure&lt;/a&gt; and it was totally foreign. So many parentheses instead of semantic whitespace. No rigid type system to keep me honest. How am I going to deal with these parentheses? &lt;em&gt;(Thank you, &lt;a href=&quot;https://shaunlebron.github.io/parinfer/&quot;&gt;Parinfer!&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;While this was another functional language, it encouraged a very different style of programming — one I thought I wouldn’t like with all the ambiguity of dynamic typing. How am I supposed to feel my program is even possibly correct if the compiler isn’t telling me so? ML is so expressive in its ability to model a problem domain with algebraic data types, and for the most part isn’t littered with type hints thanks to inference.&lt;/p&gt;
&lt;h2 id=&quot;first-impressions&quot;&gt;First Impressions&lt;/h2&gt;
&lt;p&gt;First I looked for analogues of ML/F#. I quickly found all the familiar functional tidbits pretty much unchanged.&lt;/p&gt;
&lt;p&gt;I wondered why there’s a &lt;code class=&quot;highlighter-rouge&quot;&gt;reduce&lt;/code&gt; in clojure.core but no &lt;code class=&quot;highlighter-rouge&quot;&gt;fold&lt;/code&gt;? (It’s just a different arity of &lt;code class=&quot;highlighter-rouge&quot;&gt;reduce&lt;/code&gt; that’s missing the initial state.)&lt;/p&gt;
&lt;p&gt;There were record types but they didn’t seem often used. Polymorphism via protocols and multimethods seemed like powerful tools, but I only see them used sparingly.&lt;/p&gt;
&lt;p&gt;Where’s the pattern matching? I found &lt;a href=&quot;https://github.com/clojure/core.match&quot;&gt;clojure.core.match&lt;/a&gt; but I’ve never felt motivated enough to try it, nor have I seen it used. I have no idea about the state of pattern matching in other Lisps, but I assume it’s a similar situation. &lt;code class=&quot;highlighter-rouge&quot;&gt;cond&lt;/code&gt; gets you most of the way there I suppose?&lt;/p&gt;
&lt;p&gt;No tuple type? Vectors are tuples. “What if one of the vectors is of a different length?” I gasped as I clutched my pearl monads.&lt;/p&gt;
&lt;p&gt;I was sure I’d miss discriminated union types. There seemed like no stand-in for those, although I think clojure.spec’s &lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt; might facilitate something similar.&lt;/p&gt;
&lt;p&gt;The reality of the Clojure language design started to sink in. The language itself was extremely &lt;em&gt;basic.&lt;/em&gt; There was so little syntax to learn that I could be productive almost immediately. Conversely, even when writing F# daily I sometimes forgot less common syntax. (Do I need a semicolon or comma in this record definition?!)&lt;/p&gt;
&lt;p&gt;I was able to easily dive into clojure.core source interactively while I coded, which usually required third-party tools for FSharp.Core and .NET in general. I do find myself reading more third-party Clojure code out of necessity, a little more than I needed to with F#/.NET, and I chalk it up to needing to read code to see what it &lt;em&gt;does&lt;/em&gt; rather than making assumptions based on the &lt;em&gt;types&lt;/em&gt; it works on.&lt;/p&gt;

&lt;h2 id=&quot;keywords&quot;&gt;Keywords&lt;/h2&gt;
&lt;p&gt;These are everywhere in Clojure. I think of these as more-or-less interned strings that are granted some special abilities.&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;no&quot;&gt;:foo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; a keyword&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You can think of that as &lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;foo&quot;&lt;/code&gt; for most intents and purposes, and there’s a pair of functions for converting between keywords and strings.&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;keyword&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:foo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Keywords are the de facto &lt;em&gt;type&lt;/em&gt; for keys in map literals e.g.&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Bill&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:age&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Keywords can also be used as functions of maps i.e. to get a value from the map by keyword: &lt;code class=&quot;highlighter-rouge&quot;&gt;(:foo m)&lt;/code&gt;. They can be namespaced to avoid naming collisions e.g. &lt;code class=&quot;highlighter-rouge&quot;&gt;:my-namespace/foo&lt;/code&gt;. Note the &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt; of the namespaced keyword is just the part after the &lt;code class=&quot;highlighter-rouge&quot;&gt;/&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Keywords don’t have to be &lt;em&gt;declared&lt;/em&gt; anywhere before use; they’re just literals. I’ve read/heard the Clojure designers encourage the use of namespaced keywords, but I rarely encounter them outside clojure.spec definitions.&lt;/p&gt;
&lt;p&gt;It’s also common to &lt;em&gt;keywordize&lt;/em&gt; ingested data structures like JSON objects, XML DOMs, etc.&lt;/p&gt;
&lt;h2 id=&quot;arity&quot;&gt;Arity&lt;/h2&gt;
&lt;p&gt;A really neat-o thing about Clojure functions is the ability to define functions of arbitrary/variadic arity. In these cases the numerous arguments are bound to a collection: either a vector or a map, and a map can be thought of as a collection of key/value tuples. A basic example of this is the &lt;code class=&quot;highlighter-rouge&quot;&gt;+&lt;/code&gt; function:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;more&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here, &lt;code class=&quot;highlighter-rouge&quot;&gt;more&lt;/code&gt; can be any number of additional arguments. This ties into another concept that was new to me: &lt;em&gt;applying&lt;/em&gt; a sequence of arguments to a function.&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Clojure has a nice compact way of defining multiple function arities: a single function symbol form with each arglist + implementation in parentheses:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;defn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;And you do get some compile-time safety checks on function arities.&lt;/p&gt;
&lt;p&gt;I wondered what the equivalent of F#’s &lt;code class=&quot;highlighter-rouge&quot;&gt;Seq.zip&lt;/code&gt; was in Clojure but a quick search turned up nothing. I didn’t realize you could simply pass &lt;em&gt;more than one&lt;/em&gt; collection to &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;, and the step function would then take an argument per collection. This seemed really like a really elegant use of variable-arity functions and there are several examples of this technique in clojure.core.&lt;/p&gt;
&lt;p&gt;Multi-arity functions are also one way Clojure deals with named optional arguments. Both these function calls use the same function definition:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:append&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:path&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;~/.sup&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The additional “arguments” are actually treated as a map and I’ve seen this style referred to as &lt;em&gt;kwargs&lt;/em&gt;. It’s a form of destructuring in the function signature like this:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:keys&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]}]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This syntax obviously requires an even number of key/value pair arguments.&lt;/p&gt;
&lt;h2 id=&quot;destructuring&quot;&gt;Destructuring&lt;/h2&gt;
&lt;p&gt;I used destructuring in F# most often in pattern matching clauses. In Clojure I’m finding most destructuring I do involves getting values from maps, followed by grabbing items from sequences by position.&lt;/p&gt;
&lt;p&gt;The map destructuring syntax is powerful and a bit confusing at first although it seems so simple now. It even allows you to specify default values for keys that aren’t present in the map, all in one line:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:keys&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:or&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:as&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;foo&lt;/code&gt; will have the map’s value for key &lt;code class=&quot;highlighter-rouge&quot;&gt;:foo&lt;/code&gt;, or &lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt; if the map doesn’t have a &lt;code class=&quot;highlighter-rouge&quot;&gt;:foo&lt;/code&gt; key, and &lt;code class=&quot;highlighter-rouge&quot;&gt;m&lt;/code&gt; is bound to the entire map. This makes getting values from maps very easy and terse. You can also &lt;em&gt;alias&lt;/em&gt; destructurings inline:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;another-name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Another neat feature is positional destructuring, commonly used with vectors. In addition to the traditional &lt;em&gt;head and tail&lt;/em&gt; destructuring of sequences, you have more flexibility with the &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; syntax.&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here, &lt;code class=&quot;highlighter-rouge&quot;&gt;x&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;xs&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;[2 3]&lt;/code&gt;. But you can also do this:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here, &lt;code class=&quot;highlighter-rouge&quot;&gt;x&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;2&lt;/code&gt;. The nested destructuring indicates we only care about the first element of the tail.&lt;/p&gt;
&lt;p&gt;You can also destructure more than one binding before the &lt;em&gt;tail&lt;/em&gt; like so:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here, &lt;code class=&quot;highlighter-rouge&quot;&gt;x&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;y&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;2&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;zs&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;[3]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In the “anything goes” spirit, positional destructuring doesn’t throw exceptions on “failure”:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here, &lt;code class=&quot;highlighter-rouge&quot;&gt;z&lt;/code&gt; will simply be nil as there is no third element. The same goes for map destructuring i.e. you just get nil back for keys that aren’t in the map.&lt;/p&gt;
&lt;p&gt;All this destructuring is also available in function argument signatures! This allows for flexible function signatures and can get a lot of argument destructuring “out of the way” of the function’s body — a nice separation of concerns. In some sense, you can imagine all Clojure function argument bindings as a destructured vector.&lt;/p&gt;
&lt;p&gt;Destructurings can be nested but it becomes unreadable two–three levels deep.&lt;/p&gt;

&lt;h2 id=&quot;data&quot;&gt;Data&lt;/h2&gt;
&lt;p&gt;Clojure and F# have similar data structures but working with them in Clojure feels lower-ceremony. The literal syntax is nice and terse and all the basic data structures can be conveniently composed and transformed.&lt;/p&gt;
&lt;p&gt;Maps would seem to be Clojure’s commonplace record type, even though it has &lt;code class=&quot;highlighter-rouge&quot;&gt;defrecord&lt;/code&gt; ~which seems &lt;a href=&quot;https://groups.google.com/d/msg/clojure/pnDl4OgzqBM/zjDioSsxkvEJ&quot;&gt;somewhat deprecated&lt;/a&gt;~ &lt;em&gt;(correction: &lt;code class=&quot;highlighter-rouge&quot;&gt;defrecord&lt;/code&gt; isn’t considered deprecated; structs are)&lt;/em&gt;. Something that bugged me about this initially was there were no guarantees a &lt;em&gt;record&lt;/em&gt; (map) would contain what you expected, or that it wouldn’t contain a bunch of stuff you &lt;em&gt;didn’t&lt;/em&gt; expect! I came to realize this doesn’t matter in practice as often as I thought.&lt;/p&gt;
&lt;h3 id=&quot;clojurespec&quot;&gt;clojure.spec&lt;/h3&gt;
&lt;p&gt;I can’t talk about data in Clojure without talking about &lt;a href=&quot;https://clojure.org/about/spec&quot;&gt;clojure.spec&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;I believe there’s a drawback to the ambiguities of working with data in Clojure, and one that clojure.spec can address: sometimes you really do need a rigid &lt;em&gt;specification&lt;/em&gt; of data. With clojure.spec you can &lt;em&gt;specify&lt;/em&gt; the shape of data (in a machine-readable format), then use that to &lt;em&gt;verify&lt;/em&gt; properties of functions of that data (via generative and property-based testing), and a whole lot more. I’ve even leveraged clojure.spec to generate API documentation and sample code. Watch this &lt;a href=&quot;https://www.youtube.com/watch?v=oyLBGkS5ICk&quot;&gt;excellent talk&lt;/a&gt; for more on clojure.spec.&lt;/p&gt;
&lt;p&gt;Spec solves many problems but what interested me at first was using it as a sort of opt-in &lt;em&gt;gradual typing&lt;/em&gt; system for my projects. I could write specs for only the data structures and functions I wanted. With function specs, I could assert the inputs and outputs to specific functions at runtime; not quite as reassuring as compile-time but better than nothing!&lt;/p&gt;
&lt;p&gt;I hope clojure.spec adoption continues and this kind of opt-in checking becomes more prevalent. I think there’s a very sweet spot to occupy between &lt;em&gt;everything must be explicitly typed&lt;/em&gt; and total dynamic ambiguity. The new Clojure JDBC library shipping with specs is hopefully a good sign of what’s to come.&lt;/p&gt;
&lt;h3 id=&quot;code-as-data&quot;&gt;Code as Data&lt;/h3&gt;
&lt;p&gt;Whatever superlative or diss you might use to describe a Lisp’s syntax or lack thereof, it makes one thing evident: your code itself is just data, and data can be &lt;em&gt;manipulated.&lt;/em&gt; A function at rest is just a list containing other lists and data structures. &lt;em&gt;Code as data&lt;/em&gt; was one of the profound enlightenment moments I’ve had as a programmer, and one that can’t be realized in most popular languages.&lt;/p&gt;
&lt;p&gt;Clojure’s macros allow you to work with code as data. Much of Clojure’s core functionality is written as macros that get &lt;em&gt;expanded&lt;/em&gt; into final forms at compile-time, before evaluation. For example, another thing that delighted me was seeing that language constructs as fundamental as &lt;a href=&quot;https://github.com/clojure/clojure/blob/841fa60b41bc74367fb16ec65d025ea5bde7a617/src/clj/clojure/core.clj#L834&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt;&lt;/a&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt; are defined in clojure.core. For example, here’s a simplified version of the &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; macro:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;defmacro&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I’d never worked with a language in which you could peer into such fundamental constructs, and it opened my mind to what else was possible. Indeed you can read through &lt;a href=&quot;https://github.com/clojure/clojure/blob/clojure-1.9.0/src/clj/clojure/core.clj&quot;&gt;clojure.core&lt;/a&gt; top-to-bottom and see much of the language bootstrap itself into existence.&lt;/p&gt;
&lt;p&gt;F# has metaprogramming facilities but they’re comparatively clunky (and fragmented depending on what kind of syntax tree you want). Accomplishing similar metaprogramming in F# is &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/code-quotations#code&quot;&gt;much more involved&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I don’t often write new macros, and it’s not advised to write macros where functions work just as well, but they’re invaluable in certain contexts.&lt;/p&gt;
&lt;p&gt;A few times I’ve been able to do trivial refactorings of code &lt;em&gt;programmatically&lt;/em&gt; in the REPL. Of course .NET has Roslyn but it’s a totally separate facility; in Clojure this ability is inherited more or less by virtue of being a Lisp.&lt;/p&gt;
&lt;h3 id=&quot;data-as-code&quot;&gt;Data as Code&lt;/h3&gt;
&lt;p&gt;Some core Clojure data structures can be used as functions. I didn’t know what to make of this at first but I love it now. For example, a map is a function of one (key) argument. A set is a function of one (member) argument.&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my-set&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;       &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; a set of integers&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;my-set&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;             &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; returns the member value&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;my-set&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;             &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; returns the member value&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;my-set&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;no&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; returns nil &lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my-set&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; mapping the set over a vector&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Lately I find myself thinking more in terms of &lt;em&gt;data&lt;/em&gt; than procedural code. For example, sometimes it’s nice to express program logic &lt;em&gt;declaratively&lt;/em&gt; with data as opposed to control-flow/&lt;code class=&quot;highlighter-rouge&quot;&gt;case&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;cond&lt;/code&gt; statements. Consider this &lt;code class=&quot;highlighter-rouge&quot;&gt;case&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;High&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Medium&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Low&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This can also be expressed as a map, and that map can be used as a &lt;em&gt;function&lt;/em&gt; that returns the matched key’s value. This code has roughly the same effect as the &lt;code class=&quot;highlighter-rouge&quot;&gt;case&lt;/code&gt; above:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;High&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Medium&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Low&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;some&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Medium&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here we’re passing the map &lt;code class=&quot;highlighter-rouge&quot;&gt;foo&lt;/code&gt; as a &lt;em&gt;function&lt;/em&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;some&lt;/code&gt;, which will return the first value of the matching key. &lt;em&gt;An important detail is that &lt;code class=&quot;highlighter-rouge&quot;&gt;case&lt;/code&gt; works more like a &lt;code class=&quot;highlighter-rouge&quot;&gt;switch&lt;/code&gt; statement with fast equality checks/jumps, and will throw an exception by default if no match is found.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This approach is nice when you want to define some “rules” in one place and it use them in many, or maybe it’s loaded from a database or configuration file.&lt;/p&gt;
&lt;h3 id=&quot;nil&quot;&gt;Nil&lt;/h3&gt;
&lt;p&gt;Some functional languages go to lengths to cordon null/nil values. Clojure embraces nil (in most cases). I remember thinking “there should be an Option type” a lot in my first days. Now I embrace the nil. I rarely find myself needing to write defensive nil-check code.&lt;/p&gt;
&lt;p&gt;I do miss &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/symbol-and-operator-reference/nullable-operators&quot;&gt;nullable comparison operators&lt;/a&gt; and I wish there was something like F#’s &lt;code class=&quot;highlighter-rouge&quot;&gt;Option&lt;/code&gt; module, but it’s just a matter of defining your own functions to do the same.&lt;/p&gt;
&lt;p&gt;There are many nil-friendly core functions, and some nil-adverse functions too. It’s not always clear which functions will happily propagate nils and which ones will throw exceptions, so I often find myself experimenting in the REPL to find out. It’s not something I have to worry about much, but a nil-propagation bug can be hard to debug when it happens. Personally, I think I might prefer less nil-propagation in clojure.core in some instances, but it’s very ergonomic in the large.&lt;/p&gt;
&lt;h3 id=&quot;metadata&quot;&gt;Metadata&lt;/h3&gt;
&lt;p&gt;Clojure can attach &lt;a href=&quot;https://clojure.org/reference/metadata&quot;&gt;metadata&lt;/a&gt; to objects. You can use &lt;code class=&quot;highlighter-rouge&quot;&gt;with-meta&lt;/code&gt; (or a prefix syntax &lt;code class=&quot;highlighter-rouge&quot;&gt;^&lt;/code&gt;) to tag objects with metadata. The object/value will still present itself to callers as before, but now it has a secret bag (map) of goodies and you can inspect it with the &lt;code class=&quot;highlighter-rouge&quot;&gt;meta&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;For example, a function to pad the left side of a collection that also returns metadata for the number of padding items:&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;7&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;defn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left-pad&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;with-meta&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;repeat&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:padding&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;left-pad&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; looks like a typical result&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;meta&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;left-pad&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:padding&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; but it has metadata too&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The metadata facilities are also commonly used for compiler type hints, docstrings, deprecation tags, etc. In fact, that &lt;code class=&quot;highlighter-rouge&quot;&gt;left-pad&lt;/code&gt; function itself has been decorated with a bunch of metadata behind-the-scenes, including its definition location down to the line and column!&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;9.5&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;14&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;meta&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;'left-pad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; #' gets the Var of the function definition&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:arglists&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:line&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:column&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/Users/Taylor/Projects/playground/src/playground/core.clj&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left-pad,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:ns&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clojure.lang.Namespace&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x547b55b7&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;playground.core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&quot;sequences&quot;&gt;Sequences&lt;/h3&gt;
&lt;p&gt;Both Clojure and F# are great for composing functional pipelines that work on sequences.&lt;/p&gt;
&lt;p&gt;Both offer lazily evaluated sequences. Clojure’s lazy sequence results are cached by default whereas F# has &lt;code class=&quot;highlighter-rouge&quot;&gt;Seq.cached&lt;/code&gt;. Clojure’s lazy sequences are usually realized in chunks, and so can have some unintended consequences if you mix side-effects with laziness.&lt;/p&gt;
&lt;p&gt;There’s another notable difference I’d like to highlight. Take these similar examples:&lt;/p&gt;
&lt;div class=&quot;language-ocaml highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;-&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; upper bound is exclusive&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;inc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;even?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;In both languages, &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;filter&lt;/code&gt; will each create intermediate lazy sequences to be evaluated later during summation. There is a cost associated with those intermediate sequences/thunks. Clojure has the concept of &lt;a href=&quot;https://clojure.org/reference/transducers&quot;&gt;transducers&lt;/a&gt;, but I’m not aware of any similar idea in F#. Transducers compose operations on sequences such that no additional intermediate sequences are required — the transducer functions are composed and applied in one pass.&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;6&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;transduce&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;comp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;inc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;even?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The transducer example is ~7x faster than the original Clojure example! It’s too large a topic to explore in this post, but transducers are a nice tool to have, and there are other power tools in Clojure’s &lt;a href=&quot;https://clojure.org/reference/reducers&quot;&gt;reducers&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;repl-driven-development&quot;&gt;REPL-driven Development&lt;/h2&gt;
&lt;p&gt;I didn’t use the F# REPL that much for interactive &lt;em&gt;development&lt;/em&gt; as much as I did for interactive execution. The Clojure REPL experience is far more ingrained into my development workflow, and I like it. I feel I’m more of an inhabitant of the program as I write it rather than an observant designer. I also get more immediate feedback about the runtime behavior of code, which can be hard to reason about in functional languages.&lt;/p&gt;
&lt;p&gt;I think there’s another reason for the REPL being so integral to the Clojure development experience: discovery through interaction. Clojure just doesn’t have the information I would normally get via type definitions (and IntelliSense/auto-complete). In Clojure it’s more natural to get that information by playing with the code in-hand. Doc strings help but they aren’t schematics. Again, another area where clojure.spec can change the landscape.&lt;/p&gt;
&lt;p&gt;I haven’t tried this, but I’ve heard you can be so bold as to have a &lt;a href=&quot;https://stackoverflow.com/questions/48209370/sending-message-to-clojure-application-from-terminal/48209930#48209930&quot;&gt;deployed application host a network REPL&lt;/a&gt; which can be used to remotely inspect (and monkey with) the running application’s code and state. 😮&lt;/p&gt;
&lt;h3 id=&quot;debugging&quot;&gt;Debugging&lt;/h3&gt;
&lt;p&gt;I used an interactive debugger much more often with F#. I’ve only tried to interactively debug Clojure once or twice. It’s possible but I find it’s just easier to rely on REPL evaluation, &lt;code class=&quot;highlighter-rouge&quot;&gt;printf&lt;/code&gt; debugging, and break-like macros in most scenarios. I don’t get the feeling interactive debuggers are a hot topic in the Clojure community, but I’ve seen this trip up others that were used to setting breakpoints, watches, etc. in imperative languages.&lt;/p&gt;

&lt;h2 id=&quot;invariants&quot;&gt;Invariants&lt;/h2&gt;
&lt;p&gt;One of my favorite things about statically-typed functional languages is the ability to &lt;em&gt;make illegal states unrepresentable.&lt;/em&gt; In Clojure it’s very hard to make illegal states unrepresentable, in fact I’d say in most cases it’s just not worth the effort. In ML variants it’s somewhat difficult to write a program that compiles but doesn’t work on some level; I quickly found in Clojure it’s quite easy to write a program that compiles but doesn’t work at all.&lt;/p&gt;
&lt;p&gt;Clojure feels very open and permissive when it comes to data and passing it around. The thought that a caller could pass &lt;em&gt;anything&lt;/em&gt; as an argument was unsettling at first.&lt;/p&gt;
&lt;p&gt;As I embraced this &lt;em&gt;laissez faire&lt;/em&gt; approach, the Clojure philosophy started to make sense. Clojure codebases are driven more by convention than contract. In F# I mostly thought about problems in terms of the types I’d use to model them, essentially defining a contract. If my program compiled I could be fairly certain it’d do at least something like what I intended. This meant putting a lot of upfront thought into the &lt;em&gt;types&lt;/em&gt; I’d need to model the problem.&lt;/p&gt;
&lt;p&gt;In Clojure I find myself doing the opposite — just diving into the REPL and immediately writing code that operates on data. That same code can be sculpted into tests (if I’m not too lazy) and ultimately end up in production.&lt;/p&gt;
&lt;h3 id=&quot;refactoring&quot;&gt;Refactoring&lt;/h3&gt;
&lt;p&gt;In my experience — and related to the topic of invariants — non-trivial Clojure can be more difficult to refactor than similar F# code. This isn’t hard to imagine since there are no guardrails ensuring your functions/types stay aligned with your assumptions. (Yes, you can use clojure.spec but it’s still in alpha and is also totally opt-in unlike static type systems.)&lt;/p&gt;
&lt;p&gt;I’ve felt this pain a few times and the only conclusions I’ve drawn are to use clojure.spec for non-trivial code, especially around domain boundaries, and try even harder to solve very small problems in ways that can compose to solve larger ones. This way your small-problem code is more likely to be “obviously correct” and more stable (or less likely to require adaptation). The best example of this approach I can point to is clojure.core itself, although it doesn’t have to worry itself with messy “business” domains.&lt;/p&gt;
&lt;h3 id=&quot;pre--and-post-conditions&quot;&gt;Pre- and Post-conditions&lt;/h3&gt;
&lt;p&gt;Clojure does allow you to define pre- and post-condition functions for assertions on inputs and output, but they don’t seem very common in practice and they only work at &lt;em&gt;runtime&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot; readability=&quot;8&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;defn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;product-str&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:pre&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;every?&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;number?&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; every input must be a number&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:post&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;string?&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; output must be a string&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;product-str&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;3.0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;30.0&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;product-str&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; throws &quot;CompilerException java.lang.AssertionError: Assert failed: (every? number? nums), compiling ...&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I suspect clojure.spec’s function instrumentation would mostly supercede pre- and post-conditions, but I’m just guessing. It’s possible to use them together.&lt;/p&gt;

&lt;h2 id=&quot;parenthetical-gestalt&quot;&gt;(Parenthetical Gestalt!)&lt;/h2&gt;
&lt;p&gt;It’s the carefully and conservatively curated confluence (alliteration achievement unlocked 🏅) of Clojure’s design decisions and philosophies, &lt;em&gt;especially&lt;/em&gt; those that were hard for me to embrace at first, that make it such an enjoyable programming experience for me.&lt;/p&gt;
&lt;p&gt;I pre-judged Clojure for being a dynamic language because I’d never enjoyed working in a dynamic language before. As I look back on the things I thought I’d miss from a statically-typed language, I can easily say I’ve faired just as well without them.&lt;/p&gt;
&lt;p&gt;P.S. There were a bunch of other cool Clojure tidbits I wanted to mention but this post was getting too long!&lt;/p&gt;
</description>
<pubDate>Sun, 07 Oct 2018 13:14:57 +0000</pubDate>
<dc:creator>tosh</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://blog.taylorwood.io/2017/09/15/year-behind.html</dc:identifier>
</item>
<item>
<title>Recovering Emotions After 24 Years on Antidepressants</title>
<link>https://www.madinamerica.com/2018/10/recovering-emotions-24-years-antidepressants/</link>
<guid isPermaLink="true" >https://www.madinamerica.com/2018/10/recovering-emotions-24-years-antidepressants/</guid>
<description>&lt;p&gt;This is the story of my recovery from depression. I expect it to be an ongoing process that will take a while. But I want to show that recovery is not only possible but should be the expected outcome. This writing will grow. I learned as a child to keep my mouth shut as my thoughts and ideas were not welcome. So, I am adding to this as I think of things that I need to talk about. It’s a bit of a struggle for me to communicate, so please bear with me.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;I have suffered from depression my whole life. One doctor told me that dysthymia (or mild depression) was what I suffered in between my major bouts of depression. The causes of my depression were environmental. I grew up in a very dysfunctional family in Minnesota. My parents were both alcoholics and depressed, and their dysfunction became my growth environment.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;I’ve had three major bouts of depression:&lt;/p&gt;
&lt;ol readability=&quot;9&quot;&gt;&lt;li readability=&quot;6&quot;&gt;
&lt;p lang=&quot;en-US&quot;&gt;The first time was at puberty in the eighth grade. I had no confidence in myself. My childhood was filled with messages from my father telling me I was fat, that fat people are ugly, and that no one would ever love me. So, I grew up feeling fat and ugly. I was so sad, I could barely make it to my room after school before the tears would start falling. This happened almost every day. My parents took me to a psychologist who did hypnotherapy with me. It proved to be fairly effective for the short term.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p lang=&quot;en-US&quot;&gt;My second major episode of depression was as a senior in college. I came to realize that I would soon be leaving college and entering the work world. I had no confidence in myself and was soon lost in tears over my prospects. I called my parents at home and they came and got me to spend a few days at home. I was educated but not prepared for life.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;7&quot;&gt;
&lt;p lang=&quot;en-US&quot;&gt;My third major episode with depression happened at about age 40 in 1991. We were now living in Oregon. I had a very good job in the high-tech sector at a computer manufacturer. I was building test equipment for our product for manufacturing and maintaining that equipment and much more. I was running the lab, and purchasing parts, and serving as a lead in my group. I had received accolades in the job I was doing and went on an employee excellence trip as an award. When I got back from that trip I was told, “We have to cut back, and your group has been dissolved.” Some people in my group lost their jobs, and others got reassigned. The management forgot about me. I was finally assigned to a job in purchasing which was basically grunt work. I was typing purchase orders and filing them. I became very depressed and suicidal. I didn’t know how to resolve the dichotomy of being told I was an excellent employee and then put into a job that was so bad for me. The rug of self-confidence was pulled out from under me.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p lang=&quot;en-US&quot;&gt;I contacted my health insurance company in 1991 to get help. I had never taken advantage of my insurance so they sent me a questionnaire to fill out to assist in finding me a doctor. It took one and a half years to get a doctor appointment. I had never been taught to fight for myself, and thus was not able to fight that battle. Worse, I believed I really didn’t deserve help.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;Once I finally got in to see the doctor, I started taking antidepressants in 1993. It took six months before I started seeing an improvement in my mood. I was also put into a cognitive behavioral therapy group which I found to be very enlightening, but of limited usefulness. It demonstrated to me how we see and think about things when depressed, and how twisted it was. It lasted 10 weeks.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;Over the years I have taken a wide variety of antidepressants. There was always a balancing act between which was worse, the depression or the side effects. Side effects included things as minor as dry mouth, to constipation, irritability, a zombie-like state and sexual dysfunction.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;I stopped taking them on my own twice, with disastrous results. I got extremely depressed both times. It was worse than before I started taking medications. I would stop in the middle of the workday to run into the bathroom and cry. It felt like I had a bowling ball in my stomach. I ended up going back to my doctor both times and taking something else. Antidepressants changed my brain chemistry. Stopping them too quickly or without medical supervision is a very bad choice.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;My doctor told me after the second time that I would have to take them for the rest of my life. I believed him.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;In the end, I was taking 500 mg of Nefazadone in the evening and tried a number of different antidepressants in the morning. I had problems with all of them.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;The last morning antidepressant I took, I had to stop taking it when people told me how zombie-like I was. I spoke and moved very slowly.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;After almost 25 years of taking antidepressants, I had no emotion left whatsoever. I felt dead and wanted to be dead.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;I was overwhelmed. I couldn’t do daily tasks, keep up on my daily chores, or manage my own house. We had 36 acres of property that I had been managing, but I couldn’t do it anymore.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;In 2016, my husband and I made a decision and moved to southern Oregon, and sold our house. We wanted to be closer to family and to where my husband grew up. My doctor in the Portland area told me that I needed to make contact with a new psychiatrist here to “manage” my medications.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;Moving and packing was a nightmare. Our house was in total disarray, and making decisions about what to pack and when to pack it proved to be very difficult for me. My head was spinning, and I couldn’t make decisions about what to do. We did the move very slowly. I think we went up and down I-5 about 25 times over the course of six months. The new house was situated on about five acres (we really downsized) with a panoramic view of the Rogue River valley.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;I made an appointment to see a psychiatric nurse practitioner. I really liked her. I was still not doing well, so we talked about my starting anti-anxiety drugs. She seemed to understand me.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;She made it clear that she would be unable to continue treating me — she could not bill Medicare, which I became eligible for within several months of arriving in the valley. She referred me to my new doctor.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;Shortly after I started seeing him, my new doctor had me read the book &lt;em&gt;Anatomy of an Epidemic&lt;/em&gt; by Robert Whitaker. It took me a while to read it, but by the end, I became angry over the manipulation and lies that the pharmaceutical industry tells to the public about psychiatric drugs. The FDA only requires six months of studies on the efficacy of psychiatric drugs. They do not require any long-term studies. Independent research has shown that psychiatric drugs have very limited usefulness over the long term and in fact can be harmful. The pharmaceutical industry also says that mental illness represents a physical problem with the brain that needs to be fixed. There are no studies that prove that this is true. Doctors are now taught in school to prescribe drugs, not to treat mental disorders.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;Studies have also shown that in the case of antidepressants and anti-anxiety drugs, the weaning-off process can be very difficult. Close to 20% of US citizens are on a psychiatric drug of some kind and this country has the worst outcomes on mental illness by far in the developed world.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;My therapist and I jointly made the decision to wean me off of the drugs. We started by reducing my meds by 10% per month. He always asked me if I was ready to go down, and I always ended up saying yes. Finally, a doctor was teaching me, rather than telling me!&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;In the beginning, it was a very scary process for me. Since I had twice gone off medications on my own, I knew how bad it could get. I was also expecting that at some point in time, my emotions would come flooding back.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;There were a couple of episodes of anger that I experienced while I was reducing my medications. I got angry with my husband for letting the dogs out of the house at a bad time. I got angry with a bird for pecking on our metal chimney. No one got hurt, and I learned about riding out my emotions. Feeling them in a safe way.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;At the same time, I was also learning tools to help me with my emotions. I was learning to meditate and journal. Meditation in particular has proven to be an incredibly important tool for me. It has helped me “smooth out” my emotions and gain a better understanding and compassion for myself and others. I can say without exaggeration that meditation has saved my life.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;One time early in the process, I was meditating and I was thinking about how scared I was reducing my medication. After a while, a voice came into my head saying, “You are going to be okay.” What an amazing thing to happen! I eventually came to believe it, and it became easier and easier to continue reducing my meds regularly. My last dose of medication was taken in June of 2017.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;Earlier that same spring, I started attending a local Buddhist temple. Buddhism has been an interest of mine for a long time. In coming to the valley, I found myself with a choice of places to go. My doctor had started teaching me how to meditate, and I wanted to deepen that practice. At the temple I learned about various activities I could participate in that would help me learn more about my new skill. The one thing that really called to me was a one-week meditation retreat that would happen in June. At first I rebelled against the idea of one week away from home meditating, but I came to believe this was the right thing for me to do.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;So, I applied to the temple for permission to go, and I went. There were three 90-minute meditations per day. On the advice of the lamas, for each session I spent 30 minutes meditating, 30 minutes studying and another 30 minutes meditating again. I had found a book there to study. It was called &lt;em&gt;The Mindful Way Through Depression&lt;/em&gt;. As soon as I saw it I knew that was what I had to work on. I read the whole book during the course of that week.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;It was during that time that I took my last doses of antidepressants. I had started feeling emotions. During one of my study sessions, I started thinking about all those years of depression, and I started crying. I cried for about an hour. Just being able to cry was such a relief! It was very good for me. I plan on attending the same retreat this year.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;My individual therapy continues. I am also participating in group therapy. I still have issues with anxiety which I am confident I will learn how to deal with. Group therapy also involves getting a “buddy.” A buddy is someone you meet with weekly or semi-weekly to talk about what is going on in your life. We have only one assignment, and that is to tell each other our life story. After that the agenda is our own. It’s a hard thing to do. It can be very emotional. It is actually a great way to get to know someone. I have several buddies now and it has so far gotten me a few very good friends, for which I am incredibly grateful.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;What else have I learned? One thing I’ve learned about is my “inner guide.” That’s who spoke with me when I started down the path of medication adjustment. The inner guide can be called God, Great Mother, former lives, and many other things. The inner guide helps me make the hard decisions, once I learned to listen to it.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;The good news is, I am alive. I feel alive, and I now have emotions, both good and bad. I am very grateful to have all of them. Most of all, I have joy.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;I am also reconnecting with my husband in a wonderful way. We are talking about what I am going through and what I went through.&lt;/p&gt;
&lt;p lang=&quot;en-US&quot;&gt;I am learning more each day about how to be more proactive in my own life. I no longer wait for someone to tell me what to do. I learn what to do by seeking appropriate people, books, and thoughts. My growing self-confidence gives me great hope!&lt;/p&gt;
</description>
<pubDate>Sun, 07 Oct 2018 08:30:24 +0000</pubDate>
<dc:creator>BobbyVsTheDevil</dc:creator>
<og:image>https://www.madinamerica.com/wp-content/uploads/2018/10/emotions2.jpg</og:image>
<og:type>article</og:type>
<og:title>Recovering Emotions After 24 Years on Antidepressants - Mad In America</og:title>
<og:description>Weaning off the drugs was scary at first, but I now feel alive, and I have emotions, both good and bad. I am grateful to have all of them.</og:description>
<og:url>https://www.madinamerica.com/2018/10/recovering-emotions-24-years-antidepressants/</og:url>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.madinamerica.com/2018/10/recovering-emotions-24-years-antidepressants/</dc:identifier>
</item>
<item>
<title>5G Got me Fired</title>
<link>https://medium.com/@dvorak/5g-got-me-fired-ce407e584c4a</link>
<guid isPermaLink="true" >https://medium.com/@dvorak/5g-got-me-fired-ce407e584c4a</guid>
<description>&lt;div class=&quot;section-inner sectionLayout--insetColumn&quot; readability=&quot;16&quot;&gt;

&lt;p name=&quot;ee7f&quot; id=&quot;ee7f&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;As many of you know, I was unceremoniously fired from PC Magazine on Sept. 20th, 2018 after over 30 years of service. I just figured it was the new people coming in and I was an unneeded throwback to the old regime.&lt;/p&gt;
&lt;p name=&quot;64c7&quot; id=&quot;64c7&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;This sort of thing happens a lot. Then one of the &lt;em class=&quot;markup--em markup--p-em&quot;&gt;No Agenda&lt;/em&gt; producers noticed a recent column of mine was pulled from the magazine and redirected to someone else’s column about the same subject. It also went missing from the index of Dvorak columns. If you did a google search for the column it showed up but clicking on the Google link resulted in a re-direction to the other column.&lt;/p&gt;
&lt;/div&gt;

&lt;div class=&quot;section-inner sectionLayout--insetColumn&quot; readability=&quot;19&quot;&gt;
&lt;p name=&quot;9bd2&quot; id=&quot;9bd2&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;The difference was my column was interpreted as critical of 5G. The replacement (and an additional column that came later), was more of a cheer-leading column.&lt;/p&gt;
&lt;p name=&quot;692a&quot; id=&quot;692a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;In fact, my column was more reporting than opinion as I was reflecting on all the bad press 5G was getting from every corner. My conclusion was that, unless this stopped, 5G would never get off the ground.&lt;/p&gt;
&lt;p name=&quot;ad89&quot; id=&quot;ad89&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;I never once considered that expunging my column then firing me would be part of this process. I’ve asked the editors about this and got no replies.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;section-inner sectionLayout--outsetRow&quot; data-paragraph-count=&quot;2&quot;&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;1*WI-raK1JOcvP6BNeVchZgg.jpeg&quot; data-width=&quot;1017&quot; data-height=&quot;906&quot; data-action=&quot;zoom&quot; data-action-value=&quot;1*WI-raK1JOcvP6BNeVchZgg.jpeg&quot; src=&quot;https://cdn-images-1.medium.com/max/1200/1*WI-raK1JOcvP6BNeVchZgg.jpeg&quot;/&gt;&lt;/div&gt;
&lt;div class=&quot;aspectRatioPlaceholder is-locked&quot;&gt;

&lt;img class=&quot;graf-image&quot; data-image-id=&quot;1*YIu_0Ybe-W6g10gdSQ7Yqg.jpeg&quot; data-width=&quot;1337&quot; data-height=&quot;948&quot; data-action=&quot;zoom&quot; data-action-value=&quot;1*YIu_0Ybe-W6g10gdSQ7Yqg.jpeg&quot; src=&quot;https://cdn-images-1.medium.com/max/1200/1*YIu_0Ybe-W6g10gdSQ7Yqg.jpeg&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;section-inner sectionLayout--insetColumn&quot; readability=&quot;34.718772826881&quot;&gt;
&lt;p name=&quot;54bc&quot; id=&quot;54bc&quot; class=&quot;graf graf--p graf-after--figure&quot;&gt;This is a cautionary tale. Anyone writing for any publisher in today’s commercial market, where the managed advertorial and native ad seems to be the only way to make money, needs to be cautious.&lt;/p&gt;
&lt;p name=&quot;a4fb&quot; id=&quot;a4fb&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;More importantly today’s readers need to be a little more than cautious when believing anything. Native advertising is a most insidious concept and should be rejected by every publisher. Instead it is welcomed by the broadcasting networks and most of the major newspapers including the &lt;em class=&quot;markup--em markup--p-em&quot;&gt;New York Times&lt;/em&gt;. Are the writers saying nice things or are they paid to say nice things?&lt;/p&gt;
&lt;p name=&quot;84b1&quot; id=&quot;84b1&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Whatever the case, the independent voice cannot exist in this corrupt milieu and be truly independent. This is why I was happy to help develop the value-for-value model employed at the &lt;em class=&quot;markup--em markup--p-em&quot;&gt;No Agenda&lt;/em&gt; podcast where I’ve been working with Adam Curry for over a decade. There are no advertisers, period.&lt;/p&gt;
&lt;p name=&quot;9465&quot; id=&quot;9465&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;I do not want to brag about being a visionary and say that I saw this coming 10 years ago, but I did. Independent opinions and viewpoints as well as unhindered research can only be done with a direct payment method from the customer (the reader).&lt;/p&gt;
&lt;p name=&quot;1601&quot; id=&quot;1601&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Advertising, advertisers, corporate sponsors cannot abide by “opinions” mucking up their strategies.&lt;/p&gt;
&lt;p name=&quot;d591&quot; id=&quot;d591&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Keep that in mind when you choose your information sources. —&lt;em class=&quot;markup--em markup--p-em&quot;&gt; jcd&lt;/em&gt;&lt;/p&gt;
&lt;p name=&quot;efb4&quot; id=&quot;efb4&quot; class=&quot;graf graf--p graf-after--p graf--trailing&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;&lt;em class=&quot;markup--em markup--p-em&quot;&gt;Addendum&lt;/em&gt;&lt;/strong&gt;&lt;em class=&quot;markup--em markup--p-em&quot;&gt; — the original 5G column is still up in India!&lt;/em&gt; &lt;a href=&quot;https://in.pcmag.com/opinion/124983/the-problem-with-5g&quot; data-href=&quot;https://in.pcmag.com/opinion/124983/the-problem-with-5g&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;&lt;em class=&quot;markup--em markup--p-em&quot;&gt;Click here.&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Sat, 06 Oct 2018 23:11:16 +0000</pubDate>
<dc:creator>adamrezich</dc:creator>
<og:title>5G Got me Fired – John C. Dvorak – Medium</og:title>
<og:url>https://medium.com/@dvorak/5g-got-me-fired-ce407e584c4a</og:url>
<og:image>https://cdn-images-1.medium.com/max/1200/1*HI63LHqfpen63TOCaecawg.jpeg</og:image>
<og:description>As many of you know, I was unceremoniously fired from PC Magazine on Sept.</og:description>
<og:type>article</og:type>
<dc:format>text/html</dc:format>
<dc:identifier>https://medium.com/@dvorak/5g-got-me-fired-ce407e584c4a</dc:identifier>
</item>
<item>
<title>The Dutch Reach: A No-Tech Way to Save Bicyclists’ Lives</title>
<link>https://www.nytimes.com/2018/10/05/smarter-living/the-dutch-reach-save-bicyclists-lives-bicycle-safety-drivers.html</link>
<guid isPermaLink="true" >https://www.nytimes.com/2018/10/05/smarter-living/the-dutch-reach-save-bicyclists-lives-bicycle-safety-drivers.html</guid>
<description>&lt;div readability=&quot;41.286057692308&quot;&gt;
&lt;div class=&quot;css-4w7y5l&quot; readability=&quot;32.111378205128&quot;&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;If Michael Charney has his way, more Americans would adopt a simple method to prevent “doorings,” a type of collision when a driver or passenger in a parked car opens a door into the path of a cyclist.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;He calls the maneuver the “Dutch Reach,” and it works like this: When you are about to exit the car, you reach &lt;em class=&quot;css-2fg4z9 ehxkw330&quot;&gt;across&lt;/em&gt; your body for the door handle with your far or opposite hand. This action forces you to turn toward the side view mirror, out and then back over your shoulder to be sure a bicyclist is not coming from behind. Only then do you slowly open the door.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;“Dodging open car doors is a daily risk” for urban cyclists, said Dr. Charney, a retired physician and dedicated cyclist.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;Fatal bike crashes are on the rise in the United States; in 2016 the &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.nhtsa.gov/press-releases/usdot-releases-2016-fatal-traffic-crash-data&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;highest number of cyclist deaths&lt;/a&gt; since 1991 was recorded. The research doesn’t say how many of those deaths are from doorings specifically, or how effective the Dutch Reach method is in preventing crashes, but &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://vancouver.ca/files/cov/cycling-safety-study-final-report.pdf&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;a study done in 2015 in Vancouver&lt;/a&gt;, British Columbia, found that the car-to-cyclist crash type with the most injuries was doorings, said Kay Teschke, professor emeritus at the &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;http://www.spph.ubc.ca/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;School of Population and Public Health&lt;/a&gt; at the University of British Columbia in Vancouver.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;42.949477351916&quot;&gt;
&lt;div class=&quot;css-4w7y5l&quot; readability=&quot;32.815331010453&quot;&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;“A lot of people think because cars are stopped, doorings can’t be serious, but they are very common, and they absolutely can be very serious,” she said. “There have been deaths.”&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;Dr. Teschke and other experts say infrastructure — like designated bike lanes that separate traffic and bicyclists — is a key to safety, but there are actions cyclists and drivers can take on their own.&lt;/p&gt;
&lt;h2 class=&quot;css-1tvdtcr eqpy7av0&quot; id=&quot;link-555b9a68&quot;&gt;Make It a Habit, Start With a Ribbon&lt;/h2&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;Dr. Charney created the &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.dutchreach.org/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Dutch Reach Project&lt;/a&gt; in 2016 after a 27-year-old nursing student rode into an open car door and died five blocks from his home in Cambridge, Mass. Her death followed several other recent cyclist fatalities in the area.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;He said the Dutch Reach is taught in some bike safety classes and professional fleet trainings, and now two states — &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.mass.gov/lists/drivers-manuals&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Massachusetts&lt;/a&gt; and &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.cyberdriveillinois.com/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Illinois&lt;/a&gt; — include it in their official driver’s manuals. Even so, the method is not widely known or used in the United States.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;Dr. Charney acknowledges that it is difficult to change behavior and learn new habits. “I had a hard time retooling myself,” he said. “But it’s a simple behavioral fix; if you do it, it works.”&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;45.632390745501&quot;&gt;
&lt;div class=&quot;css-4w7y5l&quot; readability=&quot;39.516709511568&quot;&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;He suggests putting a ribbon on your car door latch as a visual reminder that you’re supposed to use your far hand to open the door instead of just instinctually opening the door as you always have.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;This small maneuver goes beyond being a good Samaritan. It can help drivers and passengers avoid serious and costly damage to cars and the hassle of repairs, and protects them from stepping out into traffic and getting injured or killed by other cars, as well as bicycles.&lt;/p&gt;
&lt;h2 class=&quot;css-1tvdtcr eqpy7av0&quot; id=&quot;link-a97298e&quot;&gt;Tips That Go Beyond the Dutch Reach&lt;/h2&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;There is no name in Dutch for this technique — it’s just second nature to Dutch drivers, and has been for years. It has been deeply ingrained in the country’s culture.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;“It’s just what Dutch people do,” said Fred Wegman, professor emeritus of &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.tudelft.nl/en/ceg/about-faculty/departments/transport-planning/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Traffic Safety&lt;/a&gt; at &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.tudelft.nl/en/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Delft University of Technology&lt;/a&gt; and the former managing director of the &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.swov.nl/en&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;National Institute for Road Safety Research SWOV&lt;/a&gt; in the Netherlands. “All Dutch are taught it. It’s part of regular driver education.”&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;The robust bike safety culture that exists in the Netherlands today was not always the case. Serious injury and death were once more prevalent.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;“But they just did not accept it. They systematically and proactively went about changing their safety systems,” Dr. Teschke said. “They tried big things and small things to see what will work. They just take safety really, really seriously.”&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;We can, too, she explained, even if we don’t have the same cycling culture, or even the same number of cyclists. Here are some other tactics that we could all apply.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;50.926829268293&quot;&gt;
&lt;div class=&quot;css-4w7y5l&quot; readability=&quot;49.983739837398&quot;&gt;
&lt;h3 class=&quot;css-1pdtjjd e1nilb050&quot; id=&quot;link-527f4933&quot;&gt;&lt;strong class=&quot;css-8qgvsz euv7paa0&quot;&gt;Teach Bicycle Safety Early&lt;/strong&gt;&lt;/h3&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;That education begins long before getting behind the wheel. Dutch schoolchildren starting at about 10 to 12 years old learn about road safety for roughly one hour a week for 40 weeks. “It’s part of the curriculum in primary school,” Professor Wegman said. Schoolchildren learn how to ride bikes safely and afterward are tested on their bikes in traffic. They learn the importance of shared roadways to make sure that both drivers and cyclists are aware of each other and know each other’s rules, he said.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;He said he had observed that a number of cities and countries in Europe have embraced the Dutch Reach, and so can Americans. “It’s not unique to the Dutch” anymore, he said.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;&lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.bikeleague.org/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;The League of American Bicyclists&lt;/a&gt; offers resources to cyclists of all ages to learn about &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.bikeleague.org/ridesmart&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Smart Cycling&lt;/a&gt; — from safety tips to how to find a &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.bikeleague.org/content/find-take-class&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;local bike safety class.&lt;/a&gt;&lt;/p&gt;
&lt;h3 class=&quot;css-1pdtjjd e1nilb050&quot; id=&quot;link-26e57e53&quot;&gt;&lt;strong class=&quot;css-8qgvsz euv7paa0&quot;&gt;Keep Bike Running Lights On, Day and Night&lt;/strong&gt;&lt;/h3&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;In &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.sciencedirect.com/science/article/pii/S0001457517302543&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;a recent Danish study&lt;/a&gt;, keeping your bicycle lights on all the time reduced the chances of a collision by nearly 50 percent, Dr. Teschke said. Bike-sharing programs typically keep the lights on in their fleets, she said, most likely one of the reasons those programs tend to have lower crash rates than for those riding personal bikes.&lt;/p&gt;
&lt;h3 class=&quot;css-1pdtjjd e1nilb050&quot; id=&quot;link-4b5df0b2&quot;&gt;&lt;strong class=&quot;css-8qgvsz euv7paa0&quot;&gt;Consider Professional Defensive Driver Training&lt;/strong&gt;&lt;/h3&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;Driver training is, in general, more rigorous and more costly in the Netherlands than in the United States. “In the Netherlands, parents are not allowed to teach their children,” Professor Wegman said. “We have formal driver education schools.”&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;Instruction is highly regulated, and classes are expensive The cost of getting a driver's license in 2017 was about $2,734 (2,300 euros), which includes about 38 hours of professional instruction, he said, quoting figures from the &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.cbr.nl/rijbewijstips/kosten-rijbewijs-halen/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Dutch Driver License Agency.&lt;/a&gt;&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;The far hand method of opening the door is included in drivers’ training and the exam that candidates take before getting licensed. “If they fail to do it or do it incorrectly, they fail the test,” Professor Wegman said. “The exam is serious business.”&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;53.113785557987&quot;&gt;
&lt;div class=&quot;css-4w7y5l&quot; readability=&quot;52.130196936543&quot;&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;It’s never too late to improve your driving knowledge. Drivers of all ages and levels can get instruction on and offline offered by many organizations, including &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;http://www.aaa.com&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;AAA&lt;/a&gt;, &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.aarp.org/auto/driver-safety/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;AARP&lt;/a&gt; and the &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.nsc.org/safety-training/defensive-driving&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;National Safety Council&lt;/a&gt; will teach the “Far Hand Reach” technique to both operator-side and passenger-side users starting in January.&lt;/p&gt;
&lt;h2 class=&quot;css-1tvdtcr eqpy7av0&quot; id=&quot;link-40505960&quot;&gt;A Survivor Shares His Advice&lt;/h2&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;Peter Hahn, 38, an analyst for the Defense Department and a regular bicyclist in Washington, had several near misses over the years, but he avoided a serious crash until last year when he biked down a quiet side street at 15-plus miles per hour. “As I approached an intersection, a door opened and my swerve wasn’t enough to avoid the door corner poking into my front spokes,” he recounted, and he was launched onto the pavement.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;He awoke to the sounds of a fire truck and an ambulance, “and someone telling me not to move. I had to have 11 centimeters of titanium and eight screws inserted to stabilize” a serious arm fracture, he said, and was in a cast for weeks, attended weekly physical therapy sessions and has a lifelong scar.&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;“I lost a third of a year to that injury. I’m able to do pull-ups and hold my infant son,” he said, “but I will never be the same. If the car driver had opened — at first — a crack, instead of fully, I would have made it home that night.”&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;The Dutch Reach could have an effect if it becomes second nature, “like checking both ways before you cross a road,” Mr. Hahn said. Until then, his advice to cyclists: ride a foot farther out on quiet side streets. For drivers: “a mere glance in the side-view plus blind spot would all but eliminate dooring.”&lt;/p&gt;
&lt;p class=&quot;css-xhhu0i e2kc3sl0&quot;&gt;“The Dutch have evolved into a culture that respects the right for everyone to get home safely,” Dr. Charney said. “It’s a change I’d love to see here.”&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;</description>
<pubDate>Sat, 06 Oct 2018 20:30:17 +0000</pubDate>
<dc:creator>cgoecknerwald</dc:creator>
<og:url>https://www.nytimes.com/2018/10/05/smarter-living/the-dutch-reach-save-bicyclists-lives-bicycle-safety-drivers.html</og:url>
<og:type>article</og:type>
<og:title>The Dutch Reach: A No-Tech Way to Save Bicyclists’ Lives</og:title>
<og:image>https://static01.nyt.com/images/2018/10/02/autossell/00sl_dutchreach/00sl_dutchreach-facebookJumbo.jpg</og:image>
<og:description>This simple change in the way you get out of your car can save lives — of cyclists, drivers and passengers. Here’s how to do it, and why it’s so effective.</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.nytimes.com/2018/10/05/smarter-living/the-dutch-reach-save-bicyclists-lives-bicycle-safety-drivers.html</dc:identifier>
</item>
<item>
<title>Writing system software: code comments</title>
<link>http://antirez.com/news/124</link>
<guid isPermaLink="true" >http://antirez.com/news/124</guid>
<description>&lt;span class=&quot;info&quot;&gt;&lt;span class=&quot;username&quot;&gt;&lt;a href=&quot;http://antirez.com/user/antirez&quot;&gt;antirez&lt;/a&gt;&lt;/span&gt; 1 day ago. 39743 views.&lt;/span&gt;&lt;pre&gt;
For quite some time I’ve wanted to record a new video talking about code comments for my &quot;writing system software&quot; series on YouTube. However, after giving it some thought, I realized that the topic was better suited for a blog post, so here we are. In this post I analyze Redis comments, trying to categorize them.  Along the way I try to show why, in my opinion, writing comments is of paramount importance in order to produce good code, that is maintainable in the long run and understandable by others and by the authors during modifications and debugging activities.

Not everybody thinks likewise. Many believe that comments are useless if the code is solid enough. The idea is that when everything is well designed, the code itself documents what the code is doing, hence code comments are superfluous. I disagree with that vision for two main reasons:

1. Many comments don't explain what the code is doing. They explain what you can't understand just from what the code does. Often this missing information is *why* the code is doing a certain action, or why it’s doing something that is clear instead of something else that would feel more natural.

2. While it is not generally useful to document, line by line, what the code is doing, because it is understandable just by reading it, a key goal in writing readable code is to lower the amount of effort and the number of details the reader should take into her or his head while reading some code. So comments can be, for me, a tool for lowering the cognitive load of the reader.

The following code snippet is a good example of the second point above. Note that all the code snippets in this blog post are obtained from the Redis source code. Every code snipped is presented prefixed by the file name it was extracted from. The branch used is the current &quot;unstable&quot; with hash 32e0d237.

scripting.c:
    /* Initial Stack: array */
    lua_getglobal(lua,&quot;table&quot;);
    lua_pushstring(lua,&quot;sort&quot;);
    lua_gettable(lua,-2);       /* Stack: array, table, table.sort */
    lua_pushvalue(lua,-3);      /* Stack: array, table, table.sort, array */
    if (lua_pcall(lua,1,0,0)) {
        /* Stack: array, table, error */

        /* We are not interested in the error, we assume that the problem is
         * that there are 'false' elements inside the array, so we try
         * again with a slower function but able to handle this case, that
         * is: table.sort(table, __redis__compare_helper) */
        lua_pop(lua,1);             /* Stack: array, table */
        lua_pushstring(lua,&quot;sort&quot;); /* Stack: array, table, sort */
        lua_gettable(lua,-2);       /* Stack: array, table, table.sort */
        lua_pushvalue(lua,-3);      /* Stack: array, table, table.sort, array */
        lua_getglobal(lua,&quot;__redis__compare_helper&quot;);
        /* Stack: array, table, table.sort, array, __redis__compare_helper */
        lua_call(lua,2,0);
    }

Lua uses a stack based API. A reader following each call in the function above, having also a Lua API reference at hand, will be able to mentally reconstruct the stack layout at every given moment. But why to force the reader to do such effort? While writing the code, the original author had to do that mental effort anyway. What I did there was just to annotate every line with the current stack layout after every call. Reading this code is now trivial, regardless of the fact the Lua API is otherwise non trivial to follow.

My goal here is not just to offer my point of view on the usefulness of comments as a tool to provide a background that is not clearly available reading a local section of the source code. But also to also provide some evidence about the usefulness of the kind of comments that are historically considered useless or even dangerous, that is, comments stating *what* the code is doing, and not why.

# Classification of comments

The way I started this work was by reading random parts of the Redis source code, to check if and why comments were useful in different contexts. What quickly emerged was that comments are useful for very different reasons, since they tend to be very different in function, writing style, length and update frequency. I eventually turned the work into a classification task.

During my research I identified nine types of comments:

* Function comments
* Design comments
* Why comments
* Teacher comments
* Checklist comments
* Guide comments
* Trivial comments
* Debt comments
* Backup comments

The first six are, in my opinion, mostly very positive forms of commenting, while the final three are somewhat questionable. In the next sections each type will be analyzed with examples from the Redis source code.

FUNCTION COMMENTS

The goal of a function comment is to prevent the reader from reading code in the first place. Instead, after reading the comment, it should be possible to consider some code as a black box that should obey certain rules. Normally function comments are at the top of functions definitions, but they may be at other places, documenting classes, macros, or other functionally isolated blocks of code that define some interface.

rax.c:

    /* Seek the grestest key in the subtree at the current node. Return 0 on
     * out of memory, otherwise 1. This is an helper function for different
     * iteration functions below. */
    int raxSeekGreatest(raxIterator *it) {
    ...

Function comments are actually a form of in-line API documentation. If the function comment is written well enough, the user should be able most of the times to jump back to what she was reading (reading the code calling such API) without having to read the implementation of a function, a class, a macro, or whatever.

Among all the kinds of comments, these are the ones most widely accepted by the programming community at large as needed. The only point to analyze is if it is a good idea to place comments that are largely API reference documentation inside the code itself. For me the answer is simple: I want the API documentation to exactly match the code. As the code is changed, the documentation should be changed. For this reason, by using function comments as a prologue of functions or other elements, we make the API documentation close to the code, accomplishing three results:

* As the code is changed, the documentation can be easily changed at the same time, without the risk of making the API reference stale.

* This approach maximizes the probability that the author of the change, that should be the one better understanding the change, will also be the author of the API documentation change.

* Reading the code is handy to find the documentation of functions or methods directly where they are defined, so that the reader of the code can focus solely on the code, instead of context switching between code and documentation.

DESIGN COMMENTS

While a &quot;function comment&quot; is usually located at the start of a function, a design comment is more often located at the start of a file. The design comment basically states how and why a given piece of code uses certain algorithms, techniques, tricks, and implementation. It is an higher level overview of what you'll see implemented in the code. With such background, reading the code will be simpler. Moreover I tend to trust more code where I can find design notes. At least I know that some kind of explicit design phase happened, at some point, during the development process.

In my experience design comments are also very useful in order to state, in case the solution proposed by the implementation looks a bit too trivial, what were the competing solutions and why a very simple solution was considered to be enough for the case at hand. If the design is correct, the reader will convince herself that the solution is appropriate and that such simplicity comes from a process, not from being lazy or only knowing how to code basic things.

bio.c:
     * DESIGN
     * ------
     *
     * The design is trivial, we have a structure representing a job to perform
     * and a different thread and job queue for every job type.
     * Every thread waits for new jobs in its queue, and process every job
     * sequentially.
     ...

WHY COMMENTS

Why comments explain the reason why the code is doing something, even if what the code is doing is crystal clear. See the following example from the Redis replication code.

replication.c:

    if (idle &amp;gt; server.repl_backlog_time_limit) {
        /* When we free the backlog, we always use a new
         * replication ID and clear the ID2. This is needed
         * because when there is no backlog, the master_repl_offset
         * is not updated, but we would still retain our replication
         * ID, leading to the following problem:
         *
         * 1. We are a master instance.
         * 2. Our replica is promoted to master. It's repl-id-2 will
         *    be the same as our repl-id.
         * 3. We, yet as master, receive some updates, that will not
         *    increment the master_repl_offset.
         * 4. Later we are turned into a replica, connect to the new
         *    master that will accept our PSYNC request by second
         *    replication ID, but there will be data inconsistency
         *    because we received writes. */
        changeReplicationId();
        clearReplicationId2();
        freeReplicationBacklog();
        serverLog(LL_NOTICE,
            &quot;Replication backlog freed after %d seconds &quot;
            &quot;without connected replicas.&quot;,
            (int) server.repl_backlog_time_limit);
    }

If I check just the function calls there is very little to wonder: if a timeout is reached, change the main replication ID, clear the secondary ID, and finally free the replication backlog. However what is not exactly clear is why we need to change the replication IDs when freeing the backlog.

Now this is the kind of thing that happens continuously in software once it has reached a given level of complexity. Regardless of the code involved, the replication protocol has some level of complexity itself, so we need to do certain things in order to make sure that other bad things can't happen. Probably these kind of comments are, in some way, opportunities to reason about the system and check if it should be improved, so that such complexity is no longer needed, hence also the comment can be removed. However often making something simpler may make something else harder or is simply not viable, or requires future work breaking backward compatibility.

Here is another one.

replication.c:

    /* SYNC can't be issued when the server has pending data to send to
     * the client about already issued commands. We need a fresh reply
     * buffer registering the differences between the BGSAVE and the current
     * dataset, so that we can copy to other replicas if needed. */
    if (clientHasPendingReplies(c)) {
        addReplyError(c,&quot;SYNC and PSYNC are invalid with pending output&quot;);
        return;
    }

If you run SYNC while there is still pending output (from a past command) to send to the client, the command should fail because during the replication handshake the output buffer of the client is used to accumulate changes,  and may be later duplicated to serve other replicas connecting while we are already creating the RDB file for the full sync with the first replica. This is the why we do that. What we do is trivial. Pending replies? Emit an error. Why is rather obscure without the comment.

One may think that such comments are needed only when describing complex protocols and interactions, like in the case of replication. Is that the case? Let's change completely file and goals, and we see still such comments everywhere.

expire.c:

    for (j = 0; j &amp;lt; dbs_per_call &amp;amp;&amp;amp; timelimit_exit == 0; j++) {
        int expired;
        redisDb *db = server.db+(current_db % server.dbnum);

        /* Increment the DB now so we are sure if we run out of time
         * in the current DB we'll restart from the next. This allows to
         * distribute the time evenly across DBs. */
        current_db++;
        ...

That's an interesting one. We want to expire keys from different DBs, as long as we have some time. However instead of incrementing the “database ID” to process next at the end of the loop processing the current database, we do it differently: we select the current DB in the `db` variable, but then we immediately increment the ID of the next database to process (at the next call of this function). This way if the function terminates because too much effort was spent in a single call, we don't have the problem of restarting again from the same database, letting logically expired keys accumulating in the other databases since we are too focused in processing the same database again and again.

With such comment we both explain why we increment at that stage, and that the next person going to modify the code, should preserve such quality. Note that without the comment the code looks completely harmless. Select, increment, go to do some work. There is no evident reason for not relocating the increment at the end of the loop where it could look more natural.

Trivia: the loop increment was indeed at the end in the original code. It was moved there during a fix: at the same time the comment was added. So let's say this is kinda of a &quot;regression comment&quot;.

TEACHER COMMENTS

Teacher comments don't try to explain the code itself or certain side effects we should be aware of. They teach instead the *domain* (for example math, computer graphics, networking, statistics, complex data structures) in which the code is operating, that may be one outside of the reader skills set, or is simply too full of details to recall all them from memory.

The LOLWUT command in version 5 needs to display rotated squares on the screen (&lt;a rel=&quot;nofollow&quot; href=&quot;http://antirez.com/news/123&quot;&gt;http://antirez.com/news/123&lt;/a&gt;). In order to do so it uses some basic trigonometry: despite the fact that the math used is simple, many programmers reading the Redis source code may not have any math background, so the comment at the top of the function explains what's going to happen inside the function itself.

lolwut5.c:

    /* Draw a square centered at the specified x,y coordinates, with the specified
     * rotation angle and size. In order to write a rotated square, we use the
     * trivial fact that the parametric equation:
     *
     *  x = sin(k)
     *  y = cos(k)
     *
     * Describes a circle for values going from 0 to 2*PI. So basically if we start
     * at 45 degrees, that is k = PI/4, with the first point, and then we find
     * the other three points incrementing K by PI/2 (90 degrees), we'll have the
     * points of the square. In order to rotate the square, we just start with
     * k = PI/4 + rotation_angle, and we are done.
     *
     * Of course the vanilla equations above will describe the square inside a
     * circle of radius 1, so in order to draw larger squares we'll have to
     * multiply the obtained coordinates, and then translate them. However this
     * is much simpler than implementing the abstract concept of 2D shape and then
     * performing the rotation/translation transformation, so for LOLWUT it's
     * a good approach. */

The comment does not contain anything that is related to the code of the function itself, or its side effects, or the technical details related to the function. The description is only limited to the mathematical concept that is used inside the function in order to reach a given goal.

I think teacher comments are of huge value. They teach something in case the reader is not aware of such concepts, or at least provide a starting point for further investigation. But this in turn means that a teacher comment increases the amount of programmers that can read some code path: writing code that can be read by many programmers is a major goal of mine. There are developers that may not have math skills but are very solid programmers that can contribute some wonderful fix or optimization. And in general code should be read other than being executed, since is written by humans for other humans.

There are cases where teacher comments are almost impossible to avoid in order to write decent code. A good example is the Redis radix tree implementation. Radix trees are articulated data structures. The Redis implementation re-states the whole data structure theory as it implements it, showing the different cases and what the algorithm does to merge or split nodes and so forth. Immediately after each section of comment, we have the code implementing what was written before. After months of not touching the file implementing the radix tree, I was able to open it, fix a bug in a few minutes, and continue doing something else. There is no need to study again how a radix tree works, since the explanation is the same thing as the code itself, all mixed together.

The comments are too long, so I'll just show certain snippets.

rax.c:

    /* If the node we stopped at is a compressed node, we need to
     * split it before to continue.
     *
     * Splitting a compressed node have a few possible cases.
     * Imagine that the node 'h' we are currently at is a compressed
     * node contaning the string &quot;ANNIBALE&quot; (it means that it represents
     * nodes A -&amp;gt; N -&amp;gt; N -&amp;gt; I -&amp;gt; B -&amp;gt; A -&amp;gt; L -&amp;gt; E with the only child
     * pointer of this node pointing at the 'E' node, because remember that
     * we have characters at the edges of the graph, not inside the nodes
     * themselves.
     *
     * In order to show a real case imagine our node to also point to
     * another compressed node, that finally points at the node without
     * children, representing 'O':
     *
     *     &quot;ANNIBALE&quot; -&amp;gt; &quot;SCO&quot; -&amp;gt; []

     ... snip ...

     * 3a. IF $SPLITPOS == 0:
     *     Replace the old node with the split node, by copying the auxiliary
     *     data if any. Fix parent's reference. Free old node eventually
     *     (we still need its data for the next steps of the algorithm).
     *
     * 3b. IF $SPLITPOS != 0:
     *     Trim the compressed node (reallocating it as well) in order to
     *     contain $splitpos characters. Change chilid pointer in order to link
     *     to the split node. If new compressed node len is just 1, set
     *     iscompr to 0 (layout is the same). Fix parent's reference.

     ... snip ...

        if (j == 0) {
            /* 3a: Replace the old node with the split node. */
            if (h-&amp;gt;iskey) {
                void *ndata = raxGetData(h);
                raxSetData(splitnode,ndata);
            }
            memcpy(parentlink,&amp;amp;splitnode,sizeof(splitnode));
        } else {
            /* 3b: Trim the compressed node. */
            trimmed-&amp;gt;size = j;
            memcpy(trimmed-&amp;gt;data,h-&amp;gt;data,j);
            trimmed-&amp;gt;iscompr = j &amp;gt; 1 ? 1 : 0;
            trimmed-&amp;gt;iskey = h-&amp;gt;iskey;
            trimmed-&amp;gt;isnull = h-&amp;gt;isnull;
            if (h-&amp;gt;iskey &amp;amp;&amp;amp; !h-&amp;gt;isnull) {
                void *ndata = raxGetData(h);
                raxSetData(trimmed,ndata);
            }
            raxNode **cp = raxNodeLastChildPtr(trimmed);
        ...

As you can see the description in the comment is then matched with the same labels in the code. It's hard to show it all in this form so if you want to get the whole idea just check the full file at:

    &lt;a rel=&quot;nofollow&quot; href=&quot;https://github.com/antirez/redis/blob/unstable/src/rax.c&quot;&gt;https://github.com/antirez/redis/blob/unstable/src/rax.c&lt;/a&gt;

This level of commenting is not needed for everything, but things like radix trees are really full of little details and corner cases. They are hard to recall, and certain details are *specific* to a given implementation. Doing this for a linked list does not make much sense of course. It's a matter of personal sensibility to understand when it's worth it or not.

CHECKLIST COMMENTS

This is a very common and odd one: sometimes because of language limitations, design issues, or simply because of the natural complexity arising in systems, it is not possible to centralize a given concept or interface in one piece, so there are places in the code that tells you to remember to do things in some other place of the code. The general concept is:

    /* Warning: if you add a type ID here, make sure to modify the
     * function getTypeNameByID() as well. */

In a perfect world this should never be needed, but in practice sometimes there are no escapes from that. For example Redis types could be represented using an &quot;object type&quot; structure, and every object could link to the type the object it belongs, so you could do:

    printf(&quot;Type is %s\n&quot;, myobject-&amp;gt;type-&amp;gt;name);

But guess what? It's too expensive for us, because a Redis object is represented like this:

    typedef struct redisObject {
        unsigned type:4;
        unsigned encoding:4;
        unsigned lru:LRU_BITS; /* LRU time (relative to global lru_clock) or
                                * LFU data (least significant 8 bits frequency
                                * and most significant 16 bits access time). */
        int refcount;
        void *ptr;
    } robj;

We use 4 bits instead of 64 to represent the type. This is just to show why sometimes things are not as centralized and natural as they should be. When the situation is like that, sometimes what helps is to use defensive commenting in order to make sure that if a given code section is touched, it reminds you to make sure to also modify other parts of the code. Specifically a checklist comment does one or both of the following things:

* It tells you a set of actions to do when something is modified.

* It warns you about the way certain changes should be operated.

Another example in blocked.c, when a new blocking type is introduced.

blocked.c:

     * When implementing a new type of blocking opeation, the implementation
     * should modify unblockClient() and replyToBlockedClientTimedOut() in order
     * to handle the btype-specific behavior of this two functions.
     * If the blocking operation waits for certain keys to change state, the
     * clusterRedirectBlockedClientIfNeeded() function should also be updated.

The checklist comment is also useful in a context similar to when certain &quot;why comments&quot; are used: when it is not obvious why some code must be executed at a given place, after or before something. But while the why comment may tell you why a statement is there, the checklist comment used in the same case is more biased towards telling you what rules to follow if you want to modify it (in this case the rule is, follow a given ordering), without breaking the code behavior.

cluster.c:

    /* Update our info about served slots.
     *
     * Note: this MUST happen after we update the master/replica state
     * so that CLUSTER_NODE_MASTER flag will be set. */

Checklist comments are very common inside the Linux kernel, where the order of certain operations is extremely important.

GUIDE COMMENT

I abuse guide comments at such a level that probably, the majority of comments in Redis are guide comments. Moreover guide comments are exactly what most people believe to be completely useless comments.

* They don't state what is not clear from the code.

* There are no design hints in guide comments.

Guide comments do a single thing: they babysit the reader, assist her while processing what is written in the source code by providing clear division, rhythm, and introducing what you are going to read.

Guide comments’ sole reason to exist is to lower the cognitive load of the programmer reading some code.

rax.c:

    /* Call the node callback if any, and replace the node pointer
     * if the callback returns true. */
    if (it-&amp;gt;node_cb &amp;amp;&amp;amp; it-&amp;gt;node_cb(&amp;amp;it-&amp;gt;node))
        memcpy(cp,&amp;amp;it-&amp;gt;node,sizeof(it-&amp;gt;node));

    /* For &quot;next&quot; step, stop every time we find a key along the
     * way, since the key is lexicographically smaller compared to
     * what follows in the sub-children. */
    if (it-&amp;gt;node-&amp;gt;iskey) {
        it-&amp;gt;data = raxGetData(it-&amp;gt;node);

        return 1;
    }

There is nothing that the comments are adding to the code above. The guide comments above will assist you reading the code, moreover they'll acknowledge you about the fact you are understanding it right. More examples.

networking.c:

    /* Log link disconnection with replica */
    if ((c-&amp;gt;flags &amp;amp; CLIENT_SLAVE) &amp;amp;&amp;amp; !(c-&amp;gt;flags &amp;amp; CLIENT_MONITOR)) {
        serverLog(LL_WARNING,&quot;Connection with replica %s lost.&quot;,
            replicationGetSlaveName(c));
    }

    /* Free the query buffer */
    sdsfree(c-&amp;gt;querybuf);
    sdsfree(c-&amp;gt;pending_querybuf);
    c-&amp;gt;querybuf = NULL;

    /* Deallocate structures used to block on blocking ops. */
    if (c-&amp;gt;flags &amp;amp; CLIENT_BLOCKED) unblockClient(c);
    dictRelease(c-&amp;gt;bpop.keys);

    /* UNWATCH all the keys */
    unwatchAllKeys(c);
    listRelease(c-&amp;gt;watched_keys);

    /* Unsubscribe from all the pubsub channels */
    pubsubUnsubscribeAllChannels(c,0);
    pubsubUnsubscribeAllPatterns(c,0);
    dictRelease(c-&amp;gt;pubsub_channels);
    listRelease(c-&amp;gt;pubsub_patterns);

    /* Free data structures. */
    listRelease(c-&amp;gt;reply);
    freeClientArgv(c);

    /* Unlink the client: this will close the socket, remove the I/O
     * handlers, and remove references of the client from different
     * places where active clients may be referenced. */
    unlinkClient(c);

Redis is *literally* ridden of guide comments, so basically every file you open will contain plenty of them. Why bother? Of all the comment types I analyzed so far in this blog post, I'll admit that this is absolutely the most subjective one. I don't value code without such comments as less good, yet I firmly believe that if people regard the Redis code as readable, some part of the reason is because of all the guide comments.

Guide comments have some usefulness other than the stated ones. Since they clearly divide the code in isolated sections, an addition to the code is very likely to be inserted in the appropriate section, instead of ending in some random part. To have related statements nearby is a big readability win.

Also make sure to check the guide comment above before the unlinkClient() function is called. The guide comment briefly tells the reader what the function is going to do, avoiding the need to jump back into the function if you are only interested in the big picture.

TRIVIAL COMMENTS

Guide comments are very subjective tools. You may like them or not. I love them. However, a guide comment can degenerate into a a very bad comment: it can easily turn into a &quot;trivial comment&quot;. A trivial comment is a guide comment where the cognitive load of reading the comment is the same or higher than just reading the associated code. The following form of trivial comment is exactly what many books will tell you to avoid.

    array_len++;        /* Increment the length of our array. */

So if you write guide comments, make sure you avoid writing trivial ones.

DEBT COMMENTS

Debt comments are technical debts statements hard coded inside the source code itself:

t_stream.c:

    /* Here we should perform garbage collection in case at this point
     * there are too many entries deleted inside the listpack. */
    entries -= to_delete;
    marked_deleted += to_delete;
    if (entries + marked_deleted &amp;gt; 10 &amp;amp;&amp;amp; marked_deleted &amp;gt; entries/2) {
        /* TODO: perform a garbage collection. */
    }

The snippet above is extracted from the Redis streams implementation. Redis streams allow to delete elements from the middle using the XDEL command. This may be useful in different ways, especially in the context of privacy regulations where certain data cannot be retained no matter what data structure or system you are using in order to store them. It is a very odd use case for a mostly append only data structure, but if users start to delete more than 50% of items in the middle, the stream starts to fragment, being composed of &quot;macro nodes&quot;. Entries are just flagged as deleted, but are only reclaimed once all the entries in a given macro node are freed. So your mass deletions will change the memory behavior of streams.

Right now, this looks like a non issue, since I don't expect users to delete most history in a stream. However it is possible that in the future we may want to introduce garbage collection: the macro node could be compacted once the ratio between the deleted entries and the existing entries reach a given level. Moreover nearby nodes may be glued together after the garbage collection. I was kind of afraid that later I would no longer remember what were the entry points to do the garbage collection, so I put TODO comments, and even wrote the trigger condition.

This is probably not great. A better idea was instead to write, in the design comment at the top of the file, why we are currently not performing GC. And what are the entry points for GC, if we want to add it later.

FIXME, TODO, XXX, &quot;This is a hack&quot;, are all forms of debt comments. They are not great in general, I try to avoid them, but it's not always possible, and sometimes instead of forgetting forever about a problem, I prefer to put a node inside the source code. At least one should periodically grep for such comments, and see if it is possible to put the notes in a better place, or if the problem is no longer relevant or could be fixed right away.

BACKUP COMMENTS

Finally backup comments are the ones where the developer comments older versions of some code block or even a whole function, because she or he is insecure about the change that was operated in the new one. What is puzzling is that this still happens now that we have Git. I guess people have an uneasy feeling about losing that code fragment, considered more sane or stable, in some years old commit.

But source code is not for making backups. If you want to save an older version of a function or code part, your work is not finished and cannot be committed. Either make sure the new function is better than the past one, or take it just in your development tree until you are sure.

Backup comments end my classification. Let's try some conclusion.

# Comments as an analysis tool.

Comments are rubber duck debugging on steroids, except you are not talking with a rubber duck, but with the future reader of the code, which is more intimidating than a rubber duck, and can use Twitter. So in the process you really try to understand if what you are stating *is acceptable*, honorable, good enough. And if it is not, you make your homework, and come up with something more decent.

It is the same process that happens while writing documentation: the writer attempts to provide the gist of what a given piece of code does, what are the guarantees, the side effects. This is often a bug hunting opportunity. It is very easy while describing something to find that it has holes... You can't really describe it all because you are not sure about a given behavior: such behavior is just emerging from complexity, at random. You really don't want that, so you go back and fix it all. I find this a splendid reason to write comments.

# Writing good comments is harder than writing good code

You may think that writing comments is a lesser noble form of work. After all you *can code*! However consider this: code is a set of statement and function calls, or whatever your programming paradigm is. Sometimes such statements do not make much sense, honestly, if the code is not good. Comments require always to have some design process ongoing, and to understand the code you are writing in a deeper sense. On top of that, in order to write good comments, you have to develop your writing skills. The same writing skills will assist you writing emails, documentation, design documents, blog posts, and commit messages.

I write code because I have an urgent sense to share and communicate more than anything else. Comments coadiuvate the code, assist it, describe our efforts, and after all I love writing them as much as I love writing code itself.

(Thanks to Michel Martens for giving feedbacks during the writing of this blog post)
&lt;/pre&gt;</description>
<pubDate>Sat, 06 Oct 2018 20:18:45 +0000</pubDate>
<dc:creator>indy</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>http://antirez.com/news/124</dc:identifier>
</item>
<item>
<title>Microsoft open sources parts of Minecraft: Java Edition</title>
<link>https://minecraft.net/en-us/article/programmers-play-minecrafts-inner-workings</link>
<guid isPermaLink="true" >https://minecraft.net/en-us/article/programmers-play-minecrafts-inner-workings</guid>
<description>&lt;p&gt;Nathan hopes that giving the Minecraft community access to Brigadier can make it “extremely user friendly one day.” After all, commands are still not commonly used by a lot of Minecraft players. “Some people don't really look at commands because they’re a bit intimidating and I totally understand why,” says Nathan. “This is supposed to help a lot with that.”&lt;/p&gt;
&lt;p&gt;Brigadier takes the random strings of text you enter into Minecraft and turns into an actual function that the game will perform (so you've got Brigadier to thank for all those sticks). “A lot of people think this is a really easy function,” says Nathan. “But the reality is actually extremely complicated.&lt;/p&gt;
&lt;p&gt;“We thought this would be an amazing first test of the system. It’s a great thing that people can just pick up and use in any kind of project. It doesn’t even have to be a game – I’ve seen some people trying to use it on telegram chat bots, so you can just message it and it’ll do what you’re asking it to do.” Neat!&lt;/p&gt;
&lt;p&gt;Brigadier has only been available for just over a week, and already we've seen people trying to improve the code, and even make Nathan's handy readme doc a bit prettier and more user-friendly! Wait, you lot are writing stuff for Nathan for &lt;em&gt;free?&lt;/em&gt; Are you trying to put me out of a job?&lt;/p&gt;
&lt;h2 id=&quot;data-fixer-upper&quot;&gt;DATA FIXER UPPER&lt;/h2&gt;
&lt;p&gt;“The name is so stupid that we had to keep it,” explains Nathan, unapologetically. DataFixerUpper does exactly what it sounds like, and it's one of the most important parts of the Minecraft game engine. It's also the second library we're opening up!&lt;/p&gt;
&lt;p&gt;“The problem that we have in Minecraft, that I’m pretty sure every game has, is that data changes over time,” says Nathan. “we add a thing into Minecraft and then we kind of have to change how we store level data, how we store all the save files and stuff to accommodate it.&lt;/p&gt;
&lt;p&gt;“When we load up any world in Minecraft right now, you can have some data that has not been touched for six years, because that chunk was last played six years ago. So we need to know: 'OK, this level actually looks really old. Now we’ve got to turn that old data into what it should look like now – in a way that the game can currently read.'&lt;/p&gt;
&lt;p&gt;“We have one little unit which uses DataFixerUpper that just says to Minecraft: 'this is how to turn anything into the data format that the game is going to use.' And so the game is now only saying 'This is how the data looks, so this is how I’m going to read it.'&lt;/p&gt;
&lt;p&gt;&quot;Basically, before Minecraft actually loads the chunks, it goes through DataFixerUpper and that turns it into what it should currently be now.”&lt;/p&gt;
&lt;p&gt;Confused? That's fair – DataFixerUpper is a lot less user-friendly than Brigadier – but that's also one of the reasons why we're making it available to everyone!&lt;/p&gt;
</description>
<pubDate>Sat, 06 Oct 2018 19:52:20 +0000</pubDate>
<dc:creator>aw1621107</dc:creator>
<og:image>https://community-content-assets.minecraft.net/upload/f66187c39483f072b434a9cd06bfe6d6-Header.jpeg</og:image>
<og:type>article</og:type>
<og:url>https://minecraft.net/en-us/article/programmers-play-minecrafts-inner-workings</og:url>
<og:title>Programmers: Play with Minecraft's Inner Workings!</og:title>
<dc:language>en-us</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://minecraft.net/en-us/article/programmers-play-minecrafts-inner-workings</dc:identifier>
</item>
<item>
<title>Microsoft suspends Windows 10 update, citing data loss reports</title>
<link>https://techcrunch.com/2018/10/06/microsoft-suspends-windows-10-update-citing-data-loss-reports/</link>
<guid isPermaLink="true" >https://techcrunch.com/2018/10/06/microsoft-suspends-windows-10-update-citing-data-loss-reports/</guid>
<description>&lt;p class=&quot;p1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;A few day after making the latest version of Windows 10 &lt;a href=&quot;https://techcrunch.com/2018/10/02/the-windows-10-october-2018-update-is-now-available/&quot;&gt;available to users&lt;/a&gt;, Microsoft &lt;a href=&quot;https://www.theverge.com/2018/10/6/17944966/microsoft-windows-10-october-2018-update-documents-deleted-issues-windows-update-paused&quot;&gt;has suspended&lt;/a&gt; the update, citing multiple reports of user data loss.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;p1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;“We have paused the rollout of the Windows 10 October 2018 Update (version 1809) for all users as we investigate isolated reports of users missing some files after updating,” the company writes &lt;a href=&quot;https://support.microsoft.com/en-us/help/4464619/windows-10-update-history&quot;&gt;on its support site.&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;p1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;The company opened up the latest version of the desktop/laptop operating system as part of its big Surface event earlier this week. While it hasn’t officially started pushing the update, some users who’ve downloaded the OS refresh have begun reporting the deletion of documents, photos and other info on a variety of different forums.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;p1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;The company appears to still be investigating precisely what’s going on here — and how widespread the issue is. Plans to begin pushing it to users early next week are likely delayed until the company gets to the root of the issue. Meantime, if you were planning to install the update, it’s probably best to just wait this one out. &lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 06 Oct 2018 18:30:43 +0000</pubDate>
<dc:creator>doppp</dc:creator>
<og:title>Microsoft suspends Windows 10 update, citing data loss reports</og:title>
<og:description>A few day after making the latest version of Windows 10 available to users, Microsoft has suspended the update, citing multiple reports of user data loss. “We have paused the rollout of the Windows 10 October 2018 Update (version 1809) for all users as we investigate isolated reports of users missi…</og:description>
<og:image>https://techcrunch.com/wp-content/uploads/2018/10/CMB_42541.jpg?w=600</og:image>
<og:url>http://social.techcrunch.com/2018/10/06/microsoft-suspends-windows-10-update-citing-data-loss-reports/</og:url>
<og:type>article</og:type>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://techcrunch.com/2018/10/06/microsoft-suspends-windows-10-update-citing-data-loss-reports/</dc:identifier>
</item>
<item>
<title>Personal Statement of a CIA Analyst</title>
<link>https://antipolygraph.org/statements/statement-038.shtml</link>
<guid isPermaLink="true" >https://antipolygraph.org/statements/statement-038.shtml</guid>
<description>&lt;head&gt;&lt;meta name=&quot;description&quot; content=&quot;A former CIA analyst describes her polygraph experiences with the CIA and as a contractor working for the National Reconnaissance Office (NRO), FBI, and Defense Intelligence Agency (DIA).&quot; /&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;&lt;meta http-equiv=&quot;Content-Style-Type&quot; content=&quot;text/css&quot; /&gt;&lt;title&gt;A CIA Analyst Shares Her Polygraph Experience&lt;/title&gt;&lt;/head&gt;&lt;body id=&quot;readabilityBody&quot; readability=&quot;677.48986384266&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;a href=&quot;https://antipolygraph.org/index.shtml&quot;&gt;AntiPolygraph.org Home Page&lt;/a&gt; &amp;gt; &lt;a href=&quot;https://antipolygraph.org/statements.shtml&quot;&gt;Personal Statements&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;hr /&gt;&lt;h2&gt;Personal Statement of a CIA Analyst&lt;/h2&gt;
&lt;p&gt;4 October 2018&lt;/p&gt;
&lt;h3&gt;CIA Applicant Screening&lt;/h3&gt;
&lt;p&gt;I first took a polygraph when I applied to the CIA and went through the applicant screening process.&lt;/p&gt;
&lt;p&gt;To prepare for the test, I read &lt;em&gt;&lt;a href=&quot;https://www.amazon.com/Tremor-Blood-David-T-Lykken/dp/0306457822/&quot;&gt;A Tremor in the Blood&lt;/a&gt;&lt;/em&gt; by David T. Lykken. The book described the use of control versus relevant questions as well as &lt;a href=&quot;https://antipolygraph.org/faq.shtml#q5&quot;&gt;countermeasures&lt;/a&gt; such as butt-clenching. I had no desire to use countermeasures. I wasn't out to &quot;beat&quot; the test: I wanted to understand how it worked. A future colleague at the Agency advised me, &quot;Spill your guts.&quot; I thought it was good advice, and I planned to follow it.&lt;/p&gt;
&lt;p&gt;I knew I was taking a risk in applying to the Agency. I worked as a defense contractor on a project for the CIA, so I already held CIA TS/SCI clearances. If I failed the polygraph, I could lose my clearances, and I might lose my job as well.&lt;/p&gt;
&lt;p&gt;I flew to Northern Virginia for two days of pre-employment screening. A bus took us from the hotel to a nondescript building in Vienna. The examiner was a young woman. She asked me to sign a consent form and told me not to talk about the polygraph with anyone else.&lt;/p&gt;
&lt;p&gt;In the pretest interview, the examiner asked, &quot;Did you make any false statements on your application?&quot; I said, &quot;Yes. Under height and weight, I put 130 lb. I actually weigh 134 lbs.&quot; She laughed. Then she asked if I'd read about polygraphs. I said I'd just finished &lt;em&gt;A Tremor in the Blood.&lt;/em&gt; She claimed she'd never heard of it. I was surprised. It's an important book about her field, I would have thought all polygraphers knew of it.&lt;/p&gt;
&lt;p&gt;She wired me up, and the polygraph began. My hand turned purple, which hurt terribly. My body twitched from the exaggerated stillness the test required. Halfway through, the examiner left the room, saying she had to show the charts to her supervisor. I came to think of this as the &lt;em&gt;What will it take to get you to buy the car?&lt;/em&gt; part of the test. I waited twenty minutes or so, resisting the urge to press my nose against the one-way mirror and peer into it through cupped hands.&lt;/p&gt;
&lt;p&gt;The examiner came back. &quot;You're having a problem with one of the questions. Do you know which one?&quot; I had no idea. I'd answered all of them truthfully. She said, &quot;How about, 'Have you ever lied to your boss?'&quot; I said I hadn't. She pressed me until I came up with an occasion when I'd passed my boss in the hall. She said, &quot;How are you?&quot; and I said, &quot;Fine.&quot; But I wasn't fine, I was in the middle of a cancer scare.&lt;/p&gt;
&lt;p&gt;I failed the poly and was told to come back the next day. I couldn't understand why I hadn't passed. I'd spilled my guts, and I hadn't used countermeasures.&lt;/p&gt;
&lt;p&gt;On the bus back to the hotel, a woman was sobbing, &quot;Do they count something less than $50 as theft?&quot; I felt bad for her because she was crying, but I wondered why a petty thief thought she could get into the Agency.&lt;/p&gt;
&lt;p&gt;That evening, the other applicants went to the nearby Tysons Corner mall to go shopping. I didn't feel festive enough to join them so I withdrew to my room. I ordered from room service but couldn't eat my dinner. I sat by the window for hours, looking into the darkness. She'd seen something inside me I hadn't known about. I'd always thought I was a good person. Now I wasn't sure.&lt;/p&gt;
&lt;p&gt;The next morning, I rode back to the same crumbling building where I'd been polygraphed the day before. The examiner said, &quot;Now that you've had a chance to think about it, is there anything you'd like to say?&quot; He didn't need to ask me twice. &quot;You bet there is. I did my part, now I expect you to do yours.&quot; It wasn't until late that afternoon, when I was waiting for my plane at Dulles, that I realized, &quot;Is there anything you'd like to say?&quot; does not mean, &quot;Please tell us all our faults.&quot;&lt;/p&gt;
&lt;p&gt;The examiner wired me up. He began with what he called a calibration test. He took a piece of paper and wrote the numbers one through five in a vertical column. He asked me to pick a number. I picked three. He drew a square around the number three, then taped the paper to the back of a chair where I could see it. I was supposed to lie about having selected the number three.&lt;/p&gt;
&lt;p&gt;The test began. He asked, &quot;Is the number one? Is the number two? Is the number three?&quot; I said &quot;No,&quot; and butt-clenched. &quot;Nice strong response!&quot; he said.&lt;/p&gt;
&lt;p&gt;I wasn't hiding anything, so I had no reason to use countermeasures. On the other hand, the analytical part of me enjoyed poking at the test to figure out how it worked. And I was still mad about having failed the previous day, so I was messing with him. Curiosity satisfied, I didn't try the butt-clench again, not on that day or ever.&lt;/p&gt;
&lt;p&gt;During the real test, the examiner said, &quot;Your breathing is unnatural.&quot; He described a kid in little league who kept swinging the bat wrong, and then suddenly got it. If I just kept trying, I could get it too. It took almost four hours, but by the end of the session, he told me I'd passed. I'd just cleared the last hurdle to joining the CIA.&lt;/p&gt;
&lt;p&gt;I entered on duty and began a week of orientation. On the first morning, we introduced ourselves and said a few words about what we'd be doing at the Agency. Four guys sitting together at a table up front identified themselves as polygraphers. Everyone else in the room hissed. It wasn't friendly teasing, either. At lunch, no one would sit with them.&lt;/p&gt;
&lt;p&gt;A few years into my Agency career, I took a battery of vocational and aptitude tests including the MMPI, a personality inventory. The MMPI results came back, and they said I fell on the extreme end of the honesty spectrum, or in the words of the Agency psychiatrist, &quot;You're honest to the point of being naïve.&quot; I was kind of offended. &lt;em&gt;Naïve?&lt;/em&gt; &lt;em&gt;Who are you calling naïve?&lt;/em&gt; On the other hand, it was nice to have that in my official file.&lt;/p&gt;
&lt;h3&gt;Five Year Reinvestigation&lt;/h3&gt;
&lt;p&gt;CIA employees were required to take a polygraph every five years. We all did it, but there was a lot of complaining.&lt;/p&gt;
&lt;p&gt;I never heard that anyone worried about losing their job to the poly. It was said that &lt;a href=&quot;https://antipolygraph.org/cgi-bin/forums/YaBB.pl?num=1122195854&quot;&gt;new applicants failed in large numbers&lt;/a&gt;, but once you were in, you were in. The re-poly could be unpleasant, though. If you failed, you had to keep taking it. It was said that there was an upper manager who just couldn't pass, no matter how many times he tried. After something like seven attempts, Polygraph gave up and stopped calling him back. The manager remained in his job.&lt;/p&gt;
&lt;p&gt;We weren't supposed to discuss the polygraph among ourselves, but of course we did. When people came back from a poly, they talked about how it had gone. A woman who'd never seen an illegal drug in her life was accused of being a major drug user. Someone who hated computers so much that she had the secretary print out her emails so she could read them was interrogated for hours about hacking into Agency networks.&lt;/p&gt;
&lt;p&gt;A pattern emerged. In a normal polygraph, there was often a gross mismatch between a person and the accusations made against them. I don't think the officials at Polygraph had any idea how unintentionally humorous this was. Not to the person it happened to, of course, but the rest of us found it hysterically funny.&lt;/p&gt;
&lt;p&gt;Once, the examiner got in my face and shouted, &quot;Admit it, you're deeply in debt. Creditors are pounding on your door!&quot; I said. &quot;You've just revealed to me that you haven't bothered to pull my credit report. Are you lazy, or are you cheap?&quot; I offered to pay the $15 fee myself, but he didn't take me up on it.&lt;/p&gt;
&lt;p&gt;Another time, the examiner accused me of working for a foreign intelligence service and traveling overseas to meet my handler. I rolled my eyes. &quot;Do you want to see my passport? It's been expired for nine years.&quot; No, he didn't want to see my passport.&lt;/p&gt;
&lt;p&gt;I told my office mates I'd figured out why the accusations were so consistently off-the-wall. Polygraph must have a question of the day. Everyone who went in on Monday would be accused of dealing drugs. Tuesday was espionage day, Wednesday was marital infidelity day, and so on.&lt;/p&gt;
&lt;p&gt;Then Aldrich Ames was arrested, and &lt;a href=&quot;https://antipolygraph.org/cgi-bin/forums/YaBB.pl?num=1022112660&quot;&gt;polygraphs became more brutal&lt;/a&gt;. People who'd never had trouble passing were being called back two and three times. Thank you, Mr. Ames.&lt;/p&gt;
&lt;p&gt;I overheard a fragment of conversation at CIA Headquarters, &quot;I thought I was a good person, but after that last poly, I'm not so sure.&quot; It was hard on people.&lt;/p&gt;
&lt;p&gt;Because of Ames, the Agency introduced a policy of random polygraphs. I knew someone who completed a five year poly. A few months later, he was called back for a random one.&lt;/p&gt;
&lt;h3&gt;Ten Year Reinvestigation&lt;/h3&gt;
&lt;p&gt;I'd been at the Agency for ten years when I went through the reinvestigation poly again.&lt;/p&gt;
&lt;p&gt;The test was administered by an inexperienced young woman. In the pretest interview, she asked me a question. I answered truthfully. She asked again as if she was looking for a better answer. &lt;em&gt;Call me a liar.&lt;/em&gt; It made me furious.&lt;/p&gt;
&lt;p&gt;Well into the session, she said I was failing. I was so frustrated, I started to cry. I knew I could pass it if I just had enough time, but she had to run an errand. She failed me and ended the session early.&lt;/p&gt;
&lt;p&gt;I wrote a letter of complaint to the Chief of Polygraph saying I didn't like the way I'd been treated. He sent me a letter of apology. He said he'd reviewed the tapes and that he was sorry about the abuse. He said the polygrapher had been reprimanded.&lt;/p&gt;
&lt;p&gt;I was surprised to get a response of any kind, but a letter of apology was astonishing. Although the cynical part of me might call it a &quot;please don't sue me&quot; letter.&lt;/p&gt;
&lt;p&gt;But I was also puzzled. The apology was for the wrong thing. The Director seemed to think I'd gone through a particularly abusive polygraph. I hadn't. It was a perfectly ordinary polygraph, no different from any other. I just wrote to say that I didn't like polygraphs.&lt;/p&gt;
&lt;p&gt;I had to take the test again because I'd failed the first one. The second examiner was experienced and had a mild disposition. I passed without difficulty.&lt;/p&gt;
&lt;p&gt;Over the course of many years at CIA, I formed an impression that a typical polygraph involves an inexperienced examiner who grills you harshly and then fails you, followed by a re-poly with a more experienced examiner who guides you through it with no fuss. I've had two polygraphs in which I passed on the first try. On both occasions, an experienced examiner conducted the test.&lt;/p&gt;
&lt;h3&gt;Government to Contractor&lt;/h3&gt;
&lt;p&gt;I worked at CIA for eleven years. It was a terrific experience, and I count those years as among the happiest in my life. I left only because I got married and had a baby. CIA is many things, but family friendly is not one of them.&lt;/p&gt;
&lt;p&gt;I joined a small defense contractor known for its work-life balance. The company supported most of the three-letter agencies, and I settled into doing the same sort of work I'd done before.&lt;/p&gt;
&lt;h3&gt;NRO&lt;/h3&gt;
&lt;p&gt;My first assignment was on a National Reconnaissance Office (NRO) project. The NRO clearances required a poly, which I agreed to. The test was administered by a woman with many years' experience. She told me I'd passed. It's possible to have a polygraph that isn't confrontational and doesn't leave you feeling violated. It's rare, though.&lt;/p&gt;
&lt;h3&gt;FBI&lt;/h3&gt;
&lt;p&gt;I'd been supporting an FBI project for several years when the phone rang in the kitchen. Someone from the FBI asked me to come in for a routine polygraph, a requirement to keep my clearances up to date.&lt;/p&gt;
&lt;p&gt;To prepare, I read the 2002 &lt;a href=&quot;https://www.nap.edu/read/10420/&quot;&gt;National Academy of Sciences report&lt;/a&gt;. It was an eye-opener, even though it confirmed what I'd already begun to suspect, that the polygraph didn't work.&lt;/p&gt;
&lt;p&gt;I arrived for my polygraph appointment, which would be administered in a building across the street from my children's orthodontist.&lt;/p&gt;
&lt;p&gt;I stood in the marble lobby, waiting for the examiner to come and collect me. The 2002 NAS report made me cynical. In the interview room, I thought, &quot;Don't look at the man behind the curtain.&quot;&lt;/p&gt;
&lt;p&gt;The examiner asked if I'd ever visited the anti-polygraph sites online. I said yes, that's where I found the 2002 NAS report. He said he'd never heard of it. He also said there was no such a thing as a control question. I hate being lied to; it makes me angry.&lt;/p&gt;
&lt;p&gt;In the pretest interview, he asked how many polygraphs I'd had before this one. I wasn't sure, but I thought it was probably six or seven. He asked what medications I took. I listed everything, including a cortisone cream for a patch of eczema on my hand. He went on and on about my skin condition. &lt;em&gt;What does this have to do with national security, and why is it any of your business?&lt;/em&gt; Maybe violating people's boundaries is a way to establish dominance.&lt;/p&gt;
&lt;p&gt;The examiner wired me up, and we did the card trick. He drew a vertical column of numbers, told me to pick one, drew a box around it, and pinned it up where I could see it.&lt;/p&gt;
&lt;p&gt;It occurred to me that we were playing a guessing game in which the examiner knew the answer before the game began. I'd have been more impressed if he'd had to discover my number using only the polygraph equipment and/or his ability to read people. I was tempted to suggest it, but I didn't think the idea would be well received.&lt;/p&gt;
&lt;p&gt;The test proceeded normally. The examiner left the room. When he came back, he didn't meet my eyes, and the muscles of his face were tight. &quot;The test shows deception.&quot; He was right. I had been deceptive, but only about one thing. I hadn't told him I knew the polygraph didn't work.&lt;/p&gt;
&lt;p&gt;The examiner hammered on me to come clean. I kept repeating, &quot;No, I can't think of anything else.&quot; I was tempted to make something up, just to make it stop, but I'm not comfortable lying.&lt;/p&gt;
&lt;p&gt;At the end of the interview, the examiner looked at me, gloating. &quot;You claim you've taken seven polygraphs before today, but later, you said it was only six.&quot; &lt;em&gt;That's all you've got on me? I'm underwhelmed.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Being able to recognize interrogation techniques didn't make me immune to them. Exhausted, I hung my head, feeling like he'd broken me under interrogation. I've always found the shame of being broken was the worst thing about being polygraphed.&lt;/p&gt;
&lt;p&gt;A few days later, I was still seriously rattled. I didn't realize how badly the polygraph had affected me until I plowed through a red light and almost hit another car. I'd never run a red light before. I couldn't think what had gotten into me.&lt;/p&gt;
&lt;p&gt;I told a relative I'd had a really hard time with the polygraph. There was an embarrassed silence, followed by a rapid change of subject. &lt;em&gt;What did you do wrong, and why don't you own up to it?&lt;/em&gt; This from someone who's known me from birth and has always taken my side. It shows how strongly people in our culture believe in the polygraph.&lt;/p&gt;
&lt;p&gt;I wrote to my congressman and asked him to support legislation banning the polygraph. I said it was a civil rights issue to subject an entire workforce to a brutal police-style interrogation in the absence of probable cause, especially if they might be harmed by it.&lt;/p&gt;
&lt;p&gt;Although I failed the FBI polygraph, I remained on the project.&lt;/p&gt;
&lt;p&gt;Much to my surprise, I was granted additional clearances and assigned to more highly classified work than I'd been doing before the polygraph.&lt;/p&gt;
&lt;p&gt;The work dried up, and I moved on to something else. Seven months after the failed FBI poly, I was summoned to FBI Headquarters &quot;to talk about your polygraph.&quot;&lt;/p&gt;
&lt;p&gt;It took several hours to drive downtown and find a place to park. I found FBI headquarters. Two burly agents met me at the door. I wondered if they had the power to arrest me. My hands shook. It was like a scene from a movie where government officials are trying to be intimidating. It worked. As we walked across the lobby, I thought I was going to faint.&lt;/p&gt;
&lt;p&gt;They escorted me upstairs. Neither of them spoke. They took me to a small room. A folder lay open on a desk. Papers spilled from it.&lt;/p&gt;
&lt;p&gt;I said, &quot;Does it matter that I was laid off the project four months ago?&quot;&lt;/p&gt;
&lt;p&gt;It was like watching method actors break character. &quot;We're sorry, we didn't mean to bring you all the way down here for nothing. Maybe you could visit the spy museum? It's right across the street.&quot;&lt;/p&gt;
&lt;h3&gt;DIA&lt;/h3&gt;
&lt;p&gt;Years later, I joined a DIA project which required a CI (counterintelligence) polygraph. I liked the work and the people doing it, so I agreed.&lt;/p&gt;
&lt;p&gt;I started in the summer. In late September, Polygraph asked me to come in. I was no longer afraid of them. I didn't doubt the apparatus took accurate measurements of heart rate, blood pressure, respiration, and perspiration, but I'd stopped believing the examiner could infer a person's emotions or thoughts from the data in the tracings.&lt;/p&gt;
&lt;p&gt;To prepare for the test, I read the &lt;em&gt;&lt;a href=&quot;https://antipolygraph.org/documents/dodpi-interrogation.pdf&quot;&gt;DoD Polygraph Institute Interview and Interrogation handbook&lt;/a&gt; (PDF), which describes techniques like &quot;offer hope, take it away.&quot; That book is evil. I made copies and gave them to my writer friends.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I now knew the examiners worked from a script like the one in the handbook. On page 24, the script calls for empathetic listening to put the subject at ease. On page 53, it says to change gears and confront the subject with evidence of a crime. I thought that since I was familiar with the script, the polygrapher would lose his power over me.&lt;/p&gt;
&lt;p&gt;I arrived for the appointment. The examiner asked if I was nervous, and I said no (true). In the pretest interview, he asked if I'd visited the anti-polygraph websites to learn how to beat the test. I said I did read the sites, but I was looking for articles on psychological damage from interrogation and how to recover from it. Beating the polygraph was of no interest to me (true).&lt;/p&gt;
&lt;p&gt;The real test began. In my mind, I turned the pages of the script. The examiner excused himself and stepped outside. He returned, and whatever warmth there'd been in his manner had vanished. &lt;em&gt;Oh c**p, we're on page 53.&lt;/em&gt; He accused me of deception. I hunkered down until it was over. I reminded myself, &lt;em&gt;Whatever you do, don't make admissions.&lt;/em&gt; I didn't have anything to confess, but if the pressure were bad enough, I might be tempted to make things up.&lt;/p&gt;
&lt;p&gt;At the end of the test, the examiner told me I'd failed. But, and this is huge, for the first time I didn't leave the poly broken and weeping. I was annoyed, but I hadn't been harmed.&lt;/p&gt;
&lt;p&gt;Two weeks later, they asked me to come in for a retest. The examiner was different, but the test was the same. Everything went smoothly, and I assumed I'd passed. The examiner said he needed to run the chart by his supervisor, and I'd hear back later.&lt;/p&gt;
&lt;p&gt;Weeks went by, and then months. The computer account I would get as soon as I passed the poly was still in limbo, which was not a good sign.&lt;/p&gt;
&lt;p&gt;During the quiet time over the Christmas break, I came to believe I'd lost the ability to pass a polygraph. By this time, I'd failed three in a row, two for DIA and the one for FBI.&lt;/p&gt;
&lt;p&gt;I wondered if it was because I'd grown cynical. I now thought of the polygraph apparatus as &lt;a href=&quot;https://www.youtube.com/watch?v=xJvh0GFNUrE&quot;&gt;a colander attached to a Xerox machine&lt;/a&gt;. Even so, I'd tried to cooperate. I'd answered their questions truthfully, and I hadn't used countermeasures. But I no longer feared the examiners, and I no longer broke under interrogation. According to the handbook, breaking the subject is an important part of the process.&lt;/p&gt;
&lt;p&gt;On the first day back from Christmas break, my department head stopped by to give me my annual salary review. It was my highest raise in five years. She said the people on my project liked my work, and they liked me.&lt;/p&gt;
&lt;p&gt;Later the same day, I got a call from Polygraph asking me to come in the next morning to answer the polygraph questions under oath rather than wired up.&lt;/p&gt;
&lt;p&gt;I had no problem with that. As a mentor at the Agency said about testifying before Congress, &quot;Under oath or not under oath. Either way you're telling the truth, so what's the difference?&quot;&lt;/p&gt;
&lt;p&gt;The two polys I'd already taken for DIA had been CI (counterintelligence). But halfway through, the examiner asked, &quot;How often do you look at pornography?&quot; I blinked with surprise. &quot;Excuse me?&quot; That question didn't belong on a CI poly, that was a Lifestyle question.&lt;/p&gt;
&lt;p&gt;When the interview ended, the examiner said, &quot;I believe you&quot; in a voice that lacked conviction. Then he added, &quot;I'm going to try to get you another polygraph.&quot;&lt;/p&gt;
&lt;p&gt;&quot;I don't want another.&quot; I meant it.&lt;/p&gt;
&lt;p&gt;Over the next few days, I jumped whenever the phone rang. Weeks went by before I began to relax. And then my long-delayed computer account was approved. As I understood how the system worked, the polygraph had just been adjudicated in my favor.&lt;/p&gt;
&lt;p&gt;A few days later, I was sitting at my desk eating lunch when a scheduling clerk from Polygraph called. &quot;You missed your appointment this morning,&quot; he said. &lt;em&gt;Next time, you might consider telling me about it ahead of time.&lt;/em&gt; He said, &quot;Don't even worry about it. Everyone makes mistakes.&quot; My jaw dropped. &lt;em&gt;He just called me a liar.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The clerk wanted me to come in the next day. I was seriously rattled. I'd already decided I was not going to take another polygraph, ever. I stalled. And then I remembered my newly granted computer accesses. I was already cleared. Probably the paperwork hadn't caught up yet. I said I needed a few days to figure out if the poly was still necessary, and I would get back to him.&lt;/p&gt;
&lt;p&gt;I checked with Security. They said, &quot;No, you haven't been adjudicated yet.&quot;&lt;/p&gt;
&lt;p&gt;I couldn't get out of it, but I could put it off until it was OBE (overtaken by events). In a few months, the project would move to a new location beyond my commuting range. I planned to stay until right before the move and then find something else. I didn't have to refuse the poly, I just had to conduct a delaying action.&lt;/p&gt;
&lt;p&gt;But Polygraph was insistent, and I wasn't sure I could hold them off much longer. I asked about withdrawing my application for DIA clearances, but was advised to watch and wait.&lt;/p&gt;
&lt;p&gt;Or, I could leave the project now and find other work. My TS/SCI from CIA was still active, but I knew that eventually CIA would want me to take a polygraph. I also held a Top Secret clearance from the Air Force. The Air Force TS, a &quot;vanilla TS&quot; (not SCI) was based on an SF-86 background investigation. It did not require a polygraph. And at the very worst, I could do unclassified work. My company had a large number of unclassified projects, and many had work for analysts.&lt;/p&gt;
&lt;p&gt;A few days after I'd told the clerk I'd get back to him, I gave a presentation about the work I'd been doing on my task. It was well received, and I stepped down from the podium covered in glory. As I left the meeting, the program manager pulled me aside and said my task had lost its funding. It was an occupational hazard of defense contracting, and not anything sinister.&lt;/p&gt;
&lt;p&gt;I wasn't happy about being cut from the project, but it did solve my polygraph dilemma. If I wasn't on the project anymore, I didn't need to apply for DI clearances, and I didn't need to take the polygraph.&lt;/p&gt;
&lt;p&gt;Around noon, the clerk from Polygraph called again. I told him I didn't have to take the poly anymore because I'd been laid off the project. In mid-afternoon, he called back. He said he'd made a few phone calls and learned that I hadn't been laid off from my company, after all. &lt;em&gt;Wonderful, call me a liar.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;He pressed me to schedule another poly. I said no. His voice turned whiny. &quot;You have to do it!&quot; I dug in my heels. &quot;I've already told you no.&quot; He slammed down the phone.&lt;/p&gt;
&lt;p&gt;I'd just refused a polygraph. I felt like Neville Longbottom when he drew the sword of Gryffindor and advanced on Lord Voldemort. I was filled with righteous indignation, and it gave me courage.&lt;/p&gt;
&lt;p&gt;For the rest of the day, I was peppered with emails and phone calls summoning me to the offices of upper managers. Some of them were so far up the chain, I'd never heard their names before. They were uniformly kind to me. I hadn't known it, but I wasn't the first person in our division to refuse the polygraph. Polygraph conscientious objectors—who knew that there was such a thing?&lt;/p&gt;
&lt;p&gt;Polygraph told my management I'd lied about being laid off. It caused a major flap. My project badges were taken from me, even the unclassified ones, and I was debriefed from all my DIA clearances.&lt;/p&gt;
&lt;p&gt;To their credit, DIA didn't tell any other agencies they'd taken my badge and debriefed me. Weeks later, my CIA clearances were still active.&lt;/p&gt;
&lt;p&gt;Six weeks went by. I put in for a few days of leave to take the kids to an alumni event at my university. I worked half a day and then went home to pack.&lt;/p&gt;
&lt;p&gt;Sometime after 4:00 pm, when I was loading the last suitcase into the car, the department secretary called to say I was late for a 4:00 meeting with my department head. This was the first I'd heard of it. The meeting had been put on the calendar after I'd left for the day. I said I was sorry I couldn't be there, but I'd be back in the office first thing on Monday.&lt;/p&gt;
&lt;p&gt;Just before close of business Monday, I was summoned to another meeting with the department head. When I arrived, my boss was sitting in her office with a woman from Human Resources. As a general rule, if you're boss wants to see you and HR has been asked to sit in, you know it's going to end badly.&lt;/p&gt;
&lt;p&gt;My department head put a piece of paper in front of me. It said I'd agreed to take a polygraph as a condition of working on the DIA project, but when they tried to schedule it, I canceled the appointment. As a result, I was cut from the project.&lt;/p&gt;
&lt;p&gt;&quot;No, I took two polygraphs. I turned down the third because I wasn't on the project anymore.&quot; Although I now thought of myself a polygraph conscientious objector, and I would have refused whether or not I was still on the project.&lt;/p&gt;
&lt;p&gt;The rest of the letter said the company would begin termination proceedings against me. I was eight years from retirement. I wasn't counting the days until retirement. I liked going to work. Even when I was between assignments and not getting paid, I still came into the office and put in a full day.&lt;/p&gt;
&lt;p&gt;I spoke to a lawyer. She said I lived in an &quot;at will&quot; state, which means employees can be dismissed for any (legal) reason, or for no reason at all. I was being terminated for refusing the polygraph, and it was legal.&lt;/p&gt;
&lt;p&gt;I decided to resign rather than fight.&lt;/p&gt;

&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;My mother loved being a doctor, but she discouraged us from applying to medical school. She said the cost of malpractice insurance had ruined the profession.&lt;/p&gt;
&lt;p&gt;Similarly, I urge my children to steer clear of any job that requires a polygraph. That rules out entire professions: National Security, Intelligence, Law Enforcement, Customs and Border Protection, and Pharmacy. It's a shame. My career as an intelligence analyst was exciting, deeply rewarding, and just plain fun. I contributed to the safety of my country, which is a constant of pride. But I no longer recommend my profession to others. The polygraph has become a deal breaker.&lt;/p&gt;
&lt;hr /&gt;&lt;p&gt;&lt;span&gt;&lt;a href=&quot;https://antipolygraph.org/index.shtml&quot;&gt;AntiPolygraph.org Home Page&lt;/a&gt; &amp;gt; &lt;a href=&quot;https://antipolygraph.org/statements.shtml&quot;&gt;Personal Statements&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/body&gt;</description>
<pubDate>Sat, 06 Oct 2018 15:19:00 +0000</pubDate>
<dc:creator>ap_org</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://antipolygraph.org/statements/statement-038.shtml</dc:identifier>
</item>
</channel>
</rss>