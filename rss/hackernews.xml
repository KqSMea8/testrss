<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>“Pinterest needs to be removed from Google IMO”</title>
<link>https://www.reddit.com/r/google/comments/85atho/pinterest_needs_to_be_removed_from_google_imo/</link>
<guid isPermaLink="true" >https://www.reddit.com/r/google/comments/85atho/pinterest_needs_to_be_removed_from_google_imo/</guid>
<description>&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;55023&quot;&gt;55.0k&lt;/span&gt;  · &lt;/p&gt;
&lt;p&gt;Pinterest needs to be removed from Google IMO&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;43&quot;&gt;43&lt;/span&gt;  · &lt;/p&gt;
&lt;div class=&quot;read-next-thumbnail&quot;&gt;&lt;img src=&quot;https://b.thumbs.redditmedia.com/F2eZojP6Xls0ss5uuj96c2Fpx-gEobt0JC-dZImaRRU.jpg&quot; width=&quot;70&quot; height=&quot;44&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p&gt;Google can effortlessly convert between currency but not between currency and years&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;22&quot;&gt;22&lt;/span&gt;  · &lt;/p&gt;
&lt;p&gt;More and more lately, it seems like the top entries in Google's search results are cluttered up with very old, highly linked sites that just aren't really that relevant anymore. What I'm looking for is found less and less among the top results and its causing me to look elsewhere for answers.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;6&quot;&gt;6&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;My review to Google IT support professional certificate taught by Google and hosted in Coursera.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;3&quot;&gt;3&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;read-next-thumbnail&quot;&gt;&lt;img src=&quot;https://b.thumbs.redditmedia.com/4ha9NTIOYS_TZ-gnDSeWKxBwUFFMUS1DpIvv7Xn9Hak.jpg&quot; width=&quot;70&quot; height=&quot;36&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p&gt;Chrome Beta 66 on Android Picks Up New Chrome Duplex Option, Removes Chrome Home&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;4&quot;&gt;4&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;read-next-thumbnail&quot;&gt;&lt;img src=&quot;https://b.thumbs.redditmedia.com/P1hOPLjrVXum318JypeKTYVBu138qXgGPaEuxhGS9Fs.jpg&quot; width=&quot;70&quot; height=&quot;42&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p&gt;Google invests €500 million in Dutch data center&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;2&quot;&gt;2&lt;/span&gt;  · &lt;/p&gt;
&lt;p&gt;Playstore Financing&lt;/p&gt;


&lt;p&gt;Can somebody f****** fix or replace recaptcha?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;1&quot;&gt;1&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Photos in google drive&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;score&quot; title=&quot;7&quot;&gt;7&lt;/span&gt;  · &lt;/p&gt;
&lt;div class=&quot;read-next-thumbnail&quot;&gt;&lt;img src=&quot;https://b.thumbs.redditmedia.com/tdj1V7zwk7COTtUBvXgmGHuFG8phTw9OogWUXWt9K7g.jpg&quot; width=&quot;70&quot; height=&quot;50&quot; alt=&quot;&quot;/&gt;&lt;/div&gt;
&lt;p&gt;Don't Track Us!&lt;/p&gt;
</description>
<pubDate>Sun, 18 Mar 2018 20:06:03 +0000</pubDate>
<dc:creator>obtino</dc:creator>
<og:image>https://www.redditstatic.com/icon.png</og:image>
<og:description>Hi Googlers I'm searching for a specific piece of technical hardware and I get 100k results from Pinterest. Everyone of these results requires a...</og:description>
<og:title>Pinterest needs to be removed from Google IMO • r/google</og:title>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.reddit.com/r/google/comments/85atho/pinterest_needs_to_be_removed_from_google_imo/</dc:identifier>
</item>
<item>
<title>Announcing gRPC Support in Nginx</title>
<link>https://www.nginx.com/blog/nginx-1-13-10-grpc/</link>
<guid isPermaLink="true" >https://www.nginx.com/blog/nginx-1-13-10-grpc/</guid>
<description>&lt;p&gt;Today, we’re excited to share the first native support for gRPC traffic within NGINX. If you’re as keen as we are, you can pull the snapshot from our &lt;a target=&quot;_blank&quot; href=&quot;https://hg.nginx.org/&quot;&gt;repository&lt;/a&gt; and &lt;a target=&quot;_blank&quot; href=&quot;http://mailman.nginx.org/mailman/listinfo/nginx&quot;&gt;share your feedback&lt;/a&gt;. We will include this capability in the next NGINX OSS release (1.13.10). The next NGINX Plus release, R15, will include this support for gRPC as well as the support for HTTP/2 server push support introduced in &lt;a href=&quot;https://www.nginx.com/blog/nginx-1-13-9-http2-server-push/&quot;&gt;NGINX 1.13.9&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;NGINX can already proxy gRPC TCP connections. With this new capability, you can terminate, inspect, and route gRPC method calls. You can use it to:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Publish a gRPC service, and then use NGINX to apply HTTP/2 TLS encryption, rate limits, IP‑based access control lists, and logging. You can operate the service using unencrypted HTTP/2 (&lt;a target=&quot;_blank&quot; href=&quot;https://http2.github.io/http2-spec/#discover-http&quot;&gt;h2c cleartext&lt;/a&gt;) or wrap TLS encryption and authentication around the service.&lt;/li&gt;
&lt;li&gt;Publish multiple gRPC services through a single endpoint, using NGINX to inspect and route calls to each internal service. You can even use the same endpoint for other HTTPS and HTTP/2 services, such as websites and REST‑based APIs.&lt;/li&gt;
&lt;li&gt;Load balance a cluster of gRPC services, using Round Robin, Least Connections, or other methods to distribute calls across the cluster. You can then scale your gRPC‑based service when you need additional capacity.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;em&gt;To learn more NGINX HTTP/2 Server Push and gRPC support, register for one of our two live webinars: &lt;a href=&quot;https://www.nginx.com/resources/webinars/nginx-http2-server-push-grpc-emea&quot;&gt;March 28, 2018 at 11:00 AM CEST&lt;/a&gt; or &lt;a href=&quot;https://www.nginx.com/resources/webinars/nginx-http2-server-push-grpc&quot;&gt;March 29, 2018 at 10:00 AM PDT&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;What is gRPC?&lt;/h2&gt;
&lt;p&gt;gRPC is a &lt;a target=&quot;_blank&quot; href=&quot;https://en.wikipedia.org/wiki/Remote_procedure_call&quot;&gt;remote procedure call&lt;/a&gt; protocol, used for communication between client and server applications. It is designed to be compact (space‑efficient) and portable across multiple languages, and it supports both request‑response and streaming interactions. The protocol is gaining popularity, including in &lt;a href=&quot;https://istio.io/docs/concepts/what-is-istio/overview.html&quot; rel=&quot;noopener&quot; target=&quot;_blank&quot;&gt;service mesh implementations&lt;/a&gt;, because of its &lt;a target=&quot;_blank&quot; href=&quot;https://grpc.io/docs/tutorials/&quot;&gt;widespread language support&lt;/a&gt; and simple user‑facing design.&lt;/p&gt;
&lt;img src=&quot;https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-unproxied-cleartext-1024x258.png&quot; alt=&quot;A simple gRPC-based application&quot; width=&quot;1024&quot; height=&quot;258&quot; class=&quot;size-large wp-image-56279&quot; srcset=&quot;https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-unproxied-cleartext.png 1024w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-unproxied-cleartext-300x76.png 300w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-unproxied-cleartext-768x194.png 768w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-unproxied-cleartext-150x38.png 150w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-unproxied-cleartext-640x161.png 640w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-unproxied-cleartext-320x81.png 320w&quot; sizes=&quot;(max-width: 1024px) 100vw, 1024px&quot;/&gt;A simple gRPC-based application
&lt;p&gt;gRPC is transported over HTTP/2, either in cleartext or TLS‑encrypted. A gRPC call is implemented as an HTTP &lt;code&gt;POST&lt;/code&gt; request with an efficiently encoded body (&lt;a target=&quot;_blank&quot; href=&quot;https://grpc.io/docs/guides/#working-with-protocol-buffers&quot;&gt;protocol buffers&lt;/a&gt; are the standard encoding). gRPC responses use a similarly encoded body and use HTTP trailers to send the status code at the end of the response.&lt;/p&gt;
&lt;p&gt;By design, the gRPC protocol cannot be transported over HTTP. The gRPC protocol mandates HTTP/2 in order to take advantage of the multiplexing and streaming features of an HTTP/2 connection.&lt;/p&gt;
&lt;h2&gt;Managing gRPC Services with NGINX&lt;/h2&gt;
&lt;p&gt;The following examples use variants of the gRPC &lt;a target=&quot;_blank&quot; href=&quot;https://grpc.io/docs/quickstart/&quot;&gt;Hello World quickstart&lt;/a&gt; tutorials to create simple client and server applications. We share details of the NGINX configuration; the implementation of the client and server applications is left as an exercise for the reader, but we do share some hints.&lt;/p&gt;
&lt;h3&gt;Exposing a Simple gRPC Service&lt;/h3&gt;
&lt;p&gt;First, we interpose NGINX between the client and server applications. NGINX then provides a stable, reliable gateway for the server applications.&lt;/p&gt;
&lt;img src=&quot;https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-cleartext-1024x307.png&quot; alt=&quot;NGINX proxying gRPC traffic&quot; width=&quot;1024&quot; height=&quot;307&quot; class=&quot;size-large wp-image-56280&quot; srcset=&quot;https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-cleartext.png 1024w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-cleartext-300x90.png 300w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-cleartext-768x230.png 768w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-cleartext-150x45.png 150w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-cleartext-640x192.png 640w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-cleartext-320x96.png 320w&quot; sizes=&quot;(max-width: 1024px) 100vw, 1024px&quot;/&gt;NGINX proxying gRPC traffic
&lt;p&gt;Start by deploying NGINX with the gRPC updates. If you want to build NGINX from source, remember to include the &lt;code&gt;http_ssl&lt;/code&gt; and &lt;code&gt;http_v2&lt;/code&gt; modules:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;terminal&quot;&gt;$ &lt;span&gt;auto/configure --with-http_ssl_module --with-http_v2_module&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;NGINX listens for gRPC traffic using an HTTP server and proxies traffic using the &lt;code&gt;grpc_pass&lt;/code&gt; directive. Create the following proxy configuration for NGINX, listening for unencrypted gRPC traffic on port 80 and forwarding requests to the server on port 50051:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;http {
    log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
                      '$status $body_bytes_sent &quot;$http_referer&quot; '
                      '&quot;$http_user_agent&quot;';
 
    server {
        listen 80 http2;
 
        access_log logs/access.log main;
 
        location / {
            # Replace localhost:50051 with the address and port of your gRPC server    
            grpc_pass grpc://localhost:50051;
        }
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Ensure that the address in the &lt;code&gt;grpc_pass&lt;/code&gt; directive is correct. Recompile your client to point to NGINX’s IP address and listen port.&lt;/p&gt;
&lt;p&gt;When you run your modified client, you see the same responses as before, but the transactions are terminated and forwarded by NGINX. You can see them in the access log you configured:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;terminal&quot;&gt;$ &lt;span&gt;tail logs/access.log&lt;/span&gt;
192.168.20.1 - - [01/Mar/2018:13:35:02 +0000] &quot;POST /helloworld.Greeter/SayHello HTTP/2.0&quot; 200 18 &quot;-&quot; &quot;grpc-go/1.11.0-dev&quot;
192.168.20.1 - - [01/Mar/2018:13:35:02 +0000] &quot;POST /helloworld.Greeter/SayHelloAgain HTTP/2.0&quot; 200 24 &quot;-&quot; &quot;grpc-go/1.11.0-dev&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;Publishing a gRPC Service with TLS Encryption&lt;/h3&gt;
&lt;p&gt;The Hello World quickstart examples use unencrypted HTTP/2 (cleartext) to communicate. This is much simpler to test and deploy, but it does not provide the encryption needed for a production deployment. You can use NGINX to add this encryption layer.&lt;/p&gt;
&lt;img src=&quot;https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-encrypted.png&quot; alt=&quot;gRPC request-response flow, TLS-encrypted, with NGINX as the proxy&quot; width=&quot;1014&quot; height=&quot;290&quot; class=&quot;size-full wp-image-56281&quot; srcset=&quot;https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-encrypted.png 1014w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-encrypted-300x86.png 300w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-encrypted-768x220.png 768w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-encrypted-150x43.png 150w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-encrypted-640x183.png 640w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-encrypted-320x92.png 320w&quot; sizes=&quot;(max-width: 1014px) 100vw, 1014px&quot;/&gt;NGINX SSL-terminating gRPC traffic
&lt;p&gt;Create a &lt;a target=&quot;_blank&quot; href=&quot;https://stackoverflow.com/questions/10175812/how-to-create-a-self-signed-certificate-with-openssl/10176685#10176685&quot;&gt;self‑signed certificate pair&lt;/a&gt; and modify your NGINX server configuration, as follows:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;server {
    listen 1443 ssl http2;
 
    ssl_certificate ssl/cert.pem;
    ssl_certificate_key ssl/key.pem;
 
    #...
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Modify the gRPC client to use TLS, connect to port 1443, and disable certificate checking – necessary when using self‑signed or untrusted certificates. For instance, if you’re using the Go example, you need to:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Add &lt;code&gt;crypto/tls&lt;/code&gt; and &lt;code&gt;google.golang.org/grpc/credentials&lt;/code&gt; to your import list&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modify the &lt;code&gt;grpc.Dial()&lt;/code&gt; call to the following:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;creds := credentials.NewTLS( &amp;amp;tls.Config{ InsecureSkipVerify: true } )
 
// remember to update address to use the new NGINX listen port
conn, err := grpc.Dial( address, grpc.WithTransportCredentials( creds ) )&lt;/code&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;That’s all you need to do to secure your gRPC traffic using NGINX. In a production deployment, you need to replace the self‑signed certificate with one issued by a trusted certificate authority (CA). The clients would be configured to trust that CA.&lt;/p&gt;
&lt;h3&gt;Proxying to an Encrypted gRPC Service&lt;/h3&gt;
&lt;p&gt;You may also want to encrypt the gRPC traffic internally. You first need to modify the server application to listen for TLS‑encrypted (&lt;code&gt;grpcs&lt;/code&gt;) rather than unencrypted (&lt;code&gt;grpc&lt;/code&gt;) connections:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;cer, err := tls.LoadX509KeyPair( &quot;cert.pem&quot;, &quot;key.pem&quot; )
config := &amp;amp;tls.Config{ Certificates: []tls.Certificate{cer} }
lis, err := tls.Listen( &quot;tcp&quot;, port, config )&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;In the NGINX configuration, you need to change the protocol used to proxy gRPC traffic to the upstream server:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;# Use grpcs for TLS-encrypted gRPC traffic
grpc_pass grpcs://localhost:50051;&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;Routing gRPC Traffic&lt;/h3&gt;
&lt;p&gt;What can you do if you have multiple gRPC services, each implemented by a different server application? Wouldn’t it be great if you could publish all these services through a single, TLS‑encrypted endpoint?&lt;/p&gt;
&lt;img src=&quot;https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-routing-1024x460.png&quot; alt=&quot;NGINX routes and load balances gRPC traffic to multiple services from a single endpoint&quot; width=&quot;1024&quot; height=&quot;460&quot; class=&quot;size-large wp-image-56282&quot; srcset=&quot;https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-routing.png 1024w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-routing-300x135.png 300w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-routing-768x345.png 768w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-routing-150x67.png 150w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-routing-640x288.png 640w, https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/grpc-nginx-routing-320x144.png 320w&quot; sizes=&quot;(max-width: 1024px) 100vw, 1024px&quot;/&gt;NGINX routing and SSL-terminating gRPC traffic
&lt;p&gt;With NGINX, you can identify the service and method, and then route traffic using &lt;a target=&quot;_blank&quot; href=&quot;http://nginx.org/en/docs/http/ngx_http_core_module.html#location&quot;&gt;&lt;code&gt;location&lt;/code&gt;&lt;/a&gt; directives. You may already have deduced that the URL of each gRPC request is derived from the package, service, and method names in the proto specification. Consider this sample &lt;code&gt;SayHello&lt;/code&gt; RPC method:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;package helloworld;
 
service Greeter {
    rpc SayHello (HelloRequest) returns (HelloReply) {}
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Invoking the &lt;code&gt;SayHello&lt;/code&gt; RPC method issues a &lt;code&gt;POST&lt;/code&gt; request for &lt;strong&gt;/helloworld.Greeter/SayHello&lt;/strong&gt;, as shown in this log entry:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;192.168.20.1 - - [01/Mar/2018:13:35:02 +0000] &quot;POST /helloworld.Greeter/SayHello HTTP/2.0&quot; 200 18 &quot;-&quot; &quot;grpc-go/1.11.0-dev&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Routing traffic with NGINX is very straightforward:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;location /helloworld.Greeter {
    grpc_pass grpc://192.168.20.11:50051;
}
 
location /helloworld.Dispatcher {
    grpc_pass grpc://192.168.20.21:50052;
}
 
location / {
    root html;
    index index.html index.htm;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;You can try this out yourself. We extended the example Hello World package (in &lt;code&gt;helloworld.proto&lt;/code&gt;) to add a new service named &lt;strong&gt;Dispatcher&lt;/strong&gt;, then created a new server application that implements the Dispatcher methods. The client uses a single HTTP/2 connection to issue RPC calls for both the &lt;strong&gt;Greeter&lt;/strong&gt; and &lt;strong&gt;Dispatcher&lt;/strong&gt; services. NGINX separates the calls and routes each to the appropriate gRPC server.&lt;/p&gt;
&lt;p&gt;Note the “catch‑all” &lt;strong&gt;/&lt;/strong&gt; &lt;code&gt;location&lt;/code&gt; block. This block handles requests that do not match known gRPC calls. You can use &lt;code&gt;location&lt;/code&gt; blocks like this to deliver web content and other, non‑gRPC services from the same, TLS‑encrypted endpoint.&lt;/p&gt;
&lt;h3&gt;Load Balancing gRPC Calls&lt;/h3&gt;
&lt;p&gt;How can you now scale your gRPC services to increase capacity and to provide high availability? NGINX’s upstream groups do exactly this:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;config&quot;&gt;upstream grpcservers {
    server 192.168.20.21:50051;
    server 192.168.20.22:50052;
}
 
server {
    listen 1443 ssl http2;
 
    ssl_certificate     ssl/certificate.pem;
    ssl_certificate_key ssl/key.pem;
 
    location /helloworld.Greeter {
        grpc_pass grpc://grpcservers;
        error_page 502 = /error502grpc;
    }
 
    location = /error502grpc {
        internal;
        default_type application/grpc;
        add_header grpc-status 14;
        add_header grpc-message &quot;unavailable&quot;;
        return 204;
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Of course, you can use &lt;span&gt;&lt;code&gt;grpc_pass&lt;/code&gt; &lt;code&gt;grpcs://upstreams&lt;/code&gt;&lt;/span&gt; if your upstreams are listening on TLS.&lt;/p&gt;
&lt;p&gt;NGINX can employ a range of load‑balancing algorithms to distribute the gRPC calls across the upstream gRPC servers. NGINX’s built‑in health checking will detect if a server fails to respond, or generates errors, and then take that server out of rotation. If no servers are available, the &lt;code&gt;/error502grpc&lt;/code&gt; location returns a gRPC‑compliant error message.&lt;/p&gt;
&lt;h2&gt;Next Steps&lt;/h2&gt;
&lt;p&gt;This is the initial release of our gRPC proxy support. Maxim Dounin was the lead developer for this feature, and we would also like to thank Piotr Sikora for his early patches and guidance.&lt;/p&gt;
&lt;p&gt;Please feel free to share any feedback in the Comments below, or through our &lt;a target=&quot;_blank&quot; href=&quot;http://mailman.nginx.org/mailman/listinfo/nginx&quot;&gt;community mailing list&lt;/a&gt;, and submit any confirmed bug reports to our &lt;a target=&quot;_blank&quot; href=&quot;https://trac.nginx.org/nginx/&quot;&gt;trac bug tracker&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>Sun, 18 Mar 2018 16:07:24 +0000</pubDate>
<dc:creator>tex0</dc:creator>
<og:type>article</og:type>
<og:title>Announcing gRPC Support in NGINX - NGINX</og:title>
<og:description>NGINX now proxies gRPC traffic, so you can terminate, inspect, and route gRPC method calls. Manage encryption and load balance gRPC traffic.</og:description>
<og:url>https://www.nginx.com/blog/nginx-1-13-10-grpc/</og:url>
<og:image>https://cdn-1.wp.nginx.com/wp-content/uploads/2018/03/blog-FS-2018-03-14-gRPC-Traffic-Support-500x300-01.png</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.nginx.com/blog/nginx-1-13-10-grpc/</dc:identifier>
</item>
<item>
<title>Gaijin Engineer in Tokyo</title>
<link>https://medium.com/@xevix/gaijin-engineer-in-tokyo-aaa9be8919b2</link>
<guid isPermaLink="true" >https://medium.com/@xevix/gaijin-engineer-in-tokyo-aaa9be8919b2</guid>
<description>&lt;h3 name=&quot;dba3&quot; id=&quot;dba3&quot; class=&quot;graf graf--h3 graf--leading&quot;&gt;Welcome!&lt;/h3&gt;
&lt;p name=&quot;daab&quot; id=&quot;daab&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;You’ve just joined a Japanese company in Japan. You’ll be dealing with engineering, the language, and a variety of cultural differences. The excitement! What great adventures await.&lt;/p&gt;
&lt;h3 name=&quot;7ebb&quot; id=&quot;7ebb&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Engineering&lt;/h3&gt;
&lt;p name=&quot;f44f&quot; id=&quot;f44f&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;NOTE:&lt;/strong&gt; non-engineers can safely skip this section.&lt;/p&gt;
&lt;p name=&quot;d8f3&quot; id=&quot;d8f3&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;If you end up at a reasonable company, you may find a similar setup to what you’re familiar with at home. Continuous integration, different development environments, and the use of some of the most popular enterprise software like Java or so. And then the fun begins.&lt;/p&gt;
&lt;p name=&quot;9e08&quot; id=&quot;9e08&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;UTF8 vs Shift JIS and EUC-JP&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;ce86&quot; id=&quot;ce86&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Surely the battle over unicode has long been resolved, right? Hah, hah… hah…&lt;/p&gt;
&lt;p name=&quot;c624&quot; id=&quot;c624&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Along with the almost &lt;a href=&quot;https://www.reddit.com/r/japan/comments/6cz1uw/why_do_the_japanese_use_excel_for_documents_that/&quot; data-href=&quot;https://www.reddit.com/r/japan/comments/6cz1uw/why_do_the_japanese_use_excel_for_documents_that/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;religious use of Microsoft Excel&lt;/a&gt; to do almost anything, comes the use of one of the two old popular encodings for Japanese: Shift JIS for Windows, and EUC-JP on mac. The logic is actually not as crazy as it sounds: most people have their Excel set up to read Shift JIS, and when you give them UTF8, they get &lt;a href=&quot;https://en.wikipedia.org/wiki/Mojibake&quot; data-href=&quot;https://en.wikipedia.org/wiki/Mojibake&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;mojibake&lt;/a&gt;. Of course, you just need people to change their Excel to default to UTF8, but then what do they do with all their legacy documents? You probably haven’t had this problem as a foreigner. And so the chicken and egg continues for all time.&lt;/p&gt;
&lt;p name=&quot;a6c8&quot; id=&quot;a6c8&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Not Invented Here&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;e46f&quot; id=&quot;e46f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;While you will find plenty of companies using the Google Suite of tools for online collaboration, you will also find &lt;a href=&quot;https://www.desknets.com/oncloud/service/img/img_desknets01_l.png&quot; data-href=&quot;https://www.desknets.com/oncloud/service/img/img_desknets01_l.png&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;Desknets&lt;/a&gt; and &lt;a href=&quot;https://www.lancork.net/wordpress/wp-content/uploads/2014/08/cybozu-garoon-detail.png&quot; data-href=&quot;https://www.lancork.net/wordpress/wp-content/uploads/2014/08/cybozu-garoon-detail.png&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;Garoon&lt;/a&gt; which are homegrown solutions for the usual calendar and other administrative operations. They often have comically awful bugs, such as Garoon not allowing you to add a person into a meeting after it’s made unless you clone the meeting, add the person, save it, and delete the old event (I pray this is fixed in newer versions). You will also find that local chat apps like &lt;a href=&quot;https://3.bp.blogspot.com/-z4tJm0PigZs/WT5wjNr6JqI/AAAAAAAABGE/-jWyumK70gM-zO3K-j6UiiWIM09caXNEACLcB/s1600/01%2B%25281%2529.png&quot; data-href=&quot;https://3.bp.blogspot.com/-z4tJm0PigZs/WT5wjNr6JqI/AAAAAAAABGE/-jWyumK70gM-zO3K-j6UiiWIM09caXNEACLcB/s1600/01%2B%25281%2529.png&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;ChatWork&lt;/a&gt; may be used instead of Slack (though Japan has a sizable Slack following as well). This is not that strange, and is likely the result of getting cheaper prices (ignoring total cost of ownership), and a tendency to trust local brands, or a genuine love of the product. I think this says more about the prevalence of American software abroad, and less about Japan.&lt;/p&gt;
&lt;p name=&quot;1dda&quot; id=&quot;1dda&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Physical Books&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;621e&quot; id=&quot;621e&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;While physical books are of course still used in the west, they are often reserved purchases of only the most esteemed and reusable books. Book stores in Japan have a relatively strong following, and at work you will regularly find people who buy books and magazines for almost anything, sometimes as hilariously specific as how to use &lt;a href=&quot;https://en.wikipedia.org/wiki/Line_%28software%29&quot; data-href=&quot;https://en.wikipedia.org/wiki/Line_(software)&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;LINE&lt;/a&gt; messenger properly. Honestly, I think that having reference guides easily available is a great thing. I just found this amusingly anachronistic. You will also see a decent amount of people reading physical newspapers on the train, but that’s another story.&lt;/p&gt;
&lt;p name=&quot;8e15&quot; id=&quot;8e15&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;In Silicon Valley I’ve often seen people buy technical books that are renowned and lining their shelves with them to seem well-educated, which is also funny. I think this happens in Japan as well, but I’ve more often seen the case of hyper-specific books mentioned above.&lt;/p&gt;
&lt;p name=&quot;8b8e&quot; id=&quot;8b8e&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Engineers by trade&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;7a4d&quot; id=&quot;7a4d&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;You will often find that many engineers have no Computer Science degree, which on its face is not so unusual even in Silicon Valley companies, but you may find people who had virtually no experience programming before joining a company. This is most likely a result of the Japanese university system, whereby your major and your future job often have little correlation. Typically one year before graduation, you &lt;a href=&quot;https://www.nippon.com/en/column/g00365/&quot; data-href=&quot;https://www.nippon.com/en/column/g00365/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;apply for jobs and run around the city in a suit&lt;/a&gt; trying to convince a company that does virtually anything to hire you. If you’re lucky, you get in, and in the best of cases, you get training before starting whatever job you now find yourself in. Sometimes, this doesn’t happen.&lt;/p&gt;
&lt;p name=&quot;9aa8&quot; id=&quot;9aa8&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;As a result, you will find many people who are self-taught (impressive!), but often self-teaching yields less than ideal programming practices: copy+paste over refactoring, happy-path coding, odd variable naming, strong coupling, etc. This will often reflect itself in the code you will be working with, and the discussions you will have, so brace yourself.&lt;/p&gt;
&lt;p name=&quot;1662&quot; id=&quot;1662&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Typically engineering organizations will survive thanks to a few great engineers who are often self-taught, but who are also overworked. Japan has many great engineers, but many of them get tired of dealing with Japan’s work culture and go abroad. Those who stay are therefore often in the minority, and while they help to move things forward, they are hopelessly outnumbered by their peers. If you encounter such an engineer, lend them as much support as you can. You might be helping to save their sanity.&lt;/p&gt;
&lt;h3 name=&quot;7c89&quot; id=&quot;7c89&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Cultural Differences&lt;/h3&gt;
&lt;p name=&quot;c933&quot; id=&quot;c933&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Sooner or later you will reach a situation where your experience or opinion differs from that of a Japanese coworker, and more than a few will invariably fall back on the easiest and most versatile of conversation-enders: “ah, this must be a cultural difference.” （文化の違い）&lt;/p&gt;
&lt;p name=&quot;68a3&quot; id=&quot;68a3&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;I have seen this used to explain:&lt;/p&gt;
&lt;ul class=&quot;postList&quot;&gt;&lt;li name=&quot;4ce3&quot; id=&quot;4ce3&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;Not writing tests or enough tests before deploying code&lt;/li&gt;
&lt;li name=&quot;1c8e&quot; id=&quot;1c8e&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;Lengthy useless ritual meetings&lt;/li&gt;
&lt;li name=&quot;190f&quot; id=&quot;190f&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;Anything where they can’t find a logical explanation for irrational behavior&lt;/li&gt;
&lt;/ul&gt;&lt;p name=&quot;1e14&quot; id=&quot;1e14&quot; class=&quot;graf graf--p graf-after--li&quot;&gt;I must emphasize, &lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;not everybody does this&lt;/strong&gt;, and in fact, the better engineers/coworkers you have will, not surprisingly, always try to keep a good and logical discussion going. That said, you will run into this, so it bears mentioning.&lt;/p&gt;
&lt;h3 name=&quot;2368&quot; id=&quot;2368&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Real Cultural Differences&lt;/h3&gt;
&lt;p name=&quot;b751&quot; id=&quot;b751&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;For better or worse, Japanese working society is often driven by crowd-thinking, fear of shame, fear of failure, and a desire to avoid confrontation and preserve the peace. This will lead to a few frustrating situations.&lt;/p&gt;
&lt;p name=&quot;9956&quot; id=&quot;9956&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Fear of Decisions&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;49fc&quot; id=&quot;49fc&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Decisions are the first step to failure, and nobody wants to fail. But decisions must be made. How does this dichotomy resolve itself? Meetings. Endless meetings and emails, planning documents, pre-planning documents, post-planning documents, meeting documents, and endless discussion of all the things by all the people all the time. The thinking goes, if everyone is involved in the decision-making process, then when something inevitably goes wrong, there’s no individual person to blame! Problem solved.&lt;/p&gt;
&lt;p name=&quot;12f8&quot; id=&quot;12f8&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Of course this solves nothing and generates its own sets of problems, but that’s where another of the great things about working in Japan comes up.&lt;/p&gt;
&lt;p name=&quot;2a1a&quot; id=&quot;2a1a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Ambiguity&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;52a6&quot; id=&quot;52a6&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;If a matter in dispute just stops being disputed, then the matter is resolved. If it’s impossible to satisfy two contradictory goals, just satisfy none of them, or don’t check if you’ve satisfied them. When someone finally brings it up, just fall back on the usual platitudes:&lt;/p&gt;
&lt;ul class=&quot;postList&quot;&gt;&lt;li name=&quot;d1c6&quot; id=&quot;d1c6&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;すみません — I’m sorry&lt;/li&gt;
&lt;li name=&quot;25f9&quot; id=&quot;25f9&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;そうですね — Yes, you’re right (but I will do nothing about this)&lt;/li&gt;
&lt;li name=&quot;775f&quot; id=&quot;775f&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;仕方ないです — Nothing can be done (it is *inevitable*)&lt;/li&gt;
&lt;li name=&quot;4cdc&quot; id=&quot;4cdc&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;さあ — Who knows (I don’t know, maybe nobody knows?)&lt;/li&gt;
&lt;/ul&gt;&lt;p name=&quot;de70&quot; id=&quot;de70&quot; class=&quot;graf graf--p graf-after--li&quot;&gt;Example conversation:&lt;/p&gt;
&lt;p name=&quot;35bb&quot; id=&quot;35bb&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Me:&lt;/strong&gt; This is clearly broken!&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Tanaka:&lt;/strong&gt; Yes, you’re right.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; Shouldn’t we do something about this?&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;T:&lt;/strong&gt; Nothing can be done.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; This is easily patchable!&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;T:&lt;/strong&gt; I’m sorry.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; Who’s responsible for this code?&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;T:&lt;/strong&gt; Team X.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; Somebody on our team should talk to them.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;T:&lt;/strong&gt; Yes, you’re right.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; Well, can I talk to them?&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;T:&lt;/strong&gt; Ah, it’s not impossible.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; Does that mean I can?&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;T:&lt;/strong&gt; Who knows.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; …&lt;/p&gt;
&lt;p name=&quot;6f07&quot; id=&quot;6f07&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Let’s say I go to talk to team X, the conversation may flow as follows:&lt;/p&gt;
&lt;p name=&quot;acf5&quot; id=&quot;acf5&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Me:&lt;/strong&gt; Here is a set of patches to fix this issue that exists.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Suzuki:&lt;/strong&gt; Ah, I see.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; Well, could you review them?&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;S:&lt;/strong&gt; We’ll look into it.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; But these patches resolve the issue, I’ve done your work for you.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;S:&lt;/strong&gt; Ah, yes, thank you. We’ll look into it.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;M:&lt;/strong&gt; Ok… let me know if anything comes up.&lt;br/&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;S:&lt;/strong&gt; Ah, yes, thank you.&lt;/p&gt;
&lt;p name=&quot;afb9&quot; id=&quot;afb9&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;As you may have guessed, nothing ever happened, and those patches sat forgotten like so many fallen cherry blossom petals of my youth.&lt;/p&gt;
&lt;p name=&quot;dcd4&quot; id=&quot;dcd4&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Crowdthinking&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;49fe&quot; id=&quot;49fe&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;If you are in a group of Japanese people and ask a question, you will sometimes witness the following sequence of events:&lt;/p&gt;
&lt;ol class=&quot;postList&quot;&gt;&lt;li name=&quot;7dd7&quot; id=&quot;7dd7&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;Everybody looks around at other people&lt;/li&gt;
&lt;li name=&quot;4a19&quot; id=&quot;4a19&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;One person begins to suggest something slightly&lt;/li&gt;
&lt;li name=&quot;e7bc&quot; id=&quot;e7bc&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;Slight or emphatic agreement in a domino-effect across the group&lt;/li&gt;
&lt;/ol&gt;&lt;p name=&quot;c25d&quot; id=&quot;c25d&quot; class=&quot;graf graf--p graf-after--li&quot;&gt;The need to &lt;a href=&quot;https://en.wikipedia.org/wiki/Wa_%28Japanese_culture%29&quot; data-href=&quot;https://en.wikipedia.org/wiki/Wa_(Japanese_culture)&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;protect social harmony&lt;/a&gt; is so deeply ingrained in society that sometimes even in friendly events this will happen, not just at work. This often works well for social questions, but anything work-related will probably best be asked 1:1.&lt;/p&gt;
&lt;p name=&quot;3356&quot; id=&quot;3356&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Peer Pressure&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;424a&quot; id=&quot;424a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;You may see bosses or coworkers exerting pressure on someone in order to push more work onto them. This is often referred to as “&lt;a href=&quot;https://en.wikipedia.org/wiki/Power_harassment#Japan&quot; data-href=&quot;https://en.wikipedia.org/wiki/Power_harassment#Japan&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;power harassment&lt;/a&gt;” in Japan. As a foreigner, you are likely immune to this, which you will find shapes your relationship with management and coworkers. Rather than ask you to do something, they may go to a coworker they can more easily boss around. For me, I felt bad for the others being bossed around, so I tried to stop the bullies from going to them by complying to some degree with their whims to spare others their fate, but sometimes the requests were so absurd that I had to say no, knowing full well someone else is going to get it instead. It’s awful, and you can try to teach people to say no, but to do so is to fight against one of the most powerful forces in Japanese society.&lt;/p&gt;
&lt;p name=&quot;6ff3&quot; id=&quot;6ff3&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;I’ll do my best&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;cafd&quot; id=&quot;cafd&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Sometimes you will entrust someone with a task and they will reply “I’ll do my best”（頑張ります）. What this really means is exactly that: even if they think a task is impossible, they will genuinely try to make it happen regardless. On the one hand this is admirable, but on the other, it’s not realistic. When somebody gives you this reply, try to renegotiate the terms of the task to make it more reasonable so that the task can actually be accomplished.&lt;/p&gt;
&lt;p name=&quot;8c24&quot; id=&quot;8c24&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;This culture of “doing your best” even when it may destroy your health is one of the double-edged swords of Japanese culture. It may get some work done “faster” at least in the short term, but it has disastrous consequences on physical and mental health. I personally saw people work themselves to the point of illness, and still show up to work with a mask on. In one case, a person went to the hospital for side-effects of stress, and then found it &lt;a href=&quot;https://en.wikipedia.org/wiki/Hikikomori&quot; data-href=&quot;https://en.wikipedia.org/wiki/Hikikomori&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;difficult to return to working society&lt;/a&gt;. People spend a lot of time to admire the Japanese passion for work, but I sometimes feel that the price that is paid in destroying good people is too high.&lt;/p&gt;
&lt;h3 name=&quot;e11f&quot; id=&quot;e11f&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Office Differences&lt;/h3&gt;
&lt;p name=&quot;6a83&quot; id=&quot;6a83&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;These are some things I found amusing. Maybe this is common in other places as well, but coming from the bubble of Silicon Valley a few things were striking.&lt;/p&gt;
&lt;p name=&quot;c928&quot; id=&quot;c928&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Print Everything&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;a879&quot; id=&quot;a879&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Got a meeting? Print the slides, one set of copies for every person. Got a design meeting? Print high-quality printouts of the mockup for every person in the room. Then mark them up with pens, make the changes digitally, and reprint everything and repeat. Oh the poor trees…&lt;/p&gt;
&lt;p name=&quot;1b03&quot; id=&quot;1b03&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;This is true not just of offices, but in almost everything you do, it will come with a piece of paper. I’m not entirely sure what the obsession is with printouts, but it may have to do with the tactile feel of something in your hands, something tangible, in a world like software where so much of what we do is ephemeral. I welcome explanations and discussion around this topic, as I’m honestly still at a loss.&lt;/p&gt;
&lt;p name=&quot;4a8f&quot; id=&quot;4a8f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Silence is Golden&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;01c9&quot; id=&quot;01c9&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;As a developer who absolutely abhors open office environments for the engines of chaos and distraction that they often are, I was pleasantly surprised to see how silent most people were while working. However, foreigner friends of mine in Japan were sometimes taken aback by the level of quiet to an almost disconcerting level, so I bring this up. This can differ of course if you have sales or customer service near you, but in general, people will not have loud discussions constantly (with the exception of the insensitive people that exist everywhere on Earth).&lt;/p&gt;
&lt;h3 name=&quot;5962&quot; id=&quot;5962&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Gaijin and Gaikoku&lt;/h3&gt;
&lt;p name=&quot;d978&quot; id=&quot;d978&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;This has likely been talked to death online and offline by this point, but I just want to remind you, you’re a foreigner. Did you almost forget? &lt;a href=&quot;https://en.wikipedia.org/wiki/Gaijin&quot; data-href=&quot;https://en.wikipedia.org/wiki/Gaijin&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;Gaijin&lt;/a&gt; （外人）literally means “outside person” and is a shortened form of gaikokujin（外国人）which is the word for a foreigner. I personally believe that many Japanese people use the word “gaijin” because it’s shorter and easier to say, and sounds somewhat friendlier, not out of malice. They sometimes will jokingly say gaijin-&lt;a href=&quot;https://en.wikipedia.org/wiki/Japanese_honorifics#San&quot; data-href=&quot;https://en.wikipedia.org/wiki/Japanese_honorifics#San&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;san&lt;/a&gt;（外人さん） to refer to a foreigner in the third person.&lt;/p&gt;
&lt;p name=&quot;a89a&quot; id=&quot;a89a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;You will hear this word used at work, often, and often to your face. While it’s tempting to take offense at this, try to take into consideration that most people don’t find the word offensive or a slur. Some people will go out of their way to avoid using it because they know it could cause offense, but the vast majority will not care.&lt;/p&gt;
&lt;p name=&quot;31da&quot; id=&quot;31da&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Gaikoku（外国）simply means “foreign &lt;a href=&quot;https://en.wikibooks.org/wiki/Japanese/Grammar/Nouns#Plurals&quot; data-href=&quot;https://en.wikibooks.org/wiki/Japanese/Grammar/Nouns#Plurals&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;country/ies&lt;/a&gt;” but you will often hear people refer to it as if it were a real country, that encompasses the entire world, but often refers only to “the west” or only to the United States. Equivalently you will hear the word kaigai（海外）which means overseas to similar effect. If you’re very lucky, they will use oubei（欧米）which will only encompass Europe and America (very specific!).&lt;/p&gt;
&lt;p name=&quot;cd3f&quot; id=&quot;cd3f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;You will sometimes hear things like:&lt;/p&gt;
&lt;ul class=&quot;postList&quot;&gt;&lt;li name=&quot;0d68&quot; id=&quot;0d68&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;Do they have X in gaikoku? (you’ll be amazed what people will ask about, I was once asked if gargles exist in gaikoku)&lt;/li&gt;
&lt;li name=&quot;a46e&quot; id=&quot;a46e&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;How does kaigai react to X? (&lt;a href=&quot;https://translate.google.com/translate?sl=ja&amp;amp;tl=en&amp;amp;js=y&amp;amp;prev=_t&amp;amp;hl=en&amp;amp;ie=UTF-8&amp;amp;u=http%3A%2F%2Fkaigainohannou.info%2F2017%2F11%2F17%2F20secapology%2F&amp;amp;edit-text=&amp;amp;act=url&quot; data-href=&quot;https://translate.google.com/translate?sl=ja&amp;amp;tl=en&amp;amp;js=y&amp;amp;prev=_t&amp;amp;hl=en&amp;amp;ie=UTF-8&amp;amp;u=http%3A%2F%2Fkaigainohannou.info%2F2017%2F11%2F17%2F20secapology%2F&amp;amp;edit-text=&amp;amp;act=url&quot; class=&quot;markup--anchor markup--li-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;reactions from abroad to Japan&lt;/a&gt; often get more of a reaction than the original event)&lt;/li&gt;
&lt;li name=&quot;737f&quot; id=&quot;737f&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;Japan is not the same as gaikoku (this is similar to the “cultural differences” argument to explain away anything that’s inconvenient)&lt;/li&gt;
&lt;/ul&gt;&lt;p name=&quot;6615&quot; id=&quot;6615&quot; class=&quot;graf graf--p graf-after--li&quot;&gt;Sometimes the things you will hear will sound borderline racist, but generally speaking they don’t mean it that way. I sometimes refer to Japan as having “accidental racism.” It isn’t that they’re trying to be offensive, they simply have rarely had to consider whether something might offend a foreigner.&lt;/p&gt;
&lt;h3 name=&quot;d63c&quot; id=&quot;d63c&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Foreigner Team&lt;/h3&gt;
&lt;p name=&quot;e829&quot; id=&quot;e829&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;It is common for foreigners who work at a company to be grouped together, either because they naturally flock to each other for safety and sanity, or because it is easier to manage foreigners when they’re all in one place and isolated from others. Sometimes there is more integration with the Japanese teams, sometimes less, but almost always you will see foreigners concentrated in one place.&lt;/p&gt;
&lt;p name=&quot;ba66&quot; id=&quot;ba66&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;This is actually not so shocking. A similar phenomenon occurs in the U.S. for foreigners working there. What is amusing to me is that since foreigners do not typically have the same sensibilities and restraint that Japanese people generally have, they are perceived as harder to manage (read: boss around). I think this is simultaneously the single strongest contribution you can have in Japan, and also the most dangerous thing. At once, you have the ability to help modernize processes and help to improve things, and also the ability to destroy the harmony so much as to cause disaster. Use your position wisely, and consider carefully the consequences of your actions, beyond what you would in your home country.&lt;/p&gt;
&lt;h3 name=&quot;24ce&quot; id=&quot;24ce&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Foreigner Names&lt;/h3&gt;
&lt;p name=&quot;7c57&quot; id=&quot;7c57&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;In Japanese, the family name comes first and the given name comes second. In formal occasions like at work, you would refer to someone called “Tanaka Taro” as “Tanaka-&lt;a href=&quot;https://en.wikipedia.org/wiki/Japanese_honorifics#San&quot; data-href=&quot;https://en.wikipedia.org/wiki/Japanese_honorifics#San&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot;&gt;san&lt;/a&gt;” using their family name. Sometimes when far more familiar and when of similar ages or referring to someone younger, you may use “Taro-san”.&lt;/p&gt;
&lt;p name=&quot;39d3&quot; id=&quot;39d3&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;You are a foreigner (did you forget again?). You will be referred to mostly by your given name, and likely, a shortened version of it. Sometimes if your family name is short or easy enough it will be used instead. I was typically referred to as “Alex-san” since my family name is somewhat challenging (then again, my name is also challenging in the U.S. which is why I go by Alex). This is basically a constant reminder of foreignness, even if it wasn’t intended to be. It is what it is, deal with it. I promise you, Japanese people feel just as uncomfortable at first being called by their given name by total strangers on a regular basis (a sign of intimacy, familiarity or superiority).&lt;/p&gt;
&lt;h3 name=&quot;2b62&quot; id=&quot;2b62&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Formal Language&lt;/h3&gt;
&lt;p name=&quot;010d&quot; id=&quot;010d&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;NOTE:&lt;/strong&gt; Skip these sections on language if you have no interest in language and go straight to the end, as these will be lengthy, however be aware this is core to the experience.&lt;/p&gt;
&lt;p name=&quot;6d85&quot; id=&quot;6d85&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Speaking &lt;a href=&quot;https://en.wikipedia.org/wiki/Honorific_speech_in_Japanese&quot; data-href=&quot;https://en.wikipedia.org/wiki/Honorific_speech_in_Japanese&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot;&gt;formally in Japanese&lt;/a&gt; is not in itself that difficult, but there will be a small learning curve on how to address whom, when it is appropriate to speak, and so forth. Beyond that, &lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;emails&lt;/strong&gt; will be initially difficult. It turns out that the &lt;a href=&quot;https://www.tofugu.com/japanese/how-to-write-letters-in-japanese/&quot; data-href=&quot;https://www.tofugu.com/japanese/how-to-write-letters-in-japanese/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot;&gt;hyper-ritualized Japanese letter writing&lt;/a&gt; customs &lt;a href=&quot;https://omnilegent.wordpress.com/2011/06/13/what-to-write-in-a-formal-japanese-letter-or-email/&quot; data-href=&quot;https://omnilegent.wordpress.com/2011/06/13/what-to-write-in-a-formal-japanese-letter-or-email/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot;&gt;transferred over somewhat&lt;/a&gt; into the &lt;a href=&quot;https://www.wasabi-jpn.com/japanese-lessons/how-to-write-emails-in-japanese-with-practical-examples/&quot; data-href=&quot;https://www.wasabi-jpn.com/japanese-lessons/how-to-write-emails-in-japanese-with-practical-examples/&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot;&gt;world of email&lt;/a&gt;. As a foreigner it’s likely that some people will be more forgiving of you, but be aware that others will dislike you more for writing emails “incorrectly,” as it may reinforce your inherent foreignness, and therefore their discomfort when dealing with you.&lt;/p&gt;
&lt;p name=&quot;bd04&quot; id=&quot;bd04&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Here is an example email I might write from myself to a colleague who is slightly older than me and on another team at a related company that I work with every once in a while but not so often as to be on fully casual terms, and to whom I am therefore indebted and should stylize my writing as such, but not excessively so, as I am not speaking with a client or a total stranger. Got all that? Great.&lt;/p&gt;
&lt;p name=&quot;f61c&quot; id=&quot;f61c&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;(My flawed Japanese)&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;5d5f&quot; id=&quot;5d5f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;田中さん&lt;/p&gt;
&lt;p name=&quot;2c8f&quot; id=&quot;2c8f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;お疲れ様です。&lt;br/&gt;ほげほげチームのアレックスです。&lt;/p&gt;
&lt;p name=&quot;e2b8&quot; id=&quot;e2b8&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;先日お話しした件の続きですが、ほげほげチームの調査によりますと、gitのマージが正常に実行出来た様です。&lt;br/&gt;恐縮ですが、もう一度コードをpullして試して頂けないでしょうか。&lt;/p&gt;
&lt;p name=&quot;fd01&quot; id=&quot;fd01&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;お手数ですが、宜しくお願いします。&lt;/p&gt;
&lt;p name=&quot;4d5d&quot; id=&quot;4d5d&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;アレックス&lt;br/&gt;ほげほげチーム&lt;/p&gt;
&lt;p name=&quot;d4cc&quot; id=&quot;d4cc&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;(My flawed rough translation)&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;e1f9&quot; id=&quot;e1f9&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Tanaka-san,&lt;/p&gt;
&lt;p name=&quot;a30f&quot; id=&quot;a30f&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Hello there.&lt;br/&gt;This is Alex from team foobar.&lt;/p&gt;
&lt;p name=&quot;0e8d&quot; id=&quot;0e8d&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;With regards to the matter we discussed the other day, team foobar has looked into the issue and it appears that the git merge successfully completed.&lt;br/&gt;I am so sorry to inconvenience you, but would it be possible to have you try pulling the code once more?&lt;/p&gt;
&lt;p name=&quot;3de8&quot; id=&quot;3de8&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;I realize this is a burden, but I ask for your cooperation.&lt;/p&gt;
&lt;p name=&quot;5eef&quot; id=&quot;5eef&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Alex&lt;br/&gt;Team Foobar&lt;/p&gt;
&lt;p name=&quot;5fff&quot; id=&quot;5fff&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Native English (what I would write in the U.S.)&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;dddf&quot; id=&quot;dddf&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Hey Taro,&lt;/p&gt;
&lt;p name=&quot;9f5a&quot; id=&quot;9f5a&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;It looks like that git merge from the other day actually finished fine. Could you try pulling again and give it another shot? Let me know if anything breaks.&lt;/p&gt;
&lt;p name=&quot;2d46&quot; id=&quot;2d46&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Cheers,&lt;br/&gt;- Alex&lt;/p&gt;
&lt;p name=&quot;0e71&quot; id=&quot;0e71&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Whoah&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;d000&quot; id=&quot;d000&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Yes, whoah. Get used to it. This is its own blog topic.&lt;/p&gt;
&lt;h3 name=&quot;7c10&quot; id=&quot;7c10&quot; class=&quot;graf graf--h3 graf-after--p&quot;&gt;Technical Language&lt;/h3&gt;
&lt;p name=&quot;21de&quot; id=&quot;21de&quot; class=&quot;graf graf--p graf-after--h3&quot;&gt;Yes, this is an engineering job, and if you work with Japanese developers, you will discover a few interesting things.&lt;/p&gt;
&lt;p name=&quot;47a2&quot; id=&quot;47a2&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;English loanwords and Japanese-English words&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;7d92&quot; id=&quot;7d92&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;The obvious ones are company and product names. Beyond that, there is an entire category of words which are sometimes called ビジネス用語 (business speak), some of which correspond to English very well, like “win-win situation”, and others you may have never heard of, but about many of which people will continue to exclaim “this came from America,” as if you would somehow know about every single thing to come from America. They include:&lt;/p&gt;
&lt;ul class=&quot;postList&quot;&gt;&lt;li name=&quot;2b67&quot; id=&quot;2b67&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;SNS — Social Network Service (what we call a social network in English)&lt;/li&gt;
&lt;li name=&quot;b163&quot; id=&quot;b163&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/PDCA&quot; data-href=&quot;https://en.wikipedia.org/wiki/PDCA&quot; class=&quot;markup--anchor markup--li-anchor&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot;&gt;PDCA&lt;/a&gt; — Plan Do Check Act (what we call “doing work”)&lt;/li&gt;
&lt;li name=&quot;1f9d&quot; id=&quot;1f9d&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;&lt;a href=&quot;http://code-artisan.io/retrospective-method-kpt/&quot; data-href=&quot;http://code-artisan.io/retrospective-method-kpt/&quot; class=&quot;markup--anchor markup--li-anchor&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot;&gt;KPT&lt;/a&gt; — Keep Problem Try (I can’t make this up, lol. Search for it online and most results will be in Japanese)&lt;/li&gt;
&lt;li name=&quot;aacd&quot; id=&quot;aacd&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;Hearing — A meeting where people hear mainly you talk about things (no, you’re not on trial, don’t worry)&lt;/li&gt;
&lt;/ul&gt;&lt;p name=&quot;63dd&quot; id=&quot;63dd&quot; class=&quot;graf graf--p graf-after--li&quot;&gt;I could list these for days, but that’s a topic for another day. The point is, get used to learning a lot of new “English” words.&lt;/p&gt;
&lt;p name=&quot;8447&quot; id=&quot;8447&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;English words that are from European languages&lt;/strong&gt;&lt;/p&gt;
&lt;p name=&quot;bf57&quot; id=&quot;bf57&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;When the western world gets mashed into one big family, inevitably people will assume that everything comes from English, and will be confused when you don’t understand these words. One example is the word “enquette” (CORRECTION: enquête, thank you &lt;a href=&quot;https://medium.com/@renaudguerin&quot; data-href=&quot;https://medium.com/@renaudguerin&quot; data-anchor-type=&quot;2&quot; data-user-id=&quot;f6bb044c8ed0&quot; data-action-value=&quot;f6bb044c8ed0&quot; data-action=&quot;show-user-card&quot; data-action-type=&quot;hover&quot; class=&quot;markup--user markup--p-user&quot; target=&quot;_blank&quot;&gt;Renaud Guerin&lt;/a&gt;!) which is the French word for “survey” and is used often.&lt;/p&gt;
&lt;p name=&quot;5b29&quot; id=&quot;5b29&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Lots of vocabulary in&lt;/strong&gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/Kanji&quot; data-href=&quot;https://en.wikipedia.org/wiki/Kanji&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Chinese characters&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p name=&quot;1c46&quot; id=&quot;1c46&quot; class=&quot;graf graf--p graf-after--p&quot;&gt;Many of these carried over from mathematics, which has of course been in Japan for a long time, so it makes sense that most words come from Chinese. Here is a short list of some common words.&lt;/p&gt;
&lt;ul class=&quot;postList&quot;&gt;&lt;li name=&quot;3970&quot; id=&quot;3970&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;関数 — function&lt;/li&gt;
&lt;li name=&quot;6d5c&quot; id=&quot;6d5c&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;再帰的関数 — recursive function&lt;/li&gt;
&lt;li name=&quot;4461&quot; id=&quot;4461&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;変数 — variable&lt;/li&gt;
&lt;li name=&quot;b9d3&quot; id=&quot;b9d3&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;引数 — argument&lt;/li&gt;
&lt;li name=&quot;4433&quot; id=&quot;4433&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;不具合 — fault / bug&lt;/li&gt;
&lt;li name=&quot;6710&quot; id=&quot;6710&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;再起動 — restart/reboot&lt;/li&gt;
&lt;/ul&gt;&lt;p name=&quot;4c0b&quot; id=&quot;4c0b&quot; class=&quot;graf graf--p graf-after--li&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;Yet some words use English&lt;/strong&gt;&lt;/p&gt;
&lt;ul class=&quot;postList&quot;&gt;&lt;li name=&quot;3cb8&quot; id=&quot;3cb8&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;メソッド — method (“mesoddo”)&lt;/li&gt;
&lt;li name=&quot;4f26&quot; id=&quot;4f26&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;バグ — bug (“bagu”)&lt;/li&gt;
&lt;li name=&quot;e1be&quot; id=&quot;e1be&quot; class=&quot;graf graf--li graf-after--li&quot;&gt;デバッグ — debug (“debaggu”)&lt;/li&gt;
&lt;/ul&gt;&lt;p name=&quot;5c6e&quot; id=&quot;5c6e&quot; class=&quot;graf graf--p graf-after--li&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;And other words use&lt;/strong&gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/Wasei-eigo&quot; data-href=&quot;https://en.wikipedia.org/wiki/Wasei-eigo&quot; class=&quot;markup--anchor markup--p-anchor&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot;&gt;&lt;strong class=&quot;markup--strong markup--p-strong&quot;&gt;“English”&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&quot;postList&quot;&gt;&lt;li name=&quot;cd0f&quot; id=&quot;cd0f&quot; class=&quot;graf graf--li graf-after--p&quot;&gt;パソコン — PC (“pasokon”, short for “paasonaru konpyuuta” i.e. personal computer)&lt;/li&gt;
&lt;li name=&quot;19ad&quot; id=&quot;19ad&quot; class=&quot;graf graf--li graf-after--li graf--trailing&quot;&gt;ロールアウト — roll out (to deploy a new version of software; this one isn’t so out there, but is not often used in the web server software context, at least in California where I come from)&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Sun, 18 Mar 2018 11:42:12 +0000</pubDate>
<dc:creator>ingve</dc:creator>
<og:title>Gaijin Engineer in Tokyo – Alejandro Wainzinger – Medium</og:title>
<og:url>https://medium.com/@xevix/gaijin-engineer-in-tokyo-aaa9be8919b2</og:url>
<og:description>Being a foreign software engineer in Tokyo has its ups and downs. If you work in a company of foreigners you’re mostly shielded from the…</og:description>
<og:type>article</og:type>
<dc:format>text/html</dc:format>
<dc:identifier>https://medium.com/@xevix/gaijin-engineer-in-tokyo-aaa9be8919b2</dc:identifier>
</item>
<item>
<title>Lead is even deadlier than was feared</title>
<link>https://www.theguardian.com/commentisfree/2018/mar/17/lead-petrol-more-deadly-than-we-thought-brexit-bring-it-back</link>
<guid isPermaLink="true" >https://www.theguardian.com/commentisfree/2018/mar/17/lead-petrol-more-deadly-than-we-thought-brexit-bring-it-back</guid>
<description>&lt;p&gt;&lt;span class=&quot;drop-cap&quot;&gt;&lt;span class=&quot;drop-cap__inner&quot;&gt;L&lt;/span&gt;&lt;/span&gt;ooking back, it seems insane. Bluntly put, we took a known poison and – for three quarters of a century – used it in machines that puffed it out in breathable form. Then we drove them millions of miles a day, all over the world, regularly dosing billions of people with the toxin.&lt;/p&gt;
&lt;p&gt;Now the full effects of using lead in petrol – surely the greatest ever mass poisoning experiment – are becoming clear, almost exactly 35 years after an award-winning &lt;em&gt;Observer&lt;/em&gt; campaign caused it to be banned in Britain. They seem far worse than anyone imagined, and provide a stark warning against cutting pollution standards after Brexit. Last week, a massive new study concluded that lead is 10 times more dangerous than thought, and that past exposure now hastens one in every five US deaths. A similar effect is expected in Britain and other industrialised countries.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.thelancet.com/journals/lanpub/article/PIIS2468-2667(18)30043-4/fulltext&quot; title=&quot;&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;The study&lt;/a&gt;, published in the &lt;em&gt;Lancet Public Health&lt;/em&gt; journal and believed to be the first to research the effects of low levels of lead exposure on the general public, also concludes there is no safe level of the toxic metal: people with the lowest detectable amounts were still affected.&lt;/p&gt;
&lt;p&gt;Researchers at four North American universities, led by Bruce Lanphear, of Simon Fraser University in Vancouver, studied the fate of 14,289 people whose blood had been tested in an official US survey between 1988 and 1994. Four fifths of them had harboured levels of the toxic metal below what has, hitherto, been thought safe.&lt;/p&gt;
&lt;p&gt;The study found that deaths, especially from cardiovascular disease, increased markedly with exposure, even at the lowest levels. It concluded that lead kills 412,000 people a year – accounting for 18% of all US mortality, not much less than the 483,000 who perish as a result of smoking.&lt;/p&gt;
&lt;p&gt;Philip Landrigan, of New York’s Mount Sinai School of Medicine, possibly the world’s top expert on pollution’s effect on health, endorses the study and &lt;a href=&quot;https://www.theguardian.com/education/2008/nov/11/alastair-hay-toxicology-interview&quot; title=&quot;&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Alastair Hay&lt;/a&gt;, an expert on lead from Leeds University, calls it “very well done”. He adds that, since blood lead levels in the UK were similar, there could be much the same effect as in the US.&lt;/p&gt;
&lt;p&gt;Of course, we suspected none of this when this newspaper campaigned against lead back in the early 1980s. We pressed for a ban because of increasing evidence – dismissed by the scientific establishment – that low levels of the toxic metal were damaging children’s brains, lowering IQ and increasing disruptive behaviour.&lt;/p&gt;
&lt;p&gt;The danger of high lead levels has been known at least since the second century BC, when the Greek physician, Discorides, noted that it made “the mind give way”. Some historians even believe that lead-lined wine vats helped cause the decline of the Roman empire.&lt;/p&gt;
&lt;p&gt;An especially nasty form of the metal, tetraethyl lead, was first put in petrol to prevent car engines “knocking” in 1922. By the early 1970s, more than 100,000 tons of it were put into American vehicles alone each year. By then, a lone scientist, &lt;a href=&quot;https://www.theguardian.com/theguardian/2011/jul/19/derek-bryce-smith-obituary&quot; title=&quot;&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Derek Bryce-Smith,&lt;/a&gt; of Reading University, had begun to campaign against it. He would say that he had first been alerted to the dangers when, as a young man, he had asked the manufacturers for a sample of tetraethyl lead for an experiment and was warned that “if I got any on my finger it would drive me mad or kill me”.&lt;/p&gt;
&lt;p&gt;He was ridiculed and marginalised by other scientists. Slowly, however, people took up the cause, most notably a Wimbledon housewife, &lt;a href=&quot;https://www.theguardian.com/global/2009/aug/02/other-lives-obituary-jill-runnette&quot; title=&quot;&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Jill Runnette&lt;/a&gt;, who ran a campaign that – against all the odds and entrenched scientific opinion – succeeded in persuading ministers to reduce its level in petrol by two thirds in 1981.&lt;/p&gt;
&lt;aside class=&quot;element element-pullquote element--supporting&quot;&gt;&lt;blockquote&gt;
&lt;p class=&quot;pullquote-paragraph&quot;&gt;British children had to be shown to be affected as well as US ones – as if they were different species&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/aside&gt;&lt;p&gt;Her hand was strengthened by a meticulous US study that showed conclusively that lead knocked several points off children’s IQ. Yet, even before it was published, four leading British authorities circulated a paper attacking it. And the study’s author, &lt;a href=&quot;http://www.pbs.org/wgbh/nova/next/body/herbert-needleman/&quot; title=&quot;&quot; data-link-name=&quot;in body link&quot; class=&quot;u-underline&quot;&gt;Herbert Needleman&lt;/a&gt;, was twice investigated for scientific misconduct. He was vindicated but ministers still refused to act on lead until a UK study had come up with the same result. One told me that British children had to be shown to be affected as well as US ones – as if they were different species. The final blow was struck by a year-long public campaign led by the activist, Des Wilson, and – in April 1983 – the government finally announced that the use of the toxic metal would be phased out. Crucially, it did so on a precautionary basis.&lt;/p&gt;
&lt;p&gt;With leading scientists still resisting the evidence of effects on children, a royal commission advised that action should be taken, short of absolute proof, as there were enough grounds to suggest the danger was real. First, the rest of Europe, then almost every nation on Earth, followed, and levels in blood have fallen worldwide.&lt;/p&gt;
&lt;p&gt;It was not before time. Since then, low levels of lead have also been linked to high blood pressure, stroke, heart and kidney disease, ADHD and accelerated ageing. There is even good, if surprising, evidence that it increased juvenile crime: many studies have shown rates mirroring the rise and fall of lead in petrol. In 2002, the World &lt;a href=&quot;https://www.theguardian.com/society/health&quot; data-link-name=&quot;auto-linked-tag&quot; data-component=&quot;auto-linked-tag&quot; class=&quot;u-underline&quot;&gt;Health&lt;/a&gt; Organisation called lead in petrol “a catastrophe for public health”.&lt;/p&gt;
&lt;p&gt;Worryingly, the “precautionary principle” that led to the phase-out, and is enshrined in EU law, is in danger from Brexit. Some industries and rightwing politicians have long campaigned against it, demanding much more evidence. So far at least, it has not been incorporated into withdrawal measures. On Thursday, the environment secretary, Michael Gove, promised at a conference organised by Prosperity UK to strengthen, rather than weaken, pollution controls on leaving the EU. But he failed to give a specific reassurance on the precautionary principle.&lt;/p&gt;
&lt;p&gt;This is important because undue delay kills. Absolute proof of damage comes from counting corpses. If Britain had waited for it before taking action on lead in petrol, this week’s alarming news would have been more devastating still.&lt;/p&gt;


</description>
<pubDate>Sun, 18 Mar 2018 09:19:59 +0000</pubDate>
<dc:creator>Mononokay</dc:creator>
<og:url>http://www.theguardian.com/commentisfree/2018/mar/17/lead-petrol-more-deadly-than-we-thought-brexit-bring-it-back</og:url>
<og:description>Decades after this newspaper won a ban on this poison in our fuel, there are still calls for more proof</og:description>
<og:image>https://i.guim.co.uk/img/media/790a4c7a66fd5ebd32fdf6d628464f8fddbe9f85/0_121_5120_3072/master/5120.jpg?w=1200&amp;h=630&amp;q=55&amp;auto=format&amp;usm=12&amp;fit=crop&amp;crop=faces%2Centropy&amp;bm=normal&amp;ba=bottom%2Cleft&amp;blend64=aHR0cHM6Ly91cGxvYWRzLmd1aW0uY28udWsvMjAxOC8wMS8zMS9mYWNlYm9va19vcGluaW9ucy5wbmc&amp;s=8af3490c59c5f5f4e1dcd678f9f3bfb3</og:image>
<og:type>article</og:type>
<og:title>Lead is even deadlier than we feared, but Brexit could put it back in our petrol | Geoffrey Lean</og:title>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.theguardian.com/commentisfree/2018/mar/17/lead-petrol-more-deadly-than-we-thought-brexit-bring-it-back</dc:identifier>
</item>
<item>
<title>Building a fast Electron app with Rust</title>
<link>https://keminglabs.com/blog/building-a-fast-electron-app-with-rust/</link>
<guid isPermaLink="true" >https://keminglabs.com/blog/building-a-fast-electron-app-with-rust/</guid>
<description>&lt;p&gt;&lt;span class=&quot;published&quot;&gt;2018 March 18&lt;/span&gt; &lt;span class=&quot;author&quot;&gt;Kevin J. Lynagh&lt;/span&gt;&lt;/p&gt;&lt;p&gt;When I built &lt;a href=&quot;https://keminglabs.com/finda/&quot;&gt;Finda&lt;/a&gt;, I wanted it to be &lt;em&gt;fast&lt;/em&gt; — specifically, to respond to all user input within 16 milliseconds.&lt;/p&gt;
&lt;p&gt;Given this goal, you might be surprised to learn that Finda is built with Electron, a framework that’s often decried for being the opposite of fast.&lt;/p&gt;
&lt;p&gt;In this article, I’ll explain how Finda uses Rust to leverage Electron’s strengths (easy packaging, access to complex OS-specific APIs, the visual capabilities of the browser) while minimizing its downsides of unpredictable latency and memory usage.&lt;/p&gt;
&lt;h2 id=&quot;design-considerations&quot;&gt;Design considerations&lt;/h2&gt;
&lt;p&gt;Before diving into the technical details, it’ll help to understand the design goals of Finda itself.&lt;/p&gt;
&lt;p&gt;Finda supports a &lt;em&gt;single&lt;/em&gt; interaction: You type stuff, and it finds things — browser tabs, text editor buffers, local files, browser history, open windows, whatever:&lt;/p&gt;
&lt;p&gt;The goal is for Finda to feel not like an application, but more like Command-Tab, just part of the operating system itself, appearing instantly when needed and afterwards disappearing just as quickly.&lt;/p&gt;
&lt;p&gt;There’s no need for menus, multiple windows, buttons, or any kind of native UI. Really, Finda’s interaction requires only:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;a “global shortcut” to raise Finda fullscreen, regardless the current focused application&lt;/li&gt;
&lt;li&gt;capturing input keystrokes&lt;/li&gt;
&lt;li&gt;rendering search results&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Otherwise, Finda should just invisibly chill in the background.&lt;/p&gt;
&lt;h2 id=&quot;non-electron-alternatives&quot;&gt;Non-Electron alternatives&lt;/h2&gt;
&lt;p&gt;Given these minimal requirements, I considered my options.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Native OS X&lt;/strong&gt;: I decided against this option early, for two reasons:&lt;/p&gt;
&lt;p&gt;1) I want the option to port Finda to Windows and (I can’t believe I’m saying this) Linux, since beta testers asked if they could buy a version for their respective platforms.&lt;/p&gt;
&lt;p&gt;2) To use XCode for native development, I’d have to upgrade OS X, which would almost certainly break my computer in new and different ways than how it’s currently broken (and which I’ve made peace with).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Game-like&lt;/strong&gt;: I’ve written one pixel shader in my life (a gradient from white to black), but hey, games are fast, maybe that’d work? I explored a few options and decided to try a prototype using &lt;a href=&quot;https://github.com/ggez/ggez&quot;&gt;ggez&lt;/a&gt;, a wonderful Rust game library built on top of SDL.&lt;/p&gt;
&lt;p&gt;I found the API approachable for a graphics novices like myself (setting colors and drawing rectangles, rather than pipelines of structs of bytes of shaders that take bytes of…), but soon realized that the primitives were still going to require quite a bit of work on my part to compose into a decent application.&lt;/p&gt;
&lt;p&gt;For example, text can be rendered given a string, font size, and typeface. But Finda highlights the matches as you type:&lt;/p&gt;
&lt;p&gt;which means that I’d need to juggle multiple typefaces and colors, as well as track the bounding box of each drawn substring to layout everything.&lt;/p&gt;
&lt;p&gt;Beyond rendering, I also ran into difficulties on the operating system integration front. I found it difficult to:&lt;/p&gt;
&lt;ul readability=&quot;2.3737980769231&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;build a “chromeless” window (one without the titlebar and minimize/maximize/close stoplight buttons)&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;run the app in the background without appearing in the Dock&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2.7490039840637&quot;&gt;
&lt;p&gt;implement a “global hotkey” via &lt;a href=&quot;https://developer.apple.com/documentation/coregraphics/quartz_event_services?language=objc&quot;&gt;Quartz Event Services&lt;/a&gt; (after 4 hours, I managed to get key codes, but gave up when I realized I’d need to go through a separate set of hoops to lookup the active keymap to translate those key codes into shortcuts)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;None of these are really “games” problems, and it didn’t seem like switching to another framework like &lt;a href=&quot;https://www.opengl.org/resources/libraries/glut/&quot;&gt;GLUT&lt;/a&gt; (OpenGL) would be any better than ggez (SDL).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Electron&lt;/strong&gt;: I’ve built apps using Electron before, and I knew it’d meet Finda’s requirements. Browsers were originally designed to layout text, and Electron provides extensive &lt;a href=&quot;https://github.com/electron/electron/blob/master/docs/api/browser-window.md&quot;&gt;window options&lt;/a&gt; and a &lt;a href=&quot;https://github.com/electron/electron/blob/master/docs/api/global-shortcut.md&quot;&gt;one-line&lt;/a&gt; API for global shortcuts.&lt;/p&gt;
&lt;p&gt;The only unknown was performance, which is the subject of the rest of this article.&lt;/p&gt;
&lt;h2 id=&quot;architecture&quot;&gt;Architecture&lt;/h2&gt;
&lt;p&gt;The architectural tl;dr is that Electron is used as a user interface layer, with a Rust binary handling everything else.&lt;/p&gt;
&lt;p&gt;When Finda is open and a key is pressed:&lt;/p&gt;
&lt;p&gt;1) The browser invokes a document &lt;code&gt;onKeyDown&lt;/code&gt; listener, which translates the JavaScript &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Events/keydown&quot;&gt;keydown event&lt;/a&gt; to a plain JavaScript object representing the event; something like:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;keydown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;C-g&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2) This JavaScript object is passed to Rust (more on this later), and Rust returns another plain JavaScript object representing the entire application state:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;14&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;search terms&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bar.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...],&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;selected_idx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;show_overlay&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3) This JavaScript object is then passed to React.js, which actually renders it to the DOM using &lt;code&gt;&amp;lt;divs&amp;gt;&lt;/code&gt;s and &lt;code&gt;&amp;lt;ols&amp;gt;&lt;/code&gt;s.&lt;/p&gt;
&lt;p&gt;Two things to note about this architecture:&lt;/p&gt;
&lt;p&gt;First, Electron doesn’t maintain any kind of state — from its perspective, the entire application is function of the most recent event. That’s only possible because the Rust side maintains Finda’s internal state.&lt;/p&gt;
&lt;p&gt;Second, these steps occur for every user interaction (keyup and keydown). So, to meet the performance requirement, all three steps together must complete in under 16ms.&lt;/p&gt;
&lt;h2 id=&quot;interop&quot;&gt;Interop&lt;/h2&gt;
&lt;p&gt;The interesting bits are in step #2 — just what does it look like to call Rust from JavaScript?&lt;/p&gt;
&lt;p&gt;I’m using the awesome &lt;a href=&quot;https://github.com/neon-bindings/neon&quot;&gt;Neon library&lt;/a&gt; to build a Node.js module with Rust.&lt;/p&gt;
&lt;p&gt;From the Electron side, it feels just like calling any other kind of package:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Native&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Native&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;new_app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Native&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;keydown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;C-g&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The Rust side of this function a bit more complicated. Lets walk through it in pieces:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;11&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;: &lt;span class=&quot;nc&quot;&gt;Call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&quot;nc&quot;&gt;JsResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;check&lt;/span&gt;::&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event_type&lt;/span&gt;: &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downcast&lt;/span&gt;::&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JavaScript has several semantics that don’t map neatly to Rust’s language semantics (e.g., the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments&quot;&gt;arguments object&lt;/a&gt; and infamous &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this&quot;&gt;this&lt;/a&gt; dynamic variable).&lt;/p&gt;
&lt;p&gt;So, rather than try to map the JS call to a Rust function signature, Neon passes your function a single &lt;code&gt;Call&lt;/code&gt; object, from which the details can be extracted. Since I’ve written the calling (JS) side of this function, I know that the first and only argument will be a JavaScript object which will always have a &lt;code&gt;name&lt;/code&gt; key associated with a string value.&lt;/p&gt;
&lt;p&gt;This &lt;code&gt;event_type&lt;/code&gt; string can then be used to direct the rest of the “translation” from the JavaScript object to the appropriate &lt;code&gt;Finda::Event&lt;/code&gt; enumeration variants:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;18&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;k&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;blur&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finda&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finda&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;Event&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;Blur&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hide&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finda&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finda&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;Event&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;Hide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;show&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finda&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finda&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;Event&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;Show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;keydown&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downcast&lt;/span&gt;::&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finda&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finda&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;Event&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;KeyDown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Each of these branches also invokes the &lt;code&gt;finda::step&lt;/code&gt; function, which actually updates the application state in response to the event — changing the query and returning relevant results, opening the selected result, hiding Finda, whatever.&lt;/p&gt;
&lt;p&gt;(I’ll write more about the Rust details in future blog posts — sign up for my &lt;a href=&quot;https://tinyletter.com/kevinlynagh&quot;&gt;mailing list&lt;/a&gt; or follow &lt;a href=&quot;https://twitter.com/lynaghk&quot;&gt;@lynaghk&lt;/a&gt; if you’d like to get notified when that happens.)&lt;/p&gt;
&lt;p&gt;After that application state has been updated, it needs to be returned to the Electron side for rendering. This process looks similar, but in the other direction: Translating Rust data structures into JavaScript ones:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;16&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsObject&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;show_overlay&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsBoolean&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show_overlay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;query&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsString&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;selected_idx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsNumber&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;selected_idx&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here we’re first creating the JavaScript object that’ll be returned to Electron and then associating keys with some primitive types.&lt;/p&gt;
&lt;p&gt;Returning the results (an array of objects) requires a few more hoops: The size of the array must be declared in advance and the Rust structure explicitly enumerated, but overall it’s not too bad:&lt;/p&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;18&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsArray&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;u32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsr&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsObject&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;label&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsString&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;icon&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JsString&lt;/span&gt;::&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pathname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;u32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;results&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, at the end of this function the JavaScript object is returned:&lt;/p&gt;

&lt;p&gt;and Neon handles all the details for passing it to the caller on the JavaScript side.&lt;/p&gt;
&lt;h2 id=&quot;performance-verification&quot;&gt;Performance verification&lt;/h2&gt;
&lt;p&gt;So, how does all this machinery perform in practice? Here’s a typical trace for a single keypress, as seen on the “performance” tab of Chrome DevTools (which is built-in to Electron):&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://keminglabs.com/blog/building-a-fast-electron-app-with-rust/timeline.png&quot; alt=&quot;DevTools Performance trace of a single keypress&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Each step is labeled: 1) translating the keypress to an event, 2) processing the event in Rust, and 3) rendering the results with React.&lt;/p&gt;
&lt;p&gt;The first thing to note is the green bar at the top, which shows that all this happens in under 14ms.&lt;/p&gt;
&lt;p&gt;The second thing to note is &lt;em&gt;oh dang Rust is fast!&lt;/em&gt; The Rust interop (section #2, with the actual &lt;code&gt;Native.step()&lt;/code&gt; call highlighted in the flamegraph) completes in less than a millisecond.&lt;/p&gt;
&lt;p&gt;This particular keydown event corresponds to adding a letter to my query, which means that in this &lt;em&gt;single millisecond&lt;/em&gt; Finda:&lt;/p&gt;
&lt;ul readability=&quot;5&quot;&gt;&lt;li readability=&quot;6&quot;&gt;
&lt;p&gt;Runs a regex search against all my open windows, Emacs buffers, ~20,000 page titles and URLs from my browser history, and all of the filenames in my &lt;code&gt;~/work/&lt;/code&gt;, &lt;code&gt;~/Downloads/&lt;/code&gt;, and &lt;code&gt;~/Dropbox/&lt;/code&gt; folders.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;Sorts all these results according to quality heuristics (number of matches, whether they occur on word boundaries, and so forth).&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;Translates the top 50 results into JavaScript and returns them.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;If you don’t believe me that it’s that fast, you can &lt;a href=&quot;https://keminglabs.com/finda/&quot;&gt;download and try it yourself&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;(Of course, my 2013 Macbook Air’s SSD isn’t fast enough to even enumerate all those files in a millisecond — Finda transparently builds and maintains an index. More on that in a future post.)&lt;/p&gt;
&lt;p&gt;The bulk of the time is spent rendering: About 8ms for React (the &lt;code&gt;render&lt;/code&gt; bar at the bottom of the flamegraph) and 4ms for the browser itself to layout (purple), paint (green), and load thumbnail images from disk/cache (rightmost yellow).&lt;/p&gt;
&lt;p&gt;The specific performance numbers vary between events, but this trace is typical: Rust takes a few milliseconds to do the “actual work”, the majority of the time is taken up by rendering, and the entire JavaScript execution consistently finishes under 16ms.&lt;/p&gt;
&lt;h2 id=&quot;reflection-on-performance&quot;&gt;Reflection on performance&lt;/h2&gt;
&lt;p&gt;Given these performance numbers, one perspective would be to reduce the response time by dropping React (and perhaps the DOM entirely) and instead handle layout and rendering manually with a &lt;code&gt;&amp;lt;canvas&amp;gt;&lt;/code&gt; element.&lt;/p&gt;
&lt;p&gt;However, there are some seriously diminishing returns. Putting aside whether or not a human can differentiate a 15ms response and a 5ms response, it’s likely that some low-level operating system / graphics driver / LCD physics dominates the actual response time at this scale.&lt;/p&gt;
&lt;p&gt;Another perspective is that we have the extra budget — we can “waste” it on a slower rendering path if that path has other benefits. And in the case of Electron, it certainly does: In addition to the easy to use, built-in profiling tools we just saw, the DOM and CSS provide a wonderful amount of runtime malleability. It’s easy to open up the inspector and play with different typefaces, colors, and spacing:&lt;/p&gt;
&lt;p&gt;For an entirely data-driven application like Finda, having the ability to visually sketch and play &lt;em&gt;in the production medium&lt;/em&gt; is essential — it’s impossible to effectively prototype a search-based interaction by pushing pixels around a graphic design tool.&lt;/p&gt;
&lt;p&gt;Perhaps someone who knows OpenGL like the back of their hand can do this kind of sketching in Emacs or a game dev could throw it together in Unity.&lt;/p&gt;
&lt;p&gt;For me, I wouldn’t have been able to imagine, prototype, and release Finda without having both Electron and Rust. They’re spectacular technologies, so a big thanks to everyone who’s contributed to them!&lt;/p&gt;
&lt;h2 id=&quot;wrap-up&quot;&gt;Wrap up&lt;/h2&gt;
&lt;p&gt;Electron and Rust have turned out to be a great fit for the design constraints of Finda.&lt;/p&gt;
&lt;p&gt;Electron makes it easy to build and distribute a desktop app, shielding me from the tedious details of font rendering and low-level OS hotkey and window APIs.&lt;/p&gt;
&lt;p&gt;Rust makes it easy to write &lt;em&gt;fast&lt;/em&gt;, safe, low-level data structures, and encourages me to think about memory and performance in a way that I’m normally oblivious to when wearing my usual JavaScript / ClojureScript hat.&lt;/p&gt;
&lt;p&gt;Together, they make a powerful combination: &lt;a href=&quot;https://keminglabs.com/finda/&quot;&gt;Try out Finda&lt;/a&gt; to experience the speed yourself!&lt;/p&gt;
&lt;p&gt;If you try this hybrid Rust/Electron approach on your own projects, please &lt;a href=&quot;mailto:kevin@keminglab.com&quot;&gt;write me&lt;/a&gt;! I’d love to hear about what you’re working on and help any way I can!&lt;/p&gt;
&lt;h2 id=&quot;further-reading&quot;&gt;Further reading&lt;/h2&gt;
&lt;ul readability=&quot;0.40579710144928&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;Check out Dan Luu’s awesome work on &lt;a href=&quot;https://danluu.com/input-lag/&quot;&gt;measuring input latency&lt;/a&gt; across computers from the 1970’s to today.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-0.77011494252874&quot;&gt;
&lt;p&gt;Check out the Neon &lt;a href=&quot;https://github.com/neon-bindings/neon&quot;&gt;Github repo&lt;/a&gt; or &lt;a href=&quot;https://twitter.com/rustneon&quot;&gt;@rustneon&lt;/a&gt; for building Node.js extensions using Rust.&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-0.88888888888889&quot;&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/google/xi-editor&quot;&gt;Xi Editor&lt;/a&gt; is an open source Rust text editor with an emphasis on performance.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;thanks&quot;&gt;Thanks&lt;/h2&gt;
&lt;p&gt;Thanks to &lt;a href=&quot;http://tonsky.me/&quot;&gt;Nikita Prokopov&lt;/a&gt;, &lt;a href=&quot;http://saul.pw/&quot;&gt;Saul Pwanson&lt;/a&gt;, &lt;a href=&quot;http://ballingt.com/&quot;&gt;Tom Ballinger&lt;/a&gt;, &lt;a href=&quot;https://veitheller.de/&quot;&gt;Veit Heller&lt;/a&gt;, &lt;a href=&quot;https://jvns.ca/&quot;&gt;Julia Evans&lt;/a&gt;, and &lt;a href=&quot;http://somethingdoneright.net/&quot;&gt;Bert Muthalaly&lt;/a&gt; for thoughtful feedback on this article.&lt;/p&gt;
</description>
<pubDate>Sun, 18 Mar 2018 09:16:01 +0000</pubDate>
<dc:creator>hellerve</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://keminglabs.com/blog/building-a-fast-electron-app-with-rust/</dc:identifier>
</item>
<item>
<title>D3 Graph Theory – Learn About Graph Theory Interactively</title>
<link>https://mrpandey.github.io/d3graphTheory/index.html</link>
<guid isPermaLink="true" >https://mrpandey.github.io/d3graphTheory/index.html</guid>
<description>&lt;div class=&quot;col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2&quot; readability=&quot;17.826366559486&quot;&gt;
&lt;p&gt;A graph (as in &quot;graph theory&quot;) is a discrete mathematical structure which deals with objects and pairwise relations between them. Graphs have immense applications in various disciplines of science. Knowledge of this subject is essential for mathematics and computer science enthusiasts.&lt;/p&gt;
&lt;p&gt;D3 Graph Theory is project aimed at anyone who wants to learn graph theory. It provides quick and interactive introduction to the subject. The visuals used in the project makes it an effective learning tool.&lt;/p&gt;
&lt;p&gt;And yes, it is open-source. Check the code at &lt;a href=&quot;https://github.com/mrpandey/d3graphTheory&quot; target=&quot;_blank&quot;&gt;GitHub&lt;/a&gt;. Created by Avinash Pandey, a mathematics and computer science enthusiast.&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Sun, 18 Mar 2018 04:50:33 +0000</pubDate>
<dc:creator>sebg</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://mrpandey.github.io/d3graphTheory/index.html</dc:identifier>
</item>
<item>
<title>B-Heap vs. Binary Heap (2010)</title>
<link>https://queue.acm.org/detail.cfm?id=1814327</link>
<guid isPermaLink="true" >https://queue.acm.org/detail.cfm?id=1814327</guid>
<description>&lt;div class=&quot;navbar&quot; readability=&quot;1.2631578947368&quot;&gt;

&lt;a href=&quot;https://queue.acm.org/&quot;&gt;&lt;img src=&quot;https://queue.acm.org/img/acmqueue_logo.gif&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;a href=&quot;https://queue.acm.org/app/&quot; target=&quot;_new&quot;&gt;&lt;img src=&quot;https://queue.acm.org/app/2018_01-02_lrg.png&quot; with=&quot;90&quot; height=&quot;120&quot; alt=&quot;January/February 2018 issue of acmqueue&quot;/&gt;&lt;/a&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://queue.acm.org/app/&quot;&gt;The January/February issue of acmqueue is out now&lt;/a&gt;&lt;/strong&gt;&lt;br clear=&quot;all&quot;/&gt;&lt;/p&gt;&lt;hr/&gt;&lt;br/&gt;&lt;h3&gt;&lt;a href=&quot;https://queue.acm.org/listing.cfm?typefilter=Thebikeshed&amp;amp;sort=publication_date&amp;amp;order=desc&amp;amp;qc_type=Thebikeshed&amp;amp;article_type=&amp;amp;item_topic=all&amp;amp;filter_type=topic&amp;amp;page_title=The%20Bikeshed&amp;amp;filter=all&quot;&gt;The Bike Shed&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;&lt;a href=&quot;https://queue.acm.org/listing.cfm?item_topic=Performance&amp;amp;qc_type=theme_list&amp;amp;filter=Performance&amp;amp;page_title=Performance&amp;amp;order=desc&quot;&gt;Performance&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;  &lt;a href=&quot;https://dl.acm.org/ft_gateway.cfm?id=1814327&amp;amp;ftid=1053993&amp;amp;dwn=1&quot;&gt;&lt;img src=&quot;https://queue.acm.org/img/icon_pdf.png&quot; alt=&quot;Download PDF version of this article&quot;/&gt; PDF&lt;/a&gt;&lt;/p&gt;
&lt;label&gt;June 11, 2010&lt;br/&gt;&lt;strong&gt;&lt;a class=&quot;descriptor&quot; href=&quot;https://queue.acm.org/issuedetail.cfm?issue=1810226&quot;&gt;Volume 8, issue 6&lt;/a&gt;&lt;/strong&gt;&lt;/label&gt;

&lt;h2&gt;Think you've mastered the art of server performance? Think again.&lt;/h2&gt;
&lt;br/&gt;&lt;h3&gt;Poul-Henning Kamp&lt;/h3&gt;
&lt;p&gt;Would you believe me if I claimed that an algorithm that has been on the books as &quot;optimal&quot; for 46 years, which has been analyzed in excruciating detail by geniuses like Knuth and taught in all computer science courses in the world, can be optimized to run 10 times faster?&lt;/p&gt;
&lt;p&gt;A couple of years ago, I fell into some interesting company and became the author of an open source HTTP accelerator called Varnish, basically an HTTP cache to put in front of slow Web servers. Today Varnish is used by Web sites of all sorts, from Facebook, Wikia, and Slashdot to obscure sites you have surely never heard of.&lt;/p&gt;
&lt;p&gt;Having spent 15 years as a lead developer of the FreeBSD kernel, I arrived in user land with a detailed knowledge of what happens under the system calls. One of the main reasons I accepted the Varnish proposal was to show how to write a high-performance server program.&lt;/p&gt;
&lt;p&gt;Because, not to mince words, the majority of you are doing that wrong. Not just &lt;em&gt;wrong&lt;/em&gt; as in &lt;em&gt;not perfect&lt;/em&gt;, but &lt;em&gt;wrong&lt;/em&gt; as in &lt;em&gt;wasting half, or more, of your performance.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The first user of Varnish, the large Norwegian newspaper &lt;em&gt;VG&lt;/em&gt;, replaced 12 machines running Squid with three machines running Varnish. The Squid machines were flat-out 100 percent busy, while the Varnish machines had 90 percent of their CPU available for twiddling their digital thumbs.&lt;sup&gt;a&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;The really short version of the story is that Varnish knows it is not running on the bare metal but under an operating system that provides a virtual-memory-based abstract machine. For example, Varnish does not ignore the fact that memory is virtual; it actively exploits it. A 300-GB backing store, memory mapped on a machine with no more than 16 GB of RAM, is quite typical. The user paid for 64 bits of address space, and I am not afraid to use it.&lt;/p&gt;
&lt;p&gt;One particular task, inside Varnish, is expiring objects from the cache when their virtual lifetimers run out of sand. This calls for a data structure that can efficiently deliver the smallest keyed object from the total set.&lt;/p&gt;
&lt;p&gt;A quick browse of the mental catalog flipped up the binary-heap card, which not only sports an &lt;tt&gt;O(log2(n))&lt;/tt&gt; transaction performance, but also has a meta-data overhead of only a pointer to each object—which is important if you have 10 million+ objects.&lt;/p&gt;
&lt;p&gt;Careful rereading of Knuth confirmed that this was the sensible choice, and the implementation was trivial: &quot;Ponto facto, Cæsar transit,&quot; etc.&lt;/p&gt;
&lt;p&gt;On a recent trip by night-train to Amsterdam, my mind wandered, and it struck me that Knuth might be terribly misleading on the performance of the binary heap, possibly even by an order of magnitude. On the way home, also on the train, I wrote a simulation that proved my hunch right.&lt;/p&gt;
&lt;p&gt;Before any fundamentalist CS theoreticians choke on their coffees: don't panic! The P vs. NP situation is unchanged, and I have not found a systematic flaw in the quality of Knuth et al.'s reasoning. The findings of CS, as we know it, are still correct. They are just a lot less relevant and useful than you think—at least with respect to performance.&lt;/p&gt;
&lt;p&gt;The oldest reference to the binary heap I have located, in a computer context, is J.W.J. Williams' article published in the June 1964 issue of &lt;em&gt;Communications of the ACM,&lt;/em&gt; titled &quot;Algorithm number 232 - Heapsort.&quot;&lt;sup&gt;2,b&lt;/sup&gt; The trouble is, Williams was already out of touch, and his algorithmic analysis was outdated even before it was published.&lt;/p&gt;
&lt;p&gt;In an article in the April 1961 of &lt;em&gt;CACM,&lt;/em&gt; J. Fotheringham documented how the Atlas Computer at Manchester University separated the concept of &lt;em&gt;an address&lt;/em&gt; from &lt;em&gt;a memory location,&lt;/em&gt; which for all practical purposes marks the invention of VM (virtual memory).&lt;sup&gt;1&lt;/sup&gt; It took quite some time before virtual memory took hold, but today all general-purpose, most embedded, and many specialist operating systems use VM to present a standardized virtual machine model (i.e., POSIX) to the processes they herd.&lt;/p&gt;
&lt;p&gt;It would of course be unjust and unreasonable to blame Williams for not realizing that Atlas had invalidated one of the tacit assumptions of his algorithm: only hindsight makes that observation possible. The fact is, however, 46 years later most CS-educated professionals still ignore VM as a matter of routine. This is an embarrassment for CS as a discipline and profession, not to mention wasting enormous amounts of hardware and electricity.&lt;/p&gt;
&lt;h3&gt;Performance simulation&lt;/h3&gt;
&lt;p&gt;Enough talk. Let me put some simulated facts on the table. The plot in figure 1 shows the runtime of the binary heap and of my new B-heap version for 1 million items on a 64-bit machine.&lt;sup&gt;c&lt;/sup&gt; (My esteemed FreeBSD colleague Colin Percival helpfully pointed out that the change I have made to the binary heap is very much parallel to the change from binary tree to B-tree, so I have adopted his suggestion and named my new variant a B-heap.&lt;sup&gt;d&lt;/sup&gt;)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://deliveryimages.acm.org/10.1145/1820000/1814327/kamp1.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;The x-axis is VM pressure, measured in the amount of address space not resident in primary memory, because the kernel paged it out to secondary storage. The left y-axis is runtime in seconds (log-scale), and the right Y-axis shows the ratio of the two runtimes: (binary heap / B-heap).&lt;/p&gt;
&lt;p&gt;Let's get my &quot;order of magnitude&quot; claim out of the way. When we zoom in on the left side (figure 2), we see that there is indeed a factor 10 difference in the time the two algorithms take when running under almost total VM pressure: only 8 to 10 pages of the 1,954 pages allocated are in primary memory at the same time.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://deliveryimages.acm.org/10.1145/1820000/1814327/kamp2.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Did you just decide that my order of magnitude claim was bogus, because it is based on only an extreme corner case? If so, you are doing it wrong, because this is pretty much the real-world behavior seen.&lt;/p&gt;
&lt;p&gt;Creating and expiring objects in Varnish are relatively infrequent actions. Once created, objects are often cached for weeks if not months, and therefore the binary heap may not be updated even once per minute; on some sites not even once per hour.&lt;/p&gt;
&lt;p&gt;In the meantime, we deliver gigabytes of objects to clients' browsers, and since all these objects compete for space in the primary memory, the VM pages containing the binheap that are not accessed get paged out. In the worst case of only nine pages resident, the binary heap averages 11.5 page transfers per operation, while the B-heap needs only 1.14 page transfers. If your server has SSD (solid state drive) disks, that is the difference between each operation taking 11 or 1.1 milliseconds. If you still have rotating platters, it is the difference between 110 and 11 milliseconds.&lt;/p&gt;
&lt;p&gt;At this point, is it wrong to think, &quot;If it runs only once per minute, who cares, even if it takes a full second?&quot;&lt;/p&gt;
&lt;p&gt;We do, in fact, care because the 10 extra pages needed once per minute loiter in RAM for a while, doing nothing for their keep—until the kernel pages them back out again, at which point they get to pile on top of the already frantic disk activity, typically seen on a system under this heavy VM pressure.&lt;sup&gt;e&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;Next, let us zoom in on the other end of the plot (figure 3). If there is no VM pressure, the B-heap algorithm needs more comparisons than the binary sort, and the simple parent-to-child / child-to-parent index calculation is a tad more involved: so, instead of a runtime of 4.55 seconds, it takes 5.92 seconds, a whopping 30 percent slower—almost 350 nanoseconds slower per operation.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://deliveryimages.acm.org/10.1145/1820000/1814327/kamp3.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;So, yes, Knuth and all the other CS dudes had their math figured out right.&lt;/p&gt;
&lt;p&gt;If, however, we move left on the curve, then we find, at a VM pressure of four missing pages (= 0.2 percent) the B-heap catches up, because of fewer VM page faults; and it gradually gets better and better, until as we saw earlier, it peaks at 10 times faster.&lt;/p&gt;
&lt;p&gt;That was assuming you were using an SSD disk, which can do a page operation in 1 millisecond—pretty optimistic, in particular for the writes. If we simulate a mechanical disk by setting the I/O time to a still-optimistic 10 milliseconds instead (figure 4), then B-heap is 10 percent faster as soon as the kernel steals just a single page from our 1,954-page working set and 37 percent faster when four pages are missing.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://deliveryimages.acm.org/10.1145/1820000/1814327/kamp4.png&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;So what is a B-heap, anyway?&lt;/h3&gt;
&lt;p&gt;The only difference between a binary heap and a B-heap is the formula for finding the parent from the child, or vice versa.&lt;/p&gt;
&lt;p&gt;The traditional &lt;tt&gt;n -&amp;gt; {2n, 2n+1}&lt;/tt&gt; formula leaves us with a heap built of virtual pages stacked one over the next, which causes (almost) all vertical traversals to hit a different VM page for each step up or down in the tree, as shown in figure 5, with eight items per page. (The numbers show the order in which objects are allocated, not the key values.)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://deliveryimages.acm.org/10.1145/1820000/1814327/kamp5.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;The B-heap builds the tree by filling pages vertically, to match the direction we traverse the heap (figure 6). This rearrangement increases the average number of comparison/swap operations required to keep the tree invariant true, but ensures that most of those operations happen inside a single VM page and thus reduces the VM footprint and, consequently, VM page faults.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://deliveryimages.acm.org/10.1145/1820000/1814327/kamp6.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Two details are worth noting:&lt;/p&gt;
&lt;p&gt;* Once we leave a VM page through the bottom, it is important for performance that both child nodes live in the same VM page, because we are going to compare them both with their parent.&lt;/p&gt;
&lt;p&gt;* Because of this, the tree fails to expand for one generation every time it enters a new VM page in order to use the first two elements in the page productively.&lt;/p&gt;
&lt;p&gt;In our simulated example, failure to do so would require five pages more.&lt;/p&gt;
&lt;p&gt;If that seems unimportant to you, then you are doing it wrong: try shifting the B-heap line 20 KB to the right in figures 2 and 3, and think about the implications.&lt;/p&gt;
&lt;p&gt;The parameters of my simulation are chosen to represent what happens in real life in Varnish, and I have not attempted to comprehensively characterize or analyze the performance of the B-heap for all possible parameters. Likewise, I will not rule out that there are smarter ways to add VM-clue to a binary heap, but I am not inclined to buy a ticket on the Trans-Siberian Railway in order to find time to work it out.&lt;/p&gt;
&lt;p&gt;The order of magnitude of difference obviously originates with the number of levels of heap inside each VM page, so the ultimate speedup will be on machines with small pointer sizes and big page sizes. This is a pertinent observation, as operating system kernels start to use superpages to keep up with increased I/O throughput.&lt;/p&gt;
&lt;h3&gt;So why are you, and I, still doing it wrong?&lt;/h3&gt;
&lt;p&gt;There used to be an (in)famous debate, &quot;Quicksort vs. Heapsort,&quot; centering on the fact that the worst-case behavior of the former is terrible, whereas the latter has worse average performance but no such &quot;bad spots.&quot; Depending on your application, that can be a very important difference.&lt;/p&gt;
&lt;p&gt;We lack a similar inquiry into algorithm selection in the face of the anisotropic memory access delay caused by virtual memory, CPU caches, write buffers, and other facts of modern hardware.&lt;/p&gt;
&lt;p&gt;Whatever book you learned programming from, it probably had a figure within the first five pages diagramming a computer much like that shown in figure 7. That is where it all went pear-shaped: that model is totally bogus today.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://deliveryimages.acm.org/10.1145/1820000/1814327/kamp7.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;It is, amazingly, the only conceptual model used in computer education, despite the fact that it has next to nothing to do with the execution environment on a modern computer. And just for the record: by &lt;em&gt;modern&lt;/em&gt;, I mean VAX 11/780 or later.&lt;/p&gt;
&lt;p&gt;The past 30 or 40 years of hardware and operating-systems development seems to have only marginally impinged on the agenda in CS departments' algorithmic analysis sections, and as far as my anecdotal evidence, it has totally failed to register in the education they provide.&lt;/p&gt;
&lt;p&gt;The speed disparity between primary and secondary storage on the Atlas Computer was on the order of 1:1,000. The Atlas drum took 2 milliseconds to deliver a sector; instructions took approximately 2 microseconds to execute. You lost around 1,000 instructions for each VM page fault.&lt;/p&gt;
&lt;p&gt;On a modern multi-issue CPU, running at some gigahertz clock frequency, the worst-case loss is almost 10 million instructions per VM page fault. If you are running with a rotating disk, the number is more like 100 million instructions.&lt;sup&gt;f&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;What good is an &lt;tt&gt;O(log2(n))&lt;/tt&gt; algorithm if those operations cause page faults and slow disk operations? For most relevant datasets an &lt;tt&gt;O(n)&lt;/tt&gt; or even an &lt;tt&gt;O(n^2)&lt;/tt&gt; algorithm, which avoids page faults, will run circles around it.&lt;/p&gt;
&lt;p&gt;Performance analysis of algorithms will always be a cornerstone achievement of computer science, and like all of you, I really cherish the foldout chart with the tape-sorts in volume 3 of &lt;em&gt;The Art of Computer Programming&lt;/em&gt;. But the results coming out of the CS department would be so much more interesting and useful if they applied to real computers and not just toys like ZX81, C64, and TRS-80.&lt;br/&gt;&lt;strong&gt;Q&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;Notes&lt;/h4&gt;
&lt;p&gt;a. This pun is included specifically to inspire Stan Kelly-Bootle.&lt;/p&gt;
&lt;p&gt;b. How wonderful must it have been to live and program back then, when all algorithms in the world could be enumerated in an 8-bit byte?&lt;/p&gt;
&lt;p&gt;c. Page size is 4 KB, each holding 512 pointers of 64 bits. The VM system is simulated with dirty tracking and perfect LRU page replacement. Paging operations set to 1 millisecond. Object key values are produced by random(3). The test inserts 1 million objects, then alternately removes and inserts objects 1 million times, and finally removes the remaining 1 million objects from the heap. Source code is at &lt;a href=&quot;http://phk.freebsd.dk/B-Heap&quot; target=&quot;_blank&quot;&gt;http://phk.freebsd.dk/B-Heap&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;d. Does &lt;em&gt;CACM&lt;/em&gt; still enumerate algorithms, and is eight bits still enough?&lt;/p&gt;
&lt;p&gt;e. Please don't take my word for it: applying queuing theory to this situation is a very educational experience.&lt;/p&gt;
&lt;p&gt;f. And below the waterline there are the flushing of pipelines, now useless and in the way, cache content, page-table updates, lookaside buffer invalidations, page-table loads, etc. It is not atypical to find instructions in the &quot;for operating system programmers&quot; section of the CPU data book, which take hundreds or even thousands of clock cycles, before everything is said and done.&lt;/p&gt;
&lt;h4&gt;References&lt;/h4&gt;
&lt;p&gt;1. Fotheringham, J. 1961. Dynamic storage allocation in the Atlas Computer, including an automatic use of a backing store. &lt;em&gt;Communications of the ACM&lt;/em&gt; 4(10): 435-436; &lt;a href=&quot;http://doi.acm.org/10.1145/366786.366800&quot; target=&quot;_new&quot;&gt;http://doi.acm.org/10.1145/366786.366800&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;2. Williams, J. W. J. 1964. Algorithm 232 - Heapsort. &lt;em&gt;Communications of the ACM&lt;/em&gt; 7(6): 347-348.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LOVE IT, HATE IT? LET US KNOW&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://queue.acm.org/cdn-cgi/l/email-protection#24424141404645474f6455514151410a4547490a4b5643&quot; target=&quot;_blank&quot;&gt;&lt;span class=&quot;__cf_email__&quot; data-cfemail=&quot;dcbab9b9b8bebdbfb79cada9b9a9b9f2bdbfb1f2b3aebb&quot;&gt;[email protected]&lt;/span&gt;&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Poul-Henning Kamp&lt;/strong&gt; (&lt;a href=&quot;https://queue.acm.org/cdn-cgi/l/email-protection&quot; class=&quot;__cf_email__&quot; data-cfemail=&quot;5b2b33301b1d293e3e19081f7534293c&quot;&gt;[email protected]&lt;/a&gt;) has programmed computers for 26 years and is the inspiration behind &lt;a href=&quot;http://bikeshed.org/&quot; target=&quot;_blank&quot;&gt;bikeshed.org&lt;/a&gt;. His software has been widely adopted as &quot;under the hood&quot; building blocks in both open source and commercial products. His most recent project is the Varnish HTTP-accelerator, which is used to speed up large Web sites such as Facebook.&lt;/p&gt;
&lt;p&gt;© 2010 ACM 1542-7730/10/0600 $10.00&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;floatLeft&quot; src=&quot;https://queue.acm.org/img/q%20stamp_small.jpg&quot; width=&quot;26&quot; height=&quot;45&quot; alt=&quot;acmqueue&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;Originally published in Queue vol. 8, no. 6&lt;/em&gt;—&lt;br/&gt;see this item in the &lt;a href=&quot;https://portal.acm.org/citation.cfm?id=1814327&quot;&gt;ACM Digital Library&lt;/a&gt;&lt;/p&gt;
&lt;br/&gt;&lt;a href=&quot;https://twitter.com/share&quot; class=&quot;twitter-share-button&quot; data-via=&quot;ACMQueue&quot;&gt;Tweet&lt;/a&gt; 


&lt;br/&gt;&lt;hr noshade=&quot;noshade&quot; size=&quot;1&quot;/&gt;
Related:
&lt;p&gt;&lt;span&gt;Theo Schlossnagle&lt;/span&gt; - &lt;a href=&quot;https://queue.acm.org/detail.cfm?id=3178371&quot;&gt;&lt;strong&gt;Monitoring in a DevOps World&lt;/strong&gt;&lt;/a&gt;&lt;br/&gt;Perfect should never be the enemy of better.&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Ulan Degenbaev, Jochen Eisinger, Manfred Ernst, Ross McIlroy, Hannes Payer&lt;/span&gt; - &lt;a href=&quot;https://queue.acm.org/detail.cfm?id=2977741&quot;&gt;&lt;strong&gt;Idle-Time Garbage-Collection Scheduling&lt;/strong&gt;&lt;/a&gt;&lt;br/&gt;Taking advantage of idleness to reduce dropped frames and memory consumption&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Neil Gunther, Paul Puglia, Kristofer Tomasette&lt;/span&gt; - &lt;a href=&quot;https://queue.acm.org/detail.cfm?id=2789974&quot;&gt;&lt;strong&gt;Hadoop Superlinear Scalability&lt;/strong&gt;&lt;/a&gt;&lt;br/&gt;The perpetual motion of parallel performance&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Robert Sproull, Jim Waldo&lt;/span&gt; - &lt;a href=&quot;https://queue.acm.org/detail.cfm?id=2576968&quot;&gt;&lt;strong&gt;The API Performance Contract&lt;/strong&gt;&lt;/a&gt;&lt;br/&gt;How can the expected interactions between caller and implementation be guaranteed?&lt;/p&gt;
&lt;br/&gt;&lt;hr noshade=&quot;noshade&quot; size=&quot;1&quot;/&gt;&lt;h3&gt;Comments&lt;/h3&gt;
&lt;p&gt;(newest first)&lt;/p&gt;
&lt;blockquote readability=&quot;3.0508474576271&quot;&gt;
&lt;p&gt;&lt;strong&gt;Displaying 10 most recent comments. &lt;a href=&quot;https://queue.acm.org/fullcomments.cfm?id=1814327&quot;&gt;Read the full list here&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p class=&quot;author&quot;&gt;Neel | Sun, 18 Mar 2018 06:51:31 UTC&lt;/p&gt;
skipped bath and reading this. This is intresting
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;BlueRaja | Thu, 21 Apr 2016 21:20:30 UTC&lt;/p&gt;
So you reinvented the T-tree, plus some Straw Man graphs and some comments on how you're smarter than the entire CS field. Congrats?
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;Steve | Tue, 11 Aug 2015 03:39:02 UTC&lt;/p&gt;
Google &quot;cache oblivious algorithms&quot; for good theoretical treatment.
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;zeroday1 | Mon, 22 Dec 2014 21:32:45 UTC&lt;/p&gt;
I often encounter the following error on a consistent basis upon visiting the famous shop network HSN.
&lt;p&gt;--------------------------------------------------------------------------------&lt;/p&gt;
&lt;p&gt;Error 503 Service Unavailable&lt;/p&gt;
&lt;p&gt;Service Unavailable Guru Meditation:&lt;/p&gt;
&lt;p&gt;XID: 1376938831&lt;/p&gt;
&lt;p&gt;Varnish cache server&lt;/p&gt;
&lt;p&gt;--------------------------------------------------------------------------------&lt;/p&gt;
&lt;p&gt;There really is no reason to suspect that my experience encountering this error is related to a problem on my system because I do not maintain any conflicting configurations on my pc. No matter what browser I use, I still get this error. I've visited their site before with no problem, however it almost seems like now it is a regular occurrence to come across this error.&lt;/p&gt;
&lt;p&gt;I have ample reason to believe this has to do with a problem on their website, specifically with regard to website maintenance, or lack there of...&lt;/p&gt;
&lt;p&gt;Try telling HSN that, and you might just get a variety of responses depending upon whom you speak with, but you can rest assure that no matter whom it is at HSN, they're all experts...(Pun intended of course)...&lt;/p&gt;
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;A. Bit Miffed | Sun, 14 Sep 2014 23:15:38 UTC&lt;/p&gt;
It's rare to see this kind of hubris in a computer publication. But, oh well. When quantum computers become the norm, we'll see an article that Poul-Henning Kamp was doing it wrong.
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;asd | Tue, 22 May 2012 04:53:47 UTC&lt;/p&gt;
buy more ram bros
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;iitg | Mon, 12 Dec 2011 09:44:22 UTC&lt;/p&gt;
I think some said &quot;buy more ram&quot; in the comment above, that wont be of much help as we are talking about an algorithm which minimises disk access as well as cache miss! Nice article.
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;Dutch Uncle | Thu, 30 Jun 2011 16:02:25 UTC&lt;/p&gt;
Lots of people have been paying attention to memory hierarchy for a long time. I worked for SyncSort on IBM mainframe data sorting and manipulation utilities. I can assure you that every single execution of the SyncSort utility started with an analysis pass that included comparing the effective size of data key indices to the available cache reported by the processor, as well as comparing the available RAM to the total data set size, in order to tune the operation into the best number of iterations of the best sized chunks of data. In the universe, things do happen outside of one's personal knowledge.
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;Sepp | Fri, 25 Mar 2011 13:34:37 UTC&lt;/p&gt;
An interesting comparison of Varnish, Apache Traffic Server (another proxy cache) and G-WAN (an application server with C scripts):
&lt;p&gt;http://nbonvin.wordpress.com/2011/03/24/serving-small-static-files-which-server-to-use/&lt;/p&gt;
&lt;p&gt;Apache Traffic Server is an HTTP proxy and cache server created by Inktomi, and distributed as a commercial product before Inktomi was acquired by Yahoo.&lt;/p&gt;
&lt;p&gt;Yahoo says that it uses TS in to serve more than 30 Billion objects per day. They also say that TS is a &quot;product of literally hundreds of developer-years&quot;.&lt;/p&gt;
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;p class=&quot;author&quot;&gt;Tom | Wed, 05 Jan 2011 19:56:36 UTC&lt;/p&gt;
You have rediscovered the principles of spacial and temporal locality, one of the key things taught in any basic algorithms class. Thinking that it has anything to do with something as specific as virtual memory or hard disks shows your ignorance of computer architecture, modern or otherwise. Imagine swapping tapes back in the day.
&lt;hr size=&quot;1&quot; noshade=&quot;noshade&quot; width=&quot;160&quot;/&gt;&lt;blockquote readability=&quot;3.0508474576271&quot;&gt;
&lt;p&gt;&lt;strong&gt;Displaying 10 most recent comments. &lt;a href=&quot;https://queue.acm.org/fullcomments.cfm?id=1814327&quot;&gt;Read the full list here&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;


&lt;hr noshade=&quot;noshade&quot; size=&quot;1&quot;/&gt;&lt;p&gt;&lt;a href=&quot;https://queue.acm.org/detail.cfm?id=1814327#&quot;&gt;&lt;img src=&quot;https://queue.acm.org/img/logo_acm.gif&quot;/&gt;&lt;/a&gt;&lt;br/&gt;© 2018 ACM, Inc. All Rights Reserved.&lt;/p&gt;
</description>
<pubDate>Sun, 18 Mar 2018 04:15:31 +0000</pubDate>
<dc:creator>navinsylvester</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://queue.acm.org/detail.cfm?id=1814327</dc:identifier>
</item>
<item>
<title>Stack Overflow Culture</title>
<link>https://codeblog.jonskeet.uk/2018/03/17/stack-overflow-culture/amp/</link>
<guid isPermaLink="true" >https://codeblog.jonskeet.uk/2018/03/17/stack-overflow-culture/amp/</guid>
<description>&lt;p&gt;This blog post was most directly provoked by &lt;a href=&quot;https://twitter.com/robconery/status/974678531832610816&quot;&gt;this tweet&lt;/a&gt; from my friend Rob Conery, explaining why he’s giving up contributing on Stack Overflow.&lt;/p&gt;
&lt;p&gt;However, it’s been a long time coming. A while ago I &lt;em&gt;started&lt;/em&gt; writing a similar post, but it got longer and longer without coming to any conclusion. I’m writing &lt;em&gt;this&lt;/em&gt; one with a timebox of one hour, and then I’ll post whatever I’ve got. (I may then reformat it later.)&lt;/p&gt;
&lt;p&gt;I’m aware of the mixed feelings many people have about Stack Overflow. Some consider it to be completely worthless, but I think more people view it as “a valuable resource, but a scary place to contribute due to potential hostility.” Others contribute on a regular basis, occasionally experiencing or witnessing hostility, but generally having a reasonable time.&lt;/p&gt;
&lt;p&gt;This post talks about my experiences and my thoughts on where Stack Overflow has a problem, where I disagree with some of the &lt;em&gt;perceived&lt;/em&gt; problems, and what can be done to improve the situation. This is a topic I wish I’d had time to talk about in more detail with the Stack Overflow team when I visited them in New York in February, but we were &lt;a href=&quot;https://stackoverflow.blog/2018/03/14/podcast-123-jon-skeet-wants-you-to-be-a-feminist/&quot;&gt;too busy discussing other important issues&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For a lot of this post I’ll talk about “askers” and “answerers”. This is a deliberate simplification for the sake of, well, simplicity. Many users are both askers and answerers, and a lot of the time I’ll write comments with a &lt;em&gt;view&lt;/em&gt; to being an answerer, but without necessarily ending up writing an answer. Although any given user may take on different roles even in the course of an hour, for a &lt;em&gt;single post&lt;/em&gt; each person usually has a single role. There are other roles of course “commenter on someone else’s answer” for example – I’m not trying to be exhaustive here.&lt;/p&gt;
&lt;h2&gt;Differences in goals and expectations&lt;/h2&gt;
&lt;p&gt;Like most things in life, Stack Overflow works best when everyone has the same goal. We can all take steps towards that goal together. Conversely, when people in a single situation have different goals, that’s when trouble often starts.&lt;/p&gt;
&lt;p&gt;On Stack Overflow, the most common disconnect is between these two goals:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Asker: minimize the time before I’m unblocked on the problem I’m facing&lt;/li&gt;
&lt;li&gt;Answerer: maximize the value to the site of any given post, treating the site as a long-lasting resource&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;In my case, I have often have a sub-goal of “try to help improve the diagnostic skill of software engineers so that they’re in a better position to solve their own problems.”&lt;/p&gt;
&lt;p&gt;As an example, consider this question – invented, but not far-fetched:&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;Random keeps giving me the same numbers. Is it broken?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a low-quality question, in my view. (I’ll talk more about that later.) I know what the problem is likely to be, but to work towards my goal I want the asker to improve the question – I want to see their code, the results etc. If I’m right about the problem (creating multiple instances of &lt;code&gt;System.Random&lt;/code&gt; in quick succession, which will also use the same system-time-based seed), I’d then almost certainly be able to close the question as a duplicate, and it could potentially be deleted. In its current form, it provides no benefit to the site. I don’t want to close the question as a duplicate without seeing that it really &lt;em&gt;is&lt;/em&gt; a duplicate though.&lt;/p&gt;
&lt;p&gt;Now from the &lt;em&gt;asker’s&lt;/em&gt; perspective, none of that is important. If they know that I have an idea what the problem might be, their perspective is probably that I should just tell them so they can be unblocked. Why take another 10 minutes to reproduce the problem in a good question, if I can just give them the answer now? Worse, if they &lt;em&gt;do&lt;/em&gt; take the time to do that and then I promptly close their question as a duplicate, it feels like wasted time.&lt;/p&gt;
&lt;p&gt;Now if I ignored emotions, I’d argue that the time wasn’t wasted:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;The asker learned that when they ask a clearer question, they get to their answer quicker. (Assuming they follow the link to the duplicate and apply it.)&lt;/li&gt;
&lt;li&gt;The asker learned that it’s worth searching for duplicate questions in their research phase, as that may mean they don’t need to ask the question at all.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;But ignoring emotions is a really bad idea, because we’re all human. What may well happen in that situation – even if I’ve been polite throughout – is that the asker will decide that Stack Overflow is full of “traffic cop” moderators who only care about wielding power. I could certainly argue that that’s unfair – perhaps highlighting my &lt;em&gt;actual&lt;/em&gt; goals – but that may not change anyone’s mind.&lt;/p&gt;
&lt;p&gt;So that’s one problem. How does the Stack Overflow community agree what the goal of site is, and then make that clearer to users when they ask a question? It’s worth noting that the &lt;a href=&quot;https://stackoverflow.com/tour&quot;&gt;tour&lt;/a&gt; page (which curiously doesn’t seem to be linked from the front page of the site any more) does include this text:&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;With your help, we’re working together to build a library of detailed answers to every question about programming.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I tend to put it slightly differently:&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;The goal of Stack Overflow is to create a repository of high-quality questions, and high-quality answers to those questions.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Is that actually a shared vision? If askers were aware of it, would that help? I’d like to hope so, although I doubt that it would completely stop all problems. (I don’t think anything would. The world isn’t a perfect place.)&lt;/p&gt;
&lt;p&gt;Let’s move onto another topic where I disagree with some people: low-quality questions.&lt;/p&gt;
&lt;h2&gt;Yes, there are low-quality questions&lt;/h2&gt;
&lt;p&gt;I assert that even if it can’t be measured in a totally objective manner, there are high-quality questions and low-quality questions (and lots in between).&lt;/p&gt;
&lt;p&gt;I view a high-quality question in the context of Stack Overflow as one which:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Asks a question, and is clear in what it’s asking for. It should be reasonably obvious whether any given attempted answer &lt;em&gt;does&lt;/em&gt; answer the question. (That’s separate to whether the answer is &lt;em&gt;correct&lt;/em&gt;.)&lt;/li&gt;
&lt;li&gt;Avoids irrelevancies. This can be hard, but I view it as part of due diligence: if you’re encountering a problem as part of writing a web-app, you should at least &lt;em&gt;try&lt;/em&gt; to determine whether the context of a web-app is relevant to the problem.&lt;/li&gt;
&lt;li&gt;Is potentially useful to other people. This is where avoiding irrelevant aspects is important. &lt;em&gt;Lots&lt;/em&gt; of people need to parse strings as dates; relatively few will need to parse strings as dates using framework X version Y in conjunction with a client written in COBOL, over a custom and proprietary network protocol.&lt;/li&gt;
&lt;li&gt;Explains what the asker has already tried or researched, and where they’ve become stuck.&lt;/li&gt;
&lt;li&gt;Where appropriate (which is often the case) contains a minimal example demonstrating the problem.&lt;/li&gt;
&lt;li&gt;Is formatted appropriately. No whole-page paragraphs, no code that’s not formatted as code, etc.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;There are lots of questions which meet all those requirements, or at least most of them.&lt;/p&gt;
&lt;p&gt;I think it’s reasonable to assert that such a question is of higher quality than a question which literally consists of a link to a photo of a homework assignment, and that’s it. Yes, I’ve seen questions like that. They’re not often quite that bad, but if we really can’t agree that &lt;em&gt;that&lt;/em&gt; is a low-quality question, I don’t know what we &lt;em&gt;can&lt;/em&gt; agree on.&lt;/p&gt;
&lt;p&gt;Of course, there’s a huge spectrum in between – but I think it’s important to accept that there &lt;em&gt;are&lt;/em&gt; such things as low-quality questions, or at least to debate it and find out where we disagree.&lt;/p&gt;
&lt;h2&gt;Experience helps write good questions, but isn’t absolutely required&lt;/h2&gt;
&lt;p&gt;I’ve seen a lot of Meta posts complaining that Stack Overflow is too hard on newcomers, who can’t be expected to write a good question.&lt;/p&gt;
&lt;p&gt;I would suggest that a newcomer who accepts the premise of the site and is willing to put in effort is likely to be able to come up with at least a &lt;em&gt;reasonable&lt;/em&gt; question. It may take them longer to perform the research and write the question, and the question may well not be as crisp as one written by a more experienced developer in the same situation, but I believe that on the whole, newcomers are &lt;em&gt;capable&lt;/em&gt; of writing questions of sufficient quality for Stack Overflow. They may not be aware of what they need to do &lt;em&gt;or why&lt;/em&gt;, but that’s a problem with a different solution than just “we should answer awful questions which show no effort because the asker may be new to tech”.&lt;/p&gt;
&lt;p&gt;One &lt;em&gt;slightly&lt;/em&gt; separate issue is whether people have the diagnostic skills required to write genuinely good questions. This is a &lt;a href=&quot;https://codeblog.jonskeet.uk/2017/08/17/diagnostics-everywhere/&quot;&gt;topic dear to my heart&lt;/a&gt;, and I really wish I had a good solution, but I don’t. I firmly believe that if we can help programmers become better at diagnostics, then that will be of &lt;em&gt;huge&lt;/em&gt; benefit to them well beyond asking better Stack Overflow questions.&lt;/p&gt;
&lt;h2&gt;Some regular users behave like jerks on Stack Overflow, but most don’t&lt;/h2&gt;
&lt;p&gt;I’m certainly not going to claim that the Stack Overflow community is perfect. I &lt;em&gt;have&lt;/em&gt; seen people being rude to people asking bad questions – and I’m not going to excuse that. If you catch me being rude, call me out on it. I don’t believe that requesting improvements to a question is rude in and of itself though. It can be done nicely, or it can be done meanly. I’m all for raising the level of civility on Stack Overflow, but I don’t think that has to be done at the expense of site quality.&lt;/p&gt;
&lt;p&gt;I’d also say that I’ve experienced plenty of askers who react very rudely to being asked for more information. It’s far from one way traffic. I think I’ve &lt;em&gt;probably&lt;/em&gt; seen more rudeness in this direction than from answerers, in fact – although the questions usually end up being closed and deleted, so anyone just browsing the site casually is unlikely to see that.&lt;/p&gt;
&lt;p&gt;My timebox is rapidly diminishing, so let me get to the most important point. We need to be nicer to each other.&lt;/p&gt;
&lt;h2&gt;Jon’s Stack Overflow Covenant&lt;/h2&gt;

&lt;p&gt;I’ve deliberately called this &lt;em&gt;my&lt;/em&gt; covenant, because it’s not my place to try to impose it on anyone else. If you think it’s something you could get behind (maybe with modifications), that’s great. If Stack Overflow decides to adopt it somewhere in the site guidelines, they’re very welcome to take it and change it however they see fit.&lt;/p&gt;
&lt;p&gt;Essentially, I see many questions as a sort of transaction between askers and answerers. As such, it makes sense to have a kind of contract – but that sounds more like business, so I’d prefer to think of a covenant of good faith.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;As an answerer, I will…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Not be a jerk.&lt;/li&gt;
&lt;li&gt;Remember that the person I’m responding to is a human being, with feelings.&lt;/li&gt;
&lt;li&gt;Assume that the person I’m responding to is acting in good faith and wants to be helped.&lt;/li&gt;
&lt;li&gt;Be clear that a comment on the quality of a question is not a value judgement on the person asking it.&lt;/li&gt;
&lt;li&gt;Remember that sometimes, the person I’m responding to may &lt;em&gt;feel&lt;/em&gt; they’re being judged, even if I don’t think I’m doing that.&lt;/li&gt;
&lt;li&gt;Be clear in my comments about how a question can be improved, giving concrete suggestions for positive changes rather than emphasizing the negative aspects of the current state.&lt;/li&gt;
&lt;li&gt;Be clear in my answers, remembering that not everyone has the same technical context that I do (so some terms may need links etc).&lt;/li&gt;
&lt;li&gt;Take the time to present my answer well, formatting it as readably as I can.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;As an asker, I will…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Not be a jerk.&lt;/li&gt;
&lt;li&gt;Remember that anyone who responds to me is a human being, with feelings.&lt;/li&gt;
&lt;li&gt;Assume that any person who responds to me is acting in good faith and trying to help me.&lt;/li&gt;
&lt;li&gt;Remember that I’m asking people to give up their time, for free, to help me with a problem.&lt;/li&gt;
&lt;li&gt;Respect the time of others by researching my question before asking, narrowing it down as far as I can, and then presenting as much information as I think may be relevant.&lt;/li&gt;
&lt;li&gt;Take the time to present my question well, formatting it as readably as I can.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;I hope that &lt;em&gt;most&lt;/em&gt; of the time, I’ve already been following that. Sometimes I suspect I’ve fallen down. Hopefully by writing it out explicitly, and then reading it, I’ll become a better community member.&lt;/p&gt;
&lt;p&gt;I &lt;em&gt;think&lt;/em&gt; if everyone fully took something like this on board before posting anything on Stack Overflow, we’d be in a better place.&lt;/p&gt;
</description>
<pubDate>Sun, 18 Mar 2018 03:23:48 +0000</pubDate>
<dc:creator>mayankkaizen</dc:creator>
<og:type>article</og:type>
<og:title>Stack Overflow Culture</og:title>
<og:url>https://codeblog.jonskeet.uk/2018/03/17/stack-overflow-culture/</og:url>
<og:description>This blog post was most directly provoked by this tweet from my friend Rob Conery, explaining why he’s giving up contributing on Stack Overflow. However, it’s been a long time coming. A…</og:description>
<og:image>https://s0.wp.com/i/blank.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://codeblog.jonskeet.uk/2018/03/17/stack-overflow-culture/amp/</dc:identifier>
</item>
<item>
<title>RedisGraph: A High Performance In-Memory Graph Database as a Redis Module</title>
<link>http://redisgraph.io/design/</link>
<guid isPermaLink="true" >http://redisgraph.io/design/</guid>
<description>&lt;h2 id=&quot;abstract&quot;&gt;Abstract&lt;/h2&gt;
&lt;p&gt;Graph based data is everywhere now days, Facebook, Google, Twitter and Pinterest are only a few who've realize the power behind relationship data and are utilizing it to the fullest, as a direct result we see a rise both in interest and variety of graph data solutions.&lt;/p&gt;
&lt;p&gt;With the introduction of &lt;a href=&quot;http://antirez.com/news/106&quot;&gt;Redis Modules&lt;/a&gt; we've seen the great potential of introducing a graph data structure to Redis arsenal, a native C implementation with emphasis on performance was developed to bring new graph database capabilities to Redis, the &lt;a href=&quot;http://redismodules.com/modules/redis-graph/&quot;&gt;RedisGraph&lt;/a&gt; is now available as an open source project on &lt;a href=&quot;https://github.com/swilly22/redis-module-graph&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In this document we'll discuss the internal design and feature of RedisGraph and demonstrate its current capabilities.&lt;/p&gt;
&lt;h2 id=&quot;redisgraph-at-a-glance&quot;&gt;RedisGraph At-a-Glance&lt;/h2&gt;
&lt;p&gt;RedisGraph is a graph database developed from scratch on top of Redis, using the new Redis Modules API to extend Redis with new commands and capabilities. Its main features include: - Simple, fast indexing and querying - Data stored in RAM, using memory-efficient custom data structures - On disk persistence - Tabular result sets - Simple and popular graph query language (Cypher) - Data Filtering, Aggregation and ordering&lt;/p&gt;
&lt;h2 id=&quot;a-little-taste-redisgraph-in-action&quot;&gt;A Little Taste: RedisGraph in Action&lt;/h2&gt;
&lt;p&gt;Let’s look at some of the key concepts of RedisGraph using this example over the redis-cli tool:&lt;/p&gt;
&lt;h3 id=&quot;constructing-a-graph&quot;&gt;Constructing a graph:&lt;/h3&gt;
&lt;p&gt;It is a common concept to represent entities as nodes within a graph, In this example, we'll create a small graph with both actors and movies as its entities, an &quot;act&quot; relation will connect actors to movies they casted in. We use the graph.QUERY command to issue a CREATE query which will introduce new entities and relations to our graph.&lt;/p&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;8&quot;&gt;
&lt;pre&gt;
graph.QUERY &amp;lt;graph_id&amp;gt; &lt;span class=&quot;s1&quot;&gt;'CREATE (:&amp;lt;label&amp;gt; {&amp;lt;attribute_name&amp;gt;:&amp;lt;attribute_value&amp;gt;,...})'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
graph.QUERY &amp;lt;graph_id&amp;gt; &lt;span class=&quot;s1&quot;&gt;'CREATE (&amp;lt;source_node_alias&amp;gt;)-[&amp;lt;relation&amp;gt; {&amp;lt;attribute_name&amp;gt;:&amp;lt;attribute_value&amp;gt;,...}]-&amp;gt;(&amp;lt;dest_node_alias&amp;gt;)'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Construct our graph in one go:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
graph.QUERY IMDB &lt;span class=&quot;s1&quot;&gt;'CREATE (aldis:actor {name: &quot;Aldis Hodge&quot;, birth_year: 1986}),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (oshea:actor {name: &quot;OShea Jackson&quot;, birth_year: 1991}),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (corey:actor {name: &quot;Corey Hawkins&quot;, birth_year: 1988}),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (neil:actor {name: &quot;Neil Brown&quot;, birthyear: 1980}),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (compton:movie {title: &quot;Straight Outta Compton&quot;, genre: &quot;Biography&quot;, votes: 127258, rating: 7.9, year: 2015}),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (neveregoback:movie {title: &quot;Never Go Back&quot;, genre: &quot;Action&quot;, votes: 15821, rating: 6.4, year: 2016}),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (aldis)-[act]-&amp;gt;(neveregoback),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (aldis)-[act]-&amp;gt;(compton),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (oshea)-[act]-&amp;gt;(compton),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (corey)-[act]-&amp;gt;(compton),&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;                         (neil)-[act]-&amp;gt;(compton)'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;querying-the-graph&quot;&gt;Querying the graph:&lt;/h3&gt;
&lt;p&gt;RedisGraph exposes a subset of openCypher graph language, although only a number of language capabilities are supported there's enough functionality to extract valuable insights from your graphs, to execute a query we use the GRAPH.QUERY command:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;7&quot;&gt;
&lt;pre&gt;
GRAPH.QUERY &amp;lt;graph_id&amp;gt; &amp;lt;query&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let's execute a number of queries against our movies graph:&lt;/p&gt;
&lt;p&gt;Find the sum, max, min and avg age of the Straight Outta Compton cast:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;12&quot;&gt;
&lt;pre&gt;
GRAPH.QUERY IMDB &lt;span class=&quot;s2&quot;&gt;&quot;MATCH (a:actor)-[act]-&amp;gt;(m:movie {title:\&quot;Straight Outta Compton\&quot;})&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;RETURN m.title, SUM(a.age), MAX(a.age), MIN(a.age), AVG(a.age)&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;RedisGraph will reply with:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;16&quot;&gt;
&lt;pre&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;m.title, SUM(a.age), MAX(a.age), MIN(a.age), AVG(a.age)&quot;&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Straight Outta Compton,123.000000,37.000000,26.000000,30.750000&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The first row is our result-set hearder which name each column according to the return clause. Second row contains our query result.&lt;/p&gt;
&lt;p&gt;Let's try another query, this time we'll find in how many movies each actor played.&lt;/p&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;15&quot;&gt;
&lt;pre&gt;
GRAPH.QUERY IMDB &lt;span class=&quot;s2&quot;&gt;&quot;MATCH (actor)-[act]-&amp;gt;(movie) RETURN actor.name, COUNT(movie.title) AS movies_count ORDER BY&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;movies_count DESC&quot;&lt;/span&gt;

&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;actor.name, movies_count&quot;&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Aldis Hodge,2.000000&quot;&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;O'Shea Jackson,1.000000&quot;&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Corey Hawkins,1.000000&quot;&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Neil Brown,1.000000&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;the-theory-ideas-behind-redisgraph&quot;&gt;The Theory: Ideas behind RedisGraph&lt;/h2&gt;
&lt;p&gt;Different graph databases uses different structures for representing a graph. Some use adjacency list, others might use an adjacency matrix. Each structure has its advantages and disadvantages. For RedisGraph it was crucial to find a data structure which will enable us to perform fast searches on the graph, and thus we have decided to use a concept called &lt;a href=&quot;https://en.wikipedia.org/wiki/Triplestore&quot;&gt;Hexastore&lt;/a&gt; in order to hold all the relationships within the graph.&lt;/p&gt;
&lt;h3 id=&quot;graph-representation-hexastore&quot;&gt;Graph representation: Hexastore&lt;/h3&gt;
&lt;p&gt;A Hexastore is simply a list of triplets, where each triplet is composed of three parts:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Subject&lt;/li&gt;
&lt;li&gt;Predicate&lt;/li&gt;
&lt;li&gt;Object&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Where the Subject refers to a source node, predicate represents a relationship and the object refers to a destination node. For each relationship within the graph our hexastore will contain all six permutation of the source node, relationship edge and destination node. For example consider the following relation:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;(Aldis_Hodge)-[act]-&amp;gt;(Straight_Outta_Compton)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;where: - Aldis_Hodge is the source node - act is the relationship - Straight_Outta_Compton is the destination node&lt;/p&gt;
&lt;p&gt;All six possibilities of representing this connection are as follows:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
SPO:Aldis_Hodge:act:Straight_Outta_Compton
SOP:Aldis_Hodge:Straight_Outta_Compton:act
POS:act:Straight_Outta_Compton:Aldis_Hodge
PSO:act:Aldis_Hodge:Straight_Outta_Compton
OPS:Straight_Outta_Compton:act:Aldis_Hodge
OSP:Straight_Outta_Compton:Aldis_Hodge:act
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With the Hexastore constructed we can easily search our graph, suppose I would like to find the cast of the movie Straight Outta Compton, all I've to do is search my Hexastore for all strings containing the prefix: &lt;code&gt;OPS:Straight_Outta_Compton:act:*&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Or if I'm interested in all the movies Aldis Hodge played in, I can search for all strings containing the prefix: &lt;code&gt;SPO:Aldis_Hodge:act:*&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Although a Hexastore uses plenty of memory (six triplets for each relation), we're using a trie data structure which is not only fast in terms of search but is also memory efficient as it doesn't create duplication of string prefixes it already seen.&lt;/p&gt;
&lt;h3 id=&quot;query-language-opencypher&quot;&gt;Query language: openCypher&lt;/h3&gt;
&lt;p&gt;There are a number of Graph Query languages, we didn't want to reinvent the wheel and come up with our own language, and so we've decided to implement a subset of one of the most popular graph query language out there openCypher. The Open-Cypher project provides means to create a parser for the language, although convenient we decided to create our own parser with Lex as a tokenizer and Lemon which generates a C target parser.&lt;/p&gt;
&lt;p&gt;As mentioned only a subset of the language is supported, but it is our intention to continue adding new capabilities and extend the language.&lt;/p&gt;
&lt;h2 id=&quot;runtime-query-execution&quot;&gt;Runtime: query execution&lt;/h2&gt;
&lt;p&gt;Let's review the steps our module takes when executing a query. Consider the following query which finds all actors who've played alongside Aldis Hodge and are over 30 years old:&lt;/p&gt;
&lt;div class=&quot;codehilite&quot; readability=&quot;9&quot;&gt;
&lt;pre&gt;
MATCH (aldis::actor {name:&quot;Aldis Hodge&quot;})-[act]-&amp;gt;(m:movie)&amp;lt;-[act]-(a:actor) WHERE a.age &amp;gt; 30 RETURN m.title, a.name
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;RedisGraph will - Parse query, build abstract syntax tree (AST) - Construct a query execution plan composed of: - Label scan operation - Filter operation (filter tree) - Expand operation - Expand into operation - Execute plan - Populate result-set with matching entities attributes&lt;/p&gt;
&lt;h3 id=&quot;query-parser&quot;&gt;Query parser&lt;/h3&gt;
&lt;p&gt;Given a valid query the parser will generate an AST containing six primary nodes one for each clause:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;MATCH&lt;/li&gt;
&lt;li&gt;CREATE&lt;/li&gt;
&lt;li&gt;DELETE&lt;/li&gt;
&lt;li&gt;WHERE&lt;/li&gt;
&lt;li&gt;RETURN&lt;/li&gt;
&lt;li&gt;ORDER&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Generating an abstract syntax tree is a common way of describing and structuring a language.&lt;/p&gt;
&lt;h3 id=&quot;filter-tree&quot;&gt;Filter tree&lt;/h3&gt;
&lt;p&gt;A query can filter out entities by creating predicates. In our example we're filtering actors which are younger then 30. It's possible to combine predicates using the OR, AND keywords to form granular conditions. During runtime the WHERE clause is used to construct a filter tree. Each node within the tree is either a condition e.g. A &amp;gt; B or an operation (AND/OR). When finding candidate entities they are passed through the tree and get evaluated.&lt;/p&gt;
&lt;h3 id=&quot;query-processing&quot;&gt;Query processing&lt;/h3&gt;
&lt;p&gt;The MATCH clause describes relations between queried entities (nodes), a node can have an alias which will allow us to refer to it at later stages within the executing query lifetime (WHERE, RETURN clause), but all nodes must eventually be assign an ID. The process of assigning IDs to nodes is refered to as the search phase.&lt;/p&gt;
&lt;p&gt;During the search we'll be querying the Hexastore for IDs according to the MATCH clause structure. For instance, in our example we'll start our search by looking for movies in which Aldis Hodge played in. For each movie we'll extend our search to find out which other actors played in the current processed movie.&lt;/p&gt;
&lt;p&gt;As you might imagine the search process is a recursive operation which traverse the graph. At each step a new ID is discovered. Once every node has an ID assigned to it we can be assured that current entities have passed our filters. At this point we can extract requested attributes (as specified in the return clause) and append a new record to the final result set.&lt;/p&gt;
&lt;h2 id=&quot;benchmarks&quot;&gt;Benchmarks&lt;/h2&gt;
&lt;p&gt;Depending on the underlying hardware results may vary. That said, inserting a new relationship is done in O(1). RedisGraph is able to create 100K new relations within one second.&lt;/p&gt;
&lt;p&gt;Retrieving data really depends on the size of the graph and the type of query you're executing. On a small size graph ~1000 entities and ~2500 edges, RedisGraph is able to perform ~65K friend of a friend query every second.&lt;/p&gt;
&lt;p&gt;It's worth mentioning that besides the hexastore, entities are not indexed. It’s our intention to introduce entities indexing which should decrease query execution time dramatically.&lt;/p&gt;
&lt;h2 id=&quot;license&quot;&gt;License&lt;/h2&gt;
&lt;p&gt;Redis-Graph is published under AGPL-3.0.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Although RedisGraph is still a young project, it can be an alternative to other graph databases. With its subset of operations one can use it to analyze and explore its graph data. Being a Redis module this project is accessible from every Redis client without the need to make any adjustments. It's our intention to keep on improving and extending RedisGraph with the help of the open source community.&lt;/p&gt;
</description>
<pubDate>Sat, 17 Mar 2018 22:41:32 +0000</pubDate>
<dc:creator>wll</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>http://redisgraph.io/design/</dc:identifier>
</item>
<item>
<title>Breaking a Wine Glass in Python by Detecting the Resonant Frequency</title>
<link>https://www.makeartwithpython.com/blog/break-glass-with-resonant-frequency/</link>
<guid isPermaLink="true" >https://www.makeartwithpython.com/blog/break-glass-with-resonant-frequency/</guid>
<description>&lt;p&gt;For &lt;a href=&quot;https://www.instagram.com/zothcorp/&quot;&gt;50 days straight&lt;/a&gt; between January and March of this year, I wrote a creative programming sketch in Python every day.&lt;/p&gt;
&lt;p&gt;On day six, I tried to write a program to detect the resonant frequency of a glass, and break it. As you can see below, my desktop computer speaker wasn’t quite loud enough to break the glass alone.&lt;/p&gt;
&lt;blockquote class=&quot;instagram-media&quot; data-instgrm-captioned=&quot;&quot; data-instgrm-permalink=&quot;https://www.instagram.com/p/BeBckw8jT90/&quot; data-instgrm-version=&quot;8&quot; readability=&quot;-4.6329113924051&quot;&gt;

&lt;/blockquote&gt;
&lt;p&gt;In today’s post, I walk through the journey of writing a Python program to break wine glasses on demand, by detecting their resonant frequency.&lt;/p&gt;
&lt;p&gt;Along the way we’ll 3D print a cone, learn about resonant frequencies, and see why I needed an amplifier and compression driver. So, let’s get started.&lt;/p&gt;
&lt;h2 id=&quot;first-the-inspiration&quot;&gt;First, the Inspiration&lt;/h2&gt;
&lt;p&gt;&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/X6iJ0hPpGec&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; encrypted-media&quot; allowfullscreen=&quot;&quot;&gt;[embedded content]&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;I first saw the video above, which goes into a lot of detail about how to actually break a wine glass with your voice. A few main points are covered, and Mike Boyd, the creator, quickly touches upon them. He recommends:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Having a real crystal glass&lt;/li&gt;
&lt;li&gt;Preferring a thinner, longer crystal glass&lt;/li&gt;
&lt;li&gt;Striking the glass to get it to resonate&lt;/li&gt;
&lt;li&gt;Using a spectrum analyzer to find the resonant frequency of the glass&lt;/li&gt;
&lt;li&gt;Using a straw to visualize when the glass is resonating&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;With that in order, it wasn’t until I tried breaking my third glass that I realized the last thing that ensures you really break a glass on command:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Having micro abrasions in the glass. It can’t be perfectly new and clean.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Without the micro abrasions (either caused by cleaning the glass with soap and water or a very light sanding), the glass wouldn’t break at all.&lt;/p&gt;
&lt;h2 id=&quot;an-aside-about-how-resonance-works&quot;&gt;An Aside About How Resonance Works&lt;/h2&gt;
&lt;p&gt;When Mike Boyd breaks the glass in the above video, he’s using the acoustic resonance of the wine glass.&lt;/p&gt;
&lt;p&gt;Crystal wine glasses have a natural frequency of vibration that you can hear when you strike them.&lt;/p&gt;
&lt;p&gt;Any sounds at this frequency have the potential to make the wine glass absorb more energy than at any other frequency. Our hope is that our program and speakers will generate enough energy in the glass to break it.&lt;/p&gt;
&lt;h2 id=&quot;writing-a-prototype-sketch&quot;&gt;Writing a Prototype Sketch&lt;/h2&gt;
&lt;p&gt;After seeing the video and being inspired to try recreating it, I needed to first get a prototype in place.&lt;/p&gt;
&lt;p&gt;Would I be able to get a straw to resonate like in that example video?&lt;/p&gt;
&lt;p&gt;Luckily, my &lt;a href=&quot;https://www.makeartwithpython.com/blog/voice-controlled-flappy-bird/&quot;&gt;Voice Controlled Flappy Bird&lt;/a&gt; post already does the difficult part of detecting the current pitch frequency from a microphone.&lt;/p&gt;
&lt;p&gt;So, hypothetically, striking the wine glass should produce the proper tone to break the glass itself.&lt;/p&gt;
&lt;p&gt;Using the pitch detection code, the only thing that would be left is to play out the pitch frequency detected by a microphone. The code is straightforward enough using Pygame, Music21, and PyAudio:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot; readability=&quot;39&quot;&gt;
&lt;div class=&quot;highlight&quot; readability=&quot;73&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;threading&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pygame&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pyaudio&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;time&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;rtmidi.midiutil&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open_midiinput&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;voiceController&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_current_note&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MidiInputHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_freq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_wallclock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq_vals&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__call__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;currentFrequency&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltatime&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_wallclock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltatime&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;[&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s] @&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%0.6&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;r&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_wallclock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq_vals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq_vals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mo&quot;&gt;01&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq_vals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mo&quot;&gt;005&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq_vals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mo&quot;&gt;0001&lt;/span&gt; 
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq_vals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mo&quot;&gt;00001&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;new_freq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_freq&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;new_freq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq_vals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;currentFrequency&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_freq&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new_freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;midiin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open_midiinput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;except&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;EOFError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;KeyboardInterrupt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;midiSettings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MidiInputHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;940.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;midiin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_callback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;midiSettings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;screenWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screenHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;512&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;512&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_mode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;screenWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screenHeight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;clock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Clock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;running&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;titleFont&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;font&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Font&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;assets/Bungee-Regular.ttf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;titleText&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;titleFont&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hit the Glass Gently&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;titleCurr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;titleFont&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;noteFont&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;font&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Font&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;assets/Roboto-Medium.ttf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_current_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;daemon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;low_note&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;high_note&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;have_low&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;have_high&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;noteHoldLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# how many samples in a row user needs to hold a note&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;noteHeldCurrently&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# keep track of how long current note is held&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;noteHeld&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# string of the current note&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;centTolerance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# how much deviance from proper note to tolerate&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;break_the_internet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frequency&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;notelength&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pyaudio&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PyAudio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.9&lt;/span&gt;     &lt;span class=&quot;c&quot;&gt;# range [0.0, 1.0]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;44100&lt;/span&gt;       &lt;span class=&quot;c&quot;&gt;# sampling rate, Hz, must be integer&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;duration&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;notelength&lt;/span&gt;   &lt;span class=&quot;c&quot;&gt;# in seconds, may be float&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frequency&lt;/span&gt;        &lt;span class=&quot;c&quot;&gt;# sine frequency, Hz, may be float&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# generate samples, note conversion to float32 array&lt;/span&gt;
    
    &lt;span class=&quot;c&quot;&gt;# for paFloat32 sample values must be in range [-1.0, 1.0]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;stream&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pyaudio&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paFloat32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;channels&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;rate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# play. May repeat with different volume values (if done interactively)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;astype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;float32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    

&lt;span class=&quot;n&quot;&gt;newFrequency&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;breaking&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;currentFrequency&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;breaking_zone&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;super_breaking_zone&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;noteLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;5.0&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;running&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QUIT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;running&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KEYDOWN&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;K_q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;running&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KEYDOWN&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;K_SPACE&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newFrequency&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;breaking&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;midiSettings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_freq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newFrequency&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;currentFrequency&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newFrequency&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KEYDOWN&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;K_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;noteLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;30.0&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;breaking_zone&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KEYDOWN&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;K_a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;super_breaking_zone&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;noteLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;5.0&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;breaking&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;titleCurr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;titleFont&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Current Frequency: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;currentFrequency&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                     &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    
    &lt;span class=&quot;c&quot;&gt;# our user should be singing if there's a note on the queue&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;circle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
                               &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;screenWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Cents'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                               &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;n&quot;&gt;noteText&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;noteFont&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Note'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Note'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;noteHeldCurrently&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;noteHeld&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;noteHeld&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;noteHoldLength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;titleCurr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;titleFont&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Frequency is: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Pitch'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frequency&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                                 &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;newFrequency&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Pitch'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frequency&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;noteHeldCurrently&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Note'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;noteHeld&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;noteText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;titleText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;titleCurr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pygame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;clock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;breaking&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;break_the_internet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;currentFrequency&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;noteLength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Now, there are a few things to note here.&lt;/p&gt;
&lt;p&gt;One, I use &lt;code class=&quot;highlighter-rouge&quot;&gt;rtmidi&lt;/code&gt; utility to be able to dial in the resonant frequency using a Midi controller. This lets me adjust the knobs in order to find a place where the straw vibrates the most inside of my wine glass.&lt;/p&gt;
&lt;p&gt;Secondly, we use &lt;code class=&quot;highlighter-rouge&quot;&gt;pyaudio&lt;/code&gt; to generate our sine wave of the resonant frequency. We could have used another library with more immediate feedback, but this was easiest to get in place.&lt;/p&gt;
&lt;p&gt;Now, the way the program works is that you strike the glass, and hopefully the &lt;code class=&quot;highlighter-rouge&quot;&gt;voiceController&lt;/code&gt; library detects a resonant frequency. The resonant frequency of wine glasses should be between 600 - 900 Hz. Once you’ve got that, you press the SPACEBAR, and that starts playing that resonant frequency out the speakers.&lt;/p&gt;
&lt;p&gt;With this, I was able to generate the results you see from my daily sketch on my desktop computer speakers.&lt;/p&gt;
&lt;p&gt;However, I wasn’t able to break the glass. I had a hunch it was because I wasn’t able to generate the volume necessary.&lt;/p&gt;
&lt;h2 id=&quot;bringing-in-the-big-guns&quot;&gt;Bringing in the Big Guns&lt;/h2&gt;
&lt;p&gt;Since I couldn’t get my glass to break with my desktop speakers, I started looking around the web to see how other people have broken glass with speakers.&lt;/p&gt;
&lt;p&gt;The best resource I found was from the &lt;a href=&quot;http://www.acoustics.salford.ac.uk/acoustics_info/glass/?content=glass3&quot;&gt;University of Salford&lt;/a&gt;. They recommend using a 2” “compression driver in order to get results. So, I went off to Amazon, and picked up a &lt;a href=&quot;http://amzn.to/2pjyzVj&quot;&gt;2” compression driver&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;With this, the only thing remaining was to get an audio amplifier capable of driving the speaker to an (un)reasonable volume. I used &lt;a href=&quot;http://amzn.to/2plJCNb&quot;&gt;this&lt;/a&gt;, and I plan on using both the amplifier and driver in more audio projects in the future.&lt;/p&gt;
&lt;p&gt;Finally, I needed to build a stand for the speaker, along with a cone to focus the energy of the wave. For this, I used Blender, along with my Prusa i3 MK2. I printed it in PLA, and it seemed to have done the job well enough.&lt;/p&gt;
&lt;img src=&quot;https://www.makeartwithpython.com/blog/assets/images/break-glass/speaker.png&quot;/&gt;&lt;p&gt;With the speaker cone 3D printed, I was finally ready to build my setup.&lt;/p&gt;
&lt;p&gt;It looks something like this:&lt;/p&gt;
&lt;img src=&quot;https://www.makeartwithpython.com/blog/assets/images/break-glass/diagram.png&quot;/&gt;&lt;p&gt;It consists of a Snowball USB microphone, plugged into a laptop. The laptop runs the sketch from above, first waiting to detect a resonant frequency.&lt;/p&gt;
&lt;p&gt;You strike the glass, and if the detected resonant frequency is in the zone you’d expect (again, 600Hz to around 900Hz), you press SPACEBAR to begin playing back that resonant frequency.&lt;/p&gt;
&lt;p&gt;The audio output is hooked up to an amplifier, and that amplifier is hooked up to the driver with the 3D printed code. That cone is pointed directly at the top of the wine glass, as you saw in the gif in the introduction.&lt;/p&gt;
&lt;p&gt;With that, the glass breaks!&lt;/p&gt;
&lt;img src=&quot;https://www.makeartwithpython.com/blog/assets/images/break-glass/header.jpg&quot;/&gt;&lt;h2 id=&quot;where-to-go-from-here&quot;&gt;Where to Go From Here&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/burningion/break-glass-with-resonant-frequency&quot;&gt;code&lt;/a&gt;, along with the 3D printable &lt;a href=&quot;https://github.com/burningion/break-glass-with-resonant-frequency/blob/master/stl/speakerboxxx.stl&quot;&gt;cone STL&lt;/a&gt; is at Github.&lt;/p&gt;
&lt;p&gt;The program that finally breaks the glass used in the video is slightly different from what I’ve written above. It doesn’t adjust with the MIDI controller, because I found it wasn’t necessary in my case to adjust the detected frequency. The glass broken anyways.&lt;/p&gt;
&lt;p&gt;If you plan on trying to recreate my experiment, &lt;em&gt;please wear safety glasses and ear protection&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Ear damage is accumulative, and not wearing proper ear protection means damaging your ears permanently. So please don’t do that.&lt;/p&gt;
&lt;p&gt;And the glass breaks all over the place, so please wear eye protection too. This project is fun, but not worth getting seriously injured over.&lt;/p&gt;
&lt;p&gt;If you’re still learning Python and Pygame, or you want a visual introduction to programming, check out my book, &lt;a href=&quot;https://www.makeartwithpython.com/book/&quot;&gt;Make Art with Python&lt;/a&gt;. The first three chapters are free.&lt;/p&gt;
&lt;p&gt;Finally, feel free to share this post with your friends. It helps me to continue making these sort of tutorials.&lt;/p&gt;

</description>
<pubDate>Sat, 17 Mar 2018 21:08:31 +0000</pubDate>
<dc:creator>burningion</dc:creator>
<og:title>Breaking a Wine Glass in Python By Detecting the Resonant Frequency</og:title>
<og:description>Detecting the Resonant Frequency of an Object with</og:description>
<og:image>/blog/assets/images/break-glass/header.jpg</og:image>
<og:type>article</og:type>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.makeartwithpython.com/blog/break-glass-with-resonant-frequency/</dc:identifier>
</item>
</channel>
</rss>