<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Disabling the Intel Management Engine</title>
<link>https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine</link>
<guid isPermaLink="true" >https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine</guid>
<description>&lt;p&gt;&lt;br/&gt;The &lt;a href=&quot;http://en.wikipedia.org/wiki/Intel_Active_Management_Technology&quot; class=&quot;extiw&quot; title=&quot;wikipedia:Intel Active Management Technology&quot;&gt;Intel Management Engine&lt;/a&gt; ('IME' or 'ME') is an &lt;strong&gt;out-of-band co-processor&lt;/strong&gt; integrated in all post-2006 Intel-CPU-based PCs. It has &lt;strong&gt;full network and memory access and runs proprietary, signed, closed-source software at ring -2&lt;/strong&gt;,&lt;sup id=&quot;cite_ref-1&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;sup id=&quot;cite_ref-2&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-2&quot;&gt;[2]&lt;/a&gt;&lt;/sup&gt;&lt;sup id=&quot;cite_ref-3&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-3&quot;&gt;[3]&lt;/a&gt;&lt;/sup&gt; independently of the BIOS, main CPU and platform operating system&lt;sup id=&quot;cite_ref-libreboot_me_4-0&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-libreboot_me-4&quot;&gt;[4]&lt;/a&gt;&lt;/sup&gt;&lt;sup id=&quot;cite_ref-5&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-5&quot;&gt;[5]&lt;/a&gt;&lt;/sup&gt; — a fact which many regard as an unacceptable security risk (particularly given that at least one remotely exploitable security hole has already been reported&lt;sup id=&quot;cite_ref-6&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-6&quot;&gt;[6]&lt;/a&gt;&lt;/sup&gt;&lt;sup id=&quot;cite_ref-7&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-7&quot;&gt;[7]&lt;/a&gt;&lt;/sup&gt;).&lt;/p&gt;
&lt;p&gt;&lt;span id=&quot;me_cleaner_ops&quot;&gt;In this mini-guide,&lt;/span&gt; I'll run through the process of &lt;strong&gt;disabling&lt;/strong&gt; the IME on your target PC. To do so, we will use Nicola Corna's &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner&quot;&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt;&lt;/a&gt;. This software operates on the firmware stored in your PC's BIOS chip (where the bulk of the ME's code resides), and does two things:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;sets the 'High Assurance Program' bit, an ME 'kill switch' that the US government reportedly&lt;sup id=&quot;cite_ref-8&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-8&quot;&gt;[8]&lt;/a&gt;&lt;/sup&gt; had incorporated for PCs used in sensitive applications&lt;sup id=&quot;cite_ref-9&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-9&quot;&gt;[9]&lt;/a&gt;&lt;/sup&gt;;&lt;/li&gt;
&lt;li&gt;removes the vast majority of the ME's software modules (including network stack, RTOS and Java VM), leaving only the essential 'bring up' components (the latter being necessary because, on modern systems, if the IME fails to initialize, a 30 minute watchdog timer resets the whole PC&lt;sup id=&quot;cite_ref-10&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-10&quot;&gt;[10]&lt;/a&gt;&lt;/sup&gt;).&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;This combined 'belt-and-braces' approach means that the ME &lt;em&gt;ought&lt;/em&gt; to cleanly enter a null state (after resetting the 30-minute watchdog timer) but, should that fail, it will nevertheless enter a failed state shortly thereafter (as its real-time kernel, network stack etc. have been purged).&lt;/p&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;24.85401459854&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;You may wonder how this can work at all, given that the ME's code is signed. The reason (fortunately for us) is that the ME's software is deployed as &lt;em&gt;individually signed modules&lt;/em&gt; that are signature checked only when loaded — and they are lazy loaded.&lt;sup id=&quot;cite_ref-11&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-11&quot;&gt;[11]&lt;/a&gt;&lt;/sup&gt; The very first module, &lt;span class=&quot;tripleclick-separator&quot;&gt;BUP&lt;/span&gt; (or 'Bring UP'), contains the watchdog timer reset, and is left alone by &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt;. Once &lt;span class=&quot;tripleclick-separator&quot;&gt;BUP&lt;/span&gt; has completed, the ME will either enter a 'parked' state (if the HAP bit is respected), or try to load the RTOS kernel (if not). In the former case, the ME is cleanly disabled. In the latter case, the signature check fails and the ME effectively crashes. Either way, it is out of action from that point.&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;The process involved will require re-flashing your system's BIOS-chip firmware image, and will almost certainly void your system warranty. It may result in your machine becoming 'bricked'. On some (though not many) PCs, the ME is used to initialize or manage certain system peripherals and/or provide silicon workarounds — if that is the case on your target machine, you may lose functionality by disabling it.&lt;br/&gt;Remember: disabling the IME is a completely optional step: proceed entirely at your own risk.&lt;/p&gt;
&lt;p&gt;The process we will be following is as follows:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;ensuring you have the necessary components available;&lt;/li&gt;
&lt;li&gt;locating (and identifying) the flash chip on your target PC;&lt;/li&gt;
&lt;li&gt;setting up a Raspberry Pi 3 Model B ('RPi3') as an in-system flash programmer;&lt;/li&gt;
&lt;li&gt;reading the original firmware from the BIOS flash chip (and validating this), using the RPi3;&lt;/li&gt;
&lt;li&gt;creating a modified copy of this firmware using &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt;;&lt;/li&gt;
&lt;li&gt;writing the modified copy of the firmware back to your PC's BIOS flash chip, again using the RPi3;&lt;/li&gt;
&lt;li&gt;restarting your PC, and verifying that the IME has been disabled.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Although some systems &lt;em&gt;do&lt;/em&gt; allow the full contents of the BIOS flash chip to be reprogrammed using software tools only (so called &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/wiki/Internal-flashing-with-OEM-firmware&quot;&gt;'internal flashing'&lt;/a&gt;), on most PCs this facility is either completely unavailable, &lt;em&gt;or&lt;/em&gt; can only write to the unprotected areas of the flash filesystem (&lt;em&gt;excluding&lt;/em&gt; the ME area), &lt;em&gt;or&lt;/em&gt; will only write vendor-signed images. Accordingly, we will describe the approach of using 'external' flashing in this guide, as that is the most reliable.&lt;/p&gt;
&lt;div class=&quot;alert alert-danger gw-box&quot; readability=&quot;16.895705521472&quot;&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;Although the most reliable method, external flashing &lt;em&gt;does&lt;/em&gt; require you to open the case of your PC, an action that by itself is likely to void the warranty on non-desktop systems. Always observe &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://www.computerhope.com/esd.htm&quot;&gt;proper ESD protective measures&lt;/a&gt; when working with exposed system boards, and ensure that you have all external power sources and batteries removed. Backup any important files before proceeding. Read all instructions carefully and proceed only if you are comfortable, and at your own risk.&lt;/div&gt;
&lt;p&gt;If you are ready, let's go!&lt;/p&gt;

&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Prerequisites&quot;&gt;&lt;span id=&quot;prerequisites&quot;&gt;Prerequisites&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;To proceed, you will require the following:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;an Intel-CPU-based target PC — that does &lt;em&gt;not&lt;/em&gt; have &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/wiki/Intel-Boot-Guard&quot;&gt;Boot Guard&lt;/a&gt; enabled — on which you wish to disable the IME;&lt;/li&gt;
&lt;li&gt;a &lt;a href=&quot;https://wiki.gentoo.org/wiki/Raspberry_Pi&quot; title=&quot;Raspberry Pi&quot;&gt;Raspberry Pi 3 Model B&lt;/a&gt; single board computer ('RPi3'), for use as an external flash programmer;&lt;/li&gt;
&lt;li&gt;a spare &amp;gt;= 8GB microSD card (to hold the 64-bit Gentoo O/S image we will use for the RPi3);&lt;/li&gt;
&lt;li&gt;an appropriate IC clip for your target PC's flash chip, e.g.:
&lt;ul&gt;&lt;li&gt;a Pomona 5250 for SOIC-8 chips;&lt;/li&gt;
&lt;li&gt;a Pomona 5208 for unsocketed DIP-8 chips, or&lt;/li&gt;
&lt;li&gt;a Pomona 5252 for SOIC-16 chips;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;8 female-female connector wires (to attach the appropriate clip to the RPi3's GPIO header);&lt;/li&gt;
&lt;li&gt;a maintenance manual for your target PC, where available, to assist in safe disassembly / reassembly; and
&lt;ul&gt;&lt;li&gt;whatever tools are stipulated by the above.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;13.741935483871&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;AMD-CPU-based systems do not have the IME of course, but &lt;em&gt;do&lt;/em&gt; have a broadly equivalent subsystem, the platform security processor (or 'PSP'),&lt;sup id=&quot;cite_ref-libreboot_psp_12-0&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_note-libreboot_psp-12&quot;&gt;[12]&lt;/a&gt;&lt;/sup&gt; for which there is no equivalent workaround at the time of writing.&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;Intel systems that have Boot Guard enabled &lt;em&gt;cannot&lt;/em&gt; be 'cleansed' — this technology stores a public verification key for the vendor's (signed) firmware images in one-time-programmable fuses in the CPU, making any user modification of such BIOS images impossible. It was introduced in the 4th generation (Haswell) architecture. By definition, Boot Guard &lt;em&gt;cannot&lt;/em&gt; be active on systems where the motherboard and CPU are purchased separately, and at the time of writing only a minority of laptop systems have it active.&lt;/p&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;14.820359281437&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;Note that there are many other &lt;a href=&quot;http://en.wikipedia.org/wiki/Single-board_computer&quot; class=&quot;extiw&quot; title=&quot;wikipedia:Single-board computer&quot;&gt;SBCs&lt;/a&gt; that may be used for in-system flash reprogramming, for example the BeagleBone. You can also use the RPi3 in 32-bit mode, and it is also possible to use earlier versions of the RPi. However, for the sake of concreteness, I will assume you are using the specified (RPi3) system in what follows.&lt;/div&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;10.492307692308&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;Other brands of IC clip are available, but Pomona is arguably the best known, and their model numbers often quoted by 'compatibles'. If you are unsure which type you need, see the &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#locate_chip&quot;&gt;next step&lt;/a&gt;.&lt;/div&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;13.026490066225&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;Desktop users whose motherboard contains a &lt;em&gt;socketed&lt;/em&gt; DIP-8 chip, may use a &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://wiki.analog.com/university/courses/electronics/electronics-lab-breadboards&quot;&gt;solderless breadboard&lt;/a&gt; to hold the flash chip while programming. In such a case, use female-male connecting wires, or use break-away male headers on the breadboard, and connect the female-female wires from the RPi3 to those.&lt;/div&gt;
&lt;p&gt;In the text, I will run through the process of reflashing the BIOS-chip firmware on a specific machine, namely the long-suffering &lt;strong&gt;Panasonic CF-AX3 Ultrabook&lt;/strong&gt; used in the main body of this guide. This has a SOIC-8 BIOS flash chip, so we will be using a Pomona 5250 clip. Of course, you should adapt the following instructions to match your specific setup, flash chip type etc.&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Locating_.28and_Identifying.29_the_Target_PC.27s_BIOS_Flash_Chip&quot;&gt;&lt;span id=&quot;locate_chip&quot;&gt;Locating&lt;/span&gt; (and Identifying) the Target PC's BIOS Flash Chip&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;To begin — always observing &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://www.computerhope.com/esd.htm&quot;&gt;good ESD practices&lt;/a&gt;, and following the instructions given in your target system's maintenance manual — &lt;em&gt;disconnect&lt;/em&gt; any external power sources and removable batteries, and then expose your target PC's motherboard.&lt;/p&gt;
&lt;p&gt;For desktop machines, gaining access to the motherboard is generally easy, but for laptops the disassembly process is often quite fiddly. However, the Panasonic CF-AX3 is refreshingly straightforward in this regard — after removing the main battery and removing 19 small screws on the bottom-side, the rear panel of the laptop lifts off easily. With this done, a second (internal) li-ion battery must be disconnected, after which the mainboard is ready for inspection. Obviously, the approach required for your system will be different.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;&lt;br/&gt;In addition to your manufacturer's maintenance manual, you can also often find useful disassembly videos by searching on YouTube.&lt;/p&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;13.76582278481&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;It is &lt;em&gt;not&lt;/em&gt; generally necessary to remove the small CMOS button battery found on most boards, in order to reprogram the BIOS flash, but your system may differ. Be aware that if you &lt;em&gt;do&lt;/em&gt; remove this battery, things like the BIOS password will probably be erased, if you set one earlier (&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Configuring_Secure_Boot#set_bios_pw&quot; title=&quot;Sakaki's EFI Install Guide/Configuring Secure Boot&quot;&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;systemd&lt;/span&gt; track&lt;/a&gt;, &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Configuring_Secure_Boot_under_OpenRC#set_bios_pw&quot; title=&quot;Sakaki's EFI Install Guide/Configuring Secure Boot under OpenRC&quot;&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;OpenRC&lt;/span&gt; track)&lt;/a&gt;.&lt;/div&gt;
&lt;p&gt;Once you have your target PC's motherboard exposed, locate its BIOS flash chip. On many machines, the BIOS chip will be marked with a sticker or paint dot. Laptops will generally have 8-pin or 16-pin &lt;a href=&quot;http://en.wikipedia.org/wiki/Small_Outline_Integrated_Circuit&quot; class=&quot;extiw&quot; title=&quot;wikipedia:Small Outline Integrated Circuit&quot;&gt;SOIC&lt;/a&gt; packages;on desktop machines, 8-pin socketed (and unsocketed) &lt;a href=&quot;http://en.wikipedia.org/wiki/Dual_in-line_package&quot; class=&quot;extiw&quot; title=&quot;wikipedia:Dual in-line package&quot;&gt;DIP&lt;/a&gt; packages are also common.&lt;/p&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;11.466666666667&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;If your BIOS flash chip is in a &lt;a href=&quot;http://en.wikipedia.org/wiki/Plastic_leaded_chip_carrier&quot; class=&quot;extiw&quot; title=&quot;wikipedia:Plastic leaded chip carrier&quot;&gt;PLCC&lt;/a&gt; or &lt;a href=&quot;http://en.wikipedia.org/wiki/List_of_integrated_circuit_packaging_types#Small_outline_packages&quot; class=&quot;extiw&quot; title=&quot;wikipedia:List of integrated circuit packaging types&quot;&gt;WSON&lt;/a&gt; package, you will need specialized equipment to connect to the chip, the process for which is not currently covered in this guide.&lt;/div&gt;
&lt;p&gt;The CF-AX3 has a SOIC-8 flash IC, as shown:&lt;/p&gt;
&lt;div class=&quot;thumb tnone&quot;&gt;
&lt;div class=&quot;thumbinner&quot; readability=&quot;6&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/File:Flash_chip_location2.jpg&quot; class=&quot;image&quot;&gt;&lt;img alt=&quot;&quot; src=&quot;https://wiki.gentoo.org/images/thumb/f/f5/Flash_chip_location2.jpg/600px-Flash_chip_location2.jpg&quot; width=&quot;600&quot; height=&quot;484&quot; class=&quot;thumbimage&quot; srcset=&quot;/images/f/f5/Flash_chip_location2.jpg 1.5x, /images/f/f5/Flash_chip_location2.jpg 2x&quot;/&gt;&lt;/a&gt;
&lt;div class=&quot;thumbcaption&quot; readability=&quot;7&quot;&gt;

Location of the SOIC-8 Flash Chip on a Panasonic CF-AX3 Laptop; Pin 1 on Bottom Left&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Once you have located the BIOS flash chip, with the help of a magnifying glass (good apps for this are available for IOS and Android phones) or digital camera, read off the maker's name and model number from the device. Then, use a search engine to locate the device's datasheet.&lt;/p&gt;
&lt;p&gt;For example, as the above photo shows, the CF-AX3 has a Winbond W25Q64FV IC; its datasheet may be found &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;http://www.winbond.com/resource-files/w25q64fv%20revs%2007182017.pdf&quot;&gt;here&lt;/a&gt;. This part uses a very commonly seen pinout, &lt;span id=&quot;flash_8_pinout&quot;&gt;as follows (note how the pins are numbered counter-clockwise):&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;thumb tnone&quot;&gt;
&lt;div class=&quot;thumbinner&quot; readability=&quot;6&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/File:Flash_8_pinout.png&quot; class=&quot;image&quot;&gt;&lt;img alt=&quot;&quot; src=&quot;https://wiki.gentoo.org/images/c/c7/Flash_8_pinout.png&quot; width=&quot;386&quot; height=&quot;232&quot; class=&quot;thumbimage&quot;/&gt;&lt;/a&gt;
&lt;div class=&quot;thumbcaption&quot; readability=&quot;7&quot;&gt;

Pinout of a Typical SOIC-8 / DIP-8 BIOS Flash Chip&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;You must &lt;strong&gt;always&lt;/strong&gt; check the pinout and voltage requirements of your particular device, and adapt the connections on the IC clip accordingly. While a large number of 8-pin devices use the layout shown above, not all do.&lt;/p&gt;
&lt;p&gt;Note that on DIP packages, the top of the chip will generally be marked by a semicircular indent; on SOIC packages, a small circle or indent will mark pin 1 (NB, do not confuse this with any paint blobs the manufacturer may have used to highlight the flash chip, as for example with the blue paint blob used on the CF-AX3.)&lt;/p&gt;
&lt;p&gt;Write down the pinout for your device, if it differs from that shown in the above diagram.&lt;/p&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;19.513966480447&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;While, following common usage, this guide talks about the 'BIOS chip' and 'reflashing the BIOS firmware' etc., it is important to understand that the BIOS code proper is only &lt;em&gt;one&lt;/em&gt; component of the firmware stored on the flash chip. It would be more accurate to talk about it as the 'system firmware flash memory' or similar, containing multiple regions (for the BIOS, IME, Gigabit Ethernet etc.) each of which can contain multiple modules. For more details, please see e.g., John Butterworth's &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;http://opensecuritytraining.info/IntroBIOS.html&quot;&gt;&quot;Introduction to BIOS &amp;amp; SMM&quot; slidesets&lt;/a&gt;.&lt;/div&gt;
&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Setting_up_the_RPi3_as_an_External_Flash_Programmer&quot;&gt;&lt;span&gt;Setting up the RPi3 as an External Flash Programmer&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Next, we will set up a Raspberry Pi 3 Model B ('RPi3') single board computer as an external flash programmer, running 64-bit Gentoo Linux as its operating system. For convenience we will use a pre-built image.&lt;/p&gt;
&lt;h3&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Software_Configuration&quot;&gt;&lt;span&gt;Software Configuration&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;Download, write and boot the Gentoo image provided &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/sakaki-/gentoo-on-rpi3-64bit&quot;&gt;here&lt;/a&gt; on your RPi3 (following the instructions given on that page).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;&lt;br/&gt;It is a good idea to write the Gentoo image to a different (spare) microSD card from your main Raspbian system; that way, you can easily revert to using Raspbian when done.&lt;/p&gt;
&lt;p&gt;The image starts up directly into an Xfce4 desktop, pre-logged in as the &lt;span class=&quot;tripleclick-separator&quot;&gt;demouser&lt;/span&gt; account. When the boot has completed, open a terminal window on (or &lt;span class=&quot;tripleclick-separator&quot;&gt;ssh&lt;/span&gt; in to) the RPi3 and become root:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;demouser@pi64 &lt;span&gt;~ $&lt;/span&gt;&lt;/code&gt;&lt;code&gt;sudo su --login root&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;If you have not modified the default image settings, no password will be required for this step.&lt;/p&gt;
&lt;p&gt;Then, modify the &lt;span&gt;/boot/config.txt&lt;/span&gt; file so that the &lt;a href=&quot;http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus&quot; class=&quot;extiw&quot; title=&quot;wikipedia:Serial Peripheral Interface Bus&quot;&gt;SPI interface&lt;/a&gt; (used to communicate with the flash chip) is available via the RPi3's GPIO pins. As root, issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;nano -w /boot/config.txt&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;and modify that file, &lt;em&gt;uncommenting&lt;/em&gt; the following line (if not already done):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;label&quot;&gt;FILE&lt;/span&gt; &lt;strong&gt;&lt;code&gt;/boot/config.txt&lt;/code&gt;&lt;/strong&gt;&lt;strong&gt;Enable the SPI interface on your RPi3&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;captioned&quot;&gt;
&lt;/pre&gt;
&lt;div class=&quot;mw-highlight mw-content-ltr&quot; dir=&quot;ltr&quot;&gt;
&lt;pre&gt;
dtparam=spi=on
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Leave the rest of the file as-is. Save, and exit &lt;span class=&quot;tripleclick-separator&quot;&gt;nano&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;&lt;br/&gt;If you are using the official 7&quot; touchscreen with your RPi3, you can also add &lt;code&gt;lcd_rotate=2&lt;/code&gt; to &lt;span&gt;/boot/config.txt&lt;/span&gt;, to efficiently rotate the display (and touch region) to match the default orientation of the case. For avoidance of doubt, if you are using a monitor or &lt;span class=&quot;tripleclick-separator&quot;&gt;ssh&lt;/span&gt; connection you should &lt;em&gt;not&lt;/em&gt; add this stanza, however.&lt;/p&gt;
&lt;p&gt;Next, fetch up-to-date copies of the &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/sakaki-/sakaki-tools&quot;&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;sakaki-tools&lt;/span&gt;&lt;/a&gt; and &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/sakaki-/rpi3-overlay&quot;&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;rpi3&lt;/span&gt;&lt;/a&gt; ebuild repositories ('overlays') on the RPi3. Ensure your RPi3 has a valid network connection (you can easily setup a WiFi or Ethernet connection via the bundled &lt;span class=&quot;tripleclick-separator&quot;&gt;NetworkManager&lt;/span&gt; applet, just click on the network icon in the status bar), then issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;9&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;emaint sync --repo sakaki-tools&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;emaint sync --repo rpi3&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;17&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;If you have time, it is better to do a &lt;em&gt;full&lt;/em&gt; software update of your RPi3 before proceeding (the process requires about 2 hours). To do this, &lt;em&gt;instead&lt;/em&gt; of the above two commands, ensure your RPi3 has network connectivity, then issue:
&lt;div class=&quot;cmd-box&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;genup&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
and wait for this to finish with the message &lt;code&gt;All done - your system is now up-to-date!&lt;/code&gt;, before proceeding.&lt;/div&gt;
&lt;p&gt;Next, we need to install the &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://packages.gentoo.org/packages/sys-apps/flashrom&quot;&gt;sys-apps/flashrom&lt;/a&gt; software, which will allow us to read and write the flash chip over the SPI interface. Issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;11&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;emerge --ask --verbose sys-apps/flashrom&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
... additional output suppressed ...
Would you like to merge these packages? [Yes/No] &amp;lt;press y, then press Enter&amp;gt;
... additional output suppressed ...
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because it will fetch and then check the &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/sakaki-/gentoo-on-rpi3-64bit#binhost&quot;&gt;binhost&lt;/a&gt; packages metadata file, this command may take 3-4 minutes before prompting you whether to proceed, so please be patient. The actual package itself is available as a binary and will install quickly (with no local compilation required), once confirmed.&lt;/p&gt;

&lt;p&gt;Then, we need to emerge the &lt;span class=&quot;tripleclick-separator&quot;&gt;coreboot-utils&lt;/span&gt; package, which provides &lt;span class=&quot;tripleclick-separator&quot;&gt;ifdtool&lt;/span&gt; (a utility to parse and modify the structure of Intel firmware flash dumps). The package has an ebuild in the &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/sakaki-/sakaki-tools&quot;&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;sakaki-tools&lt;/span&gt;&lt;/a&gt; repository (aka 'overlay') used on the image, so issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;11&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;emerge --ask --verbose sys-apps/coreboot-utils&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
... additional output suppressed ...
Would you like to merge these packages? [Yes/No] &amp;lt;press y, then press Enter&amp;gt;
... additional output suppressed ...
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The next step is to install Nicola Corna's &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt; software itself. This also has an ebuild in the &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/sakaki-/sakaki-tools&quot;&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;sakaki-tools&lt;/span&gt;&lt;/a&gt; repo, so issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;11&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;emerge --ask --verbose sys-apps/me_cleaner&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
... additional output suppressed ...
Would you like to merge these packages? [Yes/No] &amp;lt;press y, then press Enter&amp;gt;
... additional output suppressed ...
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt; is a reasonably straightforward Python script. Nevertheless, it is good hygiene to review scripts prior to running them (particularly when they impact such security-critical areas as the IME and BIOS), so do so now. Issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;less /usr/lib/python-exec/python3.4/me_cleaner&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Use &lt;kbd&gt;Page Down&lt;/kbd&gt; and &lt;kbd&gt;Page Up&lt;/kbd&gt; to navigate within the file, and press &lt;kbd&gt;q&lt;/kbd&gt; to quit, when done.&lt;/p&gt;
&lt;p&gt;Lastly, we'll pull in the &lt;span class=&quot;tripleclick-separator&quot;&gt;wiringpi&lt;/span&gt; library (and accompanying &lt;span class=&quot;tripleclick-separator&quot;&gt;gpio&lt;/span&gt; utility, which will be used to set the GPIO pins on the header not directly controlled by &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt;). This has an ebuild in the &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/sakaki-/rpi3-overlay&quot;&gt;&lt;span class=&quot;tripleclick-separator&quot;&gt;rpi3&lt;/span&gt;&lt;/a&gt; repo used on the image, so issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;11&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;emerge --ask --verbose dev-embedded/wiringpi&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
... additional output suppressed ...
Would you like to merge these packages? [Yes/No] &amp;lt;press y, then press Enter&amp;gt;
... additional output suppressed ...
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Hardware_Configuration&quot;&gt;&lt;span&gt;Hardware Configuration&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;With the necessary software prepared, we can proceed to attach the appropriate IC clip to the RPi3's GPIO (general purpose input-output) header.&lt;/p&gt;
&lt;p&gt;Cleanly shutdown your RPi3:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;poweroff&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Physically remove the RPi3's power connector once the shutdown sequence has completed.&lt;/p&gt;
&lt;p&gt;With your RPi3 powered off, locate its 40-pin GPIO header, and connect one end of each of the 8 female-female cables to the appropriate RPi3 GPIO pin as shown in (the inner, light green section of) the diagram &lt;span id=&quot;pin_mapping&quot;&gt;below&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;&lt;br/&gt;This header mapping will also work for the Raspberry Pi 1 model B+ or later.&lt;/p&gt;
&lt;div class=&quot;thumb tnone&quot;&gt;
&lt;div class=&quot;thumbinner&quot; readability=&quot;6&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/File:Rpi3_gpio_header_ic_flash.png&quot; class=&quot;image&quot;&gt;&lt;img alt=&quot;&quot; src=&quot;https://wiki.gentoo.org/images/thumb/3/3d/Rpi3_gpio_header_ic_flash.png/500px-Rpi3_gpio_header_ic_flash.png&quot; width=&quot;500&quot; height=&quot;395&quot; class=&quot;thumbimage&quot; srcset=&quot;/images/3/3d/Rpi3_gpio_header_ic_flash.png 1.5x, /images/3/3d/Rpi3_gpio_header_ic_flash.png 2x&quot;/&gt;&lt;/a&gt;
&lt;div class=&quot;thumbcaption&quot; readability=&quot;7&quot;&gt;

Pin mapping from RPi3 GPIO Header to Typical 8-Pin Flash Chip&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here is a photo showing these connections in place on an actual RPi3 (in an official 7&quot; touchscreen enclosure; this is of course not necessary in order to use the board). Disregard the wires on the left-hand side, they are for the touchscreen. With the RPi3 oriented as it is in this picture, pin 1 is at the extreme left position on the nearer row, and pin 40 at the extreme right position on the farther row. The colours of the jumper wires used match those in the above &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#pin_mapping&quot;&gt;pin mapping&lt;/a&gt; and &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#flash_8_pinout&quot;&gt;flash chip pinout&lt;/a&gt;&lt;span id=&quot;wiring_photo&quot;&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;thumb tnone&quot;&gt;
&lt;div class=&quot;thumbinner&quot; readability=&quot;6&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/File:Rpi3_wiring2.jpg&quot; class=&quot;image&quot;&gt;&lt;img alt=&quot;&quot; src=&quot;https://wiki.gentoo.org/images/thumb/8/82/Rpi3_wiring2.jpg/600px-Rpi3_wiring2.jpg&quot; width=&quot;600&quot; height=&quot;565&quot; class=&quot;thumbimage&quot; srcset=&quot;/images/thumb/8/82/Rpi3_wiring2.jpg/900px-Rpi3_wiring2.jpg 1.5x, /images/thumb/8/82/Rpi3_wiring2.jpg/1200px-Rpi3_wiring2.jpg 2x&quot;/&gt;&lt;/a&gt;
&lt;div class=&quot;thumbcaption&quot; readability=&quot;7&quot;&gt;

An RPi3 with GPIO/SPI Connected for Flash Programming to a Pomona 5250 IC Clip (Click to Zoom)&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;Be &lt;strong&gt;very careful&lt;/strong&gt; not to connect pins 2 or 4 on the RPi3's GPIO header to any pin of the IC clip - these are 5v (rather then 3.3v) and are likely to &lt;strong&gt;destroy&lt;/strong&gt; your flash chip should you accidentally use them.&lt;/p&gt;
&lt;p&gt;The other end of the 8 wires you should connect to an appropriate IC test clip, per the outer (lilac) section of the &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#pin_mapping&quot;&gt;above pin mapping diagram&lt;/a&gt;. The photo above shows a 5250 clip attached (as is appropriate for the SOIC-8 flash chip in the Panasonic CF-AX3); obviously, adapt as appropriate. The important thing is to look at your flash IC's pin names / functions (as given by its datasheet), and ensure that these are connected to the appropriate header wire from the RPi3. For example, with the Winbond W25Q64FV chip in a SOIC-8 package, as here, we have:&lt;/p&gt;
&lt;table class=&quot;wikitable&quot; readability=&quot;6&quot;&gt;&lt;tr&gt;&lt;th&gt;IC Pin&lt;/th&gt;
&lt;th&gt;IC Name&lt;/th&gt;
&lt;th&gt;Wire Colour&lt;/th&gt;
&lt;th&gt;RPi3 Pin&lt;/th&gt;
&lt;th&gt;RPi3 Name&lt;/th&gt;
&lt;th&gt;Function&lt;/th&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;/CS&lt;/td&gt;
&lt;td&gt;White&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;td&gt;SPI_CE0_N&lt;/td&gt;
&lt;td&gt;Chip select; drive low to enable device&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;DO&lt;/td&gt;
&lt;td&gt;Grey&lt;/td&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;td&gt;SPI_MISO&lt;/td&gt;
&lt;td&gt;Standard SPI data output (from chip)&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;/WP&lt;/td&gt;
&lt;td&gt;Blue&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;GPIO_GEN4&lt;/td&gt;
&lt;td&gt;Write protect; drive high to enable status registers to be written&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;GND&lt;/td&gt;
&lt;td&gt;Black&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;Ground&lt;/td&gt;
&lt;td&gt;Ground&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;DI&lt;/td&gt;
&lt;td&gt;Orange&lt;/td&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;SPI_MOSI&lt;/td&gt;
&lt;td&gt;Standard SPI data input (to chip)&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;CLK&lt;/td&gt;
&lt;td&gt;Yellow&lt;/td&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;td&gt;SPI_CLK&lt;/td&gt;
&lt;td&gt;SPI clock&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;/HOLD&lt;/td&gt;
&lt;td&gt;Green&lt;/td&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;GPI_GEN5&lt;/td&gt;
&lt;td&gt;Hold; drive low to pause device while actively selected&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;VCC&lt;/td&gt;
&lt;td&gt;Red&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;3.3v&lt;/td&gt;
&lt;td&gt;Power supply (NB do &lt;em&gt;not&lt;/em&gt; use 5v)&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;The '/' in front of some IC signal names implies that their logic is &lt;em&gt;inverted&lt;/em&gt;. So, for example, with &lt;span class=&quot;tripleclick-separator&quot;&gt;/WP&lt;/span&gt; (&quot;write protect&quot;), we must drive the line &lt;em&gt;low&lt;/em&gt; to write-protect the status registers on the flash chip, and high to write-enable them.&lt;/p&gt;
&lt;p&gt;With the test clip connected, hardware setup of your RPi3 as a in-circuit flash programmer is complete.&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Reading_and_Verifying_the_Original_Contents_of_your_BIOS_Flash_Chip&quot;&gt;&lt;span&gt;Reading and Verifying the Original Contents of your BIOS Flash Chip&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Power the RPi3 back up, wait for Gentoo to boot, and then and open a terminal window (or, at your option, log in over &lt;span class=&quot;tripleclick-separator&quot;&gt;ssh&lt;/span&gt;). As before, become root:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;demouser@pi64 &lt;span&gt;~ $&lt;/span&gt;&lt;/code&gt;&lt;code&gt;sudo su --login root&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;span id=&quot;pullup&quot;&gt;Then,&lt;/span&gt; as root, ensure that &lt;span class=&quot;tripleclick-separator&quot;&gt;/WP&lt;/span&gt; and &lt;span class=&quot;tripleclick-separator&quot;&gt;/HOLD&lt;/span&gt; are both pulled high. Issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;gpio mode 4 up&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;gpio mode 5 up&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This command (using the &lt;span class=&quot;tripleclick-separator&quot;&gt;gpio&lt;/span&gt; utility from &lt;span class=&quot;tripleclick-separator&quot;&gt;wiringpi&lt;/span&gt;) activates the RPi3's internal pull-up resistors on &lt;span class=&quot;tripleclick-separator&quot;&gt;GPIO_GEN4&lt;/span&gt; (RPi3 pin 16 → &lt;span class=&quot;tripleclick-separator&quot;&gt;/WP&lt;/span&gt;) and &lt;span class=&quot;tripleclick-separator&quot;&gt;GPIO_GEN5&lt;/span&gt; (RPi3 pin 18 → &lt;span class=&quot;tripleclick-separator&quot;&gt;/HOLD&lt;/span&gt;) respectively.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;These two lines are &lt;em&gt;not&lt;/em&gt; part of the SPI interface managed by &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt;, so we must explicitly set them to appropriate values, as here.&lt;/p&gt;
&lt;p&gt;Next, observing proper &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://www.computerhope.com/esd.htm&quot;&gt;proper ESD precautions&lt;/a&gt; (and after double-checking that you have all external power supplies and batteries removed), &lt;strong&gt;attach the IC clip to your target PC's BIOS flash chip&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;For example, the photo below shows the same RPi3 as shown &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#wiring_photo&quot;&gt;earlier&lt;/a&gt; attached to the BIOS chip of the CF-AX3 laptop, using a Pomona 5250 test clip:&lt;/p&gt;
&lt;div class=&quot;thumb tnone&quot;&gt;
&lt;div class=&quot;thumbinner&quot; readability=&quot;6&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/File:Flash_reprogramming2.jpg&quot; class=&quot;image&quot;&gt;&lt;img alt=&quot;&quot; src=&quot;https://wiki.gentoo.org/images/thumb/4/4e/Flash_reprogramming2.jpg/600px-Flash_reprogramming2.jpg&quot; width=&quot;600&quot; height=&quot;538&quot; class=&quot;thumbimage&quot; srcset=&quot;/images/thumb/4/4e/Flash_reprogramming2.jpg/900px-Flash_reprogramming2.jpg 1.5x, /images/thumb/4/4e/Flash_reprogramming2.jpg/1200px-Flash_reprogramming2.jpg 2x&quot;/&gt;&lt;/a&gt;
&lt;div class=&quot;thumbcaption&quot; readability=&quot;7&quot;&gt;

Using an RPi3 for In-Circuit BIOS Chip Reflashing of a CF-AX3 (Click to Zoom)&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;The wire colours used are the same as in the rest of this guide (but other than consistency, there is nothing 'magic' about them ^-^).&lt;br/&gt;Pin 1 is on the bottom left of the flash chip in the above.&lt;/p&gt;
&lt;p&gt;With the clip attached, request that &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt; 'probe' to see if it can identify your BIOS flash chip:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;14&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;flashrom -p linux_spi:dev=/dev/spidev0.0,spispeed=8000&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
flashrom v0.9.9-r1955 on Linux 4.10.17-v8-9411792647f6+ (aarch64)
flashrom is free software, get the source code at https://flashrom.org

Calibrating delay loop... OK.
Found Winbond flash chip &quot;W25Q64.V&quot; (8192 kB, SPI) on linux_spi.
No operations were specified.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Obviously the output will reflect your particular version of flashrom, kernel and flash chip, but if you see something like the above, you are good to proceed.&lt;/p&gt;
&lt;p&gt;However, if instead you got an output containing &lt;code&gt;No EEPROM/flash device found&lt;/code&gt;, then you have a problem. Double-check the wiring to your RPi3 and the IC clip. If that looks good, re-seat the IC clip on your flash chip, and try again. The clips are tricky to get seated properly, so it is not unusual for a few tries to be required before &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt; can successfully connect.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;If &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt; reports that it has found a brand or make of chip that doesn't match what you expected, &lt;strong&gt;stop&lt;/strong&gt;. Search online and only proceed if you are confident there is no ambiguity.&lt;/p&gt;
&lt;div class=&quot;alert alert-success gw-box&quot; readability=&quot;12&quot;&gt;&lt;strong&gt;Tip&lt;/strong&gt;&lt;br/&gt;You can see all &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt;'s supported devices with:
&lt;div class=&quot;cmd-box&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;flashrom --list-supported&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
If your device is not shown you may be unable to proceed (&lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt; &lt;em&gt;will&lt;/em&gt; work correctly with most encountered flash devices though).&lt;/div&gt;
&lt;p&gt;Once you have a successful probe, leaving the clip in place, &lt;span id=&quot;backup_firmware&quot;&gt;dump a copy of your existing firmware&lt;/span&gt;:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;14&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;flashrom -p linux_spi:dev=/dev/spidev0.0,spispeed=8000 -r original.rom&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
flashrom v0.9.9-r1955 on Linux 4.10.17-v8-9411792647f6+ (aarch64)
flashrom is free software, get the source code at https://flashrom.org

Calibrating delay loop... OK.
Found Winbond flash chip &quot;W25Q64.V&quot; (8192 kB, SPI) on linux_spi.
Reading flash... done.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;Again, obviously the output you get will most likely differ, but it should follow the pattern above. Make sure you see the &lt;code&gt;Reading flash... done.&lt;/code&gt; line in your own output, indicating that the operation has been successful.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;&lt;span id=&quot;specify_rom&quot;&gt;You can also specify the actual device&lt;/span&gt; using the &lt;code&gt;-c&lt;/code&gt; parameter to &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt; if you like; for example, on the Panasonic CF-AX3 you would add &lt;code&gt;-c W25Q128.V&lt;/code&gt;. However, with most devices this is unnecessary.&lt;/p&gt;
&lt;p&gt;Make another copy of the original firmware:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;8&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;flashrom -p linux_spi:dev=/dev/spidev0.0,spispeed=8000 -r original2.rom&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;And check that both copies are identical (this is a useful check to ensure that neither image has been corrupted):&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;8&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;diff original{,2}.rom&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This should produce no output, indicating that the dumped images are identical.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;If &lt;span class=&quot;tripleclick-separator&quot;&gt;diff&lt;/span&gt; reports that the two images differ, &lt;strong&gt;stop&lt;/strong&gt;. Repeat the read process until you have two identical copies that pass the diff test. Try reducing the &lt;span class=&quot;tripleclick-separator&quot;&gt;spispeed&lt;/span&gt; parameter, and check your clip is properly seated. It is essential that you have a 'known good' backup copy of your original firmware before proceeding, so take care with this step and do not skip it!&lt;/p&gt;
&lt;p&gt;Next, assuming the &lt;span class=&quot;tripleclick-separator&quot;&gt;diff&lt;/span&gt; check passes, run &lt;span class=&quot;tripleclick-separator&quot;&gt;ifdtool&lt;/span&gt; on one of the images, to ensure that it has a valid structure:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;ifdtool -d original.rom&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Your output will obviously be system-specific, but should resemble something like that shown &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://gist.github.com/corna/66322fb938dedd93d2aaa1d59b27341d&quot;&gt;here&lt;/a&gt; (at least in broad outline).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;If &lt;span class=&quot;tripleclick-separator&quot;&gt;ifdtool -d&lt;/span&gt; reports an error, or states that &lt;code&gt;No Flash Descriptor found in this image&lt;/code&gt;, &lt;strong&gt;stop&lt;/strong&gt;. Repeat the read process until you have two identical copies that pass the diff test &lt;em&gt;and&lt;/em&gt; this &lt;span class=&quot;tripleclick-separator&quot;&gt;ifdtool -d&lt;/span&gt; check.&lt;/p&gt;
&lt;p&gt;Finally, check that the dumped image has a structure that the &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt; tool understands, and can work with. To do so, issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;me_cleaner --check original.rom&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;As before, your output will be system-specific, but should pass all checks as for example shown &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://gist.github.com/corna/92df16e65248c63a258fdbdac5cb0923&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;alert alert-danger gw-box&quot; readability=&quot;13.061855670103&quot;&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;If &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner --check&lt;/span&gt; reports an error, or states that you have an &lt;code&gt;Unknown image&lt;/code&gt;, &lt;strong&gt;stop&lt;/strong&gt;. Given that the other tests passed, please &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/issues/new&quot;&gt;open an issue&lt;/a&gt; with &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt;, and report your findings.&lt;/div&gt;
&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Modifying_Firmware_using_me_cleaner.2C_to_Disable_the_IME&quot;&gt;&lt;span id=&quot;run_me_cleaner&quot;&gt;Modifying Firmware using &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt;, to Disable the IME&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;With all tests passed, you can now run &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt; on your firmware image. Issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;23&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;me_cleaner --soft-disable original.rom --output modified.rom&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
Full image detected
The ME/TXE region goes from 0x3000 to 0x280000
Found FPT header at 0x3010
Found 21 partition(s)
Found FTPR header: FTPR partition spans from 0x4e000 to 0xd4000
ME/TXE firmware version 9.5.3.1520
Removing extra partitions...
Removing extra partition entries in FPT...
Removing EFFS presence flag...
Correcting checksum (0xe3)...
Reading FTPR modules list...
 UPDATE           (LZMA   , 0x0b1e05 - 0x0b1f0f): removed
 ROMP             (Huffman, fragmented data    ): NOT removed, essential
 BUP              (Huffman, fragmented data    ): NOT removed, essential
 KERNEL           (Huffman, fragmented data    ): removed
 POLICY           (Huffman, fragmented data    ): removed
 FTPM             (LZMA   , 0x0b1f0f - 0x0bfbe1): removed
 HOSTCOMM         (LZMA   , 0x0bfbe1 - 0x0c81af): removed
 TDT              (LZMA   , 0x0c81af - 0x0cd4ed): removed
 FPF              (LZMA   , 0x0cd4ed - 0x0ceff8): removed
The ME minimum size should be 430080 bytes (0x69000 bytes)
The ME region can be reduced up to:
 00003000:0006bfff me
Setting the AltMeDisable bit in PCHSTRP10 to disable Intel ME...
Checking the FTPR RSA signature... VALID
Done! Good luck!
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Your output will obviously differ (and in particular, if you are using a more modern PC than the CF-AX3 you may see a larger number of modules listed (and on a server-class machine, many fewer); see the &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt; &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/issues/3&quot;&gt;success reports&lt;/a&gt;, for examples of the sort of output that may be produced).&lt;/p&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;9.6585365853659&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;We have used the &lt;span class=&quot;tripleclick-separator&quot;&gt;--soft-disable&lt;/span&gt; flag here to &lt;em&gt;both&lt;/em&gt; purge unneeded ME firmware &lt;em&gt;and&lt;/em&gt; set the AltMeDisable/HAP bit (requesting the ME to do a clean self-disable during the bring-up phase) as noted &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#me_cleaner_ops&quot;&gt;earlier&lt;/a&gt;.&lt;/div&gt;
&lt;p&gt;The resulting image is saved to the file &lt;span class=&quot;tripleclick-separator&quot;&gt;modified.rom&lt;/span&gt;; the original firmware files are left untouched.&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Writing_Back_the_Modified_Firmware&quot;&gt;&lt;span id=&quot;reflash&quot;&gt;Writing Back the Modified Firmware&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;We can now write back ('reflash') the system firmware we have just modified. With the IC clip still in place, issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;15&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;flashrom -p linux_spi:dev=/dev/spidev0.0,spispeed=8000 -w modified.rom&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
flashrom v0.9.9-r1955 on Linux 4.10.17-v8-9411792647f6+ (aarch64)
flashrom is free software, get the source code at https://flashrom.org

Calibrating delay loop... OK.
Found Winbond flash chip &quot;W25Q64.V&quot; (8192 kB, SPI) on linux_spi.
Reading old flash chip contents... done.
Erasing and writing flash chip... Erase/write done.
Verifying flash... VERIFIED.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As before, your output will most likely differ somewhat, depending on the specifics of your setup.&lt;/p&gt;
&lt;div class=&quot;alert alert-danger gw-box&quot; readability=&quot;21.408071748879&quot;&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;br/&gt;If &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt; reports an error here, or does not finish with the output &lt;code&gt;Verifying flash... VERIFIED&lt;/code&gt;, &lt;strong&gt;stop&lt;/strong&gt;. You almost surely have a corrupted flash. Try the write again, using a slower &lt;span class=&quot;tripleclick-separator&quot;&gt;spispeed&lt;/span&gt; parameter, and if that also fails, try re-seating the IC clip. Ensure you have the &lt;span class=&quot;tripleclick-separator&quot;&gt;/WP&lt;/span&gt; and &lt;span class=&quot;tripleclick-separator&quot;&gt;/HOLD&lt;/span&gt; pullups active as was specified &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#pullup&quot;&gt;earlier&lt;/a&gt;. You can also try specifying the exact model name to &lt;span class=&quot;tripleclick-separator&quot;&gt;flashrom&lt;/span&gt; using the &lt;span class=&quot;tripleclick-separator&quot;&gt;-c&lt;/span&gt; parameter, as was discussed &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#specify_rom&quot;&gt;above&lt;/a&gt;.&lt;/div&gt;
&lt;p&gt;Once the flash has been successfully programmed, disconnect the IC-clip (or, if you are using a socketed chip and have it e.g. mounted on a solderless breadboard, remove the flash chip and place it back carefully in its socket on your PC).&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Restarting_your_PC_and_Verifying_the_IME_is_Disabled&quot;&gt;&lt;span id=&quot;restart_and_test&quot;&gt;Restarting&lt;/span&gt; your PC and Verifying the IME is Disabled&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Reassemble your target PC, following instructions given in your vendor's maintenance manual where available (and as always taking care to observe proper &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://www.computerhope.com/esd.htm&quot;&gt;proper ESD protective measures&lt;/a&gt;). Ensure any batteries or power supplies are reconnected, and then try booting it up (into Gentoo) using your regular procedure.&lt;/p&gt;
&lt;p&gt;If you experience serious problems upon restart — for example, the machine will not &lt;a href=&quot;http://en.wikipedia.org/wiki/Power-on_self-test&quot; class=&quot;extiw&quot; title=&quot;wikipedia:Power-on self-test&quot;&gt;POST&lt;/a&gt;, or you are unable to enter the BIOS setup GUI after boot — then jump &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#recovery&quot;&gt;here&lt;/a&gt; for instructions on how to recover (by reflashing your original firmware again).&lt;/p&gt;
&lt;p&gt;&lt;span id=&quot;renga_janai&quot;&gt;However, in the more likely case&lt;/span&gt; that your machine appears to start up correctly into Linux (after you enter your &lt;span class=&quot;tripleclick-separator&quot;&gt;LUKS&lt;/span&gt; passphrase etc.), you can run the &lt;span class=&quot;tripleclick-separator&quot;&gt;intelmetool&lt;/span&gt; to check the status of the ME. This is available as part of the &lt;span class=&quot;tripleclick-separator&quot;&gt;coreboot-utils&lt;/span&gt; package on the &lt;span class=&quot;tripleclick-separator&quot;&gt;sakaki-tools&lt;/span&gt; ebuild repository (aka 'overlay') which we already set up &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Building_the_Gentoo_Base_System_Minus_Kernel#prep_for_parallel_emerge&quot; title=&quot;Sakaki's EFI Install Guide/Building the Gentoo Base System Minus Kernel&quot;&gt;earlier in the guide&lt;/a&gt;, so, to install it, open a terminal (on your target PC), become root, and issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;18&quot;&gt;
&lt;p&gt;&lt;code&gt;koneko &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;emaint sync --repo sakaki-tools&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;koneko &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;mkdir -p -v /etc/portage/package.unmask&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;koneko &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;echo &quot;sys-apps/coreboot-utils::sakaki-tools&quot; &amp;gt;&amp;gt; /etc/portage/package.unmask/coreboot-utils&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;koneko &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;emerge --ask --verbose sys-apps/coreboot-utils&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
... additional output suppressed ...
Would you like to merge these packages? [Yes/No] &amp;lt;press y, then press Enter&amp;gt;
... additional output suppressed ...
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;The host name you see when running these commands will obviously reflect the settings on your target PC.&lt;/p&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;11.34&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;If you have &lt;em&gt;not&lt;/em&gt; installed the &lt;span class=&quot;tripleclick-separator&quot;&gt;sakaki-tools&lt;/span&gt; ebuild repository (its use was specified &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Building_the_Gentoo_Base_System_Minus_Kernel#prep_for_parallel_emerge&quot; title=&quot;Sakaki's EFI Install Guide/Building the Gentoo Base System Minus Kernel&quot;&gt;earlier&lt;/a&gt; in the guide), then please follow the instructions given &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/wiki/How-to-apply-me_cleaner&quot;&gt;here&lt;/a&gt; to clone and build the software directly.&lt;/div&gt;
&lt;p&gt;Then issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;16&quot;&gt;
&lt;p&gt;&lt;code&gt;koneko &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;intelmetool --show&lt;/code&gt;&lt;/p&gt;
&lt;span&gt;Bad news, you have a `8 Series LPC Controller` so you have ME hardware on board&lt;/span&gt;
&lt;p&gt;&lt;span&gt;and you can't control or disable it, continuing...&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
MEI was hidden on PCI, now unlocked
MEI found: [8086:9c3a] 8 Series HECI #0

ME Status   : 0x1e020191
ME Status 2 : 0x104d0142

ME: FW Partition Table      : OK
ME: Bringup Loader Failure  : NO
ME: Firmware Init Complete  : NO
ME: Manufacturing Mode      : YES
ME: Boot Options Present    : NO
ME: Update In Progress      : NO
ME: Current Working State   : Initializing
ME: Current Operation State : Bring up
ME: Current Operation Mode  : Debug
ME: Error Code              : No Error
ME: Progress Phase          : BUP Phase
ME: Power Management Event  : Clean Moff-&amp;gt;Mx wake
ME: Progress Phase State    : 0x4d

ME: Extend SHA-256: &amp;lt;hash&amp;gt;

ME: failed to become ready
ME: failed to become ready
ME: GET FW VERSION message failed
ME: failed to become ready
ME: failed to become ready
ME: GET FWCAPS message failed
Re-hiding MEI device...done
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Again, the output on your system will probably differ from this. You can safely ignore the ominous sounding &lt;span&gt;Bad news...&lt;/span&gt; message, as that actually only indicates that the very low-level status registers of the ME are visible over PCI. The &lt;em&gt;real&lt;/em&gt; indications that the ME is disabled are that you see (depending on your ME version) one or more of the below:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;code&gt;ME: Firmware Init Complete : NO&lt;/code&gt; (as in the above);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: Error Code : Image Failure&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: Current Operation Mode : (null)&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: Current Operation State : Bring up&lt;/code&gt; (as in the above);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: Progress Phase : Uncategorized Failure&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: Progress Phase : BUP Phase&lt;/code&gt; (as in the above);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: Progress Phase State : Check to see if straps say ME DISABLED&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: Progress Phase State : 0x4d&lt;/code&gt; (as in the above);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: Progress Phase State : Unknown 0x40&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: has a broken implementation on your board with this BIOS&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: GET FW VERSION message failed&lt;/code&gt; (as in the above); or&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ME: GET FWCAPS message failed&lt;/code&gt; (as in the above).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;6.3739837398374&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;If &lt;span class=&quot;tripleclick-separator&quot;&gt;intelmetool&lt;/span&gt; reports an error similar to &lt;code&gt;Could not map MEI PCI device memory&lt;/code&gt;, please see &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/issues/30#issuecomment-301193328&quot;&gt;these notes&lt;/a&gt; for a solution.&lt;/div&gt;
&lt;p&gt;You can also browse through the `me_cleaner` &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/issues/3&quot;&gt;success reports&lt;/a&gt;, to see the sort of output that may be produced on different platforms.&lt;/p&gt;
&lt;p&gt;Next, wait for 30 minutes of wall time to elapse, and ensure that your target PC does not reset itself (thereby proving that the watchdog timer has been properly cleared).&lt;/p&gt;
&lt;p&gt;If all that worked, congratulations! You have disabled the ME on your PC — click &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#next_steps&quot;&gt;here&lt;/a&gt; to skip to the next step.&lt;/p&gt;
&lt;p&gt;If however you experience a problem booting (and cannot e.g. start Windows either, assuming you are dual-booting), then continue reading &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#recovery&quot;&gt;immediately below&lt;/a&gt;, to restore the original firmware image again.&lt;/p&gt;
&lt;h3&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Recovery_in_Case_of_Error&quot;&gt;&lt;span id=&quot;recovery&quot;&gt;Recovery in Case of Error&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt; process just described does not work on all machines. Fortunately, since you &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#backup_firmware&quot;&gt;saved a copy&lt;/a&gt; of your original firmware earlier, and have a functional flash reprogrammer (the RPi3) to hand, it is straightforward to roll things back.&lt;/p&gt;
&lt;div class=&quot;alert alert-info gw-box&quot; readability=&quot;64.110401459854&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br/&gt;However, &lt;em&gt;before&lt;/em&gt; rolling back your firmware, is is worth noting that on some systems, the &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt; process will cause the BIOS' &lt;em&gt;state&lt;/em&gt; to be erased. As such, you may find e.g., that your target PC has fallen back to legacy boot mode, that your custom secure boot keys have been deleted and so on, but that you &lt;strong&gt;can&lt;/strong&gt; still enter the BIOS GUI on boot (by pressing the appropriate hotkey).&lt;p&gt;If this happens to you, you can recover your Gentoo system straightforwardly (and will probably &lt;em&gt;not&lt;/em&gt; require a rollback reflash). To do so, enter the BIOS GUI, make sure UEFI (not legacy) booting is selected, and turn off secure boot, if enabled. Then, temporarily rename the kernel file &lt;span&gt;/EFI/Boot/gentoo.efi&lt;/span&gt; on your boot USB key to &lt;span&gt;/EFI/Boot/bootx64.efi&lt;/span&gt; (this can be done on any PC, including a Windows box). Insert the boot USB key into your target PC, and restart, entering the BIOS GUI once more. In the BIOS, select the boot USB key as the highest priority boot device, and exit, saving changes (on a few BIOSes, you may also need to specify the full &lt;span&gt;/EFI/Boot/bootx64.efi&lt;/span&gt; path here). Your Linux system should now start up, with the familiar LUKS prompt etc. Once back in your Gentoo desktop again, leave the boot USB key inserted, open a terminal window, and run (without arguments, as root) &lt;kbd&gt;buildkernel&lt;/kbd&gt;, which should reset your EFI boot order list (and put a fresh copy of &lt;span&gt;(/boot/efi)/EFI/Boot/gentoo.efi&lt;/span&gt; on your boot USB key. You can now delete the temporary file &lt;span&gt;(/boot/efi)/EFI/Boot/bootx64.efi&lt;/span&gt; if you like. Reboot, and you should find that this new kernel starts up correctly.&lt;/p&gt;&lt;p&gt;Having done this, follow the instructions given in the &quot;Installing New Keys into the Keystore&quot; section (&lt;em&gt;ff&lt;/em&gt;.) of the &quot;Configuring Secure Boot&quot; chapter (which may be found &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Configuring_Secure_Boot#install_new_keys&quot; title=&quot;Sakaki's EFI Install Guide/Configuring Secure Boot&quot;&gt;here&lt;/a&gt; for &lt;span class=&quot;tripleclick-separator&quot;&gt;systemd&lt;/span&gt; users, and &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Configuring_Secure_Boot_under_OpenRC#install_new_keys&quot; title=&quot;Sakaki's EFI Install Guide/Configuring Secure Boot under OpenRC&quot;&gt;here&lt;/a&gt; for those using &lt;span class=&quot;tripleclick-separator&quot;&gt;OpenRC&lt;/span&gt;) to re-install your (existing) secure boot keys, and re-activate and test secure boot.&lt;/p&gt;&lt;p&gt;If the process just described works for you, congratulations, your system should be functioning normally again! Rejoin the tutorial &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#renga_janai&quot;&gt;above&lt;/a&gt;, and check that the IME has been successfully disabled on your machine. If, however, it did &lt;em&gt;not&lt;/em&gt; work, continuing reading &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#restore_image&quot;&gt;immediately below&lt;/a&gt;, to roll back your firmware.&lt;/p&gt;&lt;/div&gt;
&lt;p&gt;&lt;span id=&quot;restore_image&quot;&gt;To restore the original firmware image,&lt;/span&gt; simply follow the previous instructions to power down your PC, expose the system motherboard, and (re)connect the RPi3 flash programmer's IC clip. Then on the RPi3, working as root, issue:&lt;/p&gt;
&lt;div class=&quot;cmd-box&quot; readability=&quot;10&quot;&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;gpio mode 4 up&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;gpio mode 5 up&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pi64 &lt;span&gt;~ #&lt;/span&gt;&lt;/code&gt;&lt;code&gt;flashrom -p linux_spi:dev=/dev/spidev0.0,spispeed=8000 -w original.rom&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
... additional output suppressed ...
Verifying flash... VERIFIED.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to write the original firmware image back again. When done (make sure you see the &lt;code&gt;Verifying flash... VERIFIED&lt;/code&gt; output), follow the earlier procedure to disconnect the IC clip, reassemble your target PC, and boot it up.&lt;/p&gt;
&lt;p&gt;In this case, unfortunately it appears that the IME cannot be disabled on your system at this time.&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Next_Steps&quot;&gt;&lt;span id=&quot;next_steps&quot;&gt;Next Steps&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;If you were &lt;strong&gt;successful&lt;/strong&gt; restarting your system after running &lt;span class=&quot;tripleclick-separator&quot;&gt;me_cleaner&lt;/span&gt;, please consider posting details of your system &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/issues/3&quot;&gt;here&lt;/a&gt;, to assist others.&lt;/p&gt;
&lt;p&gt;However, if you &lt;strong&gt;experienced a problem&lt;/strong&gt; during the process, please take the time to post an &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/issues/new&quot;&gt;new issue&lt;/a&gt; here.&lt;/p&gt;
&lt;p&gt;Finally, to rejoin the main guide, please click &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Using_Your_New_Gentoo_System#additional_mini_guides&quot; title=&quot;Sakaki's EFI Install Guide/Using Your New Gentoo System&quot;&gt;here (&lt;span class=&quot;tripleclick-separator&quot;&gt;systemd&lt;/span&gt;)&lt;/a&gt; or &lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Using_Your_New_Gentoo_System_under_OpenRC#additional_mini_guides&quot; title=&quot;Sakaki's EFI Install Guide/Using Your New Gentoo System under OpenRC&quot;&gt;here (&lt;span class=&quot;tripleclick-separator&quot;&gt;OpenRC&lt;/span&gt;)&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Notes&quot;&gt;&lt;span id=&quot;notes&quot;&gt;Notes&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;div class=&quot;reflist&quot;&gt;
&lt;ol class=&quot;references&quot;&gt;&lt;li id=&quot;cite_note-1&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-1&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;Skochinsky, Igor. &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;http://me.bios.io/images/c/ca/Rootkit_in_your_laptop.pdf&quot;&gt;&lt;em&gt;Rootkit in your Laptop&lt;/em&gt;&lt;/a&gt;. Breakpoint 2012&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-2&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-2&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;Skochinsky, Igor. &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://recon.cx/2014/slides/Recon%202014%20Skochinsky.pdf&quot;&gt;&lt;em&gt;Intel ME Secrets&lt;/em&gt;&lt;/a&gt;. Recon 2014&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-3&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-3&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;Positive Technologies &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://www.troopers.de/downloads/troopers17/TR17_ME11_Static.pdf&quot;&gt;&lt;em&gt;Intel ME: The Way of the Static Analysis&lt;/em&gt;&lt;/a&gt;. TROOPERS17&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-libreboot_me-4&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-libreboot_me_4-0&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;libreboot FAQ: &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://libreboot.org/faq.html#intelme&quot;&gt;&quot;Intel Management Engine&quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-5&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-5&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;Purism Inc. Blog: &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://puri.sm/learn/intel-me/&quot;&gt;&quot;Intel's Management Engine&quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-6&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-6&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;Demerjian, Charlie. &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://semiaccurate.com/2017/05/01/remote-security-exploit-2008-intel-platforms/&quot;&gt;&quot;Remote security exploit in all 2008+ Intel platforms &quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-7&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-7&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;The Register: &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://www.theregister.co.uk/2017/05/01/intel_amt_me_vulnerability/&quot;&gt;&quot;Red alert! Intel patches remote execution hole that's been hidden in chips since 2010&quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-8&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-8&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;PT Security Blog &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;http://blog.ptsecurity.com/2017/08/disabling-intel-me.html#more&quot;&gt;&quot;Disabling Intel ME 11 via undocumented mode&quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-9&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-9&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;Corna, Nicola, &lt;em&gt;me_cleaner wiki&lt;/em&gt;, &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/wiki/HAP-AltMeDisable-bit&quot;&gt;&quot;HAP AltMeDisable bit&quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-10&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-10&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;Benchoff, Brian. &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://hackaday.com/2016/11/28/neutralizing-intels-management-engine/&quot;&gt;&quot;Neutralizing Intel's Management Engine&quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-11&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-11&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;Corna, Nicola, &lt;em&gt;me_cleaner wiki&lt;/em&gt;, &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://github.com/corna/me_cleaner/wiki/How-does-it-work%3F&quot;&gt;&quot;How does it work?&quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li id=&quot;cite_note-libreboot_psp-12&quot;&gt;&lt;span class=&quot;mw-cite-backlink&quot;&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#cite_ref-libreboot_psp_12-0&quot;&gt;↑&lt;/a&gt;&lt;/span&gt; &lt;span class=&quot;reference-text&quot;&gt;libreboot FAQ: &lt;a rel=&quot;nofollow&quot; class=&quot;external text&quot; href=&quot;https://libreboot.org/faq.html#amd-platform-security-processor-psp&quot;&gt;&quot;AMD Platform Security Processor (PSP)&quot;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/div&gt;
</description>
<pubDate>Tue, 10 Oct 2017 19:24:46 +0000</pubDate>
<dc:creator>marksamman</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Disabling_the_Intel_Management_Engine</dc:identifier>
</item>
<item>
<title>The Corrosion of High School Debate</title>
<link>https://www.americamagazine.org/arts-culture/2017/09/26/corrosion-high-school-debate-and-how-it-mirrors-american-politics</link>
<guid isPermaLink="true" >https://www.americamagazine.org/arts-culture/2017/09/26/corrosion-high-school-debate-and-how-it-mirrors-american-politics</guid>
<description>&lt;p dir=&quot;ltr&quot;&gt;While high school football players burst out of locker rooms at halftime to vigorous cheers, their counterparts on the debate team exit their buses and cars to a more muted welcome: the quiet babble of a school cafeteria early on a Saturday morning, where teams of debaters rush to colonize their plots of tables and chairs nearest to the electrical outlets or concessions stand.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;As extracurriculars go, debate may be the most grinding of them all. In my four years of high school debating, I spent many long nights holed up alone in my room poring over amicus briefs or economic analyses. I passed even longer weekends on buses and planes traveling to schools across the country and staying in hotels or with local families. From winter to spring, in settings as grand as a Harvard lecture hall and as cramped as a boiler room in a Salt Lake City public school, my debate partner and I held forth on everything from nuclear proliferation to sanctions against Russia to the private prison industry.&lt;/p&gt;
&lt;p&gt;Advertisement&lt;/p&gt;
&lt;section id=&quot;block-dfptagarticlemobile300x2501&quot; class=&quot;block block-dfp block-dfp-ad1c2811d1-1d0c-44e5-a7e7-46b4f2193e80 clearfix&quot;&gt;
&lt;/section&gt;&lt;p dir=&quot;ltr&quot;&gt;&lt;span class=&quot;contentTweetBlock&quot;&gt;As extracurriculars go, debate is maybe the most grinding of them all.&lt;/span&gt;&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;The world of high school debate is often portrayed as a refuge of the budding brainiac, an incubator of the 21st century’s next generation of leaders. To some extent it is that. But the more revealing truth is that the debating community for years has been afflicted with an ideological and practical struggle over the nature of debate. And that struggle does not exist in a vacuum of cafeterias and lecture halls. It has powerful implications for the current state of U.S. politics and for the pursuit of social justice.&lt;/p&gt;
&lt;p&gt;Looking back, it seems as if the course of my high school debating career mirrored a deeper erosion in the quality of debate in our wider society. Thanks to a media landscape poisoned by partisan loyalties, the dissemination of “fake news” and the ideological echo chambers created by social media, the country is in the throes of a deep crisis. We don’t know who we are anymore. When I asked myself whether my extracurricular was a force against this decline, or an accessory to it, far too often I settled on the latter. The conventions of high school debate were enabling, at times even creating, our divisive culture.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;To understand how high school debate went awry, you would have to go all the way back to its origins. The first debate format practiced widely in high schools, beginning in the 1970s, was called Policy Debate. The format, which is still around today, consists of two teams of two debaters each. The affirmative team proposes a policy “plan” based on a resolution—for example, “The United States federal government should significantly reform its criminal justice system.” The negative team responds to that plan. Unlike more recent formats, where the topics change month-to-month, policy topics run for an entire year and require extraordinary dedication to research and preparation.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;&lt;span class=&quot;contentTweetBlock&quot;&gt;The conventions of high school debate were enabling, at times even creating, our divisive culture.&lt;/span&gt;&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;As Policy Debate grew in popularity, the more Machiavellian debaters attempted to gain an edge by overwhelming their opponents with as many arguments and as much supporting evidence as possible. This was because if a team “dropped” an argument by its opponent—if it did not respond to the other side’s claim—that argument was conceded as “true,” no matter how inane it was. Chief among the strategies exploiting this rule was “spreading” (a combination of “speed” and “reading”), where debaters would rattle off arguments at a blistering pace. Their speeches often exceeded 300 words per minute. (A conversational pace is about 60 per minute.)&lt;/p&gt;
&lt;p&gt;Debaters started formulating outlandish arguments. The more apocalyptic the outcome the better, with little care for the argument’s probability or real-world application. “A new retirement program will trigger a nuclear war.” “Prison overcrowding would cause the destruction of the ozone layer.” High school debate had come to this.&lt;/p&gt;
&lt;p&gt;If you were to peek into a room in the middle of a policy round, you would likely be treated to a flurry of limbs and spittle, as a teenager expelled arguments from his mouth with such speed and force that he would sometimes appear to lose control of his fine motor functions. When an executive of Phillips Petroleum, then the primary sponsor of the National Forensics League, observed a debate at the 1979 national championship, he found it utterly incomprehensible. The executive aired his concerns to the league’s executive council, resulting in an entirely new debate category called Lincoln-Douglas Debate.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;&lt;span class=&quot;contentTweetBlock&quot;&gt;The more Machiavellian debaters attempted to gain an edge by overwhelming their opponents with as many arguments as possible.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This format, with its express reference to the famous debates over slavery between Abraham Lincoln and Stephen Douglas, was designed to promote debates about values and prioritize rhetorical persuasion. In contrast to Policy Debate’s wonkish topics, L.D. featured more timeless resolutions. “It is morally permissible to kill one innocent person to save the lives of more innocent people.” Or “When in conflict, idealism ought to be valued above pragmatism.”&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;The new format earned the disdain of Policy Debate’s more snobbish competitors, who joked that its initials stood for “learning disabled.” But for students disillusioned with P.D.’s descent into nonsensical, mile-a-minute argumentation, it was a godsend. At least for a while.&lt;/p&gt;
&lt;p&gt;Soon L.D. suffered the same fate as its precursor. The speed of argumentation increased, as did the amount of evidence required to be competitive at the national level. As with Policy Debate, the arguments became increasingly unmoored from reality. Some debaters even began refusing to debate the resolutions altogether, formulating elaborate theoretical and critical arguments that were, at best, tenuously linked to the topic they had been given.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;As L.D. descended further and further into absurdity, Ted Turner, the billionaire founder of CNN, came along and attempted to turn the ship again. Like the Philips executive several decades earlier, he pushed the National Forensic League in 2002 to establish a new debate format that would be plainspoken and jargon-free. The resulting format, which immediately drew comparisons to CNN’s “Crossfire,” was called Public Forum. Its title was an expression of Mr. Turner’s hope that any reasonably informed member of the public could walk into a Public Forum round and be able to pick a winner.&lt;/p&gt;
&lt;p&gt;A decade and a half after its inception, P.F. is still by far the most intelligible category in debate. However, in recent years its speed has increased markedly, as have the mountains of evidence. The emphasis on logic and critical thinking has waned.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;contentTweetBlock&quot;&gt;Ted Turner hoped that any reasonably informed member of the public could walk into a Public Forum round and be able to pick a winner. &lt;/span&gt;&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;High school debate today is basically an intellectual game, not an exercise in truth-seeking. It has been turned into something that can easily be scored. This eliminates the complexity and intricacy of real discourse about real issues. If debate is a game, then the execution of a “spread” is like a well-timed blitz in football. Convincing a judge that your opponents’ arguments would cause human extinction is equivalent to a successful Hail Mary pass.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;Dozens of summer debate camps have cropped up across the country, offering students the opportunity to go “from novice to nationals,” as one brochure put it. Companies now offer bundles of prepackaged evidence, or “briefs,” to debaters willing to pay to get the upper hand. Instead of producing free, rigorous thinkers committed to the pursuit of truth, debate clubs now promote a very specific technical mastery of skills that do not easily translate to the demands of real life.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;The problems plaguing high school debate are mirrored in our public sphere. Political discourse is often little more than a game. Its goal is to score political points with witty rejoinders and scathing takedowns. The purpose of “adult debate,” as with debate for 16-year-olds, is to bludgeon your opponent into submission instead of engaging in open-minded dialogue.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;Over time I began to realize that high school debate was my firsthand education in the perversion and abuse of language. I learned how language could be used to conceal, to muddle. This was not limited to the debate community. The writer (and former debate wunderkind) Ben Lerner once wrote, “Americans are always getting ‘spread’ in their daily lives.”&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;&lt;span class=&quot;contentTweetBlock&quot;&gt;High school debate was my firsthand education in the perversion and abuse of language. &lt;/span&gt;&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;Think of the rapid-fire medical warnings at the end of prescription drug commercials. Consider the various types of fine print we are exposed to every day from financial institutions and healthcare companies, not to mention Apple’s “Terms and Conditions.” I remember that even when high school debates slowed down enough to seem comprehensible, the avalanche of evidence (much of it of dubious value) and specialized jargon often confused more than it revealed. It became like the kind of language currently poisoning our public sphere.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;I learned immensely important skills from my four years of debate. I have met many brilliant, incredibly well-read students from across the country from schools dedicated to treating debate the right way. But these are exceptions, not the rule. The norms that currently guide debate elevate form over content, and victory over truth.&lt;/p&gt;
&lt;p dir=&quot;ltr&quot;&gt;Debate programs are perfectly situated to produce students who want to seek the truth, who will resist the decay of quality public speech. As currently practiced, however, the clearest evidence of a high school debate career is often just a collection of plastic trophies, slowly gathering dust.&lt;/p&gt;
</description>
<pubDate>Tue, 10 Oct 2017 16:19:09 +0000</pubDate>
<dc:creator>apsec112</dc:creator>
<og:title>The Corrosion of High School Debate—And How It Mirrors American Politics</og:title>
<og:type>article</og:type>
<og:url>https://www.americamagazine.org/arts-culture/2017/09/26/corrosion-high-school-debate-and-how-it-mirrors-american-politics</og:url>
<og:description>300 Words a Minute, and Going Nowhere: High School Debate Today.</og:description>
<og:image>https://www.americamagazine.org/sites/default/files/styles/article_image_750_x_503_/public/main_image/iStock-636078606.jpg.png?itok=HFZU8F6E</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.americamagazine.org/arts-culture/2017/09/26/corrosion-high-school-debate-and-how-it-mirrors-american-politics</dc:identifier>
</item>
<item>
<title>The web at maximum FPS: How WebRender gets rid of jank</title>
<link>https://hacks.mozilla.org/2017/10/the-whole-web-at-maximum-fps-how-webrender-gets-rid-of-jank/</link>
<guid isPermaLink="true" >https://hacks.mozilla.org/2017/10/the-whole-web-at-maximum-fps-how-webrender-gets-rid-of-jank/</guid>
<description>&lt;p&gt;The Firefox Quantum release is getting close. It brings many performance improvements, including the &lt;a href=&quot;https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/&quot;&gt;super fast CSS engine&lt;/a&gt; that we brought over from Servo.&lt;/p&gt;&lt;p&gt;But there’s another big piece of Servo technology that’s not in Firefox Quantum quite yet, though it’s coming soon. That’s WebRender, which is being added to Firefox as part of the Quantum Render project.&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/01.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31393&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/01-500x299.png&quot; alt=&quot;Drawing of a jet engine labeled with the different Project Quantum projects&quot; width=&quot;500&quot; height=&quot;299&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/01-500x299.png 500w, https://hacks.mozilla.org/files/2017/10/01-250x149.png 250w, https://hacks.mozilla.org/files/2017/10/01-768x459.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;WebRender is known for being extremely fast. But WebRender isn’t really about making rendering faster. It’s about making it smoother.&lt;/p&gt;
&lt;p&gt;With WebRender, we want apps to run at a silky smooth 60 frames per second (FPS) or better no matter how big the display is or how much of the page is changing from frame to frame. And it works. Pages that chug along at 15 FPS in Chrome or today’s Firefox &lt;a href=&quot;https://www.youtube.com/watch?v=u0hYIRQRiws&quot;&gt;run at 60 FPS with WebRender&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So how does WebRender do that? It fundamentally changes the way the rendering engine works to make it more like a 3D game engine.&lt;/p&gt;
&lt;p&gt;Let’s take a look at what this means. But first…&lt;/p&gt;
&lt;h3&gt;What does a renderer do?&lt;/h3&gt;
&lt;p&gt;In the &lt;a href=&quot;https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/&quot;&gt;article on Stylo&lt;/a&gt;, I talked about how the browser goes from HTML and CSS to pixels on the screen, and how most browsers do this in five steps.&lt;/p&gt;
&lt;p&gt;We can split these five steps into two halves. The first half basically builds up a plan. To make this plan, it combines the HTML and CSS with information like the viewport size to figure out exactly what each element should look like—its width, height, color, etc. The end result is something called a frame tree or a render tree.&lt;/p&gt;
&lt;p&gt;The second half—painting and compositing—is what a renderer does. It takes that plan and turns it into pixels to display on the screen.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/02.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31394&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/02-500x438.png&quot; alt=&quot;Diagram dividing the 5 stages of rendering into two groups, with a frame tree being passed from part 1 to part 2&quot; width=&quot;500&quot; height=&quot;438&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/02-500x438.png 500w, https://hacks.mozilla.org/files/2017/10/02-250x219.png 250w, https://hacks.mozilla.org/files/2017/10/02-768x673.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But the browser doesn’t just have to do this once for a web page. It has to do it over and over again for the same web page. Any time something changes on this page—for example, a div is toggled open—the browser has to go through a lot of these steps.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/03.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31395&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/03-500x245.png&quot; alt=&quot;Diagram showing the steps that get redone on a click: style, layout, paint, and composite&quot; width=&quot;500&quot; height=&quot;245&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/03-500x245.png 500w, https://hacks.mozilla.org/files/2017/10/03-250x123.png 250w, https://hacks.mozilla.org/files/2017/10/03-768x377.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Even in cases where nothing’s really changing on the page—for example where you’re scrolling or where you are highlighting some text on the page—the browser still has to go through at least some of the second part again to draw new pixels on the screen.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/04.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31396&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/04-500x244.png&quot; alt=&quot;Diagram showing the steps that get redone on scroll: composite&quot; width=&quot;500&quot; height=&quot;244&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/04-500x244.png 500w, https://hacks.mozilla.org/files/2017/10/04-250x122.png 250w, https://hacks.mozilla.org/files/2017/10/04-768x375.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you want things like scrolling or animation to look smooth, they need to be going at 60 frames per second.&lt;/p&gt;
&lt;p&gt;You may have heard this phrase—frames per second (FPS)—before, without being sure what it meant. I think of this like a flip book. It’s like a book of drawings that are static, but you can use your thumb to flip through so that it looks like the pages are animated.&lt;/p&gt;
&lt;p&gt;In order for the animation in this flip book to look smooth, you need to have 60 pages for every second in the animation.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-05.gif&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-31434&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-05.gif&quot; alt=&quot;Picture of a flipbook with a smooth animation next to it&quot; width=&quot;500&quot; height=&quot;163&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The pages in this flip book are made out of graph paper. There are lots and lots of little squares, and each of the squares can only contain one color.&lt;/p&gt;
&lt;p&gt;The job of the renderer is to fill in the boxes in this graph paper. Once all of the boxes in the graph paper are filled in, it is finished rendering the frame.&lt;/p&gt;
&lt;p&gt;Now, of course there is not actual graph paper inside of your computer. Instead, there’s a section of memory in the computer called a frame buffer. Each memory address in the frame buffer is like a box in the graph paper… it corresponds to a pixel on the screen. The browser will fill in each slot with the numbers that represent the color in RGBA (red, green, blue, and alpha) values.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/06.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31397&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/06-500x166.png&quot; alt=&quot;A stack of memory addresses with RGBA values that are correlated to squares in a grid (pixels)&quot; width=&quot;500&quot; height=&quot;166&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/06-500x166.png 500w, https://hacks.mozilla.org/files/2017/10/06-250x83.png 250w, https://hacks.mozilla.org/files/2017/10/06-768x255.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;When the display needs to refresh itself, it will look at this section of memory.&lt;/p&gt;
&lt;p&gt;Most computer displays will refresh 60 times per second. This is why browsers try to render pages at 60 frames per second. That means the browser has 16.67 milliseconds to do all of the setup —CSS styling, layout, painting—and fill in all of the slots in the frame buffer with pixel colors. This time frame between two frames (16.67 ms) is called the frame budget.&lt;/p&gt;
&lt;p&gt;Sometimes you hear people talk about dropped frames. A dropped frame is when the system doesn’t finish its work within the frame budget. The display tries to get the new frame from the frame buffer before the browser is done filling it in. In this case, the display shows the old version of the frame again.&lt;/p&gt;
&lt;p&gt;A dropped frame is kind of like if you tore a page out of that flip book. It would make the animation seem to stutter or jump because you’re missing the transition between the previous page and the next.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-07.gif&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-31435&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-07.gif&quot; alt=&quot;Picture of a flipbook missing a page with a janky animation next to it&quot; width=&quot;500&quot; height=&quot;163&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So we want to make sure that we get all of these pixels into the frame buffer before the display checks it again. Let’s look at how browsers have historically done this, and how that has changed over time. Then we can see how we can make this faster.&lt;/p&gt;
&lt;h3&gt;A brief history of painting and compositing&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Note: Painting and compositing is where browser rendering engines are the most different from each other. Single-platform browsers (Edge and Safari) work a bit differently than multi-platform browsers (Firefox and Chrome) do.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Even in the earliest browsers, there were some optimizations to make pages render faster. For example, if you were scrolling content, the browser would keep the part that was still visible and move it. Then it would paint new pixels in the blank spot.&lt;/p&gt;
&lt;p&gt;This process of figuring out what has changed and then only updating the changed elements or pixels is called invalidation.&lt;/p&gt;
&lt;p&gt;As time went on, browsers started applying more invalidation techniques, like rectangle invalidation. With rectangle invalidation, you figure out the smallest rectangle around each part of the screen that changed. Then, you only redraw what’s inside those rectangles.&lt;/p&gt;
&lt;p&gt;This really reduces the amount of work that you need to do when there’s not much changing on the page… for example, when you have a single blinking cursor.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-08.gif&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-31436&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-08.gif&quot; alt=&quot;Blinking cursor with small repaint rectangle around it&quot; width=&quot;500&quot; height=&quot;381&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But that doesn’t help much when large parts of the page are changing. So the browsers came up with new techniques to handle those cases.&lt;/p&gt;
&lt;h4&gt;Introducing layers and compositing&lt;/h4&gt;
&lt;p&gt;Using layers can help a lot when large parts of the page are changing… at least, in certain cases.&lt;/p&gt;
&lt;p&gt;The layers in browsers are a lot like layers in Photoshop, or the onion skin layers that were used in hand-drawn animation. Basically, you paint different elements of the page on different layers. Then you then place those layers on top of each other.&lt;/p&gt;
&lt;p&gt;They have been a part of the browser for a long time, but they weren’t always used to speed things up. At first, they were just used to make sure pages rendered correctly. They corresponded to something called stacking contexts.&lt;/p&gt;
&lt;p&gt;For example, if you had a translucent element, it would be in its own stacking context. That meant it got its own layer so you could blend its color with the color below it. These layers were thrown out as soon as the frame was done. On the next frame, all the layers would be repainted again.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/09.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31398&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/09-500x304.png&quot; alt=&quot;Layers for opacity generated, then frame rendered, then thrown out&quot; width=&quot;500&quot; height=&quot;304&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/09-500x304.png 500w, https://hacks.mozilla.org/files/2017/10/09-250x152.png 250w, https://hacks.mozilla.org/files/2017/10/09-768x467.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But often the things on these layers didn’t change from frame to frame. For example, think of a traditional animation. The background doesn’t change, even if the characters in the foreground do. It’s a lot more efficient to keep that background layer around and just reuse it.&lt;/p&gt;
&lt;p&gt;So that’s what browsers did. They retained the layers. Then the browser could just repaint layers that had changed. And in some cases, layers weren’t even changing. They just needed to be rearranged—for example, if an animation was moving across the screen, or something was being scrolled.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-10-1.gif&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-31437&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-10-1.gif&quot; alt=&quot;Two layers moving relative to each other as a scroll box is scrolled&quot; width=&quot;500&quot; height=&quot;661&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This process of arranging layers together is called compositing. The compositor starts with:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;source bitmaps: the background (including a blank box where the scrollable content should be) and the scrollable content itself&lt;/li&gt;
&lt;li&gt;a destination bitmap, which is what gets displayed on the screen&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;First, the compositor would copy the background to the destination bitmap.&lt;/p&gt;
&lt;p&gt;Then it would figure out what part of the scrollable content should be showing. It would copy that part over to the destination bitmap.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/11.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31399&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/11-500x243.png&quot; alt=&quot;Source bitmaps on the left, destination bitmap on the right&quot; width=&quot;500&quot; height=&quot;243&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/11-500x243.png 500w, https://hacks.mozilla.org/files/2017/10/11-250x122.png 250w, https://hacks.mozilla.org/files/2017/10/11-768x374.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This reduced the amount of painting that the main thread had to do. But it still means that the main thread is spending a lot of time on compositing. And there are lots of things competing for time on the main thread.&lt;/p&gt;
&lt;p&gt;I’ve talked about this before, but the main thread is kind of like a full-stack developer. It’s in charge of the DOM, layout, and JavaScript. And it also was in charge of painting and compositing.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/12.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31400&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/12-500x173.png&quot; alt=&quot;Main thread doing DOM, JS, and layout, plus paint and composite&quot; width=&quot;500&quot; height=&quot;173&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/12-500x173.png 500w, https://hacks.mozilla.org/files/2017/10/12-250x87.png 250w, https://hacks.mozilla.org/files/2017/10/12-768x266.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Every millisecond the main thread spends doing paint and composite is time it can’t spend on JavaScript or layout.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/13.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31430&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/13-500x202.png&quot; alt=&quot;CPU working on painting and thinking &amp;quot;I really should get to that JS soon&amp;quot;&quot; width=&quot;500&quot; height=&quot;202&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/13-500x202.png 500w, https://hacks.mozilla.org/files/2017/10/13-250x101.png 250w, https://hacks.mozilla.org/files/2017/10/13-768x310.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But there was another part of the hardware that was lying around without much work to do. And this hardware was specifically built for graphics. That was the GPU, which games have been using since the late 90s to render frames quickly. And GPUs have been getting bigger and more powerful ever since then.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/14.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31402&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/14-500x249.png&quot; alt=&quot;A drawing of a computer chip with 4 CPU cores and a GPU&quot; width=&quot;500&quot; height=&quot;249&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/14-500x249.png 500w, https://hacks.mozilla.org/files/2017/10/14-250x125.png 250w, https://hacks.mozilla.org/files/2017/10/14-768x383.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;GPU accelerated compositing&lt;/h4&gt;
&lt;p&gt;So browser developers started moving things over to the GPU.&lt;/p&gt;
&lt;p&gt;There are two tasks that could potentially move over to the GPU:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Painting the layers&lt;/li&gt;
&lt;li&gt;Compositing them together&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;It can be hard to move painting to the GPU. So for the most part, multi-platform browsers kept painting on the CPU.&lt;/p&gt;
&lt;p&gt;But compositing was something that the GPU could do very quickly, and it was easy to move over to the GPU.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/15.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31403&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/15-500x257.png&quot; alt=&quot;Main thread passing layers to GPU&quot; width=&quot;500&quot; height=&quot;257&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/15-500x257.png 500w, https://hacks.mozilla.org/files/2017/10/15-250x128.png 250w, https://hacks.mozilla.org/files/2017/10/15-768x394.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Some browsers took this parallelism even further and added a compositor thread on the CPU. It became a manager for the compositing work that was happening on the GPU. This meant that if the main thread was doing something (like running JavaScript), the compositor thread could still handle things for the user, like scrolling content up when the user scrolled.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/16.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31404&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/16-500x418.png&quot; alt=&quot;Compositor thread sitting between main thread and GPU, passing layers to GPU&quot; width=&quot;500&quot; height=&quot;418&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/16-500x418.png 500w, https://hacks.mozilla.org/files/2017/10/16-250x209.png 250w, https://hacks.mozilla.org/files/2017/10/16-768x642.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So this moves all of the compositing work off of the main thread. It still leaves a lot of work on the main thread, though. Whenever we need to repaint a layer, the main thread needs to do it, and then transfer that layer over to the GPU.&lt;/p&gt;
&lt;p&gt;Some browsers moved painting off to another thread (and we’re working on that in Firefox today). But it’s even faster to move this last little bit of work — painting — to the GPU.&lt;/p&gt;
&lt;h4&gt;GPU accelerated painting&lt;/h4&gt;
&lt;p&gt;So browsers started moving painting to the GPU, too.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/17.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31405&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/17-500x425.png&quot; alt=&quot;Paint and composite handled by the GPU&quot; width=&quot;500&quot; height=&quot;425&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/17-500x425.png 500w, https://hacks.mozilla.org/files/2017/10/17-250x212.png 250w, https://hacks.mozilla.org/files/2017/10/17-768x653.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Browsers are still in the process of making this shift. Some browsers paint on the GPU all of the time, while others only do it on certain platforms (like only on Windows, or only on mobile devices).&lt;/p&gt;
&lt;p&gt;Painting on the GPU does a few things. It frees up the CPU to spend all of its time doing things like JavaScript and layout. Plus, GPUs are much faster at drawing pixels than CPUs are, so it speeds painting up. It also means less data needs to be copied from the CPU to the GPU.&lt;/p&gt;
&lt;p&gt;But maintaining this division between paint and composite still has some costs, even when they are both on the GPU. This division also limits the kinds of optimizations that you can use to make the GPU do its work faster.&lt;/p&gt;
&lt;p&gt;This is where WebRender comes in. It fundamentally changes the way we render, removing the distinction between paint and composite. This gives us a way to tailor the performance of our renderer to give you the best user experience on today’s web, and to best support the use cases that you will see on tomorrow’s web.&lt;/p&gt;
&lt;p&gt;This means we don’t just want to make frames render faster… we want to make them render more consistently and without jank. And even when there are lots of pixels to draw, like on 4k displays or WebVR headsets, we still want the experience to be just as smooth.&lt;/p&gt;
&lt;h3&gt;When do current browsers get janky?&lt;/h3&gt;
&lt;p&gt;The optimizations above have helped pages render faster in certain cases. When not much is changing on a page—for example, when there’s just a single blinking cursor—the browser will do the least amount of work possible.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-08.gif&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-31436&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-08.gif&quot; alt=&quot;Blinking cursor with small repaint rectangle around it&quot; width=&quot;500&quot; height=&quot;381&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Breaking up pages into layers has expanded the number of those best-case scenarios. If you can paint a few layers and then just move them around relative to each other, then the painting+compositing architecture works well.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-18.gif&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-31438&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/a-18.gif&quot; alt=&quot;Rotating clock hand as a layer on top of another layer&quot; width=&quot;500&quot; height=&quot;381&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But there are also trade offs to using layers. They take up a lot of memory and can actually make things slower. Browsers need to combine layers where it makes sense… but it’s hard to tell where it makes sense.&lt;/p&gt;
&lt;p&gt;This means that if there are a lot of different things moving on the page, you can end up with too many layers. These layers fill up memory and take too long to transfer to the compositor.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/19.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31406&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/19-500x309.png&quot; alt=&quot;Many layers on top of each other&quot; width=&quot;500&quot; height=&quot;309&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/19-500x309.png 500w, https://hacks.mozilla.org/files/2017/10/19-250x155.png 250w, https://hacks.mozilla.org/files/2017/10/19-768x475.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Other times, you’ll end up with one layer when you should have multiple layers. That single layer will be continually repainted and transferred to the compositor, which then composites it without changing anything.&lt;/p&gt;
&lt;p&gt;This means you’ve doubled the amount of drawing you have to do, touching each pixel twice without getting any benefit. It would have been faster to simply render the page directly, without the compositing step.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/20.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31407&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/20-500x311.png&quot; alt=&quot;Paint and composite producing the same bitmap&quot; width=&quot;500&quot; height=&quot;311&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/20-500x311.png 500w, https://hacks.mozilla.org/files/2017/10/20-250x156.png 250w, https://hacks.mozilla.org/files/2017/10/20-768x478.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And there are lots of cases where layers just don’t help much. For example, if you animate background color, the whole layer has to be repainted anyway. These layers only help with a small number of CSS properties.&lt;/p&gt;
&lt;p&gt;Even if most of your frames are best-case scenarios—that is, they only take up a tiny bit of the frame budget—you can still get choppy motion. For perceptible jank, only a couple of frames need to fall into worst-case scenarios.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/21.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31408&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/21-500x69.png&quot; alt=&quot;Frame timeline with a few frames that go over the frame budget, causing jank&quot; width=&quot;500&quot; height=&quot;69&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/21-500x69.png 500w, https://hacks.mozilla.org/files/2017/10/21-250x34.png 250w, https://hacks.mozilla.org/files/2017/10/21-768x105.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;These scenarios are called performance cliffs. Your app seems to be moving along fine until it hits one of these worst-case scenarios (like animating background color) and all of the sudden your app’s frame rate topples over the edge.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/22.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31409&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/22-500x368.png&quot; alt=&quot;Person falling over the edge of a cliff labeled animating background color&quot; width=&quot;500&quot; height=&quot;368&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/22-500x368.png 500w, https://hacks.mozilla.org/files/2017/10/22-250x184.png 250w, https://hacks.mozilla.org/files/2017/10/22-768x566.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But we can get rid of these performance cliffs.&lt;/p&gt;
&lt;p&gt;How do we do this? We follow the lead of 3D game engines.&lt;/p&gt;
&lt;h3&gt;Using the GPU like a game engine&lt;/h3&gt;
&lt;p&gt;What if we stopped trying to guess what layers we need? What if we removed this boundary between painting and compositing and just went back to painting every pixel on every frame?&lt;/p&gt;
&lt;p&gt;This may sound like a ridiculous idea, but it actually has some precedent. Modern day video games repaint every pixel, and they maintain 60 frames per second more reliably than browsers do. And they do it in an unexpected way… instead of creating these invalidation rectangles and layers to minimize what they need to paint, they just repaint the whole screen.&lt;/p&gt;
&lt;p&gt;Wouldn’t rendering a web page like that be way slower?&lt;/p&gt;
&lt;p&gt;If we paint on the CPU, it would be. But GPUs are designed to make this work.&lt;/p&gt;
&lt;p&gt;GPUs are built for extreme parallelism. I talked about &lt;a href=&quot;https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/#parallel&quot;&gt;parallelism in my last article&lt;/a&gt; about Stylo. With parallelism, the machine can do multiple things at the same time. The number of things it can do at once is limited by the number of cores that it has.&lt;/p&gt;
&lt;p&gt;CPUs usually have between 2 and 8 cores. GPUs usually have at least a few hundred cores, and often more than 1,000 cores.&lt;/p&gt;
&lt;p&gt;These cores work a little differently, though. They can’t act completely independently like CPU cores can. Instead, they usually work on something together, running the same instruction on different pieces of the data.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/23.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31410&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/23-500x227.png&quot; alt=&quot;CPU cores working independently, GPU cores working together&quot; width=&quot;500&quot; height=&quot;227&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/23-500x227.png 500w, https://hacks.mozilla.org/files/2017/10/23-250x114.png 250w, https://hacks.mozilla.org/files/2017/10/23-768x349.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is exactly what you need when you’re filling in pixels. Each pixel can be filled in by a different core. Because it can work on hundreds of pixels at a time, the GPU is a lot faster at filling in pixels than the CPU… but only if you make sure all of those cores have work to do.&lt;/p&gt;
&lt;p&gt;Because cores need to work on the same thing at the same time, GPUs have a pretty rigid set of steps that they go through, and their APIs are pretty constrained. Let’s take a look at how this works.&lt;/p&gt;
&lt;p&gt;First, you need to tell the GPU what to draw. This means giving it shapes and telling it how to fill them in.&lt;/p&gt;
&lt;p&gt;To do this, you break up your drawing into simple shapes (usually triangles). These shapes are in 3D space, so some shapes can be behind others. Then you take all of the corners of those triangles and put their x, y, and z coordinates into an array.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/24.png&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-31442&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/24.png&quot; alt=&quot;&quot; width=&quot;4107&quot; height=&quot;2400&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/24.png 4107w, https://hacks.mozilla.org/files/2017/10/24-250x146.png 250w, https://hacks.mozilla.org/files/2017/10/24-768x449.png 768w, https://hacks.mozilla.org/files/2017/10/24-500x292.png 500w&quot; sizes=&quot;(max-width: 4107px) 100vw, 4107px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Then you issue a draw call—you tell the GPU to draw those shapes.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/25.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31411&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/25-500x337.png&quot; alt=&quot;CPU passing triangle coordinates to GPU&quot; width=&quot;500&quot; height=&quot;337&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/25-500x337.png 500w, https://hacks.mozilla.org/files/2017/10/25-250x168.png 250w, https://hacks.mozilla.org/files/2017/10/25-768x517.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;From there, the GPU takes over. All of the cores will work on the same thing at the same time. They will:&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Figure out where all of the corners of the shapes are. This is called vertex shading.&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/26.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31412&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/26-500x318.png&quot; alt=&quot;GPU cores drawing vertexes on a graph&quot; width=&quot;500&quot; height=&quot;318&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/26-500x318.png 500w, https://hacks.mozilla.org/files/2017/10/26-250x159.png 250w, https://hacks.mozilla.org/files/2017/10/26-768x489.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Figure out the lines that connect those corners. From this, you can figure out which pixels are covered by the shape. That’s called rasterization.&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/27.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31413&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/27-500x323.png&quot; alt=&quot;GPU cores drawing lines between vertexes&quot; width=&quot;500&quot; height=&quot;323&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/27-500x323.png 500w, https://hacks.mozilla.org/files/2017/10/27-250x161.png 250w, https://hacks.mozilla.org/files/2017/10/27-768x496.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Now that we know what pixels are covered by a shape, go through each pixel in the shape and figure out what color it should be. This is called pixel shading.&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/28.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31414&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/28-500x318.png&quot; alt=&quot;GPU cores filling in pixels&quot; width=&quot;500&quot; height=&quot;318&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/28-500x318.png 500w, https://hacks.mozilla.org/files/2017/10/28-250x159.png 250w, https://hacks.mozilla.org/files/2017/10/28-768x488.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;This last step can be done in different ways. To tell the GPU how to do it, you give the GPU a program called a pixel shader. Pixel shading is one of the few parts of the GPU that you can program.&lt;/p&gt;
&lt;p&gt;Some pixel shaders are simple. For example, if your shape is a single color, then your shader program just needs to return that color for each pixel in the shape.&lt;/p&gt;
&lt;p&gt;Other times, it’s more complex, like when you have a background image. You need to figure out which part of the image corresponds to each pixel. You can do this in the same way an artist scales an image up or down… put a grid on top of the image that corresponds to each pixel. Then, once you know which box corresponds to the pixel, take samples of the colors inside that box and figure out what the color should be. This is called texture mapping because it maps the image (called a texture) to the pixels.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/29.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31415&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/29-500x369.png&quot; alt=&quot;Hi-res image being mapped to a much lower resolution space&quot; width=&quot;500&quot; height=&quot;369&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/29-500x369.png 500w, https://hacks.mozilla.org/files/2017/10/29-250x185.png 250w, https://hacks.mozilla.org/files/2017/10/29-768x567.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The GPU will call your pixel shader program on each pixel. Different cores will work on different pixels at the same time, in parallel, but they all need to be using the same pixel shader program. When you tell the GPU to draw your shapes, you tell it which pixel shader to use.&lt;/p&gt;
&lt;p&gt;For almost any web page, different parts of the page will need to use different pixel shaders.&lt;/p&gt;
&lt;p&gt;Because the shader applies to all of the shapes in the draw call, you usually have to break up your draw calls in multiple groups. These are called batches. To keep all of the cores as busy as possible, you want to create a small number of batches which have lots of shapes in them.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/30.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31416&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/30-500x350.png&quot; alt=&quot;CPU passing a box containing lots of coordinates and a pixel shader to the GPU&quot; width=&quot;500&quot; height=&quot;350&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/30-500x350.png 500w, https://hacks.mozilla.org/files/2017/10/30-250x175.png 250w, https://hacks.mozilla.org/files/2017/10/30-768x537.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So that’s how the GPU splits up work across hundreds or thousands of cores. It’s only because of this extreme parallelism that we can think of rendering everything on each frame. Even with the extreme parallelism, though, it’s still a lot of work. You still need to be smart about how you do this. Here’s where WebRender comes in…&lt;/p&gt;
&lt;h3&gt;How WebRender works with the GPU&lt;/h3&gt;
&lt;p&gt;Let’s go back to look at the steps the browser goes through to render the page. Two things will change here.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/31.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31417&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/31-500x354.png&quot; alt=&quot;Diagram showing the stages of the rendering pipeline with two changes. The frame tree is now a display list an paint and composite have been combined into Render.&quot; width=&quot;500&quot; height=&quot;354&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/31-500x354.png 500w, https://hacks.mozilla.org/files/2017/10/31-250x177.png 250w, https://hacks.mozilla.org/files/2017/10/31-768x544.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;There’s no longer a distinction between paint and composite… they are both part of the same step. The GPU does them at the same time based on the graphics API commands that were passed to it.&lt;/li&gt;
&lt;li&gt;Layout now gives us a different data structure to render. Before, it was something called a frame tree (or render tree in Chrome). Now, it passes off a display list.&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;The display list is a set of high-level drawing instructions. It tells us what we need to draw without being specific to any graphics API.&lt;/p&gt;
&lt;p&gt;Whenever there’s something new to draw, the main thread gives that display list to the RenderBackend, which is WebRender code that runs on the CPU.&lt;/p&gt;
&lt;p&gt;The RenderBackend’s job is to take this list of high-level drawing instructions and convert it to the draw calls that the GPU needs, which are batched together to make them run faster.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/32.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31418&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/32-500x560.png&quot; alt=&quot;Diagram of the 4 different threads, with a RenderBackend thread between the main thread and compositor thread. The RenderBackend thread translates the display list into batched draw calls&quot; width=&quot;500&quot; height=&quot;560&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/32-500x560.png 500w, https://hacks.mozilla.org/files/2017/10/32-250x280.png 250w, https://hacks.mozilla.org/files/2017/10/32-768x860.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Then the RenderBackend will pass those batches off to the compositor thread, which passes them to the GPU.&lt;/p&gt;
&lt;p&gt;The RenderBackend wants to make the draw calls it’s giving to the GPU as fast to run as possible. It uses a few different techniques for this.&lt;/p&gt;
&lt;h4&gt;Removing any unnecessary shapes from the list (Early culling)&lt;/h4&gt;
&lt;p&gt;The best way to save time is to not do the work at all.&lt;/p&gt;
&lt;p&gt;First, the RenderBackend cuts down the list of display items. It figures out which display items will actually be on the screen. To do this, it looks at things like how far down the scroll is for each scroll box.&lt;/p&gt;
&lt;p&gt;If any part of a shape is inside the box, then it is included. If none of the shape would have shown up on the page, though, it’s removed. This process is called early culling.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/33.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31419&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/33-500x270.png&quot; alt=&quot;A browser window with some parts off screen. Next to that is a display list with the offscreen elements removed&quot; width=&quot;500&quot; height=&quot;270&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/33-500x270.png 500w, https://hacks.mozilla.org/files/2017/10/33-250x135.png 250w, https://hacks.mozilla.org/files/2017/10/33-768x415.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Minimizing the number of intermediate textures (The render task tree)&lt;/h4&gt;
&lt;p&gt;Now we have a tree that only contains the shapes we’ll use. This tree is organized into those stacking contexts we talked about before.&lt;/p&gt;
&lt;p&gt;Effects like CSS filters and stacking contexts make things a little complicated. For example, let’s say you have an element that has an opacity of 0.5 and it has children. You might think that each child is transparent… but it’s actually the whole group that’s transparent.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/34.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31420&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/34-500x265.png&quot; alt=&quot;Three overlapping boxes that are translucent, so they show through each other, next to a translucent shape formed by the three boxes where the boxes don't show through each other&quot; width=&quot;500&quot; height=&quot;265&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/34-500x265.png 500w, https://hacks.mozilla.org/files/2017/10/34-250x133.png 250w, https://hacks.mozilla.org/files/2017/10/34-768x407.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Because of this, you need to render the group out to a texture first, with each box at full opacity. Then, when you’re placing it in the parent, you can change the opacity of the whole texture.&lt;/p&gt;
&lt;p&gt;These stacking contexts can be nested… that parent might be part of another stacking context. Which means it has to be rendered out to another intermediate texture, and so on.&lt;/p&gt;
&lt;p&gt;Creating the space for these textures is expensive. As much as possible, we want to group things into the same intermediate texture.&lt;/p&gt;
&lt;p&gt;To help the GPU do this, we create a render task tree. With it, we know which textures need to be created before other textures. Any textures that don’t depend on others can be created in the first pass, which means they can be grouped together in the same intermediate texture.&lt;/p&gt;
&lt;p&gt;So in the example above, we’d first do a pass to output one corner of a box shadow. (It’s slightly more complicated than this, but this is the gist.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/35.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31421&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/35-500x202.png&quot; alt=&quot;A 3-level tree with a root, then an opacity child, which has three box shadow children. Next to that is a render target with a box shadow corner&quot; width=&quot;500&quot; height=&quot;202&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/35-500x202.png 500w, https://hacks.mozilla.org/files/2017/10/35-250x101.png 250w, https://hacks.mozilla.org/files/2017/10/35-768x311.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In the second pass, we can mirror this corner all around the box to place the box shadow on the boxes. Then we can render out the group at full opacity.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/36.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31422&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/36-500x179.png&quot; alt=&quot;Same 3-level tree with a render target with the 3 box shape at full opacity&quot; width=&quot;500&quot; height=&quot;179&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/36-500x179.png 500w, https://hacks.mozilla.org/files/2017/10/36-250x89.png 250w, https://hacks.mozilla.org/files/2017/10/36-768x274.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Next, all we need to do is change the opacity of this texture and place it where it needs to go in the final texture that will be output to the screen.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/37.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31423&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/37-500x171.png&quot; alt=&quot;Same tree with the destination target showing the 3 box shape at decreased opacity&quot; width=&quot;500&quot; height=&quot;171&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/37-500x171.png 500w, https://hacks.mozilla.org/files/2017/10/37-250x86.png 250w, https://hacks.mozilla.org/files/2017/10/37-768x263.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;By building up this render task tree, we figure out the minimum number of offscreen render targets we can use. That’s good, because as I mentioned, creating the space for these render target textures is expensive.&lt;/p&gt;
&lt;p&gt;It also helps us batch things together.&lt;/p&gt;
&lt;h4&gt;Grouping draw calls together (Batching)&lt;/h4&gt;
&lt;p&gt;As we talked about before, we need to create a small number of batches which have lots of shapes in them.&lt;/p&gt;
&lt;p&gt;Paying attention to how you create batches can really speed things up. You want to have as many shapes in the same batch as you can. This is for a couple of reasons.&lt;/p&gt;
&lt;p&gt;First, whenever the CPU tells the GPU to do a draw call, the CPU has to do a lot of work. It has to do things like set up the GPU, upload the shader program, and test for different hardware bugs. This work adds up, and while the CPU is doing this work, the GPU might be idle.&lt;/p&gt;
&lt;p&gt;Second, there’s a cost to changing state. Let’s say that you need to change the shader program between batches. On a typical GPU, you need to wait until all of the cores are done with the current shader. This is called draining the pipeline. Until the pipeline is drained, other cores will be sitting idle.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/38.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31424&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/38-500x216.png&quot; alt=&quot;Mulitple GPU cores standing around while one finishes with the previous pixel shader&quot; width=&quot;500&quot; height=&quot;216&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/38-500x216.png 500w, https://hacks.mozilla.org/files/2017/10/38-250x108.png 250w, https://hacks.mozilla.org/files/2017/10/38-768x332.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Because of this, you want to batch as much as possible. For a typical desktop PC, you want to have 100 draw calls or fewer per frame, and you want each call to have thousands of vertices. That way, you’re making the best use of the parallelism.&lt;/p&gt;
&lt;p&gt;We look at each pass from the render task tree and figure out what we can batch together.&lt;/p&gt;
&lt;p&gt;At the moment, each of the different kinds of primitives requires a different shader. For example, there’s a border shader, and a text shader, and an image shader.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/39.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31425&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/39-500x130.png&quot; alt=&quot;Boxes labeled with the type of batch they contain (e.g. Borders, Images, Rectangles)&quot; width=&quot;500&quot; height=&quot;130&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/39-500x130.png 500w, https://hacks.mozilla.org/files/2017/10/39-250x65.png 250w, https://hacks.mozilla.org/files/2017/10/39-768x200.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We believe we can combine a lot of these shaders, which will allow us to have even bigger batches, but this is already pretty well batched.&lt;/p&gt;
&lt;p&gt;We’re almost ready to send it off to the GPU. But there’s a little bit more work we can eliminate.&lt;/p&gt;
&lt;h4&gt;Reducing pixel shading with opaque and alpha passes (Z-culling)&lt;/h4&gt;
&lt;p&gt;Most web pages have lots of shapes overlapping each other. For example, a text field sits on top of a div (with a background) which sits on top of the body (with another background).&lt;/p&gt;
&lt;p&gt;When it’s figuring out the color for a pixel, the GPU could figure out the color of the pixel in each shape. But only the top layer is going to show. This is called overdraw and it wastes GPU time.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/40.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31426&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/40-500x353.png&quot; alt=&quot;3 layers on top of each other with a single overlapping pixel called out across all three layers&quot; width=&quot;500&quot; height=&quot;353&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/40-500x353.png 500w, https://hacks.mozilla.org/files/2017/10/40-250x177.png 250w, https://hacks.mozilla.org/files/2017/10/40-768x543.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So one thing you could do is render the top shape first. For the next shape, when you get to that same pixel, check whether or not there’s already a value for it. If there is, then don’t do the work.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/41.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31427&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/41-500x332.png&quot; alt=&quot;3 layers where the overlapping pixel isn't filled in on the 2 bottom layers&quot; width=&quot;500&quot; height=&quot;332&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/41-500x332.png 500w, https://hacks.mozilla.org/files/2017/10/41-250x166.png 250w, https://hacks.mozilla.org/files/2017/10/41-768x510.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There’s a little bit of a problem with this, though. Whenever a shape is translucent, you need to blend the colors of the two shapes. And in order for it to look right, that needs to happen back to front.&lt;/p&gt;
&lt;p&gt;So what we do is split the work into two passes. First, we do the opaque pass. We go front to back and render all of the opaque shapes. We skip any pixels that are behind others.&lt;/p&gt;
&lt;p&gt;Then, we do the translucent shapes. These are rendered back to front. If a translucent pixel falls on top of an opaque one, it gets blended into the opaque one. If it would fall behind an opaque shape, it doesn’t get calculated.&lt;/p&gt;
&lt;p&gt;This process of splitting the work into opaque and alpha passes and then skipping pixel calculations that you don’t need is called Z-culling.&lt;/p&gt;
&lt;p&gt;While it may seem like a simple optimization, this has produced very big wins for us. On a typical web page, it vastly reduces the number of pixels that we need to touch, and we’re currently looking at ways to move more work to the opaque pass.&lt;/p&gt;
&lt;p&gt;At this point, we’ve prepared the frame. We’ve done as much as we can to eliminate work.&lt;/p&gt;
&lt;h4&gt;… And we’re ready to draw!&lt;/h4&gt;
&lt;p&gt;We’re ready to setup the GPU and render our batches.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/42.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-31428&quot; src=&quot;https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/10/42-500x560.png&quot; alt=&quot;Diagram of the 4 threads with compositor thread passing off opaque pass and alpha pass to GPU&quot; width=&quot;500&quot; height=&quot;560&quot; srcset=&quot;https://hacks.mozilla.org/files/2017/10/42-500x560.png 500w, https://hacks.mozilla.org/files/2017/10/42-250x280.png 250w, https://hacks.mozilla.org/files/2017/10/42-768x860.png 768w&quot; sizes=&quot;(max-width: 500px) 100vw, 500px&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;A caveat: not everything is on the GPU yet&lt;/h4&gt;
&lt;p&gt;The CPU still has to do some painting work. For example, we still render the characters (called glyphs) that are used in blocks of text on the CPU. It’s possible to do this on the GPU, but it’s hard to get a pixel-for-pixel match with the glyphs that the computer renders in other applications. So people can find it disorienting to see GPU-rendered fonts. We are experimenting with moving things like glyphs to the GPU with the &lt;a href=&quot;https://github.com/pcwalton/pathfinder&quot;&gt;Pathfinder project&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For now, these things get painted into bitmaps on the CPU. Then they are uploaded to something called the texture cache on the GPU. This cache is kept around from frame to frame because they usually don’t change.&lt;/p&gt;
&lt;p&gt;Even though this painting work is staying on the CPU, we can still make it faster than it is now. For example, when we’re painting the characters in a font, we split up the different characters across all of the cores. We do this using the same technique that Stylo uses to parallelize style computation… &lt;a href=&quot;https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/#work-stealing&quot;&gt;work stealing&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;What’s next for WebRender?&lt;/h3&gt;
&lt;p&gt;We look forward to landing WebRender in Firefox as part of Quantum Render in 2018, a few releases after the initial Firefox Quantum release. This will make today’s pages run more smoothly. It also gets Firefox ready for the new wave of high-resolution 4K displays, because rendering performance becomes more critical as you increase the number of pixels on the screen.&lt;/p&gt;
&lt;p&gt;But WebRender isn’t just useful for Firefox. It’s also critical to the work we’re doing with WebVR, where you need to render a different frame for each eye at 90 FPS at 4K resolution.&lt;/p&gt;
&lt;p&gt;An early version of WebRender is currently available behind a flag in Firefox. Integration work is still in progress, so the performance is currently not as good as it will be when that is complete. If you want to keep up with WebRender development, you can follow the &lt;a href=&quot;https://github.com/servo/webrender&quot;&gt;GitHub repo&lt;/a&gt;, or follow &lt;a href=&quot;https://twitter.com/firefoxnightly&quot;&gt;Firefox Nightly on Twitter&lt;/a&gt; for weekly updates on the whole Quantum Render project.&lt;/p&gt;
&lt;section class=&quot;about&quot; readability=&quot;6.5970873786408&quot;&gt;
&lt;p&gt;Lin is an engineer on the Mozilla Developer Relations team. She tinkers with JavaScript, WebAssembly, Rust, and Servo, and also draws code cartoons.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;url&quot; href=&quot;https://hacks.mozilla.org/author/lclarkmozilla-com/&quot;&gt;More articles by Lin Clark…&lt;/a&gt;&lt;/p&gt;
&lt;/section&gt;</description>
<pubDate>Tue, 10 Oct 2017 15:37:35 +0000</pubDate>
<dc:creator>bpierre</dc:creator>
<og:url>https://hacks.mozilla.org/2017/10/the-whole-web-at-maximum-fps-how-webrender-gets-rid-of-jank/</og:url>
<og:title>The whole web at maximum FPS: How WebRender gets rid of jank</og:title>
<og:description>The Firefox Quantum release is getting close. It brings many performance improvements, including the super fast CSS engine that we brought over from Servo. But ...</og:description>
<og:image>https://hacks.mozilla.org/files/2017/10/01-500x299.png</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://hacks.mozilla.org/2017/10/the-whole-web-at-maximum-fps-how-webrender-gets-rid-of-jank/</dc:identifier>
</item>
<item>
<title>CircleCI trusts 8 analytics companies with your source code and API tokens</title>
<link>https://kev.inburke.com/kevin/circleci-is-hopelessly-insecure/</link>
<guid isPermaLink="true" >https://kev.inburke.com/kevin/circleci-is-hopelessly-insecure/</guid>
<description>&lt;p&gt;When you navigate to your project in CircleCI's UI, Javascript from &lt;em&gt;eight&lt;/em&gt; different analytics companies gets loaded and executed in your browser.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Pusher&lt;/li&gt;
&lt;li&gt;Intercom&lt;/li&gt;
&lt;li&gt;Launch Darkly&lt;/li&gt;
&lt;li&gt;Amplitude&lt;/li&gt;
&lt;li&gt;Appcues&lt;/li&gt;
&lt;li&gt;Quora (??)&lt;/li&gt;
&lt;li&gt;elev.io&lt;/li&gt;
&lt;li&gt;Optimizely&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;You can see this in my Network tab here:&lt;/p&gt;
&lt;img src=&quot;https://kev.inburke.com/rawblog/images/circleci-scripts.png&quot; alt=&quot;CircleCI network requests&quot;/&gt;&lt;p&gt;This is a problem because the CircleCI browser context has full access to the CircleCI API, which is hosted on the same domain, so all eight of those companies' scripts can make requests to CircleCI API endpoints. Furthermore CircleCI customers frequently either include credentials in source code or as environment variables in CircleCI. Set these, and you are trusting that CircleCI won't get compromised, or at least, your application is at most as secure as CircleCI is.&lt;/p&gt;
&lt;p&gt;However, with eight different companies running Javascript in your browser with access to the CircleCI API, your source code and secrets are at most as secure as the union of &lt;em&gt;eight&lt;/em&gt; different analytics companies' Javascript environments. If any of those eight gets compromised, it's trivial to execute Javascript that creates a new API token for your account. Once that token is created, an attacker can easily export it to a domain controlled by the attacker. Once an attacker has the token, they can use the &quot;Test Commands&quot; API to add new commands that will dump your environment variables and/or all files in source code to the logs, then download your logs or artifacts via the same API.&lt;/p&gt;
&lt;p&gt;Analytics companies frequently get hacked, serve malware or otherwise contain vulnerabilities. Just last week it was revealed that &quot;Code Hive&quot; was &lt;a href=&quot;https://www.theregister.co.uk/2017/09/25/showtime_hit_with_coinmining_script/&quot;&gt;running coin mining code on CBS's website&lt;/a&gt;. In 2014, &lt;a href=&quot;http://www.riskiq.com/blog/business#/post/jquerycom-malware-attack-puts-privileged-enterprise-it-accounts-at-risk&quot;&gt;jQuery.com was compromised&lt;/a&gt; and used to serve malware. If the same happened to any of the eight companies, you would be screwed.&lt;/p&gt;
&lt;p&gt;This is frankly unacceptable for a company that manages source code and secrets for a large number of companies in the industry. It's unacceptable enough that your browsing data on CircleCI is potentially exposed to eight different companies, let alone API access to your source code. There are a number of steps you can take to mitigate the issue:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;Put all domains used by the above servers in /etc/hosts, for each machine and each person on your team that accesses CircleCI. I &lt;a href=&quot;https://github.com/kevinburke/hostsfile&quot;&gt;have a tool that you can use to automate this process&lt;/a&gt;. However, this may break Javascript on CircleCI or other sites that are not coded in a defensive style.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Only use command line tools + API's to access CircleCI. I have &lt;a href=&quot;https://github.com/kevinburke/go-circle&quot;&gt;written one such tool&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If there is an API to disable the &quot;Test Commands&quot; setting, turn it off, as an attacker can use that to put data in logs or artifacts without being able to control the circle.yml file or push to Github.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don't put any sensitive keys in CircleCI, or in source code; inject them directly into the production runtime.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Demand that CircleCI take steps to make their dashboard and your source code more secure.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Finally, there are a number of steps CircleCI should enable immediately:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;Don't load analytics scripts from eight different companies on pages that contain sensitive content, or that have access to the CircleCI &quot;create token&quot; API. Host the dashboard and API on a separate domain from the marketing page.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Send an email any time an API access token is created. Add a setting to allow org-wide disabling of API token creation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add an option to disable the &quot;Test Commands&quot; API, as this would allow an attacker without access to Github to place whatever content they want (source code/environment variables) in logs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add an option to delete old logs. If you have ever dumped env vars to the log file, an attacker can export these.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enable subresource integrity, or serve JS from each of these companies from the CircleCI domain.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;With embarrassing compromises literally every week, and new Congressional scrutiny into Facebook and Google's advertising practices in the 2016 election, as an industry we need to do better on issues like this.&lt;/p&gt;
&lt;h3&gt;Notes&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Why don't you include a POC?&lt;/em&gt; I have one that demonstrates this attack, but I don't want to show script kiddies how. If you can't figure out how to construct it by reading the above description and the network traffic, you don't deserve to know how.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Liked what you read?&lt;/strong&gt; I am &lt;a href=&quot;https://burke.services&quot;&gt;available for hire.&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 10 Oct 2017 15:32:41 +0000</pubDate>
<dc:creator>tomwas54</dc:creator>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://kev.inburke.com/kevin/circleci-is-hopelessly-insecure/</dc:identifier>
</item>
<item>
<title>iOS Privacy: Easily get a user&amp;#039;s Apple ID password, just by asking</title>
<link>https://krausefx.com/blog/ios-privacy-stealpassword-easily-get-the-users-apple-id-password-just-by-asking</link>
<guid isPermaLink="true" >https://krausefx.com/blog/ios-privacy-stealpassword-easily-get-the-users-apple-id-password-just-by-asking</guid>
<description>&lt;div class=&quot;sqs-layout sqs-grid-12 columns-12&quot; data-layout-label=&quot;Post Body&quot; data-type=&quot;item&quot; data-updated-on=&quot;1507629015798&quot; id=&quot;item-59dc97382aeba5231a559ae4&quot;&gt;
&lt;div class=&quot;row sqs-row&quot;&gt;
&lt;div class=&quot;col sqs-col-12 span-12&quot;&gt;
&lt;div class=&quot;sqs-block html-block sqs-block-html&quot; data-block-type=&quot;2&quot; id=&quot;block-yui_3_17_2_1_1507628808581_33253&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;p&gt;Do you want the user's Apple ID password, to get access to their Apple account, or to try the same email/password combination on different web services? Just ask your users politely, they'll probably just hand over their credentials, as they're trained to do so 👌&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block image-block sqs-block-image&quot; data-block-type=&quot;5&quot; id=&quot;block-yui_3_17_2_1_1507628808581_16661&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;div class=&quot;image-block-outer-wrapper layout-caption-below design-layout-inline&quot;&gt;
&lt;div class=&quot;intrinsic&quot;&gt;
&lt;div class=&quot;image-block-wrapper lightbox has-aspect-ratio&quot; data-description=&quot;&quot; data-lightbox-theme=&quot;dark&quot;&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dc97a83e00bed1b42c0096/1507631710330/&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;img class=&quot;thumb-image&quot; data-src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dc97a83e00bed1b42c0096/1507631710330/&quot; data-image=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dc97a83e00bed1b42c0096/1507631710330/&quot; data-image-dimensions=&quot;2010x1808&quot; data-image-focal-point=&quot;0.5,0.5&quot; data-load=&quot;false&quot; data-image-id=&quot;59dc97a83e00bed1b42c0096&quot; data-type=&quot;image&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block image-block sqs-block-image&quot; data-block-type=&quot;5&quot; id=&quot;block-yui_3_17_2_1_1507628808581_33714&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;div class=&quot;image-block-outer-wrapper layout-caption-below design-layout-inline&quot;&gt;
&lt;div class=&quot;intrinsic&quot;&gt;
&lt;div class=&quot;image-block-wrapper lightbox has-aspect-ratio&quot; data-description=&quot;&quot; data-lightbox-theme=&quot;dark&quot;&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca223197aeaa9a5932f2e/1507631701259/&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;img class=&quot;thumb-image&quot; data-src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca223197aeaa9a5932f2e/1507631701259/&quot; data-image=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca223197aeaa9a5932f2e/1507631701259/&quot; data-image-dimensions=&quot;1996x1798&quot; data-image-focal-point=&quot;0.5,0.5&quot; data-load=&quot;false&quot; data-image-id=&quot;59dca223197aeaa9a5932f2e&quot; data-type=&quot;image&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block html-block sqs-block-html&quot; data-block-type=&quot;2&quot; id=&quot;block-9278b67622ec3154d18e&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;h2&gt;Disclaimer&lt;/h2&gt;
&lt;p&gt;This is just a proof of concept, phishing attacks are illegal! Don't use this in any of your apps. The goal of this blog post is to close the loophole that has been there for many years, and hasn't been addressed yet. For moral reasons, I decided not to include the actual source code of the popup, however it was shockingly easy to replicate the system dialog.&lt;/p&gt;
&lt;h2&gt;Why does this work?&lt;/h2&gt;
&lt;p&gt;iOS asks the user for their iTunes password for many reasons, the most common ones are recently installed iOS operating system updates, or iOS apps that are stuck during installation.&lt;/p&gt;
&lt;p&gt;As a result, users are trained to just enter their Apple ID password whenever iOS prompts you to do so. However, those popups are not only shown on the lock screen, and the home screen, but also inside random apps, e.g. when they want to access iCloud, GameCenter or In-App-Purchases.&lt;/p&gt;
&lt;p&gt;This could easily be abused by any app, just by showing an UIAlertController, that looks exactly like the system dialog.&lt;/p&gt;
&lt;p&gt;Even users who know a lot about technology have a hard time detecting that those alerts are phishing attacks.&lt;/p&gt;
&lt;h2&gt;How can you protect yourself&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;Hit the home button, and see if the app quits:
&lt;ul&gt;&lt;li&gt;If it closes the app, and with it the dialog, then this was a phishing attack&lt;/li&gt;
&lt;li&gt;If the dialog and the app are still visible, then it's a system dialog. The reason for that is that the system dialogs run on a different process, and not as part of any iOS app.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Don't enter your credentials into a popup, instead, dismiss it, and open the Settings app manually. This is the same concept, like you should never click on links on emails, but instead open the website manually&lt;/li&gt;
&lt;li&gt;If you hit the Cancel button on a dialog, the app still gets access to the content of the password field. Even after entering the first characters, the app probably already has your password.&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Initially I thought, faking those alerts requires the app developer to know your email. Turns out, some of those auth popups don't include the email address, making it even easier for phishing apps to ask for the password.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block image-block sqs-block-image&quot; data-block-type=&quot;5&quot; id=&quot;block-yui_3_17_2_1_1507628808581_40680&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;div class=&quot;image-block-outer-wrapper layout-caption-below design-layout-inline&quot;&gt;
&lt;div class=&quot;intrinsic&quot;&gt;
&lt;div class=&quot;image-block-wrapper lightbox has-aspect-ratio&quot; data-description=&quot;&quot; data-lightbox-theme=&quot;dark&quot;&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca2accf81e0c47e1e7144/1507631811313/&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;img class=&quot;thumb-image&quot; data-src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca2accf81e0c47e1e7144/1507631811313/&quot; data-image=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca2accf81e0c47e1e7144/1507631811313/&quot; data-image-dimensions=&quot;1926x1720&quot; data-image-focal-point=&quot;0.5,0.5&quot; data-load=&quot;false&quot; data-image-id=&quot;59dca2accf81e0c47e1e7144&quot; data-type=&quot;image&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block html-block sqs-block-html&quot; data-block-type=&quot;2&quot; id=&quot;block-yui_3_17_2_1_1507628808581_40958&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;h2&gt;Proposal&lt;/h2&gt;
&lt;p&gt;Modern web browsers already do an excellent job protecting users from phishing attacks. Phishing within mobile apps is a rather new concept, and therefore still pretty unexplored.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;When asking for the Apple ID from the user, instead of asking for the password directly, ask them to open the settings app&lt;/li&gt;
&lt;li&gt;Fix the root of the problem, users shouldn't constantly be asked for their credentials. It doesn't affect all users, but I myself had this issue for many months, until it randomly disappeared.&lt;/li&gt;
&lt;li&gt;Dialogs from apps could contain the app icon on the top right of the dialog, to indicate an app is asking you, and not the system. This approach is used by push notifications also, this way, an app can't just send push notifications as the iTunes app.&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block image-block sqs-block-image sqs-col-4 span-4 float float-right&quot; data-block-type=&quot;5&quot; id=&quot;block-yui_3_17_2_1_1507628808581_67264&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;div class=&quot;image-block-outer-wrapper layout-caption-below design-layout-inline&quot;&gt;
&lt;div class=&quot;intrinsic&quot;&gt;
&lt;div class=&quot;image-block-wrapper lightbox has-aspect-ratio&quot; data-description=&quot;&quot; data-lightbox-theme=&quot;dark&quot;&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca405c534a5f23644c180/1507632212491/&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;img class=&quot;thumb-image&quot; data-src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca405c534a5f23644c180/1507632212491/&quot; data-image=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca405c534a5f23644c180/1507632212491/&quot; data-image-dimensions=&quot;750x608&quot; data-image-focal-point=&quot;0.5,0.5&quot; data-load=&quot;false&quot; data-image-id=&quot;59dca405c534a5f23644c180&quot; data-type=&quot;image&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block html-block sqs-block-html&quot; data-block-type=&quot;2&quot; id=&quot;block-yui_3_17_2_3_1507632040757_20446&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;p&gt;I've reported this as a radar, which you can dupe: &lt;a href=&quot;https://openradar.appspot.com/radar?id=4952345645416448&quot;&gt;rdar://34885659&lt;/a&gt; 👍&lt;/p&gt;
&lt;p&gt;Sometimes iOS shows the following notification on the lock screen, which opens up the iCloud Settings screen, this is a much better approach than to ask for the password directly: &lt;/p&gt;
&lt;h2&gt;Complexity&lt;/h2&gt;
&lt;p&gt;Showing a dialog that looks just like a system popup is super easy, there is no magic or secret code involved, it's literally the examples provided in the Apple docs, with a custom text.&lt;/p&gt;
&lt;p&gt;I decided not to open source the actual popup code, however, note that it's less than 30 lines of code and every iOS engineer will be able to quickly build their own phishing code.&lt;/p&gt;
&lt;h2&gt;Q&amp;amp;A&lt;/h2&gt;
&lt;p&gt;Imagine if everybody read this before posting a comment on HackerNews/Reddit #oneCanDream :)&lt;/p&gt;
&lt;h3&gt;But, I have 2-factor enabled, I'm safe, right?&lt;/h3&gt;
&lt;p&gt;Good for you, everybody should use 2-step verification obviously, however many people don't. At the same time, even if your Apple account is 2FA protected, many users still use the same username/password combination on most web services, meaning if hackers know your Apple ID password, chances are high, they're gonna try the same combination on other common services.&lt;/p&gt;
&lt;p&gt;Also, even with 2FA enabled accounts, what if the app asked you for your 2 step code? Most users would gladly request a 2FA-token and ask for it, and directly pipe it over to a remote server.&lt;/p&gt;
&lt;h3&gt;Apple would never accept such an app, right?&lt;/h3&gt;
&lt;p&gt;Apple is doing a great job protecting users from dangerous third party apps, that's why the App Store is built and provided like it is, that's why we code sign our application (&lt;a href=&quot;https://krausefx.com/blog/the-developer-part-of-ios-code-signing-doesnt-add-any-security-to-anything&quot;&gt;not really, but kind of&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;However, it's rather easy to run certain code only after the app is approved, those are not new ideas, but just to give you some ideas:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Use remote code (which is not allowed by itself, except for JavaScript), React Native or a custom JS bridge is your friend&lt;/li&gt;
&lt;li&gt;Use the iTunes search API to compare the current version number with the App Store version number (&lt;a href=&quot;https://itunes.apple.com/lookup?bundleId=com.Facebook.Facebook&quot;&gt;example request&lt;/a&gt;), this way the app can automatically enable malicious code after it got approved.&lt;/li&gt;
&lt;li&gt;Use a remote configuration tool to enable a feature only after an app is approved by Apple&lt;/li&gt;
&lt;li&gt;Use a time-based trigger: just skip running certain code for the first week after submitting the binary, meaning the code will only run once the app is either approved or rejected.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.theverge.com/2017/4/23/15399438/apple-uber-app-store-fingerprint-program-tim-cook-travis-kalanick&quot;&gt;Pull an Uber and don't run certain code when the location is near Cupertino&lt;/a&gt; (it's probably fixed by Apple by now)&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;The things above is public knowledge, most iOS developers are aware, and I strongly advise against using any of this, Apple will eventually catch you and block your account.&lt;/p&gt;
&lt;p&gt;The point of this list is: While the review process provides a basic safety filter, organisations with bad intent will always find a way to somehow work around the limitations of a platform.&lt;/p&gt;
&lt;h3&gt;Phishing on mobile? Is that a thing now?&lt;/h3&gt;
&lt;p&gt;This area will become more and more relevant, with users being uninformed, and the mobile operating systems not yet clearly separating system UI and app UI. This is kind of related to &lt;a href=&quot;https://github.com/KrauseFx/detect.location&quot;&gt;detect.location&lt;/a&gt;, where apps would write their own, custom image picker to provide a better &quot;experience&quot;, but in reality, with that, they also get full access to your image library, and optionally also your camera (related to &lt;a href=&quot;https://github.com/KrauseFx/watch.user&quot;&gt;watch.user&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;iOS should very clearly distinguish between system UI and app UI elements, so that ideally it's even obvious for the average smartphone user that something seems off. This is a tricky problem to solve, and web browser are still tackling it, you still have websites that make popups look like macOS / iOS popups, so that many users think it's a system message.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block image-block sqs-block-image sqs-col-5 span-5 float float-right&quot; data-block-type=&quot;5&quot; id=&quot;block-yui_3_17_2_1_1507628808581_45978&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;div class=&quot;image-block-outer-wrapper layout-caption-below design-layout-inline&quot;&gt;
&lt;div class=&quot;intrinsic&quot;&gt;
&lt;div class=&quot;image-block-wrapper lightbox has-aspect-ratio&quot; data-description=&quot;&quot; data-lightbox-theme=&quot;dark&quot;&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca2ebf14aa1f26de959f6/1507631870942/&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;&lt;img class=&quot;thumb-image&quot; data-src=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca2ebf14aa1f26de959f6/1507631870942/&quot; data-image=&quot;https://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dca2ebf14aa1f26de959f6/1507631870942/&quot; data-image-dimensions=&quot;599x412&quot; data-image-focal-point=&quot;0.5,0.5&quot; data-load=&quot;false&quot; data-image-id=&quot;59dca2ebf14aa1f26de959f6&quot; data-type=&quot;image&quot;/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sqs-block html-block sqs-block-html&quot; data-block-type=&quot;2&quot; id=&quot;block-yui_3_17_2_1_1507628808581_46256&quot;&gt;
&lt;div class=&quot;sqs-block-content&quot;&gt;
&lt;h3&gt;But, but, but, why is the . symbol within the &quot;, is this all fake?&lt;/h3&gt;
&lt;p&gt;Nope, actually, that's how the system dialog looks like, the . is within the &quot;string notation, so I designed the phishing dialog to also include this little, but very important design detail&lt;/p&gt;


&lt;ul dir=&quot;ltr&quot;&gt;&lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://github.com/KrauseFx/whats-the-user-doing&quot;&gt;what's the user doing&lt;/a&gt;: Raising awareness of what you can do with a smartphones gyro sensors in web browsers&lt;/li&gt;
&lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://github.com/krausefx/detect.location&quot;&gt;detect.location&lt;/a&gt;: An easy way to access the user's iOS location data without actually having access&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Tue, 10 Oct 2017 13:25:53 +0000</pubDate>
<dc:creator>krausefx</dc:creator>
<og:title>iOS Privacy: steal.password - Easily get the user's Apple ID password, just by asking</og:title>
<og:url>https://krausefx.com/blog/ios-privacy-stealpassword-easily-get-the-users-apple-id-password-just-by-asking</og:url>
<og:type>article</og:type>
<og:description>Do you want the user's Apple ID password, to get access to their Apple account, or to try the same email/password combination on different web services? Just ask your users politely, they'll probably just hand over their credentials, as they're trained to do so 👌 Disclaimer This is just</og:description>
<og:image>http://static1.squarespace.com/static/545299aae4b0e9514fe30c95/t/59dc97a83e00bed1b42c0096/1507631710330/?format=1000w</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://krausefx.com/blog/ios-privacy-stealpassword-easily-get-the-users-apple-id-password-just-by-asking</dc:identifier>
</item>
<item>
<title>SoftBank Leads $164M Bet on Mapbox</title>
<link>https://www.wsj.com/articles/softbank-leads-164-million-bet-on-digital-mapping-startup-mapbox-1507640404</link>
<guid isPermaLink="true" >https://www.wsj.com/articles/softbank-leads-164-million-bet-on-digital-mapping-startup-mapbox-1507640404</guid>
<description>&lt;p&gt;As auto makers and tech giants rush to develop autonomous vehicles, SoftBank Group Corp. is placing a sizable bet on a startup that aims to help such cars find their way.&lt;/p&gt; &lt;p&gt;The Japanese investor, which has stakes in ride-hailing services, is leading a $164 million investment in Mapbox Inc., a startup that provides mapping and location-search technology to a variety of companies including messaging-app developer Snap Inc. and General Electric Co.&lt;/p&gt;...
  </description>
<pubDate>Tue, 10 Oct 2017 13:07:29 +0000</pubDate>
<dc:creator>uptown</dc:creator>
<og:title>SoftBank Leads $164 Million Bet on Digital-Mapping Startup Mapbox </og:title>
<og:description>As auto makers and tech giants rush to develop autonomous vehicles, SoftBank Group Corp. is placing a sizable bet on a startup offering the navigation needed to help these cars find their way.</og:description>
<og:url>https://www.wsj.com/articles/softbank-leads-164-million-bet-on-digital-mapping-startup-mapbox-1507640404</og:url>
<og:image>https://si.wsj.net/public/resources/images/BN-VM954_1010ma_SOC_20171010050254.jpg</og:image>
<og:type>article</og:type>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.wsj.com/articles/softbank-leads-164-million-bet-on-digital-mapping-startup-mapbox-1507640404</dc:identifier>
</item>
<item>
<title>OnePlus OxygenOS built-in analytics</title>
<link>https://www.chrisdcmoore.co.uk/post/oneplus-analytics/</link>
<guid isPermaLink="true" >https://www.chrisdcmoore.co.uk/post/oneplus-analytics/</guid>
<description>&lt;hr/&gt;&lt;h4 id=&quot;update-2017-10-10&quot;&gt;Update 2017-10-10&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;After gaining some traction online, Twitter user &lt;a href=&quot;https://twitter.com/JaCzekanski&quot;&gt;@JaCzekanski&lt;/a&gt; pointed out that there is a way to remove the OnePlus Device Manager app via adb, without requiring root (substitute &lt;code class=&quot;highlighter-rouge&quot;&gt;net.oneplus.odm&lt;/code&gt; for &lt;code class=&quot;highlighter-rouge&quot;&gt;pkg&lt;/code&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot; readability=&quot;5.9027027027027&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;&lt;a href=&quot;https://twitter.com/chrisdcmoore?ref_src=twsrc%5Etfw&quot;&gt;@chrisdcmoore&lt;/a&gt; I've read your article about OnePlus Analytics. Actually, you can disable it permanently: pm uninstall -k --user 0 pkg&lt;/p&gt;
— Jakub Czekański (@JaCzekanski) &lt;a href=&quot;https://twitter.com/JaCzekanski/status/917691128807395328?ref_src=twsrc%5Etfw&quot;&gt;October 10, 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;hr/&gt;&lt;p&gt;Whilst completing the &lt;a href=&quot;https://www.chrisdcmoore.co.uk/post/sans-holiday-hack-challenge-2016/&quot;&gt;SANS Holiday Hack Challenge 2016&lt;/a&gt;, I had cause to proxy the internet traffic from my phone, a &lt;a href=&quot;https://oneplus.net/2&quot;&gt;OnePlus 2&lt;/a&gt;, through &lt;a href=&quot;https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project&quot;&gt;OWASP ZAP&lt;/a&gt;, a security tool for attacking web applications.&lt;/p&gt;
&lt;p&gt;Amidst the traffic, I noticed requests to a domain which I’d not seen before, &lt;code class=&quot;highlighter-rouge&quot;&gt;open.oneplus.net&lt;/code&gt;, and decided to examine them a little closer.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.chrisdcmoore.co.uk/images/zap-oneplus-1.png&quot;&gt;&lt;img src=&quot;https://www.chrisdcmoore.co.uk/images/zap-oneplus-1.png&quot; alt=&quot;open.oneplus.net proxied traffic&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Our first question is what am I connecting to at &lt;code class=&quot;highlighter-rouge&quot;&gt;open.oneplus.net&lt;/code&gt;. Obviously the top level domain &lt;code class=&quot;highlighter-rouge&quot;&gt;oneplus.net&lt;/code&gt; belongs to the manufacturer of the device, but what’s with the &lt;code class=&quot;highlighter-rouge&quot;&gt;open&lt;/code&gt; bit? Doing a DNS lookup, we can find that this points to an &lt;a href=&quot;https://aws.amazon.com&quot;&gt;Amazon AWS&lt;/a&gt; instance with mention of &lt;a href=&quot;https://hadoor.apache.org/&quot;&gt;Apache Hadoop&lt;/a&gt; in the record, located in the &lt;code class=&quot;highlighter-rouge&quot;&gt;us-east-1&lt;/code&gt; region.&lt;/p&gt;
&lt;p&gt;So the next question is what is being sent here? From the example screenshot, we see two requests being sent over HTTPS; the first (not pictured) sending authentication information to &lt;code class=&quot;highlighter-rouge&quot;&gt;/oauth/token&lt;/code&gt; and the second, more interesting request, to &lt;code class=&quot;highlighter-rouge&quot;&gt;/cloud/pushdata/&lt;/code&gt; with two parameters; &lt;code class=&quot;highlighter-rouge&quot;&gt;access_token&lt;/code&gt; which was the OAuth token returned from the first request, and &lt;code class=&quot;highlighter-rouge&quot;&gt;data&lt;/code&gt; which appears to be Base64 encoded.&lt;/p&gt;
&lt;p&gt;Decoding the Base64 parameter gives us some JSON, show below (formatting mine)&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ty&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;dl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;screen_off&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484177517017&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;oed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus2Oxygen_14.A.27_GLO_027_1612271635&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;screen_on&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484177826984&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;oed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus2Oxygen_14.A.27_GLO_027_1612271635&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unlock&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484177827961&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;oed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus2Oxygen_14.A.27_GLO_027_1612271635&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;abnormal_reboot&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484178427035&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;oed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus2Oxygen_14.A.27_GLO_027_1612271635&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;OK, so it looks like they’re collecting timestamped (the &lt;code class=&quot;highlighter-rouge&quot;&gt;ts&lt;/code&gt; field is the event time in milliseconds since unix epoch, which we’ll be seeing more of) metrics on certain events, some of which I understand - from a development point of view, wanting to know about abnormal reboots seems legitimate - but the screen on/off and unlock activities feel excessive. At least these are anonymised, right? Well, not really - taking a closer look at the ID field, it seems familiar; this is my phone’s serial number. This I’m less enthusiastic about, as this can be used by OnePlus to tie these events back to me personally (but only because I bought the handset directly from them, I suppose).&lt;/p&gt;
&lt;p&gt;I leave the traffic proxied for some time, to see what other information is collected, and boy am I in for a shock…&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ty&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;dl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ac&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;av&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;6.0.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;br&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CHARGING&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;co&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;GB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ga&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11511&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;gc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;234&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ge&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6759424&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;gn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;iac&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;im&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;123456789012345,987654321098765&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;imei1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;123456789012345&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;la&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ma&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;aa:bb:cc:dd:ee:ff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;mdmv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1.06.160427&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;mn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ONE A2003&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;nci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;23430,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ncn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;noi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;23430,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;non&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;EE,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;not&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;LTE,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;npc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gb,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;npn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07123456789,07987654321&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;nwa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;aa:bb:cc:dd:ee:ff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;nwb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ff:ee:dd:cc:bb:aa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;nwh&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;nwl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;nws&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;\&quot;CHRISDCMOORE\&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ov&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Oxygen ONE A2003_24_161227&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pcba&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rh&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1920&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ro&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;romv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;3.5.6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rw&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1080&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;sov&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;A.27&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484487017633&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;tz&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;GMT+0000&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Amongst other things, this time we have the phone’s IMEI(s), phone numbers, MAC addresses, mobile network(s) names and IMSI prefixes, as well as my wireless network ESSID and BSSID and, of course, the phone’s serial number. Wow, that’s quite a bit of information about my device, even more of which can be tied directly back to me by OnePlus and other entities.&lt;/p&gt;
&lt;p&gt;It gets worse.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ty&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;dl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;com.Slack20003701&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;20003701&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;tk&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484079940460&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484079952177&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484081525486&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484081603191&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484081603424&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484081619211&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;com.microsoft.office.outlook170&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;170&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;tk&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484084321735&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484084333336&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484084682578&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484084683668&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484084685843&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484084688985&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Those are timestamp ranges (again, unix epoch in milliseconds) of the when I opened and closed applications on my phone. From this data we can see that on Tuesday, 10th Jan 2017, I had &lt;a href=&quot;https://slack.com/&quot;&gt;Slack&lt;/a&gt; open between &lt;code class=&quot;highlighter-rouge&quot;&gt;20:25:40 UTC&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;20:25:52 UTC&lt;/code&gt;, and the Microsoft Outlook app open between &lt;code class=&quot;highlighter-rouge&quot;&gt;21:38:41 UTC&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;21:38:53 UTC&lt;/code&gt;, to take just two examples, again stamped with my phone’s serial number.&lt;/p&gt;
&lt;p&gt;It gets &lt;em&gt;even worse&lt;/em&gt;.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ty&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;dl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12795&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;si&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;127951484342058637&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484342058637&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;com.android.chrome&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;55.0.2883.91&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;288309101&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;cn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ChromeTabbedActivity&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;aed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;sa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus2Oxygen_14.A.27_GLO_027_1612271635&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4143&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;si&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;41431484342115589&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484342115589&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;com.android.systemui&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1.1.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;cn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;RecentsActivity&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;stop&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;aed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;sa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus2Oxygen_14.A.27_GLO_027_1612271635&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;26449&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;si&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;264491484342115620&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484342115620&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;com.android.settings&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;6.0.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;cn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;WifiSettingsActivity&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;aed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;sa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus2Oxygen_14.A.27_GLO_027_1612271635&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;258cfeb1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2608&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;si&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;26081484346421908&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1484346421908&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;com.android.settings&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;6.0.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;pvc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;cn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Settings&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;aed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;sa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;rv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OnePlus2Oxygen_14.A.27_GLO_027_1612271635&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;These event data contain timestamps of which &lt;a href=&quot;https://developer.android.com/reference/android/app/Activity.html&quot;&gt;activities&lt;/a&gt; were fired up in which in applications, again stamped with the phone’s serial number.&lt;/p&gt;
&lt;p&gt;I took to Twitter to ask OnePlus on Twitter how this could be turned off, which disappointingly led down the usual path of “troubleshooting” suggestions, before being met with radio silence:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot; readability=&quot;4.848623853211&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Hey &lt;a href=&quot;https://twitter.com/OnePlus_Support&quot;&gt;@OnePlus_Support&lt;/a&gt;, it's none of your business when I turn my screen on/off or unlock my phone - how do I turn this off? /cc:&lt;a href=&quot;https://twitter.com/troyhunt&quot;&gt;@troyhunt&lt;/a&gt; &lt;a href=&quot;https://t.co/VihaIDI6wP&quot;&gt;pic.twitter.com/VihaIDI6wP&lt;/a&gt;&lt;/p&gt;
— Christopher Moore (@chrisdcmoore) &lt;a href=&quot;https://twitter.com/chrisdcmoore/status/819708963633541121&quot;&gt;January 13, 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot; readability=&quot;5.1030927835052&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;&lt;a href=&quot;https://twitter.com/chrisdcmoore&quot;&gt;@chrisdcmoore&lt;/a&gt; Try wiping out the cache.Turn off your device&amp;gt;Power key + volume down&amp;gt;English&amp;gt;Wipe and cache&amp;gt;Wipe Cache&amp;gt;Confirm wipe&amp;gt;Reboot.&lt;/p&gt;
— OnePlus Support (@OnePlus_Support) &lt;a href=&quot;https://twitter.com/OnePlus_Support/status/819951791827611650&quot;&gt;January 13, 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot; readability=&quot;4.1317365269461&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;&lt;a href=&quot;https://twitter.com/chrisdcmoore&quot;&gt;@chrisdcmoore&lt;/a&gt; Alright. Please try doing a hard reset &lt;a href=&quot;https://t.co/1qyq9XajiJ&quot;&gt;https://t.co/1qyq9XajiJ&lt;/a&gt; and see if there are improvements.&lt;/p&gt;
— OnePlus Support (@OnePlus_Support) &lt;a href=&quot;https://twitter.com/OnePlus_Support/status/820033728596451329&quot;&gt;January 13, 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;A member of the community, &lt;a href=&quot;https://twitter.com/VenomSarad&quot;&gt;@VenomSarad&lt;/a&gt;, who had noticed my tweets suggested that, even if they wanted to, OnePlus support were not allowed to suggest disabling applications, and that my time might be better spent looking on their forums:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot; readability=&quot;4.4659090909091&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;&lt;a href=&quot;https://twitter.com/chrisdcmoore&quot;&gt;@chrisdcmoore&lt;/a&gt; &lt;a href=&quot;https://twitter.com/OnePlus_Support&quot;&gt;@OnePlus_Support&lt;/a&gt; The support team isn't allowed tell people to disable apps. You may want to go to OnePlus forum for this&lt;/p&gt;
— Sarad (@VenomSarad) &lt;a href=&quot;https://twitter.com/VenomSarad/status/820070636647317504&quot;&gt;January 14, 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;I did some searching for any other mentions of this analytics data collection, and came across a few forum posts of varying relevance, the closest being &lt;a href=&quot;https://forums.oneplus.net/threads/android-uid-system-does-requests-to-open-oneplus-net.472803/&quot;&gt;this one&lt;/a&gt;, as well as a &lt;a href=&quot;https://www.reddit.com/r/oneplus/comments/4t20ri/oxygenos_reports_back_tons_of_data_with/&quot;&gt;thread on Reddit&lt;/a&gt; based off of a tweet from July 2016 rather closely mirroring my own sentiments:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot; readability=&quot;4.8363636363636&quot;&gt;
&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;&lt;a href=&quot;https://twitter.com/oneplus&quot;&gt;@oneplus&lt;/a&gt; Why are you collecting timestamps of when I unlock my phone, and when the screen turns on/off? &lt;a href=&quot;https://twitter.com/hashtag/caught?src=hash&quot;&gt;#caught&lt;/a&gt;&lt;a href=&quot;https://t.co/ejt4p9uPFn&quot;&gt;https://t.co/ejt4p9uPFn&lt;/a&gt;&lt;/p&gt;
— Tux (@__Tux) &lt;a href=&quot;https://twitter.com/__Tux/status/754085708843786240&quot;&gt;July 15, 2016&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;Reading through the Reddit thread, we learn that the code responsible for this data collection is part of the OnePlus Device Manager and the OnePlus Device Manager Provider, which run the &lt;code class=&quot;highlighter-rouge&quot;&gt;OneplusAnalyticsJobService&lt;/code&gt; under the &lt;code class=&quot;highlighter-rouge&quot;&gt;OnePlus System Service&lt;/code&gt;. In my case, these services had sent 16MB of data in approximately 10 hours.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.chrisdcmoore.co.uk/images/oneplus-services-orig.png&quot;&gt;&lt;img src=&quot;https://www.chrisdcmoore.co.uk/images/oneplus-services.png&quot; alt=&quot;oneplus system service running services&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Using &lt;code class=&quot;highlighter-rouge&quot;&gt;pm&lt;/code&gt; to locate the application package files, we find that it is located at &lt;code class=&quot;highlighter-rouge&quot;&gt;/system/priv-app/OPDeviceManager/OPDeviceManager.apk&lt;/code&gt;. Grabbing the APK and extracting it using &lt;code class=&quot;highlighter-rouge&quot;&gt;apktool&lt;/code&gt; gives us the manifest and some resources, but no bytecode - this is because, as a system application, it has been optimised, so the &lt;code class=&quot;highlighter-rouge&quot;&gt;classes.dex&lt;/code&gt; file has been removed from the APK archive, optimised into an architecture-specific &lt;code class=&quot;highlighter-rouge&quot;&gt;.odex&lt;/code&gt; file and placed at, in my case, &lt;code class=&quot;highlighter-rouge&quot;&gt;/system/priv-app/OPDeviceManager/oat/arm64/OPDeviceManager.pdex&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Running this, in combination with &lt;code class=&quot;highlighter-rouge&quot;&gt;boot.oat&lt;/code&gt;, through &lt;a href=&quot;https://github.com/JesusFreke/smali&quot;&gt;baksmali&lt;/a&gt; gives us the bytecode for further analysis. The OnePlus Device Manager (OPDM) which drives the Oneplus System Service, utilises a bunch of libraries - some expected, given the data we’ve seen, and others less so - such as &lt;code class=&quot;highlighter-rouge&quot;&gt;com.google.gson&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;com.squareup.okhttp&lt;/code&gt; for serialisation and making requests, but also namespaces which imply geolocation functionality such as &lt;code class=&quot;highlighter-rouge&quot;&gt;com.amap.api&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;com.autonavi.aps.amapapi&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here’s a list of the public methods in &lt;code class=&quot;highlighter-rouge&quot;&gt;net/oneplus/odm/common/Utils.smali&lt;/code&gt;, just to give us a good idea for some of the breadth of this functionality, and an indication of some of the kinds of data it might collate:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;
&lt;code&gt;.method public static encodeToBase64(Ljava/lang/String;)Ljava/lang/String;
.method public static getAndroidVersion()Ljava/lang/String;
.method public static getBSSID(Landroid/content/Context;)Ljava/lang/String;
.method public static getBatteryLevel(Landroid/content/Context;)F
.method public static getBatteryStatus(Landroid/content/Context;)Ljava/lang/String;
.method public static getBrandName()Ljava/lang/String;
.method public static getCellSignalLevel(Landroid/content/Context;)Ljava/lang/String;
.method public static getDeviceId()Ljava/lang/String;
.method public static getIMEI(Landroid/content/Context;)Ljava/lang/String;
.method public static getIMEI1(Landroid/content/Context;)Ljava/lang/String;
.method public static getIsHiddenSSID(Landroid/content/Context;)Z
.method public static getLocale(Landroid/content/Context;)Ljava/util/Locale;
.method public static getMacAddr(Landroid/content/Context;)Ljava/lang/String;
.method public static getModelName()Ljava/lang/String;
.method public static getOSVersion()Ljava/lang/String;
.method public static getPCBA()Ljava/lang/String;
.method public static getResolutionHeight(Landroid/content/Context;)I
.method public static getResolutionWidth(Landroid/content/Context;)I
.method public static getRomVersion()Ljava/lang/String;
.method public static getSimCountryCode(Landroid/content/Context;)Ljava/lang/String;
.method public static getSoftVersion()Ljava/lang/String;
.method public static getTimezone()Ljava/lang/String;
.method public static getWifiMacAddress(Landroid/content/Context;)Ljava/lang/String;
.method public static getWifiSSID(Landroid/content/Context;)Ljava/lang/String;
.method public static getWifiSignalLevel(Landroid/content/Context;)I
.method public static isH2()Z
.method public static isO2()Z
.method public static isRooted()Z
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Unfortunately, as a system service, there doesn’t appear to be any way of permanently disabling this data collection or removing this functionality without rooting the phone. One alternative would be to stop the service every time you boot your phone (assuming it doesn’t get periodically restarted) or using an app to achieve the same effect, or perhaps prevent communication with &lt;code class=&quot;highlighter-rouge&quot;&gt;open.oneplus.net&lt;/code&gt; somehow.&lt;/p&gt;
&lt;p&gt;This kind of data collection, especially one containing information that can be directly tied back to me as an individual, should really be opt-in and/or have an easily accessible off switch…&lt;/p&gt;
</description>
<pubDate>Tue, 10 Oct 2017 09:26:46 +0000</pubDate>
<dc:creator>os7borne</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.chrisdcmoore.co.uk/post/oneplus-analytics/</dc:identifier>
</item>
<item>
<title>150 days of living and coding in a van</title>
<link>https://ruby-on-wheels.github.io/blog/the-first-150-days-of-van-life/</link>
<guid isPermaLink="true" >https://ruby-on-wheels.github.io/blog/the-first-150-days-of-van-life/</guid>
<description>&lt;p&gt;Today marks my 150th day in my van. Since I &lt;a href=&quot;https://ruby-on-wheels.github.io/blog/leaving-berlin/&quot;&gt;left&lt;/a&gt; Berlin in May I visited 6 countries, drove more than 12,000 km, collected more than 180,000 Wh of solar power and met a lot of interesting people.&lt;/p&gt;
&lt;p&gt;The van life definitely left its marks on me.&lt;/p&gt;
&lt;h2 id=&quot;getting-inspired-by-ideas-instead-of-following-a-plan&quot;&gt;Getting inspired by ideas instead of following a plan&lt;/h2&gt;
&lt;p&gt;As a remote software engineer, I can work when I feel productive and rest when my brain is tired. Still my life was very structured around my flexible working hours. Usually I had a detailed plan for the upcoming week: lunch with my ex-co-workers on Monday, a birthday dinner on Tuesday, cinema on Wednesday, giving a talk on Thursday, going to a concert on Friday, going for a bike ride on Saturday and so on.&lt;/p&gt;
&lt;p&gt;I rarely spent time relaxing in my hammock or in the park around the corner to enjoy the sun and let my thoughts flow. Even though my job was amazing I regularly felt the need for a break: vacation or just working from another place for a couple of weeks.&lt;/p&gt;
&lt;p&gt;Since I’ve lived in my van I’ve never felt the need for a vacation or a change. Instead of following a fixed plan, I get inspired by random ideas: When the waves are great, I go surfing. When it’s chill and fresh, I work. When it’s hot, I go for a swim. When I’m tired, I sleep. When I like a place, I stay. When I meet someone cool, I join them for a while. When my van breaks, I try to get it fixed.&lt;/p&gt;
&lt;p&gt;My life in the van feels like a smooth flow of uncontrolled events. Things just happen without too much planning. And sometimes I just do nothing but relaxing in my hammock.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ruby-on-wheels.github.io/assets/images/IMG_8728.JPG&quot; alt=&quot;Relaxing in my hammock&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;living-more-healthy&quot;&gt;Living more healthy&lt;/h2&gt;
&lt;p&gt;Berlin offers a great variety of delicious and affordable places to eat. Why should I have spent my valuable time on grocery shopping and cooking, if I could get a great meal right around the corner? Although it’s very easy to eat out in a big city, it’s more challenging to stick to a healthy diet. I often ate stuff like shawarma, burgers, doner kebab, schnitzel or pizza.&lt;/p&gt;
&lt;p&gt;Since I moved in my van I’ve cooked a lot. Usually my meals consist of a variety of vegetables and &lt;strong&gt;a lot&lt;/strong&gt; of olive oil. Sometimes I refine them with meat or fish. Cooking doesn’t feel like an effort anymore. I’m not in a hurry because I have to be somewhere in 20 minutes. I take my time and enjoy it. Win-win: I relax my mind while preparing a healthy meal.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ruby-on-wheels.github.io/assets/images/IMG_8473.JPG&quot; alt=&quot;Preparing a meal in my van&quot;/&gt;&lt;/p&gt;
&lt;p&gt;I park my van in open and green areas whenever possible. The windows are usually open. I can smell the fresh air all day long.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ruby-on-wheels.github.io/assets/images/IMG_9161.JPG&quot; alt=&quot;Working in the van right next to the sea&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Sometimes I even work outside of my van on a camping table.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ruby-on-wheels.github.io/assets/images/IMG_8258.JPG&quot; alt=&quot;Working outside of the van right next to the sea&quot;/&gt;&lt;/p&gt;
&lt;p&gt;I work in a natural environment instead of a smelly office with a fake climate produced by an A/C. When I turn my head, I see trees, the mountains, the sea or a river. It takes me one second to leave my desk and walk barefoot in the gras, sand or water. No need for a bike or train ride for several minutes though a crowed city full of fumes.&lt;/p&gt;
&lt;p&gt;In Berlin I regularly had a slight cold. Roughly every third month, I would feel a little sick or exhausted. Since I’ve lived in the van I haven’t been sick &lt;strong&gt;once&lt;/strong&gt; in five months.&lt;/p&gt;
&lt;h2 id=&quot;living-more-sustainable&quot;&gt;Living more sustainable&lt;/h2&gt;
&lt;p&gt;When you live in an average apartment in Berlin it feels like resources are unlimited. Whenever you open the tap, there’s endless fresh water. Whenever you plug a device into an outlet, you can run it as long as you want. Drying your hair with a 2000 watts blow dryer after taking a hot shower for 20 minutes at night: no problem!&lt;/p&gt;
&lt;p&gt;That changes when you live in a van. All of a sudden everything is limited and you start using things more sustainably. When my water tank is empty, I have to go and find a source of water and carry the water back to my van. When it’s dark, I have 200 Ah in my battery until the sun will charge it the next day. The amount of water that I used in Berlin to brush my teeth is probably enough for a whole day in my van. Maybe 80% of the water just flowed from the tap right into the drain without even touching my body.&lt;/p&gt;
&lt;p&gt;The limitations of a van don’t necessarily result in a lower quality of life. I can still do everything I want. I just don’t waste that much resources any more, because I am more aware of their limitations. We often forget about these. Especially when we live in western urban areas.&lt;/p&gt;
&lt;h2 id=&quot;being-more-outgoing&quot;&gt;Being more outgoing&lt;/h2&gt;
&lt;p&gt;In Berlin, I usually didn’t approach the next random stranger on the street and started a conversation. Instead, I made plans with my friends and mostly ignored all the unknown people around me. Even if I would pay attention to these strangers, they mostly seemed busy or tired from work.&lt;/p&gt;
&lt;p&gt;When I leave my van after work and go to the beach, I usually meet relaxed and open-minded people: vacationers, travelers, surfers, hippies. They don’t seem to be stressed and everyone has interesting stories to tell. No stranger is surprised if I approach them out of the blue and say “hi”. It’s normal. I definitely get more in touch with new people than I did before my trip.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ruby-on-wheels.github.io/assets/images/IMG_9413.JPG&quot; alt=&quot;Eating together with together travelers&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;a-simpler-happier-life&quot;&gt;A simpler, happier life?&lt;/h2&gt;
&lt;p&gt;My life has gotten way simpler within the last 150 days. I feel more flexible because I don’t plan that much any more. If I don’t get something done today, I don’t worry and will continue tomorrow. As a Spanish traveler once told me,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The sun rises every day.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I feel very balanced and am looking forward to all the things ahead of me!&lt;/p&gt;
&lt;hr/&gt;&lt;hr/&gt;
&lt;noscript readability=&quot;1.6086956521739&quot;&gt;
&lt;p&gt;Please enable JavaScript to view the &lt;a href=&quot;https://disqus.com/?ref_noscript&quot;&gt;comments.&lt;/a&gt;&lt;/p&gt;
&lt;/noscript&gt;</description>
<pubDate>Tue, 10 Oct 2017 07:22:03 +0000</pubDate>
<dc:creator>hwartig</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://ruby-on-wheels.github.io/blog/the-first-150-days-of-van-life/</dc:identifier>
</item>
<item>
<title>What happened when I opened a restaurant in Portland</title>
<link>http://www.wweek.com/restaurants/2016/09/30/heres-what-happened-when-i-opened-a-restaurant-in-portland/</link>
<guid isPermaLink="true" >http://www.wweek.com/restaurants/2016/09/30/heres-what-happened-when-i-opened-a-restaurant-in-portland/</guid>
<description>&lt;div readability=&quot;31&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;I've been stuck in restaurant hell for months and I need to get out.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;28.833333333333&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;11.024509803922&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;We closed Renard &lt;a href=&quot;http://www.oregonlive.com/dining/index.ssf/2015/12/lucky_strike_restaurant_closed.html&quot;&gt;down more than nine months ago,&lt;/a&gt; but every night (and often early in the morning), first thing after waking up, I lie there and write the story of my failure over, and over and over again.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;33&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;11&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;Two and a half years ago, I put every cent available to me on the line to open a restaurant in one of the so-called &quot;hottest&quot; restaurant markets in the country.&lt;/span&gt; Two and a half years ago, everyone in Portland was talking about opening a restaurant.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;29.825268817204&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;12.782258064516&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;There was a new concept, a new pop-up, a &lt;a href=&quot;http://www.nytimes.com/2016/01/03/travel/portland-thai-food.html?_r=0&quot;&gt;new &lt;em&gt;New York Times&lt;/em&gt; feature on some rising Portland star&lt;/a&gt; every day, it seemed. I'd worked several jobs in all kinds of food; I had capital from my grandfather's estate; I had experienced server/kitchen friend-folk, and a very talented pastry chef wife, not to mention a family investor with nearly a decade of management in the biz.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;33.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;12&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;These were some of the hundreds of rationales I gave myself to start the task everyone will go out of their way to tell you is doomed. &lt;em&gt;&lt;span&gt;Our project was different. Ours would succeed. It had to succeed, we'd just do it 'better.'&lt;/span&gt;&lt;/em&gt; &lt;span&gt;I told myself what I'm sure every single novice restauranteur tells themselves: I'll be in the 1 percent that make it, by sheer will.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;33.675889328063&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;15.177865612648&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;It started with writing. I wrote a huge, overly-detailed business plan. Then, I scrapped it and re-wrote it. Then I changed concept entirely and started again. I strategized and spent hours on the phone or traveling across the country to consult with my family partner and do research. I charted neighborhood demographics and sat down with mentors from the &lt;a href=&quot;https://www.sba.gov/offices/district/or/portland&quot;&gt;Small Business Association&lt;/a&gt;. Friends, family, qualified strangers, nobody was safe from my prying, plying questions and doe-eyed investment proposals.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;33&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;11&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;A broker, the landlord and I bandied and argued endless revisions of a lease for a beautiful space on a hot corner. I negotiated for more than four months just to feel like I'd hashed every single detail. In the end, I was still a greenhorn with more money than sense and I didn't get a great deal.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;32.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;10&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;The hyped, overpriced corner we got was run by an person who refused to do anything that would cost any money. He insisted we certify our plans with engineers—engineers we paid for—and inspected everything we did personally.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;31.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;8&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;Furthermore, he lived next door.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;35.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;16&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;Meanwhile, everything under the skin of the charming little building was in shambles. The electrical was an expensive mess, but that was nothing compared to bringing the plumbing up to code. $20,000 later we had a huge pit, filled with the gigantic, state-of-the-art grease trap the city now requires—all of which now benefit not us, but the landlord and his next tenant.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;33&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;11&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;After our unexpectedly expensive renovations, we set out to run the tightest ship we could. This proved easier said than done. Our chef refused to help in day-to-day costing and inventory, insisting she was just too busy.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;31.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;8&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;By any normal standard, she was busy.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;35&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;15&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;I don't see how anyone takes a job in the kitchen, especially in a new place. The hours (upwards of 80 a week at least for a startup) are insane and the pay generally sucks. People talk about &quot;labor shortages&quot; in kitchens. It's not labor that we're short on—it's suckers. You'd have to be stupid, insane, or just green to work in most kitchens. Maybe you're just so excited at the next, hypothetical future thing that you'll put up with whatever on your way &quot;there.&quot; That, and the stress! You have to love stress to work in a kitchen. Have you ever stared down a line of Friday night dinner tickets after your sous just walked out of the shift crying because her mom died? No? Then you don't know stress.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;33.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;12&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;At an impasse to control costs, manage logistics and agree on staffing, we had to change chefs in our first few months. We survived, but barely.&lt;/span&gt; &lt;span&gt;The new chef took over and all we had to do was make enough to break even.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;32.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;10&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;They say the bigger the risk, the bigger the potential reward. What was that reward, exactly? Was it the&lt;/span&gt; &lt;span&gt;3 percent profit margin many restaurants consider success?&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;34&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;13&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;Maybe that was my problem. I didn't even want the bigger reward. I just wanted to keep going, to break even. Forget branded cookbooks, new concepts and status, I just wanted to go on making zero dollars, working seven days a week and keep my staff in place.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;32&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;Turns out it was impossible. Months of staring at the numbers, eliminating every unnecessary cost and even raising prices a hair—nothing could stop our inevitable closure.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;36&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;17&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;Mostly, it's labor. Not only does $9.50 hourly, plus tips work out to a fair amount of money for front of house staff (my partner was horrified to learn we could not do a tip credit). But the more the front of house makes, the more our valuable back-of-house staff demands in pay (or tipshare tribute). At a premium, you can't afford to lose your core cook staff, you have no room to negotiate salaries down 'until we get stabilized,' and meanwhile they have three other prime job offers waiting. The labor costs alone were enough to sink us, especially once we got to the taxes.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;32.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;10&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;But then, of course, there are the people who complain that your $29 chicken dish is &quot;amazing… but it's too expensive for chicken.&quot;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;35.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;16&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;That chicken is a confit (with duck fat, aka $$), then served with a stock/stew that takes days (of labor dollars) to prepare, plus cost of employees to serve, stuff to serve it on and rent to pay, not to mention the utilities (the water bills on that cursed grease trap were the opposite of &quot;the gift that keeps on giving&quot;).&lt;/span&gt; &lt;span&gt;That damned chicken should be $40! But people won't pay $40 for chicken, so it's $29.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;32&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;And on you just go until you have no capital left to absorb the losses. In a few months we managed to cut the gap of our losses considerably, but never even come close to our 'break even.'&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;32&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;I remember clearly the day when the accountant showed me that we could effectively double our monthly sales and still not have enough to meet our eventual payroll obligations and that's about when you just finally sink into it: You're done.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;34.5&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;14&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;You never worked harder, longer hours in your life. You've lost almost 15 pounds and you're fighting with your wife every day. You hate your home city and it's stupid invaders who tell you they &quot;just moved from LA last month and oh my god I just love it here!&quot; You get drunk with your staff on the last night and cry afterwards in the empty kitchen, with nothing to do but sell the equipment for pennies on the dollar. And you think,&lt;/span&gt; &lt;em&gt;&lt;span&gt;well, that's it. At least it's over and done with…&lt;/span&gt;&lt;/em&gt; &lt;span&gt;but it isn't.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;33&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;11&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;It's not wrapping up the complicated taxes, or getting screwed on your credit, or the fear of some creditor or other chasing you to the ends of the earth that really does it.. it's the hours you spend lying awake wondering where you screwed up the worst.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;34&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;13&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;em&gt;&lt;span&gt;What I really should have done is….you know, if we'd maybe tried…. I always thought that gourmet burger was too cheap… I should have cut down the day labor sooner!&lt;/span&gt;&lt;/em&gt; &lt;span&gt;…. this goes on, that is, until you get it:&lt;/span&gt; &lt;em&gt;&lt;span&gt;what I really should have done is never have started a restaurant at all.&lt;/span&gt;&lt;/em&gt; &lt;span&gt;And that's the most true thing.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;32&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;But it's too late. Your head is officially screwed with. You can't even go out. You sit down and you judge the napkins. You think how&lt;/span&gt; &lt;span&gt;goddamn&lt;/span&gt; &lt;span&gt;sick you are of this 'industrial warehouse' look that every hip place goes for.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;31&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;em&gt;&lt;span&gt;Maybe if our design had been more industrial…&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;33&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;11&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;Then, you think to yourself,&lt;/span&gt; &lt;em&gt;&lt;span&gt;We had more exciting wines…. man, our service was so much better…. our take on this dish was way better. I wish they hadn't chosen these chairs…&lt;/span&gt;&lt;/em&gt; &lt;span&gt;and on and on.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;32&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;9&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;Until you sit back and realize,&lt;/span&gt; &lt;em&gt;&lt;span&gt;Oh god, what's wrong with me? I'm a monster!&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div readability=&quot;31&quot;&gt;
&lt;div class=&quot;col-md-12 col-xs-12 col-print-12&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;element element-paragraph&quot;&gt;&lt;span&gt;And then you quietly try to enjoy what's left of the meal.&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
<pubDate>Tue, 10 Oct 2017 04:26:05 +0000</pubDate>
<dc:creator>phyller</dc:creator>
<og:description>We closed Renard down more than nine months ago, but every night (and often early in the morning), first thing after waking up, I lie there and write the story of my failure over, and over and over again.</og:description>
<og:type>article</og:type>
<og:image>http://www.wweek.com/resizer/dvWQ4lCT_fadQB6hDOxGOklILls=/1200x0/filters:quality(100)/s3.amazonaws.com/wapopartners.com/wweek-wp/wp-content/uploads/2016/07/08011129/o.jpg</og:image>
<og:title>Here's What Happened When I Opened a Restaurant in Portland</og:title>
<og:url>http://www.wweek.com/restaurants/2016/09/30/heres-what-happened-when-i-opened-a-restaurant-in-portland/</og:url>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.wweek.com/restaurants/2016/09/30/heres-what-happened-when-i-opened-a-restaurant-in-portland/</dc:identifier>
</item>
<item>
<title>First detection of the missing half of normal matter in our universe</title>
<link>https://www.newscientist.com/article/2149742-half-the-universes-missing-matter-has-just-been-finally-found/</link>
<guid isPermaLink="true" >https://www.newscientist.com/article/2149742-half-the-universes-missing-matter-has-just-been-finally-found/</guid>
<description>&lt;img class=&quot;size-big-article-and-featured wp-image-2149747&quot; src=&quot;https://d1o50x50snmhul.cloudfront.net/wp-content/uploads/2017/10/09122516/screen-shot-2017-10-05-at-15.24.261-800x533.jpg&quot; alt=&quot;Model of universe structure&quot; srcset=&quot;https://d1o50x50snmhul.cloudfront.net/wp-content/uploads/2017/10/09122516/screen-shot-2017-10-05-at-15.24.261-150x100.jpg 150w, https://d1o50x50snmhul.cloudfront.net/wp-content/uploads/2017/10/09122516/screen-shot-2017-10-05-at-15.24.261-300x200.jpg 300w, https://d1o50x50snmhul.cloudfront.net/wp-content/uploads/2017/10/09122516/screen-shot-2017-10-05-at-15.24.261-768x512.jpg 768w, https://d1o50x50snmhul.cloudfront.net/wp-content/uploads/2017/10/09122516/screen-shot-2017-10-05-at-15.24.261-600x400.jpg 600w, https://d1o50x50snmhul.cloudfront.net/wp-content/uploads/2017/10/09122516/screen-shot-2017-10-05-at-15.24.261.jpg 1200w, https://d1o50x50snmhul.cloudfront.net/wp-content/uploads/2017/10/09122516/screen-shot-2017-10-05-at-15.24.261-800x533.jpg 800w&quot; sizes=&quot;(max-width: 800px) 100vw, 800px&quot;/&gt;&lt;div class=&quot;image-details&quot; readability=&quot;10&quot;&gt;Discoveries seem to back up many of our ideas about how the universe got its large-scale structure
&lt;p class=&quot;credit&quot;&gt;Andrey Kravtsov (The University of Chicago) and Anatoly Klypin (New Mexico State University). Visualisation by Andrey Kravtsov&lt;/p&gt;
&lt;/div&gt;&lt;p class=&quot;author-byline&quot;&gt;By &lt;span class=&quot;author&quot;&gt;Leah Crane&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The missing links between galaxies have finally been found. This is the first detection of the roughly half of the normal matter in our universe – protons, neutrons and electrons – unaccounted for by previous observations of stars, galaxies and other bright objects in space.&lt;/p&gt;
&lt;p&gt;You have probably heard about the hunt for &lt;a href=&quot;https://www.newscientist.com/article-topic/dark-matter/&quot;&gt;dark matter&lt;/a&gt;, a mysterious substance thought to permeate the universe, the effects of which we can see through its gravitational pull. But our models of the universe also say there should be about twice as much ordinary matter out there, compared with what we have observed so far.&lt;/p&gt;
&lt;p&gt;Two separate teams found the missing matter – made of particles called baryons rather than dark matter – linking galaxies together through &lt;a href=&quot;https://www.newscientist.com/article/mg21528725-200-dark-matter-underpinnings-of-cosmic-web-found/&quot;&gt;filaments of hot, diffuse gas&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
&lt;h5&gt;Advertisement&lt;/h5&gt;
&lt;/p&gt;

&lt;p&gt;“The missing baryon problem is solved,” says Hideki Tanimura at the Institute of Space Astrophysics in Orsay, France, leader of one of the groups. The other team was led by Anna de Graaff at the University of Edinburgh, UK.&lt;/p&gt;

&lt;p&gt;Because the gas is so tenuous and not quite hot enough for X-ray telescopes to pick up, nobody had been able to see it before.&lt;/p&gt;
&lt;p&gt;“There’s no sweet spot – no sweet instrument that we’ve invented yet that can directly observe this gas,” says &lt;a href=&quot;http://www.ucl.ac.uk/star/research/cosmology/projects/FirstLight/People/Richard_Ellis&quot;&gt;Richard Ellis&lt;/a&gt; at University College London. “It’s been purely speculation until now.”&lt;/p&gt;
&lt;p&gt;So the two groups had to find another way to definitively show that these threads of gas are really there.&lt;/p&gt;
&lt;p&gt;Both teams took advantage of a phenomenon called the Sunyaev-Zel’dovich effect that occurs when light left over from the big bang passes through hot gas. As the light travels, some of it scatters off the electrons in the gas, leaving a dim patch in the cosmic microwave background – our snapshot of the remnants from the birth of the cosmos.&lt;/p&gt;
&lt;h2&gt;Stack ‘em up&lt;/h2&gt;
&lt;p&gt;In 2015, the &lt;a href=&quot;https://www.newscientist.com/article/mg22530074-500-cosmic-inflations-smoking-gun-goes-up-in-smoke/&quot;&gt;Planck satellite&lt;/a&gt; created a map of this effect throughout the observable universe. Because the tendrils of gas between galaxies are so diffuse, the dim blotches they cause are far too slight to be seen directly on Planck’s map.&lt;/p&gt;
&lt;p&gt;Both teams selected pairs of galaxies from the &lt;a href=&quot;http://www.sdss.org/&quot;&gt;Sloan Digital Sky Survey&lt;/a&gt; that were expected to be connected by a strand of baryons. They stacked the Planck signals for the areas between the galaxies, making the individually faint strands detectable en masse.&lt;/p&gt;
&lt;p&gt;Tanimura’s team stacked data on 260,000 &lt;a href=&quot;https://www.newscientist.com/article/2125769-stray-supermassive-black-hole-flung-away-by-gravitational-waves/&quot;&gt;pairs of galaxies&lt;/a&gt;, and de Graaff’s group used over a million pairs. Both teams found definitive evidence of gas filaments between the galaxies. Tanimura’s group found they were almost three times denser than the mean for normal matter in the universe, and de Graaf’s group found they were six times denser – confirmation that the gas in these areas is dense enough to form filaments.&lt;/p&gt;
&lt;p&gt;“We expect some differences because we are looking at filaments at different distances,” says Tanimura. “If this factor is included, our findings are very consistent with the other group.”&lt;/p&gt;

&lt;p&gt;Finally finding the &lt;a href=&quot;https://www.newscientist.com/article/2139899-lhc-pops-out-a-new-particle-that-could-test-the-strong-force/&quot;&gt;extra baryons&lt;/a&gt; that have been predicted by decades of simulations validates some of our assumptions about the universe.&lt;/p&gt;
&lt;p&gt;“Everybody sort of knows that it has to be there, but this is the first time that somebody – two different groups, no less – has come up with a definitive detection,” says &lt;a href=&quot;https://sites.google.com/a/cfa.harvard.edu/ralph-kraft/home&quot;&gt;Ralph Kraft&lt;/a&gt; at the Harvard-Smithsonian Center for Astrophysics in Massachusetts.&lt;/p&gt;
&lt;p&gt;“This goes a long way toward showing that many of our ideas of how galaxies form and how structures form over the history of the universe are pretty much correct,” he says.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Journal references:&lt;/strong&gt; &lt;em&gt;arXiv&lt;/em&gt;, &lt;a href=&quot;https://arxiv.org/abs/1709.05024&quot;&gt;1709.05024&lt;/a&gt; and &lt;a href=&quot;https://arxiv.org/abs/1709.10378v1&quot;&gt;1709.10378v1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Read more:&lt;/strong&gt; &lt;a href=&quot;https://www.newscientist.com/article/dn26598-galaxies-in-filaments-spaced-like-pearls-on-a-necklace/&quot;&gt;Galaxies in filaments spaced like pearls on a necklace&lt;/a&gt;&lt;/p&gt;
&lt;section class=&quot;correction-notes&quot;&gt;&lt;h4 class=&quot;correction-date&quot;&gt;&lt;strong&gt;Article amended on&lt;/strong&gt; 9 October 2017&lt;/h4&gt;
&lt;/section&gt;&lt;section class=&quot;article-topics&quot;&gt;&lt;p&gt;More on these topics:&lt;/p&gt;
&lt;/section&gt;</description>
<pubDate>Tue, 10 Oct 2017 04:19:42 +0000</pubDate>
<dc:creator>curtis</dc:creator>
<og:type>article</og:type>
<og:title>Half the universe’s missing matter has just been finally found</og:title>
<og:url>https://www.newscientist.com/article/2149742-half-the-universes-missing-matter-has-just-been-finally-found/</og:url>
<og:description>About half the normal matter in our universe had never been observed – until now. Two teams have finally seen it by combining millions of faint images into one</og:description>
<og:image>https://d1o50x50snmhul.cloudfront.net/wp-content/uploads/2017/10/09122516/screen-shot-2017-10-05-at-15.24.261.jpg</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.newscientist.com/article/2149742-half-the-universes-missing-matter-has-just-been-finally-found/</dc:identifier>
</item>
</channel>
</rss>