<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Apple confirms it uses Google cloud for iCloud</title>
<link>https://www.cnbc.com/2018/02/26/apple-confirms-it-uses-google-cloud-for-icloud.html</link>
<guid isPermaLink="true" >https://www.cnbc.com/2018/02/26/apple-confirms-it-uses-google-cloud-for-icloud.html</guid>
<description>&lt;p&gt;A file that &lt;a class=&quot;inline_quotes&quot; data-gdsid=&quot;8016&quot; data-inline-quote-symbol=&quot;AAPL&quot; href=&quot;https://www.cnbc.com/quotes/?symbol=AAPL&quot;&gt;Apple&lt;/a&gt; updated on its website last month provides the first acknowledgment that it's relying on &lt;a class=&quot;inline_quotes&quot; data-gdsid=&quot;19004&quot; data-inline-quote-symbol=&quot;GOOGL&quot; href=&quot;https://www.cnbc.com/quotes/?symbol=GOOGL&quot;&gt;Google&lt;/a&gt;'s public cloud for data storage for its iCloud services.&lt;/p&gt;
&lt;p&gt;The disclosure is fresh evidence that Google's cloud has been picking up usage as it looks to catch up with &lt;a class=&quot;inline_quotes&quot; data-gdsid=&quot;9399&quot; data-inline-quote-symbol=&quot;AMZN&quot; href=&quot;https://www.cnbc.com/quotes/?symbol=AMZN&quot;&gt;Amazon&lt;/a&gt; and &lt;a class=&quot;inline_quotes&quot; data-gdsid=&quot;25619&quot; data-inline-quote-symbol=&quot;MSFT&quot; href=&quot;https://www.cnbc.com/quotes/?symbol=MSFT&quot;&gt;Microsoft&lt;/a&gt; in the cloud infrastructure business.&lt;/p&gt;
&lt;p&gt;Some &lt;a class=&quot;inline_asset&quot; href=&quot;https://www.crn.com/news/cloud/300080062/cloud-makes-for-strange-bedfellows-apple-signs-on-with-google-cuts-spending-with-aws.htm?itc=refresh&quot; title=&quot;https://www.crn.com/news/cloud/300080062/cloud-makes-for-strange-bedfellows-apple-signs-on-with-google-cuts-spending-with-aws.htm?itc=refresh&quot;&gt;media outlets&lt;/a&gt; reported on Google's iCloud win in 2016, but Apple never provided confirmation.&lt;/p&gt;

&lt;p&gt;Apple periodically publishes new versions of a PDF called the &lt;a class=&quot;inline_asset&quot; href=&quot;https://images.apple.com/business/docs/iOS_Security_Guide.pdf&quot; title=&quot;https://images.apple.com/business/docs/iOS_Security_Guide.pdf&quot;&gt;iOS Security Guide&lt;/a&gt;. For years the document contained language indicating that iCloud services were relying on remote data storage systems from Amazon Web Services, as well as Microsoft's Azure.&lt;/p&gt;
&lt;p&gt;But in the latest version, the Microsoft Azure reference is gone, and in its place is Google Cloud Platform. Before the January update, Apple most recently updated the iOS Security Guide in March.&lt;/p&gt;
&lt;p&gt;The latest update doesn't indicate whether Apple is using any Google cloud services other than core storage of &quot;objects&quot; like photos and videos. The document also doesn't make it clear when Apple started storing data in Google's cloud. Apple and Microsoft didn't respond to requests for comment.&lt;/p&gt;
&lt;p&gt;Earlier this month &lt;a href=&quot;https://www.cnbc.com/2018/02/01/google-cloud-revenue-passes-1-billion-per-quarter.html&quot;&gt;Google said&lt;/a&gt; its public cloud and its G Suite line of cloud-based productivity apps contribute $1 billion in revenue per quarter. In the fourth quarter, market leader Amazon Web Services brought in &lt;a href=&quot;https://www.cnbc.com/2018/02/01/aws-earnings-q4-2017.html&quot;&gt;$5.11 billion in revenue&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In addition to Apple, other Google public cloud customers include &lt;a class=&quot;inline_quotes&quot; data-gdsid=&quot;23000&quot; data-inline-quote-symbol=&quot;KR&quot; href=&quot;https://www.cnbc.com/quotes/?symbol=KR&quot;&gt;Kroger&lt;/a&gt;, &lt;a class=&quot;inline_quotes&quot; data-gdsid=&quot;155961&quot; data-inline-quote-symbol=&quot;PYPL&quot; href=&quot;https://www.cnbc.com/quotes/?symbol=PYPL&quot;&gt;PayPal&lt;/a&gt;, &lt;a class=&quot;inline_quotes&quot; data-gdsid=&quot;163704&quot; data-inline-quote-symbol=&quot;SNAP&quot; href=&quot;https://www.cnbc.com/quotes/?symbol=SNAP&quot;&gt;Snap&lt;/a&gt; and Spotify.&lt;/p&gt;
</description>
<pubDate>Mon, 26 Feb 2018 14:10:48 +0000</pubDate>
<dc:creator>uptown</dc:creator>
<og:type>article</og:type>
<og:url>https://www.cnbc.com/2018/02/26/apple-confirms-it-uses-google-cloud-for-icloud.html</og:url>
<og:image>https://fm.cnbc.com/applications/cnbc.com/resources/img/editorial/2013/04/23/100664627-151868537r.1910x1000.jpg</og:image>
<og:title>Apple confirms it uses Google's cloud for iCloud</og:title>
<og:description>A document contains Apple's first public acknowledgment that it is storing data for its iCloud services in Google's data centers.</og:description>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.cnbc.com/2018/02/26/apple-confirms-it-uses-google-cloud-for-icloud.html</dc:identifier>
</item>
<item>
<title>Why can’t women get pregnant without the menstrual cycle? (2016)</title>
<link>https://www.quora.com/Why-do-women-have-periods-What-is-the-evolutionary-benefit-or-purpose-of-having-periods-Why-can%E2%80%99t-women-just-get-pregnant-without-the-menstrual-cycle/answers/4625918?share=1</link>
<guid isPermaLink="true" >https://www.quora.com/Why-do-women-have-periods-What-is-the-evolutionary-benefit-or-purpose-of-having-periods-Why-can%E2%80%99t-women-just-get-pregnant-without-the-menstrual-cycle/answers/4625918?share=1</guid>
<description>&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;I'm &lt;em&gt;so&lt;/em&gt; glad you asked. Seriously. The answer to this question is one of the most illuminating and disturbing stories in human evolutionary biology, and almost nobody knows about it. And so, O my friends, gather close, and hear the extraordinary tale of:&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;HOW THE WOMAN GOT HER PERIOD&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;Contrary to popular belief, most mammals do not menstruate. In fact, it's a feature exclusive to the higher primates and certain bats*. What's more, modern women menstruate vastly more than any other animal. And it's bloody stupid (sorry). A shameful waste of nutrients, disabling, and a dead giveaway to any nearby predators. To understand why we do it, you must first understand that you have been lied to, throughout your life, about the most intimate relationship you will ever experience: the mother-fetus bond.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;Isn't pregnancy beautiful? Look at any book about it. There's the future mother, one hand resting gently on her belly. Her eyes misty with love and wonder. You sense she will do anything to nurture and protect this baby. And when you flip open the book, you read more about this glorious symbiosis, the absolute altruism of female physiology designing a perfect environment for the growth of her child.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;If you've actually &lt;em&gt;been&lt;/em&gt; pregnant, you might know that the real story has some wrinkles. Those moments of sheer unadulterated altruism exist, but they're interspersed with weeks or months of overwhelming nausea, exhaustion, crippling backache, incontinence, blood pressure issues and anxiety that you'll be among the 15% of women who experience &lt;em&gt;life-threatening&lt;/em&gt; complications.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;From the perspective of most mammals, this is just crazy. Most mammals sail through pregnancy quite cheerfully, dodging predators and catching prey, even if they're delivering litters of 12. So what makes us so special? The answer lies in our bizarre placenta. In most mammals, the placenta, which is part of the fetus, just interfaces with the surface of the mother's blood vessels, allowing nutrients to cross to the little darling. Marsupials don't even let their fetuses get to the blood: they merely secrete a sort of milk through the uterine wall. Only a few mammalian groups, including primates and mice, have evolved what is known as a “hemochorial” placenta, and ours is possibly the nastiest of all.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;Inside the uterus we have a thick layer of endometrial tissue, which contains only tiny blood vessels. The endometrium seals off our main blood supply from the newly implanted embryo. The growing placenta literally burrows through this layer, rips into arterial walls and re-wires them to channel blood straight to the hungry embryo. It delves deep into the surrounding tissues, razes them and pumps the arteries full of hormones so they expand into the space created. It paralyzes these arteries so the mother cannot even constrict them.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;What this means is that the growing fetus now has direct, unrestricted access to its mother's blood supply. It can manufacture hormones and use them to manipulate her. It can, for instance, increase her blood sugar, dilate her arteries, and inflate her blood pressure to provide itself with more nutrients. And it does. Some fetal cells find their way through the placenta and into the mother's bloodstream. They will grow in her blood and organs, and even in her brain, for the rest of her life, making her a genetic chimera**.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;This might seem rather disrespectful. In fact, it's sibling rivalry at its evolutionary best. You see, mother and fetus have quite distinct evolutionary interests. The mother 'wants' to dedicate approximately equal resources to all her surviving children, including possible future children, and none to those who will die. The fetus 'wants' to survive, and take as much as it can get. (The quotes are to indicate that this isn't about what they consciously want, but about what evolution tends to optimize.)&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;There's also a third player here – the father, whose interests align still less with the mother's because her other offspring may not be his. Through a process called genomic imprinting, certain fetal genes inherited from the father can activate in the placenta. These genes ruthlessly promote the welfare of the offspring at the mother's expense.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;How did we come to acquire this ravenous hemochorial placenta which gives our fetuses and their fathers such unusual power? Whilst we can see some trend toward increasingly invasive placentae within primates, the full answer is lost in the mists of time. Uteri do not fossilize well.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;The consequences, however, are clear. Normal mammalian pregnancy is a well-ordered affair because the mother is a despot. Her offspring live or die at her will; she controls their nutrient supply, and she can expel or reabsorb them any time. Human pregnancy, on the other hand, is run by committee – and not just any committee, but one whose members often have very different, competing interests and share only partial information. It's a tug-of-war that not infrequently deteriorates to a tussle and, occasionally, to outright warfare. Many potentially lethal disorders, such as ectopic pregnancy, gestational diabetes, and pre-eclampsia can be traced to mis-steps in this intimate game.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;What does all this have to do with menstruation? We're getting there.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;From a female perspective, pregnancy is always a huge investment. Even more so if her species has a hemochorial placenta. Once that placenta is in place, she not only loses full control of her own hormones, she also risks hemorrhage when it comes out. So it makes sense that females want to screen embryos very, very carefully. Going through pregnancy with a weak, inviable or even sub-par fetus isn't worth it.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;That's where the endometrium comes in. You've probably read about how the endometrium is this snuggly, welcoming environment just waiting to enfold the delicate young embryo in its nurturing embrace. In fact, it's quite the reverse. Researchers, bless their curious little hearts, have tried to implant embryos all over the bodies of mice. The single most difficult place for them to grow was – the endometrium.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;Far from offering a nurturing embrace, the endometrium is a lethal testing-ground which only the toughest embryos survive. The longer the female can delay that placenta reaching her bloodstream, the longer she has to decide if she wants to dispose of this embryo without significant cost. The embryo, in contrast, wants to implant its placenta as quickly as possible, both to obtain access to its mother's rich blood, and to increase her stake in its survival. For this reason, the endometrium got thicker and tougher – and the fetal placenta got correspondingly more aggressive.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;But this development posed a further problem: what to do when the embryo died or was stuck half-alive in the uterus? The blood supply to the endometrial surface must be restricted, or the embryo would simply attach the placenta there. But restricting the blood supply makes the tissue weakly responsive to hormonal signals from the mother – and potentially more responsive to signals from nearby embryos, who naturally would like to persuade the endometrium to be more friendly. In addition, this makes it vulnerable to infection, especially when it already contains dead and dying tissues.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;The solution, for higher primates, was to slough off the whole superficial endometrium – dying embryos and all – after every ovulation that &lt;em&gt;didn't&lt;/em&gt; result in a healthy pregnancy. It's not exactly brilliant, but it works, and most importantly, it's easily achieved by making some alterations to a chemical pathway normally used by the fetus during pregnancy. In other words, it's just the kind of effect natural selection is renowned for: odd, hackish solutions that work to solve proximate problems. It's not quite as bad as it seems, because in nature, women would experience periods quite rarely – probably no more than a few tens of times in their lives between lactational amenorrhea and pregnancies***.&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;We don't really know how our hyper-aggressive placenta is linked to the other traits that combine to make humanity unique. But these traits did emerge together somehow, and that means in some sense the ancients were perhaps right. When we metaphorically 'ate the fruit of knowledge' – when we began our journey toward science and technology that would separate us from innocent animals and also lead to our peculiar sense of sexual morality – perhaps that was the same time the unique suffering of menstruation, pregnancy and childbirth was inflicted on women. All thanks to the evolution of the hemochorial placenta.&lt;/span&gt;&lt;/p&gt;
&lt;hr class=&quot;qtext_hr&quot;/&gt;&lt;p class=&quot;ui_qtext_para&quot;&gt;&lt;span class=&quot;ui_qtext_rendered_qtext&quot;&gt;Links / References:&lt;br/&gt;&lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3528014/&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot; onclick=&quot;return Q.openUrl(this, 4625918);&quot; class=&quot;external_link&quot; data-qt-tooltip=&quot;nih.gov&quot;&gt;The evolution of menstruation: A new model for genetic assimilation&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/8115596&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot; onclick=&quot;return Q.openUrl(this, 4625918);&quot; class=&quot;external_link&quot; data-qt-tooltip=&quot;nih.gov&quot;&gt;Genetic conflicts in human pregnancy.&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/9618925&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot; onclick=&quot;return Q.openUrl(this, 4625918);&quot; class=&quot;external_link&quot; data-qt-tooltip=&quot;nih.gov&quot;&gt;Menstruation: a nonadaptive consequence of uterin... [Q Rev Biol. 1998]&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2858159/&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot; onclick=&quot;return Q.openUrl(this, 4625918);&quot; class=&quot;external_link&quot; data-qt-tooltip=&quot;nih.gov&quot;&gt;Natural Selection of Human Embryos: Decidualizing Endometrial Stromal Cells Serve as Sensors of Embryo Quality upon Implantation&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;References for the mouse implantation studies:&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;Runner, M. N. (1947) Development of mouse eggs in the anterior chamber of the eye. Anatomical Record 98: 1-17.&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;Kirby, D. R. S. (1965) The &quot;invasiveness&quot; of the trophoblast. Pages 68-73, in W. W. Park (ed.), The early conceptus, normal and abnormal. University of St. Andrews, St. Andrews.&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;* mouse blastocysts implanted in kidney, spleen, testis, brain, liver&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;McLaren, A. (1965) Maternal factors in nidation. Pages 27-33, in W. W. Park (ed.), The early conceptus, normal and abnormal. University of St. Andrews, St. Andrews.&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&quot;The fact that successful implantation and subsequent development can occur in the testis emphasises the most striking and, to me, unexpected feature of implantation outside the uterus, namely, that it is entirely independent of the sex or hormonal status of the host. Pregnant females, non-pregnant females and males all provided an apparently equally good substrate for implantation in Kirby's experiments …&quot;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;&quot;What a contrast this makes to the situation inside the uterus! The experiments so far might lead one to think that the rodent blastocyst's capacity to implant and develop was so strong that only the most unfavourable of circumstances could stop it. Yet the uterus, which one might picture as especially welcoming and receptive, is in fact so inimical to implantation that there is only a brief period of time during which a blastocyst placed within it can hope to survive.&quot;&lt;/p&gt;
&lt;hr class=&quot;qtext_hr&quot;/&gt;&lt;p class=&quot;ui_qtext_para&quot;&gt;Credits: During my pregnancy I was privileged to audit a class at Harvard University by the eminent Professor David Haig, whose insight underlies much of this research. Thanks also to &lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;https://www.quora.com/profile/Edgar-A-Duenez-Guzman&quot;&gt;Edgar A. Duenez-Guzman&lt;/a&gt;&lt;/span&gt;, who reminded me of crucial details. All errors are mine alone.&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;*Dogs undergo vaginal bleeding, but do not menstruate. Elephant shrews were previously thought to menstruate, but it's now believed that these events were most likely spontaneous abortions.&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;** &lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;http://www.scientificamerican.com/article/scientists-discover-childrens-cells-living-in-mothers-brain/&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot; onclick=&quot;return Q.openUrl(this, 4625918);&quot; class=&quot;external_link&quot; data-qt-tooltip=&quot;scientificamerican.com&quot;&gt;Scientists Discover Children’s Cells Living in Mothers’ Brains&lt;/a&gt;&lt;/span&gt; (Thanks to &lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;https://www.quora.com/profile/Robyn-Adair&quot;&gt;Robyn Adair&lt;/a&gt;&lt;/span&gt; for the link).&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;***One older published estimate for hunter gatherers was around 50, but this relied on several assumptions, including 3 whole years of menstruation before reproduction (36 periods) for no obvious reason.&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;A study of the Dogon of Mali based on 57 women in natural-fertility cycles estimates the median number of life-time menses at 109: &lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;http://www.jstor.org/stable/2744446&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot; onclick=&quot;return Q.openUrl(this, 4625918);&quot; class=&quot;external_link&quot;&gt;http://www.jstor.org/stable/2744446&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;ui_qtext_para&quot;&gt;To get a feel for life history parameters, we can look at data from the Hadza of Tanzania, who reach puberty around 18, bear an average of 6.2 children in their lives (plus 2-3 noticeable miscarriages) starting at 19, and go through menopause at about 43 if they survive that long (about 50% don't). Around 20% of babies die in their first year; the remainder breastfeed for about 4 years. So this is 25 years of reproductive life, of which about 20 are spent lactating, and 4.5 pregnant. That would leave only about 6 periods, but amenorrhoea would cease during the last year of lactation for each child, so this figure is too low. On the other hand, this calculation ignores the ~50% of women who died before menopause, miscarriages, months spent breastfeeding infants who would die, and periods of food scarcity, all of which would further reduce lifetime menstruation. Stats from: &lt;span class=&quot;qlink_container&quot;&gt;&lt;a href=&quot;http://www.fas.harvard.edu/%7Ehbe-lab/acrobatfiles/who%20tends%20hadza%20children.pdf&quot; rel=&quot;noopener nofollow&quot; target=&quot;_blank&quot; onclick=&quot;return Q.openUrl(this, 4625918);&quot; class=&quot;external_link&quot; data-qt-tooltip=&quot;harvard.edu&quot;&gt;http://www.fas.harvard.edu/%7Ehb...&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 26 Feb 2018 04:13:49 +0000</pubDate>
<dc:creator>johnny313</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.quora.com/Why-do-women-have-periods-What-is-the-evolutionary-benefit-or-purpose-of-having-periods-Why-can%E2%80%99t-women-just-get-pregnant-without-the-menstrual-cycle/answers/4625918?share=1</dc:identifier>
</item>
<item>
<title>Debt Collection Companies Have Hijacked the Justice System</title>
<link>https://www.aclu.org/blog/racial-justice/race-and-economic-justice/debt-collection-companies-have-hijacked-justice-system</link>
<guid isPermaLink="true" >https://www.aclu.org/blog/racial-justice/race-and-economic-justice/debt-collection-companies-have-hijacked-justice-system</guid>
<description>&lt;p&gt;Denise Zencka, a mother of three in Indiana, had to file for bankruptcy because she couldn’t afford to repay her bills for treatment for thyroid cancer. And because she was unable to work, she had to stay with her parents in Florida while she recovered. She didn’t know that during that time, at the request of a debt collector seeking to collect outstanding medical bills, a small claims court judge had issued three warrants for her arrest. When she returned to Indiana, she was arrested by local sheriff’s deputies for the private debt she owed. Once at the jail, and being too sick to climb the stairs to the women’s section, she was held in a men’s mental health unit. Its glass walls allowed the male prisoners to watch everything she did, including using the toilet.&lt;/p&gt;
&lt;p&gt;As in Zencka’s case, and in thousands of other similar cases around the country, courts are issuing arrest warrants and serving as taxpayer-funded tools of the multi-billion-dollar debt collection industry.&lt;/p&gt;
&lt;p&gt;Debtors’ prisons were abolished by Congress in 1833. They are often thought to be a relic of the Dickensian past. In reality, private debt collectors are using the courts to get debtors arrested and to terrorize them into paying, even when a debt is in dispute or when the debtor has no ability to pay.&lt;/p&gt;
&lt;p&gt;Tens of thousands of arrest warrants are issued annually for people who fail to appear in court to deal with unpaid civil debt judgments. In investigating this issue for the new ACLU report, “&lt;a href=&quot;https://www.aclu.org/issues/mass-incarceration/privatization-criminal-justice/pound-flesh&quot;&gt;A Pound of Flesh&lt;/a&gt;,” we examined more than 1,000 cases in 26 states, in which civil court judges issued arrest warrants for debtors. The debtors were often unaware that they had been sued. In many cases, they had not received notice to show up in court.&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;more&quot; href=&quot;https://www.aclu.org/issues/mass-incarceration/privatization-criminal-justice/criminalization-private-debt&quot; target=&quot;_blank&quot;&gt;Read the Report&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Arrest warrants were issued in cases involving every kind of consumer debt or loan, including debts as small as $28. People have been arrested for debts arising from medical fees, federal and private student loans, car payments, unpaid rent, daycare fees, small-business loans, credit card bills, foreclosure deficiencies, high-interest payday loans, and gym fees, to name just a few types.&lt;/p&gt;
&lt;p&gt;The process starts when a debt collector files a lawsuit, and it snowballs from there. Each year, collectors flood small-claims and other state courts with millions of suits seeking repayment. Many courts churn through collection suits with almost no scrutiny. Over 95 percent of debt collection suits end in favor of the collector, usually because alleged debtors do not or cannot mount a defense.&lt;/p&gt;
&lt;p&gt;Then, with a judgment in hand, creditors can ask courts to require the person to show up in court for “judgment debtor examinations,” at which they are required to answer questions about their finances and assets. If the debtor does not appear for the exam, debt collectors can ask the judge to issue a civil warrant for the debtor’s arrest.&lt;/p&gt;
&lt;p&gt;Our investigation found that many people missed their court dates because of work, childcare responsibilities, lack of transportation, physical disability, illness, or because they didn’t receive notification of the court date. We found two cases in which elderly women missed hearings because they were terminally ill. They died shortly after warrants were issued for their arrest. The threat of arrest is an incredibly powerful tactic for collectors. As one lawyer in Texas, who has sought arrests of student loan borrowers, has noted, “It’s easier to settle when the debtor is under arrest.”&lt;/p&gt;
&lt;p&gt;Once arrested, a debtor may languish in jail for days until he can arrange to pay bail. Judges sometimes set bail at the exact amount of the judgment. And the bail money often is turned over to the debt collector or creditor as payment against the judgment.&lt;/p&gt;
&lt;p&gt;Even when people aren’t arrested, warrants can cause long-lasting harm because they may be entered into background check databases, with serious consequences for future employment, housing applications, education opportunities, and access to security clearances.&lt;/p&gt;
&lt;p&gt;Predatory debt collection companies are profiting from Americans who are trapped in debt and on the financial edge as a result of the loss of a job, illness, the death of a family member, or a divorce. The impact of abusive collection practices is particularly harmful to Black and Latino communities, which face longstanding racial and ethnic gaps in poverty and wealth.&lt;/p&gt;
&lt;p&gt;There is scant protection from collection abuses under federal and state laws. And even when there are laws in place, abuses remain largely unchecked because regulators rarely intervene to stop them. Unless that changes, the most vulnerable debtors will continue to be victimized by predatory collectors and courts that serve them.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Do you have a warrant issued or threatened in a private debt collection case? If so please contact us at &lt;a href=&quot;mailto:humanrights@aclu.org&quot;&gt;humanrights@aclu.org&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 26 Feb 2018 01:25:36 +0000</pubDate>
<dc:creator>walterbell</dc:creator>
<og:type>article</og:type>
<og:title>Debt Collection Companies Have Hijacked the Justice System</og:title>
<og:url>https://www.aclu.org/blog/racial-justice/race-and-economic-justice/debt-collection-companies-have-hijacked-justice-system</og:url>
<og:image>https://www.aclu.org/sites/default/files/styles/metatag_og_image_1200x630/public/field_share_image/web17-finalnoticebills-socialshare-1200x628.jpg?itok=JtvTprRy</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.aclu.org/blog/racial-justice/race-and-economic-justice/debt-collection-companies-have-hijacked-justice-system</dc:identifier>
</item>
<item>
<title>How poverty changes your mindset</title>
<link>http://review.chicagobooth.edu/behavioral-science/2018/article/how-poverty-changes-your-mind-set</link>
<guid isPermaLink="true" >http://review.chicagobooth.edu/behavioral-science/2018/article/how-poverty-changes-your-mind-set</guid>
<description>&lt;p&gt;The proportion of the global population living on less than $1.90 per person per day has fallen—from 18 percent in 2008 to 11 percent in 2013, according to the World Bank. In the United States, however, the poverty rate has been more stubborn—41 million people lived below the country’s poverty line in 2016, about 13 percent of the population, nearly the same rate as in 2007. Recent policy initiatives haven’t meaningfully reduced that rate. House Speaker Paul Ryan (Republican of Wisconsin) indicated this past December that the government would make fighting poverty, but also welfare, which many Republicans believe is a failed policy, a priority in 2018.&lt;/p&gt;&lt;p&gt;US lawmakers have expressed frustration when investments such as welfare programs don’t pull people out of poverty. “I believe in helping those who cannot help themselves but would if they could,” said Senator Orrin Hatch (Republican of Utah) this past December, when explaining his views on government spending. “I have a rough time wanting to spend billions and billions and trillions of dollars to help people who won’t help themselves, won’t lift a finger, and expect the federal government to do everything.” &lt;/p&gt;
&lt;p&gt;Hatch’s statement reflects a common view that removing government support would force many poor people to improve their conditions themselves. Without welfare and government assistance, would able-bodied people find a job, get an education, stop buying lottery tickets, and focus on paying bills?&lt;/p&gt;
&lt;p&gt;Not quite, indicate researchers, whose work is telling a different story of poverty. Contrary to the refrain that bad decisions lead to poverty, data indicate that it is the cognitive toll of being poor that leads to bad decisions. And actually, decisions that may &lt;em&gt;seem&lt;/em&gt; counterproductive could be entirely rational, even shrewd. The findings suggest that to successfully reduce poverty, it would help to take this psychology into account. &lt;/p&gt;
&lt;h2&gt;What drives ‘bad’ decisions&lt;/h2&gt;
&lt;p&gt;In a 2013 study published in &lt;em&gt;Science&lt;/em&gt;, researchers from the University of Warwick, Harvard, Princeton, and the University of British Columbia find that for poor individuals, working through a difficult financial problem produces a cognitive strain that’s equivalent to a 13-point deficit in IQ or a full night’s sleep lost. Similar cognitive deficits were observed in people who were under real-life financial stress. Theirs is one of multiple studies suggesting that poverty can harm cognition. &lt;/p&gt;
&lt;p&gt;But it was the fact that cognition seems to change with changing financial conditions that Chicago Booth’s &lt;a href=&quot;http://review.chicagobooth.edu/experts/anuj-k-shah&quot;&gt;Anuj K. Shah&lt;/a&gt;, along with Harvard’s &lt;a href=&quot;http://review.chicagobooth.edu/experts/sendhil-mullainathan&quot;&gt;Sendhil Mullainathan&lt;/a&gt; and Princeton’s &lt;a href=&quot;http://review.chicagobooth.edu/experts/eldar-shafir&quot;&gt;Eldar Shafir&lt;/a&gt;, two authors of the &lt;em&gt;Science&lt;/em&gt; paper, were interested in getting to the root of. They suspected that poverty might essentially create a new mind-set—one that shifts what people pay attention to and therefore how they make decisions. &lt;/p&gt;
&lt;p&gt;“Some say you really have to understand the broad social structure of being poor, and what people do and don’t have access to,” says Shah. “Others say that poor individuals have different values or preferences. We stepped back and asked: ‘Is there something else going on?’” &lt;/p&gt;
&lt;div id=&quot;game&quot; readability=&quot;28&quot;&gt;
&lt;p class=&quot;sideHead&quot;&gt;&lt;strong&gt;What’s on your mind?&lt;/strong&gt;&lt;/p&gt;
&lt;p id=&quot;gameIntro&quot;&gt;For an illustration of how poverty can affect one's thought process, try the test below. We'll give you 20 seconds to review a list of words, then ask you to write down as many as you can recall. For more, see “Money on the brain,” below.&lt;/p&gt;
&lt;p id=&quot;inputInstructions&quot;&gt;Now write down as many of the words as you can remember. There's no time limit. When you're ready, click the Submit button to see how you did.&lt;/p&gt;
&lt;p id=&quot;resultsGraf&quot;&gt;You remembered &lt;span id=&quot;answerCount&quot;&gt;1&lt;/span&gt; out of 12 words correctly. Just as significant, you &lt;span id=&quot;magicWord&quot;&gt;left out&lt;/span&gt; the magic word: &lt;span id=&quot;money&quot;&gt;money&lt;/span&gt;. Although ‘money’ was not on the list, in an experiment, poorer participants were more likely to remember seeing it, as the words on the list are all associated with financial concerns.&lt;/p&gt;
&lt;div id=&quot;resultsCharts&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;&lt;strong&gt;Percentage in the original experiment who included the word ‘money’&lt;/strong&gt;&lt;/p&gt;
&lt;img src=&quot;http://review.chicagobooth.edu/sites/default/files/Poverty-Words-Money.png&quot;/&gt;&lt;/div&gt;
&lt;p&gt;&lt;button id=&quot;startButton&quot; onclick=&quot;startGame()&quot;&gt;Start&lt;/button&gt;&lt;/p&gt;
&lt;p id=&quot;countdowntimer&quot;&gt;20&lt;/p&gt;
&lt;p&gt;Rent&lt;br/&gt;Loan&lt;br/&gt;Phone&lt;br/&gt;Dollar&lt;br/&gt;Coin&lt;br/&gt;Gas&lt;br/&gt;Bills&lt;br/&gt;Expense&lt;br/&gt;Grocery&lt;br/&gt;Utilities&lt;br/&gt;Cash&lt;br/&gt;Pay&lt;/p&gt;

&lt;/div&gt;
&lt;p&gt;To test the idea, the researchers designed experiments that stripped away money and put other resources in demand. In one such study, the researchers had participants play variants of the popular games &lt;em&gt;Wheel of Fortune&lt;/em&gt;, &lt;em&gt;Angry Birds&lt;/em&gt;, and &lt;em&gt;Family Feud&lt;/em&gt;, looking for how scarcity affected players’ attention. “Rich” people in these constructs had more chances to earn points, so more time to play the game. “Poor” people had fewer chances. &lt;/p&gt;
&lt;p&gt;In the &lt;em&gt;Wheel of Fortune&lt;/em&gt;–style game, the researchers measured how cognitively fatigued the players became. Logic would predict that rich players would be more fatigued, since they were allowed more turns to make more guesses. Instead, the researchers observed that poor players, having received fewer tries to guess at the answers, were more fatigued, having put more effort into each guess. &lt;/p&gt;
&lt;p&gt;In an &lt;em&gt;Angry Birds&lt;/em&gt;–style game in which people tried to shoot targets, rich players were given more chances to train a virtual slingshot on a target. Poor players, given fewer attempts, spent longer lining up their shots, and many scored more points per shot than rich players. For all the extra shots rich players had, they didn’t do as well, proportionally. “It seems that to understand the psychology of scarcity, we must also appreciate the psychology of abundance. If scarcity can engage us too much, abundance might engage us too little,” the researchers write.&lt;/p&gt;

&lt;p&gt;In some ways, scarcity appears to make people better problem solvers. In these game versions of the world, says Shah, the players randomly assigned to be poor focused on what was concrete and in front of them. And that’s what happens in real life, too, write Shah, Mullainathan, and Shafir. When money is tight, “the very lack of available resources makes each expense more insistent and more pressing. A trip to the grocery store looms larger, and this month’s rent constantly seizes our attention. Because these problems feel bigger and capture our attention, we engage more deeply in solving them.” &lt;/p&gt;
&lt;p&gt;Unfortunately, one way to solve the problem in the short run is to borrow, which can backfire. In the experiments, when poor participants were allowed to borrow resources, that borrowing undid some of the advantages of scarcity. When the researchers looked at performance as a function of borrowing, they find that poor players often borrowed more than they should have, and performed better when they weren’t permitted to borrow. Poverty led to wise decisions, but it also led to counterproductive ones.  &lt;/p&gt;
&lt;h2&gt;Trade-offs become real&lt;/h2&gt;
&lt;p&gt;Shah, Mullainathan, and Shafir looked further into how poverty affects decision-making, and find that poor people may evaluate trade-offs better than their wealthier counterparts. Just as the &lt;em&gt;Angry Birds&lt;/em&gt; players spent more time lining up a shot, people with actual financial concerns might also make better, more focused decisions, closer to what economists consider ideal.&lt;/p&gt;
&lt;p&gt;The researchers asked real people of various socioeconomic strata if they were willing to travel an extra 30 minutes to save $50 on a $300 tablet. Some said they were. But when asked if they’d drive that far to save the same amount on a $1,000 tablet, some of the respondents changed their minds. Their answer depended on their income. &lt;/p&gt;

&lt;p&gt;Many people were, irrationally, more likely to say yes when buying a $300 tablet rather than a $1,000 one. But that response was more common among wealthier people. For poorer individuals, the cost of the tablet often didn’t matter—regardless of the price, they were just as likely to travel for the discount.&lt;/p&gt;
&lt;p&gt;That’s the correct financial decision, according to traditional economics—to drive the extra distance no matter the original cost. Saving $50 is the same regardless of the amount of the item in question. But wealthier participants saw the savings in relative terms, noticing the percentage savings. By contrast, poorer participants thought in absolute terms. To them, $50 saved was $50 to spend on groceries or the electric bill. &lt;/p&gt;
&lt;p&gt;The same pattern showed up in experiments that involved smaller and larger amounts of money or other rewards. Even calories fit the pattern: people who were dieting, and therefore in a scarcity mind-set, recognized that an order of McDonald’s fries was just as fattening whether thought of in terms of daily or weekly calorie intakes. But people who were not dieting were more swayed by context. Once again, scarcity prompted the more accurate decision. &lt;/p&gt;
&lt;h2&gt;Put it into practice&lt;/h2&gt;
&lt;p&gt;If people in poverty are making smart decisions considering the situation, how could that be recognized and better encouraged? There may be ways to help people when they’re facing potentially expensive borrowing decisions. For example, Chicago Booth’s &lt;a href=&quot;http://review.chicagobooth.edu/experts/marianne-bertrand&quot;&gt;Marianne Bertrand&lt;/a&gt; and University of California at Berkeley’s &lt;a href=&quot;http://review.chicagobooth.edu/experts/adair-morse&quot;&gt;Adair Morse&lt;/a&gt; studied high-interest payday loans and find that people made better decisions when the interest rate was expressed in terms of dollar amounts, namely the cost they’d pay over three months. “We’d explain this by saying that a dollar amount is a lot more concrete,” says Shah. “You can think about exactly what you’d have to give up to pay off the loan.”&lt;/p&gt;
&lt;p&gt;“Program designers and policy makers often suffer from a failure to accurately take the perspective of the people they are trying to help,” says Chicago Booth’s &lt;a href=&quot;http://review.chicagobooth.edu/experts/christopher-j-bryan&quot;&gt;Christopher J. Bryan&lt;/a&gt;. “They design programs that would be appealing to people if they had the luxury of being able to devote careful thought and attention to considering them. But poverty imposes a heavy attentional ‘tax’ that prevents people from devoting that kind of thought to new opportunities, so program uptake is low.”&lt;/p&gt;

&lt;p&gt;Bryan was the lead author of a policy paper that recommended new strategies to policy makers and other relevant parties based on recent findings. Among other things, he and his coresearchers advise that an effort be made to reduce the up-front cost of future-oriented behaviors. For example, they point out that in a study by researchers at the World Bank, Harvard, and Yale, giving kids free school uniforms boosted school enrollment in Kenya by more than 6 percentage points. Similarly, researchers at Stanford, Harvard, and the University of Toronto, in conjunction with H&amp;amp;R Block, find that offering US students assistance with their applications for federally funded college student aid has been shown to increase enrollment in college by 24 percent. &lt;/p&gt;
&lt;p&gt;The researchers urge service providers to weigh price and inconvenience carefully, particularly when offering health-related services, which many people may forgo if the cost or the distance is too great. A program in Uganda brought health products such as water-purification tablets and antimalarial drugs to people door-to-door, which removed the issue of making people travel to get these products. That simple step to counter the inconvenience of seeking out products and services had an effect. “It can sometimes be better to charge a small fee and make a service very convenient than to charge nothing for a very inconvenient service,” write the researchers. In this case, the cost of delivery was included in the price of the products. &lt;/p&gt;
&lt;p&gt;The researchers also recommend taking into account the timing of incentives—and they advise to avoid offering them when money is tight and people are consumed with the pressing need to budget what little they have to meet basic needs. In India, where sugarcane farmers are paid annually after the harvest, farmers’ attention scores were the equivalent of 10 IQ points higher than just before the harvest, when farmers were relatively poor, according to data from the 2013 &lt;em&gt;Science&lt;/em&gt; study mentioned earlier. &lt;/p&gt;
&lt;p&gt;Offering subsidies or other incentives when people are more receptive to and have the spare capacity to consider them, such as after a harvest or a payday, may make a difference over the long run. One effort, in Tanzania, asked people to sign up for health insurance at cashpoint locations right after payday, and the timing led to a 20 percentage point increase in health-insurance use. &lt;/p&gt;
&lt;p&gt;Introducing cognitive aids can help address the limited capacity for attention that may constrain people in poverty. In one study, it helped to show farmers research regarding the most productive ways to plant their crops. When poor, stressed, and in a scarcity mind-set, farmers had a harder time taking in the information. “This result has nothing to do with the intelligence of the farmers,” writes Bryan’s team. “A fact is only obvious if the observer has the spare attentional capacity to notice it.” &lt;/p&gt;
&lt;p&gt;They also suggest that reminders, in the form of text messages or stickers, can be effective. Such gentle pushes—for instance, to take medication on schedule—can help people remember to do what they may otherwise forget, since other duties and obligations may compete for attention. &lt;/p&gt;
&lt;p&gt;For those who design and implement antipoverty initiatives, it’s important to recognize that while scarcity can help people focus on costs and benefits, it can also cause stress that shifts attention and steals cognitive bandwidth. A big step forward would be to understand these psychological limits that poverty imposes and make some policy tweaks, write the researchers, to “substantially improve the impact they have on the poor.”&lt;/p&gt;
</description>
<pubDate>Sun, 25 Feb 2018 23:12:05 +0000</pubDate>
<dc:creator>bryanwbh</dc:creator>
<og:type>article</og:type>
<og:url>http://review.chicagobooth.edu/behavioral-science/2018/article/how-poverty-changes-your-mind-set</og:url>
<og:title>How poverty changes your mind-set</og:title>
<og:description>Understanding psychology may be key to addressing the problem</og:description>
<og:image>http://review.chicagobooth.edu/sites/default/files/article_art/FEA_Poverty3.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://review.chicagobooth.edu/behavioral-science/2018/article/how-poverty-changes-your-mind-set</dc:identifier>
</item>
<item>
<title>What is happening in the Arctic is now beyond words, so here are the pictures</title>
<link>http://www.climatecodered.org/2018/02/what-is-happening-in-arctic-is-now.html</link>
<guid isPermaLink="true" >http://www.climatecodered.org/2018/02/what-is-happening-in-arctic-is-now.html</guid>
<description>In the depths of the northern winter, and with 24-hour darkness at the North Pole, an extraordinary climate warming event is happening. And for many scientists it is now beyond words. So here from Zack Labe (&lt;a href=&quot;https://twitter.com/ZLabe&quot;&gt;@ZLabe&lt;/a&gt;) are some images which tell the story of the recording-smashing warming and sea-ice melting occurring right now high in the Arctic.&lt;br/&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;
&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;Sea ice extent in the Bering Sea (Arctic) continues its decline. &quot;Warm&quot; and strong southerly winds have contributed to this anomalous retreat of ice into the Bering Strait. 2018 is the clear outlier in the satellite era (each thin line = 1979-2017, &lt;a href=&quot;https://twitter.com/NSIDC?ref_src=twsrc%5Etfw&quot;&gt;@NSIDC&lt;/a&gt; data) &lt;a href=&quot;https://t.co/kzEV6yEFmp&quot;&gt;pic.twitter.com/kzEV6yEFmp&lt;/a&gt;&lt;/div&gt;
— Zack Labe (@ZLabe) &lt;a href=&quot;https://twitter.com/ZLabe/status/967538448327352321?ref_src=twsrc%5Etfw&quot;&gt;February 24, 2018&lt;/a&gt;&lt;/blockquote&gt;&lt;br/&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;
&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;The extreme event continues to unfold in the high &lt;a href=&quot;https://twitter.com/hashtag/Arctic?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Arctic&lt;/a&gt; today in response to a surge of moisture and &quot;warmth&quot;&lt;p&gt;2018 is well exceeding previous years (thin lines) for the month of February. 2018 is the red line. Average temperature is in white (&lt;a href=&quot;https://t.co/kO5ufUWrKq&quot;&gt;https://t.co/kO5ufUWrKq&lt;/a&gt;) &lt;a href=&quot;https://t.co/cLeMxSxvWo&quot;&gt;pic.twitter.com/cLeMxSxvWo&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;
— Zack Labe (@ZLabe) &lt;a href=&quot;https://twitter.com/ZLabe/status/967838618252320768?ref_src=twsrc%5Etfw&quot;&gt;February 25, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;br/&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;

— Lars Kaleschke (@seaice_de) &lt;a href=&quot;https://twitter.com/seaice_de/status/967679640402874369?ref_src=twsrc%5Etfw&quot;&gt;February 25, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;br/&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;
&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;February? This is crazy. Retreat of sea ice in the Bering Sea continues - well below the previous record low in the satellite era. &lt;a href=&quot;https://t.co/9UoqZvaFr2&quot;&gt;pic.twitter.com/9UoqZvaFr2&lt;/a&gt;&lt;/div&gt;
— Zack Labe (@ZLabe) &lt;a href=&quot;https://twitter.com/ZLabe/status/966343051210735616?ref_src=twsrc%5Etfw&quot;&gt;February 21, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;br/&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;

— Zack Labe (@ZLabe) &lt;a href=&quot;https://twitter.com/ZLabe/status/967145033970298880?ref_src=twsrc%5Etfw&quot;&gt;February 23, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;br/&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;

— Zack Labe (@ZLabe) &lt;a href=&quot;https://twitter.com/ZLabe/status/967498889854050304?ref_src=twsrc%5Etfw&quot;&gt;February 24, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;br/&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;
&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;The most intense surge of moisture/warmth (relative to average) for this event will be pushing over the North Pole tomorrow. Temperatures projected near 0°C. Meanwhile, brutal cold remains over Europe.&lt;p&gt;Graphics available from &lt;a href=&quot;https://t.co/PsOBvTVbA2&quot;&gt;https://t.co/PsOBvTVbA2&lt;/a&gt; &lt;a href=&quot;https://t.co/LK6rvpaow6&quot;&gt;pic.twitter.com/LK6rvpaow6&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;
— Zack Labe (@ZLabe) &lt;a href=&quot;https://twitter.com/ZLabe/status/967591344402124802?ref_src=twsrc%5Etfw&quot;&gt;February 25, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;

— Zack Labe (@ZLabe) &lt;a href=&quot;https://twitter.com/ZLabe/status/798240539409690625?ref_src=twsrc%5Etfw&quot;&gt;November 14, 2016&lt;/a&gt;&lt;/blockquote&gt;

</description>
<pubDate>Sun, 25 Feb 2018 22:49:38 +0000</pubDate>
<dc:creator>Red_Tarsius</dc:creator>
<og:url>http://www.climatecodered.org/2018/02/what-is-happening-in-arctic-is-now.html</og:url>
<og:title>What is happening in the Arctic is now beyond words, so here are the pictures</og:title>
<og:description>The climate emergency requires actions at emergency speed for a rapid transition to a post-carbon, safe-climate future.</og:description>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.climatecodered.org/2018/02/what-is-happening-in-arctic-is-now.html</dc:identifier>
</item>
<item>
<title>A Brief Introduction to Machine Learning for Engineers (2017)</title>
<link>https://arxiv.org/abs/1709.02840</link>
<guid isPermaLink="true" >https://arxiv.org/abs/1709.02840</guid>
<description>&lt;div id=&quot;&quot;&gt;
&lt;p&gt;&lt;span class=&quot;descriptor&quot;&gt;Abstract:&lt;/span&gt; This monograph aims at providing an introduction to key concepts, algorithms, and theoretical frameworks in machine learning, including supervised and unsupervised learning, statistical learning theory, probabilistic graphical models and approximate inference. The intended readership consists of electrical engineers with a background in probability and linear algebra. The treatment builds on first principles, and organizes the main ideas according to clearly defined categories, such as discriminative and generative models, frequentist and Bayesian approaches, exact and approximate inference, directed and undirected models, and convex and non-convex optimization. The mathematical framework uses information-theoretic measures as a unifying tool. The text offers simple and reproducible numerical examples providing insights into key motivations and conclusions. Rather than providing exhaustive details on the existing myriad solutions in each specific category, for which the reader is referred to textbooks and papers, this monograph is meant as an entry point for an engineer into the literature on machine learning.&lt;/p&gt;
&lt;/div&gt;&lt;div readability=&quot;29.526315789474&quot;&gt;
&lt;h2&gt;Submission history&lt;/h2&gt;
From: Osvaldo Simeone [&lt;a href=&quot;https://arxiv.org/show-email/b614b33d/1709.02840&quot;&gt;view email&lt;/a&gt;]&lt;br /&gt;&lt;strong&gt;[v1]&lt;/strong&gt; Fri, 8 Sep 2017 19:21:26 GMT (6401kb)&lt;br /&gt;&lt;/div&gt;</description>
<pubDate>Sun, 25 Feb 2018 22:28:33 +0000</pubDate>
<dc:creator>lainon</dc:creator>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://arxiv.org/abs/1709.02840</dc:identifier>
</item>
<item>
<title>What I Learned Burning $14k on YouTube Ads for Candy Japan</title>
<link>https://www.candyjapan.com/behind-the-scenes/what-i-learned-advertising-on-youtube</link>
<guid isPermaLink="true" >https://www.candyjapan.com/behind-the-scenes/what-i-learned-advertising-on-youtube</guid>
<description>&lt;p&gt;YouTube allows you to pay to show an ad before a video plays.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.candyjapan.com/&quot;&gt;Candy Japan&lt;/a&gt; is a service aimed at people with some interest in Japan, and there is an endless supply of videos aimed at the same audience. While the chances of success seemed low due to the high cost of advertising there, the promise of hitting a major new source of customers made it worth a shot.&lt;/p&gt;
&lt;p&gt;Here's what I learned along the way from creating the video all the way to tweaking the ad campaign and finally looking at the results.&lt;/p&gt;
&lt;h2&gt;Creating an ad for YouTube&lt;/h2&gt;
&lt;p&gt;With AdWords you just need three lines of text, but to advertise on YouTube you need a video to show.&lt;/p&gt;
&lt;p&gt;The major types of videos are screencasts, live action or an animation. Screencasts might work well if you were trying to sell an app or a game, but wasn't really applicable for my candy subscription service.&lt;/p&gt;
&lt;p&gt;I considered a live video showing the candy boxes being delivered, or an animated explainer video. Since the people viewing my ad had a high likelihood of also liking anime, I figured an ad in a similar style might be a good match.&lt;/p&gt;
&lt;h3&gt;Process &amp;amp; cost of creating an animated ad&lt;/h3&gt;
&lt;p&gt;I found some examples indicating that an animation would cost about $100 - $150 per second to make. Given that a typical YouTube ad is 30 seconds, you can see this gets expensive fast.&lt;/p&gt;
&lt;p&gt;I found two options: either hire an animation studio, or work with a freelancer. Since I had already worked with an artist to create the manga illustration for the site, I asked him if he might be able to create an animation too.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;Creating an ad for YouTube&quot; src=&quot;https://www.candyjapan.com/static/mangaexplainer.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Me and my wife came up with a quick storyboard, just using stick figures. I compiled them into a slideshow, wrote the voiceover dialog and mumbled it out while flipping the slides to create the timings.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;candyjapan-stickfigure&quot; src=&quot;https://www.candyjapan.com/static/candyjapan-stickfigure.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Based on our stick figure slides, the artist drew up keyframes. That moved things forward, as we could now discuss particular changes we wanted.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;candyjapan-box-flying&quot; src=&quot;https://www.candyjapan.com/static/candyjapan-box-flying.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Based on my mumblings I ordered a voiceover with a professional actress reading out the lines properly. The voiceover cost was about $100, which seemed relatively cheap now, as I was already paying about $3000 for the animation.&lt;/p&gt;
&lt;p&gt;With rough sketches and a voice track timed to them, work could start to turn them into final animation assets.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=-0aY1GxvRMk&quot;&gt;&lt;img alt=&quot;candy-flying-ad&quot; src=&quot;https://www.candyjapan.com/static/candy-flying-ad.png&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The whole process from finding someone able to do this to actually having an uploadable video took 4 months. I imagine that going with a studio might have been a better choice, as the cost would have been similar but the turnaround time would likely have been much faster.&lt;/p&gt;
&lt;p&gt;Here's the &lt;a href=&quot;https://www.youtube.com/watch?v=-0aY1GxvRMk&quot;&gt;end result&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;You've got to spend money to spend money&lt;/h2&gt;
&lt;p&gt;Now after spending a lot of money to create an ad, you can finally get started spending even more money showing the ad to people.&lt;/p&gt;
&lt;p&gt;YouTube itself is used to upload the video. You can make it unlisted if you want. Then to get the ad to appear before videos (&lt;em&gt;&quot;In-stream ad&quot;&lt;/em&gt; ), you use AdWords to create a campaign. The YouTube video ID is used to link the AdWords ad with the video.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;Editing a YouTube ad on AdWords&quot; src=&quot;https://www.candyjapan.com/static/adwords-youtube-ad.png&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;How YouTube ads are priced&lt;/h3&gt;
&lt;p&gt;Just like AdWords, the cost of an ad view is based on an auction between advertisers. However the auction is not based on clicks, but on views. To enter this auction the minimum bid is $0.01 per view, which might sound low, but isn't really.&lt;/p&gt;
&lt;p&gt;Internet advertising is usually priced in terms of 1000 views, called the CPM rate. The low end starts at much less than a dollar, for example &lt;a href=&quot;https://www.projectwonderful.com/advertisehere.php?id=70571&amp;amp;type=3%C2%AEions=1,0,2,9,&amp;amp;sumdata=1&quot;&gt;advertising on Explain XKCD costs about $0.20 per 1000 views&lt;/a&gt;. Mid range would be single digits, say &lt;a href=&quot;https://www.buysellads.com/buy/detail/19392&quot;&gt;$3 for showing an ad on Cult of Mac&lt;/a&gt;. The upper range is low double digits, for instance &lt;a href=&quot;https://www.buysellads.com/buy/detail/282603&quot;&gt;a banner on bitcoin.com costs $30 per 1000 views&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Translating the YouTube ads &quot;per view&quot; thinking into CPM: $0.01 per view would be $10 CPM. And this is just the &lt;strong&gt;minimum bid&lt;/strong&gt; that it is possible to pay. Bidding this low probably wouldn't get you many views, and I found myself bidding much higher (equivalent to &lt;a href=&quot;https://fitsmallbusiness.com/tv-advertising/&quot;&gt;actual TV ad prices&lt;/a&gt;) to get just enough views to determine whether my campaigns were working at all.&lt;/p&gt;
&lt;p&gt;Now the good news: you don't have to pay if someone quickly skips your video! So if you manage to come up with an ad that is completely uninteresting to people outside of your target audience such that they skip it immediately, you don't have to pay for those views.&lt;/p&gt;
&lt;p&gt;I found that 30% of people would actually watch our ad (70% skip). When you take into account that only 30% of people will watch the ad, a more accurate comparison with banner ads would be an interstitial ad with a $3 CPM minimum (1000 impressions _ 30% view ad _ $0.01).&lt;/p&gt;
&lt;p&gt;Now you might understand why I want to get people not in my target audience to skip – it's cheaper because you don't pay when people skip your ad!&lt;/p&gt;
&lt;h2&gt;Targeting options&lt;/h2&gt;
&lt;p&gt;Compared to TV advertising, YouTube really shines with all the options you have for showing your ad to only your desired audience. The main targeting options are topics, placements and audiences. Topics and placements control which videos your ad is shown against, while audiences allow you to show ads based on who is viewing the ad.&lt;/p&gt;
&lt;h3&gt;Topics&lt;/h3&gt;
&lt;p&gt;It would be a huge pain to have to individually select thousands of videos to show your ad against. That's where topics come in, as they are pre-made groups of videos relating to a certain subject.&lt;/p&gt;
&lt;p&gt;For example if you are trying to market a strategy game, you are in luck, because there is a topic just for that.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;adwords-youtube-topics&quot; src=&quot;https://www.candyjapan.com/static/adwords-youtube-topics.png&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;Placements&lt;/h3&gt;
&lt;p&gt;With placements you can show your ad before a certain video, or before all the videos of your chosen YouTube channels.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;adwords-placements&quot; src=&quot;https://www.candyjapan.com/static/adwords-placements.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;For instance if you were selling an app for creating bingo cards, you could find all the &quot;how to make bingo cards&quot;-type videos and show your ad before those.&lt;/p&gt;
&lt;p&gt;Sadly in practice I found that it was difficult to get views this way, at least for any price I was willing to test. Even when listing thousands of videos, I wasn't able to get any meaningful amount of views for my ad. It could be that a lot of the videos I tried were either unpopular, had monetization disabled or my bids were just way too low.&lt;/p&gt;
&lt;h3&gt;Audiences&lt;/h3&gt;
&lt;p&gt;With audience matching Google tries to figure out what type of a person is viewing a video, and if that matches your selection then your ad can be shown.&lt;/p&gt;
&lt;p&gt;There are a lot of options here. You can target investors, cooking enthusiasts, people into DIY, pet lovers, gamers and more.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;adwords-audiences&quot; src=&quot;https://www.candyjapan.com/static/adwords-audiences.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Audience matching finally gave me enough clicks to find out whether anyone ever buys anything through YouTube ads.&lt;/p&gt;
&lt;h3&gt;Keywords&lt;/h3&gt;
&lt;p&gt;In the beginning I said there are topics, placements and audiences, but actually there is another targeting method. One where I still have no idea how it is supposed to work: keywords.&lt;/p&gt;
&lt;p&gt;I assumed to trigger a keyword match, the video title or description would have to match it. This turned out not to be the case.&lt;/p&gt;
&lt;p&gt;For example when I tried the keyword &quot;anime&quot;, my ad got shown before these videos: &lt;a href=&quot;https://www.youtube.com/watch?v=3jf66b9VQ8c&quot;&gt;some Lithuanian song&lt;/a&gt;, &lt;a href=&quot;https://www.youtube.com/watch?v=qBqEFwhdoo8&quot;&gt;a tutorial on how to make gnomes&lt;/a&gt; and &lt;a href=&quot;https://www.youtube.com/watch?v=86f3332Kp2w&quot;&gt;some german rap video&lt;/a&gt;. Not exactly anime.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;Targeting options&quot; src=&quot;https://www.candyjapan.com/static/gnomesbro.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&quot;Keywords can trigger your ad to show when people view related content on YouTube, websites or apps&quot;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Apparently this &quot;related content&quot; is defined more broadly than I had assumed.&lt;/p&gt;
&lt;h2&gt;I know what video you saw last summer&lt;/h2&gt;
&lt;p&gt;Oh yeah, I wanted to mention a cool tracking thing YouTube provides. As you might assume, you can easily track when a click on the ad results in a sale. But the cool part is that you can also track when someone views your ad, and then a bit later types in your web address to make the purchase without ever clicking the link.&lt;/p&gt;
&lt;p&gt;In other words you can track both people who click through an ad directly, or who see your ad and then visit your site a bit later (this is known as a &quot;&lt;em&gt;view-through conversion&lt;/em&gt; &quot;). It's magic. Magical enough that you'll have to take Google's word on it that these customers actually did view the ad, since you won't be able to detect it yourself.&lt;/p&gt;
&lt;p&gt;Besides purely trusting the reports given to me, I also added a field to my order form where I asked people &quot;where did you hear about Candy Japan?&quot;. This confirmed that YouTube really was sending these new customers.&lt;/p&gt;
&lt;h2&gt;Tweaking the campaign: exclude!&lt;/h2&gt;
&lt;p&gt;AdWords gives you a lot of interesting data about which of your targeting options converted and which did not. Looking carefully at the data AdWords gave me, I did find a few simple ways for lowering the cost of a sale.&lt;/p&gt;
&lt;p&gt;The key realization here is that advertising is as much about showing your ad to people, as it is about NOT showing it to those less likely to buy. An easy start is to just stop all topics or audiences that don't seem to be working.&lt;/p&gt;
&lt;p&gt;If that still doesn't make your campaign profitable, there are broader exclusions and bid adjustments you can make based on age, gender, device, location, parental status and household income. For instance you might find that people in certain locations or age groups are less likely to buy than others.&lt;/p&gt;
&lt;p&gt;With these adjustments I was able to significantly lower the cost per conversion for the campaign.&lt;/p&gt;
&lt;h2&gt;In conclusion, did you break even?&lt;/h2&gt;
&lt;p&gt;Nope. I lost money.&lt;/p&gt;
&lt;p&gt;Many viewers did place an order after seeing the ad, but not enough to justify continuing the campaign. This was true even taking into account the full lifetime value of a customer. While I was not able to make the campaign break even, by tweaking the targeting options I was able to get pretty close.&lt;/p&gt;
&lt;p&gt;For now I have stopped the campaign and will reflect a bit on what went wrong before possibly trying again.&lt;/p&gt;
&lt;p&gt;As advice for someone else who wants to try advertising on YouTube, I'd say your product or service should make at least tens of dollars in profit to at least have a shot at making the numbers work. Advertising an app with a flat cost of only a few dollars would be unlikely to work even at the lowest bid levels.&lt;/p&gt;
&lt;p&gt;If you do have a suitable product, be prepared to spend thousands while you tweak your campaign towards profitability.&lt;/p&gt;
&lt;p&gt;Thanks for reading. If you would like to try some candy yourself, you can &lt;a href=&quot;https://www.candyjapan.com/&quot;&gt;sign up here&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>Sun, 25 Feb 2018 21:14:55 +0000</pubDate>
<dc:creator>jbardnz</dc:creator>
<og:title>What I Learned Burning $13,867 on YouTube Ads for Candy Japan</og:title>
<og:description>Explains how expensive it is to advertise on YouTube, what is involved in launching a campaign and finally tweaking it towards profitability.</og:description>
<og:url>https://www.candyjapan.com/behind-the-scenes/what-i-learned-advertising-on-youtube</og:url>
<og:type>article</og:type>
<og:image>https://www.candyjapan.com/static/iceberg.jpg</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.candyjapan.com/behind-the-scenes/what-i-learned-advertising-on-youtube</dc:identifier>
</item>
<item>
<title>KaiOS – A Smartphone Operating System</title>
<link>https://www.kaiostech.com/</link>
<guid isPermaLink="true" >https://www.kaiostech.com/</guid>
<description>&lt;div class=&quot;slider__slide&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;
&lt;h2&gt;The emerging OS&lt;/h2&gt;
KaiOS powers a new category of light phones and other connected devices.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;slider__slide&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;
&lt;h2&gt;Connects without exception&lt;/h2&gt;
KaiOS allows partners to bring the digital revolution to everyone.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;slider__slide&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;
&lt;h2&gt;Kai is real&lt;/h2&gt;
KaiOS is already used by millions of users in North America and India.&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Sun, 25 Feb 2018 20:32:47 +0000</pubDate>
<dc:creator>fstephany</dc:creator>
<og:type>website</og:type>
<og:title>A Powerful Operating System- KaiOS</og:title>
<og:description>KaiOS is a mobile operating system. It merges the power of a smartphone with the affordability of a feature phone. KaiOS supports 4G and has an app store.</og:description>
<og:url>https://www.kaiostech.com/</og:url>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.kaiostech.com/</dc:identifier>
</item>
<item>
<title>Requests-HTML: HTML Parsing for Humans</title>
<link>https://github.com/kennethreitz/requests-html</link>
<guid isPermaLink="true" >https://github.com/kennethreitz/requests-html</guid>
<description>&lt;h3&gt;README.rst&lt;/h3&gt;
&lt;article class=&quot;markdown-body entry-content&quot; itemprop=&quot;text&quot;&gt;
&lt;h2&gt;Requests-HTML: HTML Parsing for Humans™&lt;/h2&gt;
&lt;a href=&quot;https://travis-ci.org/kennethreitz/requests-html&quot; rel=&quot;nofollow&quot;&gt;&lt;img alt=&quot;https://travis-ci.org/kennethreitz/requests-html.svg?branch=master&quot; src=&quot;https://camo.githubusercontent.com/48f6c6df8a123455cd3acfbb3d0d2815f9acf672/68747470733a2f2f7472617669732d63692e6f72672f6b656e6e657468726569747a2f72657175657374732d68746d6c2e7376673f6272616e63683d6d6173746572&quot; data-canonical-src=&quot;https://travis-ci.org/kennethreitz/requests-html.svg?branch=master&quot;/&gt;&lt;/a&gt;
&lt;p&gt;This library intends to make parsing HTML (e.g. scraping the web) as simple and intuitive as possible.&lt;/p&gt;
&lt;p&gt;When using this library you automatically get:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;CSS Selectors (a.k.a jQuery-style, thanks to PyQuery).&lt;/li&gt;
&lt;li&gt;XPath Selectors, for the faint at heart.&lt;/li&gt;
&lt;li&gt;Mocked user-agent (like a real web browser).&lt;/li&gt;
&lt;li&gt;Automatic following of redirects.&lt;/li&gt;
&lt;li&gt;Connection–pooling and cookie persistience.&lt;/li&gt;
&lt;li&gt;The Requests experience you know and love, with magical parsing abilities.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Usage&lt;/h2&gt;
&lt;p&gt;Make a GET request to 'python.org', using Requests:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; requests_html
&amp;gt;&amp;gt;&amp;gt; session &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; requests_html.Session()

&amp;gt;&amp;gt;&amp;gt; r &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; session.get(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;https://python.org/&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Grab a list of all links on the page, as–is (anchors excluded):&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; r.html.links
{'//docs.python.org/3/tutorial/', '/about/apps/', 'https://github.com/python/pythondotorg/issues', '/accounts/login/', '/dev/peps/', '/about/legal/', '//docs.python.org/3/tutorial/introduction.html#lists', '/download/alternatives', 'http://feedproxy.google.com/~r/PythonInsider/~3/kihd2DW98YY/python-370a4-is-available-for-testing.html', '/download/other/', '/downloads/windows/', 'https://mail.python.org/mailman/listinfo/python-dev', '/doc/av', 'https://devguide.python.org/', '/about/success/#engineering', 'https://wiki.python.org/moin/PythonEventsCalendar#Submitting_an_Event', 'https://www.openstack.org', '/about/gettingstarted/', 'http://feedproxy.google.com/~r/PythonInsider/~3/AMoBel8b8Mc/python-3.html', '/success-stories/industrial-light-magic-runs-python/', 'http://docs.python.org/3/tutorial/introduction.html#using-python-as-a-calculator', '/', 'http://pyfound.blogspot.com/', '/events/python-events/past/', '/downloads/release/python-2714/', 'https://wiki.python.org/moin/PythonBooks', 'http://plus.google.com/+Python', 'https://wiki.python.org/moin/', 'https://status.python.org/', '/community/workshops/', '/community/lists/', 'http://buildbot.net/', '/community/awards', 'http://twitter.com/ThePSF', 'https://docs.python.org/3/license.html', '/psf/donations/', 'http://wiki.python.org/moin/Languages', '/dev/', '/events/python-user-group/', 'https://wiki.qt.io/PySide', '/community/sigs/', 'https://wiki.gnome.org/Projects/PyGObject', 'http://www.ansible.com', 'http://www.saltstack.com', 'http://planetpython.org/', '/events/python-events', '/about/help/', '/events/python-user-group/past/', '/about/success/', '/psf-landing/', '/about/apps', '/about/', 'http://www.wxpython.org/', '/events/python-user-group/665/', 'https://www.python.org/psf/codeofconduct/', '/dev/peps/peps.rss', '/downloads/source/', '/psf/sponsorship/sponsors/', 'http://bottlepy.org', 'http://roundup.sourceforge.net/', 'http://pandas.pydata.org/', 'http://brochure.getpython.info/', 'https://bugs.python.org/', '/community/merchandise/', 'http://tornadoweb.org', '/events/python-user-group/650/', 'http://flask.pocoo.org/', '/downloads/release/python-364/', '/events/python-user-group/660/', '/events/python-user-group/638/', '/psf/', '/doc/', 'http://blog.python.org', '/events/python-events/604/', '/about/success/#government', 'http://python.org/dev/peps/', 'https://docs.python.org', 'http://feedproxy.google.com/~r/PythonInsider/~3/zVC80sq9s00/python-364-is-now-available.html', '/users/membership/', '/about/success/#arts', 'https://wiki.python.org/moin/Python2orPython3', '/downloads/', '/jobs/', 'http://trac.edgewall.org/', 'http://feedproxy.google.com/~r/PythonInsider/~3/wh73_1A-N7Q/python-355rc1-and-python-348rc1-are-now.html', '/privacy/', 'https://pypi.python.org/', 'http://www.riverbankcomputing.co.uk/software/pyqt/intro', 'http://www.scipy.org', '/community/forums/', '/about/success/#scientific', '/about/success/#software-development', '/shell/', '/accounts/signup/', 'http://www.facebook.com/pythonlang?fref=ts', '/community/', 'https://kivy.org/', '/about/quotes/', 'http://www.web2py.com/', '/community/logos/', '/community/diversity/', '/events/calendars/', 'https://wiki.python.org/moin/BeginnersGuide', '/success-stories/', '/doc/essays/', '/dev/core-mentorship/', 'http://ipython.org', '/events/', '//docs.python.org/3/tutorial/controlflow.html', '/about/success/#education', '/blogs/', '/community/irc/', 'http://pycon.blogspot.com/', '//jobs.python.org', 'http://www.pylonsproject.org/', 'http://www.djangoproject.com/', '/downloads/mac-osx/', '/about/success/#business', 'http://feedproxy.google.com/~r/PythonInsider/~3/x_c9D0S-4C4/python-370b1-is-now-available-for.html', 'http://wiki.python.org/moin/TkInter', 'https://docs.python.org/faq/', '//docs.python.org/3/tutorial/controlflow.html#defining-functions'}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Grab a list of all links on the page, in absolute form (anchors excluded):&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; r.html.absolute_links
{'https://github.com/python/pythondotorg/issues', 'https://docs.python.org/3/tutorial/', 'https://www.python.org/about/success/', 'http://feedproxy.google.com/~r/PythonInsider/~3/kihd2DW98YY/python-370a4-is-available-for-testing.html', 'https://www.python.org/dev/peps/', 'https://mail.python.org/mailman/listinfo/python-dev', 'https://www.python.org/doc/', 'https://www.python.org/', 'https://www.python.org/about/', 'https://www.python.org/events/python-events/past/', 'https://devguide.python.org/', 'https://wiki.python.org/moin/PythonEventsCalendar#Submitting_an_Event', 'https://www.openstack.org', 'http://feedproxy.google.com/~r/PythonInsider/~3/AMoBel8b8Mc/python-3.html', 'https://docs.python.org/3/tutorial/introduction.html#lists', 'http://docs.python.org/3/tutorial/introduction.html#using-python-as-a-calculator', 'http://pyfound.blogspot.com/', 'https://wiki.python.org/moin/PythonBooks', 'http://plus.google.com/+Python', 'https://wiki.python.org/moin/', 'https://www.python.org/events/python-events', 'https://status.python.org/', 'https://www.python.org/about/apps', 'https://www.python.org/downloads/release/python-2714/', 'https://www.python.org/psf/donations/', 'http://buildbot.net/', 'http://twitter.com/ThePSF', 'https://docs.python.org/3/license.html', 'http://wiki.python.org/moin/Languages', 'https://docs.python.org/faq/', 'https://jobs.python.org', 'https://www.python.org/about/success/#software-development', 'https://www.python.org/about/success/#education', 'https://www.python.org/community/logos/', 'https://www.python.org/doc/av', 'https://wiki.qt.io/PySide', 'https://www.python.org/events/python-user-group/660/', 'https://wiki.gnome.org/Projects/PyGObject', 'http://www.ansible.com', 'http://www.saltstack.com', 'https://www.python.org/dev/peps/peps.rss', 'http://planetpython.org/', 'https://www.python.org/events/python-user-group/past/', 'https://docs.python.org/3/tutorial/controlflow.html#defining-functions', 'https://www.python.org/community/diversity/', 'https://docs.python.org/3/tutorial/controlflow.html', 'https://www.python.org/community/awards', 'https://www.python.org/events/python-user-group/638/', 'https://www.python.org/about/legal/', 'https://www.python.org/dev/', 'https://www.python.org/download/alternatives', 'https://www.python.org/downloads/', 'https://www.python.org/community/lists/', 'http://www.wxpython.org/', 'https://www.python.org/about/success/#government', 'https://www.python.org/psf/', 'https://www.python.org/psf/codeofconduct/', 'http://bottlepy.org', 'http://roundup.sourceforge.net/', 'http://pandas.pydata.org/', 'http://brochure.getpython.info/', 'https://www.python.org/downloads/source/', 'https://bugs.python.org/', 'https://www.python.org/downloads/mac-osx/', 'https://www.python.org/about/help/', 'http://tornadoweb.org', 'http://flask.pocoo.org/', 'https://www.python.org/users/membership/', 'http://blog.python.org', 'https://www.python.org/privacy/', 'https://www.python.org/about/gettingstarted/', 'http://python.org/dev/peps/', 'https://www.python.org/about/apps/', 'https://docs.python.org', 'https://www.python.org/success-stories/', 'https://www.python.org/community/forums/', 'http://feedproxy.google.com/~r/PythonInsider/~3/zVC80sq9s00/python-364-is-now-available.html', 'https://www.python.org/community/merchandise/', 'https://www.python.org/about/success/#arts', 'https://wiki.python.org/moin/Python2orPython3', 'http://trac.edgewall.org/', 'http://feedproxy.google.com/~r/PythonInsider/~3/wh73_1A-N7Q/python-355rc1-and-python-348rc1-are-now.html', 'https://pypi.python.org/', 'https://www.python.org/events/python-user-group/650/', 'http://www.riverbankcomputing.co.uk/software/pyqt/intro', 'https://www.python.org/about/quotes/', 'https://www.python.org/downloads/windows/', 'https://www.python.org/events/calendars/', 'http://www.scipy.org', 'https://www.python.org/community/workshops/', 'https://www.python.org/blogs/', 'https://www.python.org/accounts/signup/', 'https://www.python.org/events/', 'https://kivy.org/', 'http://www.facebook.com/pythonlang?fref=ts', 'http://www.web2py.com/', 'https://www.python.org/psf/sponsorship/sponsors/', 'https://www.python.org/community/', 'https://www.python.org/download/other/', 'https://www.python.org/psf-landing/', 'https://www.python.org/events/python-user-group/665/', 'https://wiki.python.org/moin/BeginnersGuide', 'https://www.python.org/accounts/login/', 'https://www.python.org/downloads/release/python-364/', 'https://www.python.org/dev/core-mentorship/', 'https://www.python.org/about/success/#business', 'https://www.python.org/community/sigs/', 'https://www.python.org/events/python-user-group/', 'http://ipython.org', 'https://www.python.org/shell/', 'https://www.python.org/community/irc/', 'https://www.python.org/about/success/#engineering', 'http://www.pylonsproject.org/', 'http://pycon.blogspot.com/', 'https://www.python.org/about/success/#scientific', 'https://www.python.org/doc/essays/', 'http://www.djangoproject.com/', 'https://www.python.org/success-stories/industrial-light-magic-runs-python/', 'http://feedproxy.google.com/~r/PythonInsider/~3/x_c9D0S-4C4/python-370b1-is-now-available-for.html', 'http://wiki.python.org/moin/TkInter', 'https://www.python.org/jobs/', 'https://www.python.org/events/python-events/604/'}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Select an element with a CSS Selector:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; about &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; r.html.find(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;#about&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-v&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;True&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Grab an element's text contents:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;pl-c1&quot;&gt;print&lt;/span&gt;(about.text)
About
Applications
Quotes
Getting Started
Help
Python Brochure
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Introspect an Element's attributes:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; about.attrs
{'id': 'about', 'class': ('tier-1', 'element-1'), 'aria-haspopup': 'true'}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Render out an Element's HTML:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; about.html
'&amp;lt;li aria-haspopup=&quot;true&quot; class=&quot;tier-1 element-1 &quot; id=&quot;about&quot;&amp;gt;\n&amp;lt;a class=&quot;&quot; href=&quot;/about/&quot; title=&quot;&quot;&amp;gt;About&amp;lt;/a&amp;gt;\n&amp;lt;ul aria-hidden=&quot;true&quot; class=&quot;subnav menu&quot; role=&quot;menu&quot;&amp;gt;\n&amp;lt;li class=&quot;tier-2 element-1&quot; role=&quot;treeitem&quot;&amp;gt;&amp;lt;a href=&quot;/about/apps/&quot; title=&quot;&quot;&amp;gt;Applications&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;li class=&quot;tier-2 element-2&quot; role=&quot;treeitem&quot;&amp;gt;&amp;lt;a href=&quot;/about/quotes/&quot; title=&quot;&quot;&amp;gt;Quotes&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;li class=&quot;tier-2 element-3&quot; role=&quot;treeitem&quot;&amp;gt;&amp;lt;a href=&quot;/about/gettingstarted/&quot; title=&quot;&quot;&amp;gt;Getting Started&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;li class=&quot;tier-2 element-4&quot; role=&quot;treeitem&quot;&amp;gt;&amp;lt;a href=&quot;/about/help/&quot; title=&quot;&quot;&amp;gt;Help&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;li class=&quot;tier-2 element-5&quot; role=&quot;treeitem&quot;&amp;gt;&amp;lt;a href=&quot;http://brochure.getpython.info/&quot; title=&quot;&quot;&amp;gt;Python Brochure&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;/li&amp;gt;'
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Select Elements within Elements:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; about.find(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;a&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;)
[&amp;lt;Element 'a' href='/about/' title='' class=''&amp;gt;, &amp;lt;Element 'a' href='/about/apps/' title=''&amp;gt;, &amp;lt;Element 'a' href='/about/quotes/' title=''&amp;gt;, &amp;lt;Element 'a' href='/about/gettingstarted/' title=''&amp;gt;, &amp;lt;Element 'a' href='/about/help/' title=''&amp;gt;, &amp;lt;Element 'a' href='http://brochure.getpython.info/' title=''&amp;gt;]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Search for links within an element:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; about.absolute_links
{'http://brochure.getpython.info/', 'https://www.python.org/about/gettingstarted/', 'https://www.python.org/about/', 'https://www.python.org/about/quotes/', 'https://www.python.org/about/help/', 'https://www.python.org/about/apps/'}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Search for text on the page:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; r.html.search(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;Python is a &lt;span class=&quot;pl-c1&quot;&gt;{}&lt;/span&gt; language&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;)[&lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;]
programming
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;More complex CSS Selector example (copied from Chrome dev tools):&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; r &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; session.get(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;https://github.com/&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;)
&amp;gt;&amp;gt;&amp;gt; sel &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;body &amp;gt; div.application-main &amp;gt; div.jumbotron.jumbotron-codelines &amp;gt; div &amp;gt; div &amp;gt; div.col-md-7.text-center.text-md-left &amp;gt; p&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;

&amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;pl-c1&quot;&gt;print&lt;/span&gt;(r.html.find(sel, &lt;span class=&quot;pl-v&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;True&lt;/span&gt;).text)
GitHub is a development platform inspired by the way you work. From open source to business, you can host and review code, manage projects, and build software alongside millions of other developers.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;XPath is also supported:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; r.html.xpath(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;a&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;)
[&amp;lt;Element 'a' class='btn' href='https://help.github.com/articles/supported-browsers'&amp;gt;]
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Using without Requests&lt;/h2&gt;
&lt;p&gt;You can also use this library without Requests:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;pl-k&quot;&gt;from&lt;/span&gt; requests_html &lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;HTML&lt;/span&gt;
&amp;gt;&amp;gt;&amp;gt; doc &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&quot;&quot;&lt;/span&gt;&amp;lt;a href='https://httpbin.org'&amp;gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;

&amp;gt;&amp;gt;&amp;gt; html &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; HTML(&lt;span class=&quot;pl-v&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt;doc, &lt;span class=&quot;pl-v&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;fakeurl&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-v&quot;&gt;default_encoding&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;utf-8&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;)
&amp;gt;&amp;gt;&amp;gt; html.links
{'https://httpbin.org'}
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Other Fun (with Markdown)&lt;/h2&gt;
&lt;p&gt;If you'd like to take an element and convert it to Markdown, for example, use html2text, by Aaron Swartz:&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-shell&quot;&gt;
&lt;pre&gt;
$ pipenv install html2text
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;highlight highlight-text-python-console&quot;&gt;
&lt;pre&gt;
&amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;pl-k&quot;&gt;from&lt;/span&gt; html2text &lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; HTML2Text
&amp;gt;&amp;gt;&amp;gt; h &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; html2text.HTML2Text()
&amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;pl-c1&quot;&gt;print&lt;/span&gt;(h.handle(about.html))
* [About](/about/)

  * [Applications](/about/apps/)
  * [Quotes](/about/quotes/)
  * [Getting Started](/about/gettingstarted/)
  * [Help](/about/help/)
  * [Python Brochure](http://brochure.getpython.info/)
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Installation&lt;/h2&gt;
&lt;div class=&quot;highlight highlight-source-shell&quot;&gt;
&lt;pre&gt;
$ pipenv install requests-html
✨🍰✨
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Only Python 3 is supported.&lt;/p&gt;
&lt;/article&gt;</description>
<pubDate>Sun, 25 Feb 2018 17:54:07 +0000</pubDate>
<dc:creator>ingve</dc:creator>
<og:image>https://avatars0.githubusercontent.com/u/119893?s=400&amp;v=4</og:image>
<og:type>object</og:type>
<og:title>kennethreitz/requests-html</og:title>
<og:url>https://github.com/kennethreitz/requests-html</og:url>
<og:description>requests-html - HTML Parsing for Humans™</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://github.com/kennethreitz/requests-html</dc:identifier>
</item>
<item>
<title>Web application from scratch, part I</title>
<link>https://defn.io/2018/02/25/web-app-from-scratch-01/</link>
<guid isPermaLink="true" >https://defn.io/2018/02/25/web-app-from-scratch-01/</guid>
<description>&lt;p&gt;This is the first in a series of posts in which I’m going to go through the process of building a web application (and its web server) from scratch in Python. For the purposes of this series, I’m going to solely rely on the Python standard library and I’m going to ignore the WSGI standard.&lt;/p&gt;
&lt;p&gt;Without further ado, let’s get to it!&lt;/p&gt;

&lt;p&gt;To begin with, we’re going to write the HTTP server that will power our web app. But first, we need to spend a little time looking into how the HTTP protocol works.&lt;/p&gt;
&lt;h2 id=&quot;how-http-works&quot;&gt;How HTTP works&lt;/h2&gt;
&lt;p&gt;Simply put, HTTP clients connect to HTTP servers over the network and send them a string of data representing the request. The server then interprets that request and sends the client back a response. The entire protocol and the formats of those requests and responses are described in &lt;a href=&quot;https://tools.ietf.org/html/rfc2616&quot;&gt;RFC2616&lt;/a&gt;, but I’m going to informally describe them below so you don’t have to read the whole thing.&lt;/p&gt;
&lt;h3 id=&quot;request-format&quot;&gt;Request format&lt;/h3&gt;
&lt;p&gt;Requests are represented by a series of &lt;code&gt;\r\n&lt;/code&gt;-separated lines, the first of which is called the “request line”. The request line is made up of an HTTP method, followed by a space, followed by the path of the file being requested, followed by another space, followed by the HTTP protocol version the client speaks and, finally, followed by a carriage return (&lt;code&gt;\r&lt;/code&gt;) and a line feed (&lt;code&gt;\n&lt;/code&gt;) character:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;GET /some-path HTTP/1.1\r\n
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;After the request line come zero or more header lines. Each header line is made up of the header name, followed by a colon, followed by an optional value, followed by &lt;code&gt;\r\n&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;Host: example.com\r\n
Accept: text/html\r\n
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The end of the headers section is signaled by an empty line:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;\r\n
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Finally, the request may contain a “body” – an arbitrary payload that is sent to the server with the request.&lt;/p&gt;
&lt;p&gt;Putting it all together, here’s a simple &lt;code&gt;GET&lt;/code&gt; request:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;GET / HTTP/1.1\r\n
Host: example.com\r\n
Accept: text/html\r\n
\r\n
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and here’s a simple &lt;code&gt;POST&lt;/code&gt; request with a body:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;POST / HTTP/1.1\r\n
Host: example.com\r\n
Accept: application/json\r\n
Content-type: application/json\r\n
Content-length: 2\r\n
\r\n
{}
&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;response-format&quot;&gt;Response format&lt;/h3&gt;
&lt;p&gt;Responses, like requests, are made up of a series of &lt;code&gt;\r\n&lt;/code&gt;-separated lines. The first line in the response is called the “status line” and it is made up of the HTTP protocol version, followed by a space, followed by the response status code, followed by another space, then the status code reason, followed by &lt;code&gt;\r\n&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;HTTP/1.1 200 OK\r\n
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;After the status line come the response headers, then an empty line and then an optional response body:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;HTTP/1.1 200 OK\r\n
Content-type: text/html\r\n
Content-length: 15\r\n
\r\n
&amp;lt;h1&amp;gt;Hello!&amp;lt;/h1&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;a-simple-server&quot;&gt;A simple server&lt;/h2&gt;
&lt;p&gt;Based on what we know so far about the protocol, let’s write a server that sends the same response regardless of the incoming request.&lt;/p&gt;
&lt;p&gt;To start out, we need to create a socket, bind it to an address and then start listening for connections.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;import socket

HOST = &quot;127.0.0.1&quot;
PORT = 9000

# By default, socket.socket creates TCP sockets.
with socket.socket() as server_sock:
    # This tells the kernel to reuse sockets that are in `TIME_WAIT` state.
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)

    # This tells the socket what address to bind to.
    server_sock.bind((HOST, PORT))

    # 0 is the number of pending connections the socket may have before
    # new connections are refused.  Since this server is going to process
    # one connection at a time, we want to refuse any additional connections.
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If you try to run this code now, it’ll print to standard out that it’s listening on &lt;code&gt;127.0.0.1:9000&lt;/code&gt; and then exit. In order to actually process incoming connections we need to call the &lt;code&gt;accept&lt;/code&gt; method on our socket. Doing so will block the process until a client connects to our server.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;with socket.socket() as server_sock:
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_sock.bind((HOST, PORT))
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)

    client_sock, client_addr = server_sock.accept()
    print(f&quot;New connection from {client_addr}.&quot;)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Once we have a socket connection to the client, we can start to communicate with it. Using the &lt;code&gt;sendall&lt;/code&gt; method, let’s send the connecting client an example response:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;RESPONSE = b&quot;&quot;&quot;\
HTTP/1.1 200 OK
Content-type: text/html
Content-length: 15

&amp;lt;h1&amp;gt;Hello!&amp;lt;/h1&amp;gt;&quot;&quot;&quot;.replace(b&quot;\n&quot;, b&quot;\r\n&quot;)

with socket.socket() as server_sock:
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_sock.bind((HOST, PORT))
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)

    client_sock, client_addr = server_sock.accept()
    print(f&quot;New connection from {client_addr}.&quot;)
    with client_sock:
        client_sock.sendall(RESPONSE)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If you run the code now and then visit &lt;a href=&quot;http://127.0.0.1:9000&quot;&gt;http://127.0.0.1:9000&lt;/a&gt; in your favourite browser, it should render the string “Hello!”. Unfortunately, the server will exit after it sends the response so refreshing the page will fail. Let’s fix that:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;RESPONSE = b&quot;&quot;&quot;\
HTTP/1.1 200 OK
Content-type: text/html
Content-length: 15

&amp;lt;h1&amp;gt;Hello!&amp;lt;/h1&amp;gt;&quot;&quot;&quot;.replace(b&quot;\n&quot;, b&quot;\r\n&quot;)

with socket.socket() as server_sock:
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_sock.bind((HOST, PORT))
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)

    while True:
        client_sock, client_addr = server_sock.accept()
        print(f&quot;New connection from {client_addr}.&quot;)
        with client_sock:
            client_sock.sendall(RESPONSE)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;At this point we have a web server that can serve a simple HTML web page on every request, all in about 25 lines of code. That’s not too bad!&lt;/p&gt;
&lt;h2 id=&quot;a-file-server&quot;&gt;A file server&lt;/h2&gt;
&lt;p&gt;Let’s extend the HTTP server so that it can serve files off of disk.&lt;/p&gt;
&lt;h3 id=&quot;request-abstraction&quot;&gt;Request abstraction&lt;/h3&gt;
&lt;p&gt;Before we can do that, we have to be able to read and parse incoming request data from the client. Since we know that request data is represented by a series of lines, each separated by &lt;code&gt;\r\n&lt;/code&gt; characters, let’s write a generator function that reads data from a socket and yields each individual line:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;import typing


def iter_lines(sock: socket.socket, bufsize: int = 16_384) -&amp;gt; typing.Generator[bytes, None, bytes]:
    &quot;&quot;&quot;Given a socket, read all the individual CRLF-separated lines
    and yield each one until an empty one is found.  Returns the
    remainder after the empty line.
    &quot;&quot;&quot;
    buff = b&quot;&quot;
    while True:
        data = sock.recv(bufsize)
        if not data:
            return b&quot;&quot;

        buff += data
        while True:
            try:
                i = buff.index(b&quot;\r\n&quot;)
                line, buff = buff[:i], buff[i + 2:]
                if not line:
                    return buff

                yield line
            except IndexError:
                break
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This may look a bit daunting, but essentially what it does is it reads as much data as it can from the socket (in &lt;code&gt;bufsize&lt;/code&gt; chunks), joins that data together in a buffer (&lt;code&gt;buff&lt;/code&gt;) and continually splits the buffer into individual lines, yielding one at a time. Once it finds an empty line, it returns the extra data that it read.&lt;/p&gt;
&lt;p&gt;Using &lt;code&gt;iter_lines&lt;/code&gt;, we can begin printing the requests we get from our clients:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;with socket.socket() as server_sock:
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_sock.bind((HOST, PORT))
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)

    while True:
        client_sock, client_addr = server_sock.accept()
        print(f&quot;New connection from {client_addr}.&quot;)
        with client_sock:
            for request_line in iter_lines(client_sock):
                print(line)

            client_sock.sendall(RESPONSE)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If you run the server now and visit &lt;a href=&quot;http://127.0.0.1:9000&quot;&gt;http://127.0.0.1:9000&lt;/a&gt;, you should see something like this in your console:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;Received connection from ('127.0.0.1', 62086)...
b'GET / HTTP/1.1'
b'Host: localhost:9000'
b'Connection: keep-alive'
b'Cache-Control: max-age=0'
b'Upgrade-Insecure-Requests: 1'
b'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.167 Safari/537.36'
b'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8'
b'Accept-Encoding: gzip, deflate, br'
b'Accept-Language: en-US,en;q=0.9,ro;q=0.8'
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Pretty neat! Let’s abstract over that data by defining a &lt;code&gt;Request&lt;/code&gt; class:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;import typing


class Request(typing.NamedTuple):
    method: str
    path: str
    headers: typing.Mapping[str, str]
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;For now, the request class is only going to know about methods, paths and request headers. We’ll leave parsing query string parameters and reading request bodies for later.&lt;/p&gt;
&lt;p&gt;To encapsulate the logic needed to build up a request, we’ll add a class method to &lt;code&gt;Request&lt;/code&gt; called &lt;code&gt;from_socket&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;class Request(typing.NamedTuple):
    method: str
    path: str
    headers: typing.Mapping[str, str]

    @classmethod
    def from_socket(cls, sock: socket.socket) -&amp;gt; &quot;Request&quot;:
        &quot;&quot;&quot;Read and parse the request from a socket object.

        Raises:
          ValueError: When the request cannot be parsed.
        &quot;&quot;&quot;
        lines = iter_lines(sock)

        try:
            request_line = next(lines).decode(&quot;ascii&quot;)
        except StopIteration:
            raise ValueError(&quot;Request line missing.&quot;)

        try:
            method, path, _ = request_line.split(&quot; &quot;)
        except ValueError:
            raise ValueError(f&quot;Malformed request line {request_line!r}.&quot;)

        headers = {}
        for line in lines:
            try:
                name, _, value = line.decode(&quot;ascii&quot;).partition(&quot;:&quot;)
                headers[name.lower()] = value.lstrip()
            except ValueError:
                raise ValueError(f&quot;Malformed header line {line!r}.&quot;)

        return cls(method=method.upper(), path=path, headers=headers)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;It uses the &lt;code&gt;iter_lines&lt;/code&gt; function we defined earlier to read the request line. That’s where it gets the &lt;code&gt;method&lt;/code&gt; and the &lt;code&gt;path&lt;/code&gt;, then it reads each individual header line and parses those. Finally, it builds the &lt;code&gt;Request&lt;/code&gt; object and returns it. If we plug that into our server loop, it should look something like this:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;with socket.socket() as server_sock:
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_sock.bind((HOST, PORT))
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)

    while True:
        client_sock, client_addr = server_sock.accept()
        print(f&quot;Received connection from {client_addr}...&quot;)
        with client_sock:
            request = Request.from_socket(client_sock)
            print(request)
            client_sock.sendall(RESPONSE)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If you connect to the server now, you should see lines like this one get printed out:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;Request(method='GET', path='/', headers={'host': 'localhost:9000', 'user-agent': 'curl/7.54.0', 'accept': '*/*'})
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Because &lt;code&gt;from_socket&lt;/code&gt; can raise an exception under certain circumstances, the server might crash if given an invalid request right now. To simulate this, you can use telnet to connect to the server and send it some bogus data:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;~&amp;gt; telnet 127.0.0.1 9000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
hello
Connection closed by foreign host.
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Sure enough, the server crashed:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;Received connection from ('127.0.0.1', 62404)...
Traceback (most recent call last):
  File &quot;server.py&quot;, line 53, in parse
    request_line = next(lines).decode(&quot;ascii&quot;)
ValueError: not enough values to unpack (expected 3, got 1)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &quot;server.py&quot;, line 82, in &amp;lt;module&amp;gt;
    with client_sock:
  File &quot;server.py&quot;, line 55, in parse
    raise ValueError(&quot;Request line missing.&quot;)
ValueError: Malformed request line 'hello'.
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;To handle these kinds of issues a little more gracefully, let’s wrap the call to &lt;code&gt;from_socket&lt;/code&gt; in a try-except block and send the client a “400 Bad Request” response when we get a malformed request:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;BAD_REQUEST_RESPONSE = b&quot;&quot;&quot;\
HTTP/1.1 400 Bad Request
Content-type: text/plain
Content-length: 11

Bad Request&quot;&quot;&quot;.replace(b&quot;\n&quot;, b&quot;\r\n&quot;)

with socket.socket() as server_sock:
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_sock.bind((HOST, PORT))
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)

    while True:
        client_sock, client_addr = server_sock.accept()
        print(f&quot;Received connection from {client_addr}...&quot;)
        with client_sock:
            try:
                request = Request.from_socket(client_sock)
                print(request)
                client_sock.sendall(RESPONSE)
            except Exception as e:
                print(f&quot;Failed to parse request: {e}&quot;)
                client_sock.sendall(BAD_REQUEST_RESPONSE)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If we try to break it now, our client will get a response back and the server will stay up:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-shell&quot;&gt;~&amp;gt; telnet 127.0.0.1 9000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
hello
HTTP/1.1 400 Bad Request
Content-type: text/plain
Content-length: 11

Bad RequestConnection closed by foreign host.
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;At this point we’re ready to start implementing the file serving part, but first let’s make our default response a “404 Not Found” response:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;NOT_FOUND_RESPONSE = b&quot;&quot;&quot;\
HTTP/1.1 404 Not Found
Content-type: text/plain
Content-length: 9

Not Found&quot;&quot;&quot;.replace(b&quot;\n&quot;, b&quot;\r\n&quot;)

#...

with socket.socket() as server_sock:
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_sock.bind((HOST, PORT))
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)

    while True:
        client_sock, client_addr = server_sock.accept()
        print(f&quot;Received connection from {client_addr}...&quot;)
        with client_sock:
            try:
                request = Request.from_socket(client_sock)
                print(request)
                client_sock.sendall(NOT_FOUND_RESPONSE)
            except Exception as e:
                print(f&quot;Failed to parse request: {e}&quot;)
                client_sock.sendall(BAD_REQUEST_RESPONSE)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Additionally, let’s add a “405 Method Not Allowed” response. We’re going to need it for when we get anything other than a &lt;code&gt;GET&lt;/code&gt; request.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;METHOD_NOT_ALLOWED_RESPONSE = b&quot;&quot;&quot;\
HTTP/1.1 405 Method Not Allowed
Content-type: text/plain
Content-length: 17

Method Not Allowed&quot;&quot;&quot;.replace(b&quot;\n&quot;, b&quot;\r\n&quot;)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Let’s define a &lt;code&gt;SERVER_ROOT&lt;/code&gt; constant to represent where the server should serve files from and a &lt;code&gt;serve_file&lt;/code&gt; function.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;import mimetypes
import os
import socket
import typing

SERVER_ROOT = os.path.abspath(&quot;www&quot;)

FILE_RESPONSE_TEMPLATE = &quot;&quot;&quot;\
HTTP/1.1 200 OK
Content-type: {content_type}
Content-length: {content_length}

&quot;&quot;&quot;.replace(&quot;\n&quot;, &quot;\r\n&quot;)


def serve_file(sock: socket.socket, path: str) -&amp;gt; None:
    &quot;&quot;&quot;Given a socket and the relative path to a file (relative to
    SERVER_SOCK), send that file to the socket if it exists.  If the
    file doesn't exist, send a &quot;404 Not Found&quot; response.
    &quot;&quot;&quot;
    if path == &quot;/&quot;:
        path = &quot;/index.html&quot;

    abspath = os.path.normpath(os.path.join(SERVER_ROOT, path.lstrip(&quot;/&quot;)))
    if not abspath.startswith(SERVER_ROOT):
        sock.sendall(NOT_FOUND_RESPONSE)
        return

    try:
        with open(abspath, &quot;rb&quot;) as f:
            stat = os.fstat(f.fileno())
            content_type, encoding = mimetypes.guess_type(abspath)
            if content_type is None:
                content_type = &quot;application/octet-stream&quot;

            if encoding is not None:
                content_type += f&quot;; charset={encoding}&quot;

            response_headers = FILE_RESPONSE_TEMPLATE.format(
                content_type=content_type,
                content_length=stat.st_size,
            ).encode(&quot;ascii&quot;)

            sock.sendall(response_headers)
            sock.sendfile(f)
    except FileNotFoundError:
        sock.sendall(NOT_FOUND_RESPONSE)
        return
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;serve_file&lt;/code&gt; takes the client socket and a path to a file. It then tries to resolve that path to a real file inside of the &lt;code&gt;SERVER_ROOT&lt;/code&gt;, returning a “not found” response if the file resolves outside of the server root. Then it tries to open the file and figure out its mime type and size (using &lt;code&gt;os.fstat&lt;/code&gt;), then it constructs the response headers and uses the &lt;code&gt;sendfile&lt;/code&gt; system call to write the file to the socket. If it can’t find the file on disk, then it sends a “not found” response.&lt;/p&gt;
&lt;p&gt;If we add &lt;code&gt;serve_file&lt;/code&gt; into the mix, our server loop should now look like this:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;language-python&quot;&gt;with socket.socket() as server_sock:
    server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_sock.bind((HOST, PORT))
    server_sock.listen(0)
    print(f&quot;Listening on {HOST}:{PORT}...&quot;)

    while True:
        client_sock, client_addr = server_sock.accept()
        print(f&quot;Received connection from {client_addr}...&quot;)
        with client_sock:
            try:
                request = Request.from_socket(client_sock)
                if request.method != &quot;GET&quot;:
                    client_sock.sendall(METHOD_NOT_ALLOWED_RESPONSE)
                    continue

                serve_file(client_sock, request.path)
            except Exception as e:
                print(f&quot;Failed to parse request: {e}&quot;)
                client_sock.sendall(BAD_REQUEST_RESPONSE)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If you add a file called &lt;code&gt;www/index.html&lt;/code&gt; next to your &lt;code&gt;server.py&lt;/code&gt; file and visit &lt;a href=&quot;http://localhost:9000&quot;&gt;http://localhost:9000&lt;/a&gt; you should see the contents of that file. Cool, eh?&lt;/p&gt;
&lt;h2 id=&quot;winding-down&quot;&gt;Winding down&lt;/h2&gt;
&lt;p&gt;That’s it for part 1. In part 2 we’re going to cover extracting &lt;code&gt;Server&lt;/code&gt; and &lt;code&gt;Response&lt;/code&gt; abstractions as well as making the server handle multiple concurrent connections. If you’d like to check out the full source code and follow along, you can find it &lt;a href=&quot;https://github.com/Bogdanp/web-app-from-scratch/tree/part-01&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See ya next time!&lt;/p&gt;
&lt;h2 id=&quot;newsletter&quot;&gt;Newsletter&lt;/h2&gt;
&lt;p&gt;If you’d like to find out about new parts as they come out, you can subscribe to the newsletter for this series by filling the form below.&lt;/p&gt;

</description>
<pubDate>Sun, 25 Feb 2018 17:22:49 +0000</pubDate>
<dc:creator>Bogdanp</dc:creator>
<og:title>Web application from scratch, Part I</og:title>
<og:description>This is the first in a series of posts in which I’m going to go through the process of building a web application (and its web server) from scratch in Python. For the purposes of this series, I’m going to solely rely on the Python standard library and I’m going to ignore the WSGI standard. Without further ado, let’s get to it! The web server To begin with, we’re going to write the HTTP server that will power our web app.</og:description>
<og:type>article</og:type>
<og:url>https://defn.io/2018/02/25/web-app-from-scratch-01/</og:url>
<dc:format>text/html</dc:format>
<dc:identifier>https://defn.io/2018/02/25/web-app-from-scratch-01/</dc:identifier>
</item>
</channel>
</rss>