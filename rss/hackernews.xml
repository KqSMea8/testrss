<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=hnrss.org%2Fnewest%3Fpoints%3D200&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://hnrss.org/newest?points=200" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dhnrss.org%252Fnewest%253Fpoints%253D200%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>Hacker News: Newest</title>
<link>https://news.ycombinator.com/newest</link>
<description>Hacker News RSS</description>
<item>
<title>Who Left Open The Cookie Jar?</title>
<link>https://wholeftopenthecookiejar.eu</link>
<guid isPermaLink="true" >https://wholeftopenthecookiejar.eu</guid>
<description>&lt;p&gt;Cookies have become an important aspect of the modern-day web. By default, browsers automatically attach cookies to all HTTP requests. This allows users to keep track which items they have added to their online shopping basket, or simply to log in to their favorite websites. However, cookies may also be exploited for more nefarious goals: users' online activies are tracked at large-scale by various advertising companies, or so-called cross-site attacks can be used to take over the account of an unwitting user. As a response to this increasing threat surface, a variety of defense mechanisms have been developed: either as anti-tracking or ad-blocking browser extensions, or as built-in browser features such as the Tracking Protection in Firefox, or SameSite cookies, which can be highly effective at thwarting cross-site attacks.&lt;/p&gt;
&lt;p&gt;An important prerequisite for these privacy- and security-enhancing features to function properly, is that &lt;em&gt;all&lt;/em&gt; requests need to comply with the imposed cookie policies. As browsers have become enormously complex, certain edge-cases may have been overlooked or the interplay of specific features may have unwanted side-effects. In our research, we created a framework to verify whether all imposed cookie- and request-policies are correctly applied (will be made available soon). Worryingly, we found that most mechanisms could be circumvented: for instance for all ad-blocking and anti-tracking browser extensions we discovered at least one technique that could bypass the policies. For the technical details of these findings, we invite you to read our &lt;a href=&quot;https://wholeftopenthecookiejar.eu/static/tpc-paper.pdf&quot;&gt;paper&lt;/a&gt;, which was presented at USENIX Security ’18.&lt;/p&gt;
&lt;p&gt;We have been working with browser vendors and extension developers to mitigate the discovered issues. To verify whether you are affected by our detected bypasses, feel free to explore the data on this website (please note that we are still working to have the most up-to-date information available).&lt;/p&gt;
</description>
<pubDate>Thu, 16 Aug 2018 17:54:41 +0000</pubDate>
<dc:creator>pmoriarty</dc:creator>
<dc:format>text/html</dc:format>
<dc:identifier>https://wholeftopenthecookiejar.eu/</dc:identifier>
</item>
<item>
<title>FDA approves first generic version of EpiPen</title>
<link>https://www.washingtonpost.com/news/to-your-health/wp/2018/08/16/fda-approves-first-generic-version-of-epipen/</link>
<guid isPermaLink="true" >https://www.washingtonpost.com/news/to-your-health/wp/2018/08/16/fda-approves-first-generic-version-of-epipen/</guid>
<description>&lt;div class=&quot;author-sig-line-wrapper&quot;&gt;
&lt;div class=&quot;author-sig-line&quot;&gt;
&lt;div class=&quot;author-byline multiple&quot;&gt;
&lt;div class=&quot;author-wrapper&quot; data-authorname=&quot;Carolyn Y. Johnson&quot;&gt;

&lt;div class=&quot;author-role&quot;&gt;, Reporter&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;author-wrapper&quot; data-authorname=&quot;Laurie McGinley&quot;&gt;

&lt;div class=&quot;author-role&quot;&gt;, Reporter&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;span class=&quot;author-timestamp&quot; itemprop=&quot;datePublished&quot; content=&quot;2018-08-16T01:05-500&quot;&gt;August 16 at 1:05 PM&lt;/span&gt;&lt;/div&gt;&lt;div data-elm-loc=&quot;0&quot; class=&quot;inline-content inline-photo inline-photo-left&quot;&gt; &lt;img src=&quot;https://www.washingtonpost.com/resizer/UXtAKwpFb5wIkPEtEJBr4lEVRPA=/311x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/YRIAE4WEBM7PVIJJALOXALOYPA.jpg&quot; data-hi-res-src=&quot;https://www.washingtonpost.com/resizer/1DM1nZTe6HJ79n9xaYAG-cihl30=/960x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/YRIAE4WEBM7PVIJJALOXALOYPA.jpg&quot; data-low-res-src=&quot;https://www.washingtonpost.com/resizer/UXtAKwpFb5wIkPEtEJBr4lEVRPA=/311x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/YRIAE4WEBM7PVIJJALOXALOYPA.jpg&quot; data-raw-src=&quot;https://arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/YRIAE4WEBM7PVIJJALOXALOYPA.jpg&quot; data-threshold=&quot;311&quot; class=&quot;unprocessed&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;pb-caption&quot;&gt;A generic version of EpiPen was just approved by federal regulators. (REUTERS/Jim Bourg/File Photo)&lt;/span&gt;&lt;/div&gt;
&lt;p data-elm-loc=&quot;1&quot;&gt;The Food and Drug Administration approved the first generic version of EpiPen on Thursday, a move that will bring new competition for the lifesaving allergy injection that helped spark &lt;a href=&quot;https://www.washingtonpost.com/news/wonk/wp/2016/09/21/watch-live-lawmakers-to-grill-executive-who-hiked-the-price-of-lifesaving-drug-epipen/?utm_term=.479068f70d3c&quot;&gt;public furor&lt;/a&gt; over high drug prices.&lt;/p&gt;
&lt;p data-elm-loc=&quot;2&quot;&gt;&lt;span&gt;The new drug, from Teva Pharmaceuticals USA,&lt;/span&gt; is the first to be deemed a therapeutic equivalent of the EpiPen, which means that it can be automatically substituted at the pharmacy counter for prescriptions for EpiPen or EpiPen Jr.&lt;/p&gt;
&lt;p data-elm-loc=&quot;3&quot;&gt;The approval comes right before the back-to-school season, when sales of EpiPen typically spike as parents stock up on injectors for school or replace expired ones, and people have reported difficulty filling EpiPen prescriptions. There has been “limited availability of EpiPen in certain areas in the U.S., including both pharmacy-level supply disruptions and a manufacturer issue,” according to FDA spokeswoman Theresa Eisenman.&lt;/p&gt;
&lt;p data-elm-loc=&quot;4&quot;&gt;Teva spokeswoman Doris Saltkill said the price of the drug and the exact launch date were not yet available, but the company's statement suggested it would not be in time for many parents who are scrambling to find EpiPen in their pharmacies now.&lt;/p&gt;
&lt;p data-elm-loc=&quot;5&quot;&gt;&quot;We're applying our full resources to this important launch in the coming months and [are] eager to begin supplying the market,&quot; the statement said.&lt;/p&gt;
&lt;p data-elm-loc=&quot;6&quot; class=&quot;interstitial-link&quot;&gt;&lt;em&gt;[&lt;a href=&quot;https://www.washingtonpost.com/business/economy/the-generic-drug-industry-has-brought-huge-cost-savings-that-may-be-changing/2017/08/01/ee128d0a-68cf-11e7-8eb5-cbccc2e7bfbf_story.html?utm_term=.10a5c5ea471d&quot;&gt;The generic drug industry has brought huge cost savings. That may be changing.&lt;/a&gt;]&lt;/em&gt;&lt;/p&gt;
&lt;p data-elm-loc=&quot;7&quot;&gt;The EpiPen, made by Mylan, is used to inject the hormone epinephrine into the thigh to quell potentially fatal reactions to bee stings, peanuts and other allergens. Although the key ingredient is cheap and the EpiPen itself was first approved in 1987, Mylan began increasing the price of the product, from less than $100 in 2007 for a pack of two injectors to $608 today. In response to criticism over the price of its drug, EpiPen introduced its own half-priced generic in 2016.&lt;/p&gt;

&lt;p data-elm-loc=&quot;9&quot;&gt;Other epinephrine injectors have been approved before, but they struggled to gain market share against a brand that used lobbying and marketing to establish a &lt;a href=&quot;https://www.washingtonpost.com/business/economy/2016/08/25/7f83728a-6aee-11e6-ba32-5a4bf5aad4fa_story.html&quot;&gt;virtual monopoly&lt;/a&gt; on the market. Last year, the drug company Sanofi accused Mylan in a lawsuit of using illegal tactics to squash competition by its injector, called the Auvi-Q, which was discontinued and then &lt;a href=&quot;https://www.washingtonpost.com/news/wonk/wp/2017/01/19/epipen-competitor-to-launch-in-february/?utm_term=.394385043895&quot;&gt;relaunched by a different company, Kaléo&lt;/a&gt;.&lt;/p&gt;
&lt;p data-elm-loc=&quot;10&quot;&gt;Mylan ultimately paid &lt;a href=&quot;https://www.washingtonpost.com/news/wonk/wp/2016/10/07/mylan-to-pay-465-million-epipen-settlement/?utm_term=.30eb11ed97dc&quot;&gt;$465 million&lt;/a&gt; in a settlement with the Justice Department over questions about whether the Medicaid program overpaid for the drug.&lt;/p&gt;
&lt;p data-elm-loc=&quot;11&quot;&gt;The Teva product had a hard road to approval, in part because it is a complex generic, meaning the medicine includes both an injector device and a drug. Mylan actively fought the approval of the drug, sending a citizen petition to the FDA in 2015 arguing that the drug was not truly equivalent. The FDA rejected Teva's initial application in 2016, citing “major deficiencies.” Under FDA Commissioner Scott Gottlieb, the agency has &lt;a href=&quot;https://blogs.fda.gov/fdavoice/index.php/2017/10/reducing-the-hurdles-for-complex-generic-drug-development/&quot;&gt;made it a priority&lt;/a&gt; to smooth the regulatory pathway for such “complex generics” that are difficult to copy.&lt;/p&gt;
&lt;p data-elm-loc=&quot;12&quot;&gt;Teva's generic will compete against Mylan's own authorized generic, which already has steeply eroded its brand-name sales. Roughly &lt;a href=&quot;http://investor.mylan.com/node/20216/html&quot;&gt;$1 billion in sales of the brand-name version&lt;/a&gt; of brand name EpiPen in 2016 dropped by more than &lt;a href=&quot;http://investor.mylan.com/node/27081/html&quot;&gt;half in 2017.&lt;/a&gt;&lt;/p&gt;
&lt;p data-elm-loc=&quot;13&quot; class=&quot;interstitial-link&quot;&gt;&lt;em&gt;[&lt;a href=&quot;https://www.washingtonpost.com/business/economy/2016/08/25/7f83728a-6aee-11e6-ba32-5a4bf5aad4fa_story.html?utm_term=.2c88437b82fd&quot;&gt;How Mylan, the maker of EpiPen, became a virtual monopoly&lt;/a&gt;]&lt;/em&gt;&lt;/p&gt;
&lt;p data-elm-loc=&quot;14&quot;&gt;In September, the FDA said that Meridian Medical Technologies, a Pfizer company that manufactures the EpiPen, &lt;a href=&quot;https://www.washingtonpost.com/news/wonk/wp/2017/09/07/epipen-maker-failed-to-investigate-product-failures-associated-with-patient-deaths-fda-says/?utm_term=.d1366f4c1d0a&quot;&gt;failed to properly investigate&lt;/a&gt; more than 100 complaints that the device malfunctioned during life-threatening emergencies — including situations in which patients died.&lt;/p&gt;
&lt;p data-elm-loc=&quot;15&quot;&gt;The approval is a victory for the FDA as the Trump administration seeks to deliver on its promise to &lt;a href=&quot;https://www.washingtonpost.com/news/wonk/wp/2018/06/08/two-weeks-after-trump-unveiled-plan-to-lower-drug-prices-two-cancer-drugs-got-a-1000-per-month-price-hike/&quot;&gt;lower drug prices&lt;/a&gt;. “This approval means patients living with severe allergies who require constant access to lifesaving epinephrine should have a lower-cost option, as well as another approved product to help protect against potential &lt;a href=&quot;https://www.washingtonpost.com/news/to-your-health/wp/2017/10/09/hospitals-scramble-to-avert-saline-shortage-in-wake-of-puerto-rico-disaster/&quot;&gt;drug shortages&lt;/a&gt;,” Gottlieb said in a statement.&lt;/p&gt;
&lt;p data-elm-loc=&quot;16&quot;&gt;&lt;strong&gt;Read more:&lt;/strong&gt;&lt;/p&gt;
&lt;p data-elm-loc=&quot;17&quot;&gt;&lt;a href=&quot;https://www.washingtonpost.com/news/wonk/wp/2017/09/07/epipen-maker-failed-to-investigate-product-failures-associated-with-patient-deaths-fda-says/?utm_term=.16b53b9c0980&quot;&gt;EpiPen maker failed to investigate product flaws associated with patient deaths, FDA says&lt;/a&gt;&lt;/p&gt;
&lt;p data-elm-loc=&quot;18&quot;&gt;&lt;a href=&quot;https://www.washingtonpost.com/business/economy/what-the-cvs-aetna-deal-means-for-the-future-of-health-care/2017/12/05/e14a8d18-d907-11e7-a841-2066faf731ef_story.html?utm_term=.ee16329c5d5a&quot;&gt;What the CVS-Aetna deal means for the future of health care&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Thu, 16 Aug 2018 17:32:24 +0000</pubDate>
<dc:creator>MBCook</dc:creator>
<og:type>article</og:type>
<og:url>https://www.washingtonpost.com/news/to-your-health/wp/2018/08/16/fda-approves-first-generic-version-of-epipen/</og:url>
<og:image>https://www.washingtonpost.com/resizer/r0hfV3W2zV_OZZQy2cXile_FH6E=/1484x0/arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/YRIAE4WEBM7PVIJJALOXALOYPA.jpg</og:image>
<og:title>FDA approves first generic version of EpiPen</og:title>
<og:description>The new drug could be substituted at the pharmacy counter for EpiPen.</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.washingtonpost.com/news/to-your-health/wp/2018/08/16/fda-approves-first-generic-version-of-epipen/?noredirect=on</dc:identifier>
</item>
<item>
<title>Google Employees Protest Work on Censored Search Engine for China</title>
<link>https://www.nytimes.com/2018/08/16/technology/google-employees-protest-search-censored-china.html</link>
<guid isPermaLink="true" >https://www.nytimes.com/2018/08/16/technology/google-employees-protest-search-censored-china.html</guid>
<description>&lt;div readability=&quot;42.279534109817&quot;&gt;
&lt;div class=&quot;css-1h6whtw&quot; readability=&quot;31.709650582363&quot;&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Hundreds of Google employees, upset at the company’s decision to secretly build a &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.nytimes.com/2018/08/01/technology/china-google-censored-search-engine.html&quot; title=&quot;&quot;&gt;censored version of its search engine for China&lt;/a&gt;, have signed a letter demanding more transparency to understand the ethical consequences of their work.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;In the letter, which was obtained by The New York Times, employees wrote that the project and Google’s apparent willingness to abide by China’s censorship requirements “raise urgent moral and ethical issues.” They added, “Currently we do not have the information required to make ethically-informed decisions about our work, our projects, and our employment.”&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;The letter is circulating on Google’s internal communication systems and is signed by about 1,400 employees, according to three people familiar with the document, who were not authorized to speak publicly.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;The internal activism presents another obstacle for Google’s potential return to China eight years after the company publicly withdrew from the country in protest of censorship and government hacking. China has the world’s largest internet audience but has frustrated American tech giants with content restrictions or outright blockages of services including Facebook and Instagram.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;27.852857142857&quot;&gt;
&lt;div class=&quot;css-1h6whtw&quot; readability=&quot;9.9771428571429&quot;&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;It is also the latest example of how Google’s outspoken work force has agitated for changes to strategy. In April, the internet company’s employees spoke out against its &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.nytimes.com/2018/04/04/technology/google-letter-ceo-pentagon-project.html&quot; title=&quot;&quot;&gt;involvement in a Pentagon program&lt;/a&gt; that uses artificial intelligence to improve weaponry. By June, Google had said it &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.nytimes.com/2018/06/01/technology/google-pentagon-project-maven.html&quot; title=&quot;&quot;&gt;would not renew a contract&lt;/a&gt; with the Pentagon for A.I. work.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;40.345309381238&quot;&gt;
&lt;div class=&quot;css-1h6whtw&quot; readability=&quot;26.568862275449&quot;&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Google’s interest in bringing search back to China came to the forefront earlier this month, when &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://theintercept.com/2018/08/01/google-china-search-engine-censorship/&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;reports surfaced&lt;/a&gt; that the company was working on a search app that restricts content banned by Beijing. The project, known internally as Dragonfly, was developed largely in secret, prompting outrage among employees who worried they had been unwittingly working on technology that would help China withhold information from its citizens.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;“We urgently need more transparency, a seat at the table, and a commitment to clear and open processes: Google employees need to know what we’re building,” the letter said.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;The letter also called on Google to allow employees to participate in ethical reviews of the company’s products, to appoint external representatives to ensure transparency and to publish an ethical assessment of controversial projects. The document referred to the situation as a “code yellow,” a process used in engineering to address critical problems that impact several teams.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;39.5&quot;&gt;
&lt;div class=&quot;css-1h6whtw&quot; readability=&quot;24&quot;&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Google declined to comment on the letter. It has said in the past that it will not comment on Dragonfly or “speculation about future plans.”&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Employees are expected to press management about Dragonfly at a weekly staff meeting on Thursday. As of late Wednesday, one of the top questions on an internal software system called Dory, which lets employees vote for the questions that executives should answer at the meeting, asked whether Google has lost its ethical compass, said employees familiar with the letter. Other questions on Dory asked directly about the Dragonfly project and specific information that may be censored by the Chinese government, such as air pollution data.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;This week’s staff meeting will be the first opportunity for Google’s work force to ask executives about Dragonfly since the meeting was not held last week. The absence of a gathering — the result of a regularly scheduled break in the summer, according to company spokesman Rob Shilkin — led to fears among employees that leadership was becoming less transparent following several controversies over Google’s government work.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;32.827338129496&quot;&gt;
&lt;div class=&quot;css-1h6whtw&quot; readability=&quot;15.501798561151&quot;&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Historically, Google has been more responsive to employee concerns and more transparent about future projects and inner workings than other major technology companies, inviting questions from workers at its staff meetings and encouraging internal debate.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;The internal dissent over Dragonfly comes on the heels of the &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.nytimes.com/2018/05/30/technology/google-project-maven-pentagon.html&quot; title=&quot;&quot;&gt;employee protests over Google’s involvement&lt;/a&gt; in the Pentagon project to use artificial intelligence. After Google &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://gizmodo.com/google-plans-not-to-renew-its-contract-for-project-mave-1826488620&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;said&lt;/a&gt; it would not renew its contract with the Pentagon, it unveiled a series of ethical principles governing its use of A.I.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;50.56416209371&quot;&gt;
&lt;div class=&quot;css-1h6whtw&quot; readability=&quot;49.146475306036&quot;&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;In those principles, Google publicly committed to only use A.I. in “socially beneficial” ways that would not cause harm and promised to develop its capabilities in accordance with human rights law. Some employees have raised concerns that helping China suppress the free flow of information would violate these new principles.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;In 2010, Google said it had discovered that Chinese hackers had attacked the company’s corporate infrastructure in an attempt to access the Gmail accounts of human rights activists. The attack, combined with government censorship, propelled Google to pull its search engine from the country.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;The exit from China was a seminal moment for the company — a symbol of its uncompromising idealism captured by Google’s unofficial motto of “Don’t Be Evil.” At the time, Chinese internet users marked the loss of Google’s search engine by laying flowers at the company’s Beijing offices in what became known as an “&lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.newyorker.com/news/evan-osnos/china-and-google-illegal-flower-tribute&quot; title=&quot;&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;illegal flower tribute&lt;/a&gt;.” A possible re-entry to China, according to current and former employees, is a sign of a more mature and pragmatic company.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Google has maintained a significant presence in China even though its flagship services are not accessible in the country. Last year, Google announced plans for &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.nytimes.com/2017/12/13/business/google-ai-china.html&quot; title=&quot;&quot;&gt;a research center in China&lt;/a&gt; focused on artificial intelligence. And it has introduced translation and file management apps for the Chinese market. Google now has more than 700 employees in China.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Google’s work on Dragonfly is not a guarantee that its search engine will be welcomed back to China. The government would have to approve its return and it has kept American technology firms like Facebook at arm’s length, opting instead to work closely with homegrown internet behemoths.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Some employees are in favor of re-entering China, arguing that exiting the country in protest of censorship has done little to pressure Beijing to change its position while it has &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://www.nytimes.com/2018/08/06/technology/china-generation-blocked-internet.html&quot; title=&quot;&quot;&gt;made Google nonessential&lt;/a&gt; among the world’s largest base of internet users.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;When Google pulled out of China in 2010, Sergey Brin, the company’s co-founder, said &lt;a class=&quot;css-1g7m0tk&quot; href=&quot;https://bits.blogs.nytimes.com/2010/03/22/interview-sergey-brin-on-googles-china-gambit/&quot; title=&quot;&quot;&gt;it objected to the country’s “totalitarian” policies&lt;/a&gt; when it came to censorship, political speech and internet communications. If anything, China has only tightened its controls in the last eight years — leaving the company in a bind for how to justify its return.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;&lt;div readability=&quot;38.5&quot;&gt;
&lt;div class=&quot;css-1h6whtw&quot; readability=&quot;22&quot;&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;“You can never satisfy a censor, particularly the ones in China,” said Charles Mok, member of the Hong Kong Legislative Council who advocates for information technology and who is affiliated with the territory’s democratic camp.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;Google is probably facing intense pressure to introduce more of its products in China, Mr. Mok said, but added that the company would lend legitimacy to government censorship if it debuted a censored search product in China.&lt;/p&gt;
&lt;p class=&quot;css-1i0edl6 e2kc3sl0&quot;&gt;“Then the Chinese government can say, ‘Google is O.K. with it too,’” he said.&lt;/p&gt;
&lt;/div&gt;
&lt;aside class=&quot;css-14jsv4e&quot;/&gt;&lt;/div&gt;</description>
<pubDate>Thu, 16 Aug 2018 16:44:46 +0000</pubDate>
<dc:creator>tysone</dc:creator>
<og:url>https://www.nytimes.com/2018/08/16/technology/google-employees-protest-search-censored-china.html</og:url>
<og:type>article</og:type>
<og:title>Google Employees Protest Secret Work on Censored Search Engine for China</og:title>
<og:image>https://static01.nyt.com/images/2018/08/16/business/16DRAGONFLY/16DRAGONFLY-facebookJumbo.jpg</og:image>
<og:description>About 1,400 of the internet company’s employees have signed a letter demanding transparency, saying censored search results raise “urgent moral and ethical issues.”</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.nytimes.com/2018/08/16/technology/google-employees-protest-search-censored-china.html</dc:identifier>
</item>
<item>
<title>NYU Makes Tuition Free for All Medical Students</title>
<link>https://www.wsj.com/articles/nyu-offers-full-tuition-scholarships-for-all-medical-students-1534433082</link>
<guid isPermaLink="true" >https://www.wsj.com/articles/nyu-offers-full-tuition-scholarships-for-all-medical-students-1534433082</guid>
<description>&lt;div class=&quot;clearfix byline-wrap&quot;&gt;


    

        
    &lt;div class=&quot;byline&quot;&gt;
    
    
        &lt;span&gt;By&lt;/span&gt;
    
              &lt;div class=&quot;author mobile-scrim hasMenu&quot; data-scrim=&quot;{&amp;quot;type&amp;quot;:&amp;quot;author&amp;quot;,&amp;quot;header&amp;quot;:&amp;quot;Melissa Korn&amp;quot;,&amp;quot;subhead&amp;quot;:&amp;quot;The Wall Street Journal&amp;quot;,&amp;quot;list&amp;quot;:[{&amp;quot;type&amp;quot;:&amp;quot;link&amp;quot;,&amp;quot;icon&amp;quot;:&amp;quot;bio&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;https://www.wsj.com/news/author/7426&amp;quot;,&amp;quot;text&amp;quot;:&amp;quot;Biography&amp;quot;},{&amp;quot;type&amp;quot;:&amp;quot;link&amp;quot;,&amp;quot;icon&amp;quot;:&amp;quot;twitter&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://twitter.com/melissakorn&amp;quot;,&amp;quot;text&amp;quot;:&amp;quot;@melissakorn&amp;quot;},{&amp;quot;type&amp;quot;:&amp;quot;link&amp;quot;,&amp;quot;icon&amp;quot;:&amp;quot;facebook&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://facebook.com/melissashirakorn&amp;quot;,&amp;quot;text&amp;quot;:&amp;quot;melissashirakorn&amp;quot;},{&amp;quot;type&amp;quot;:&amp;quot;link&amp;quot;,&amp;quot;icon&amp;quot;:&amp;quot;google&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;https://plus.google.com/u/0/101257706797480545216/about&amp;quot;,&amp;quot;text&amp;quot;:&amp;quot;Google+&amp;quot;},{&amp;quot;type&amp;quot;:&amp;quot;link&amp;quot;,&amp;quot;icon&amp;quot;:&amp;quot;email&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;mailto:Melissa.Korn@wsj.com&amp;quot;,&amp;quot;text&amp;quot;:&amp;quot;Melissa.Korn@wsj.com&amp;quot;}]}&quot; itemscope=&quot;&quot; itemprop=&quot;author&quot; itemtype=&quot;http://schema.org/Person&quot;&gt;
                  &lt;span class=&quot;name&quot; itemprop=&quot;name&quot;&gt;Melissa Korn&lt;/span&gt;
                  &lt;/div&gt;

    &lt;/div&gt;
    
    &lt;time class=&quot;timestamp&quot;&gt;
      Updated Aug. 16, 2018 12:10 p.m. ET
    &lt;/time&gt;&lt;/div&gt;

  



       &lt;p&gt;New York University said Thursday that it will cover tuition for all its medical students regardless of their financial situation, a first among the nation’s major medical schools and an attempt to expand career options for graduates who won’t be saddled with six-figure debt.&lt;/p&gt; &lt;p&gt;School officials worry that rising tuition and soaring loan balances are &lt;a href=&quot;https://www.wsj.com/articles/in-search-of-more-doctors-new-training-efforts-grow-1497021686?mod=article_inline&quot; class=&quot;icon none&quot;&gt;pushing new doctors into high-paying fields&lt;/a&gt; and contributing to a shortage of researchers and primary care physicians. Medical schools nationwide have been conducting aggressive fundraising campaigns to compete for top prospects, alleviate the debt burden and give graduates more career choices.&lt;/p&gt;




      &lt;div class=&quot;paywall&quot;&gt;




       &lt;p&gt;NYU raised more than $450 million of the roughly $600 million it estimates it will need to fund the tuition package in perpetuity, including $100 million from 






            &lt;a href=&quot;http://quotes.wsj.com/HD&quot;&gt;Home Depot&lt;/a&gt;
            


       founder Kenneth Langone and his wife, Elaine. The school will provide full-tuition scholarships for 93 first-year students—another nine are already covered through M.D./PhD programs—as well as 350 students already partway through the M.D.-only degree program.&lt;/p&gt; 






       




       &lt;p&gt;“This is going to be a huge game-changer for us, for our students and for our patients,” said Dr. Rafael Rivera, associate dean for admission and financial aid. The school will refund out-of-pocket tuition payments already made for the current year, and return loans students may have taken out.&lt;/p&gt; &lt;p&gt;The move dwarfs efforts by other schools, including Columbia University and the University of California, Los Angeles, to alleviate the financial strain of a medical education. Earlier this year Columbia’s Vagelos College of Physicians and Surgeons announced it would eliminate loans for all students who qualify for financial aid, while UCLA’s David Geffen School of Medicine expects to provide more than 300 full scholarships between 2012 and 2022, based on merit.&lt;/p&gt; &lt;p&gt;The Cleveland Clinic Lerner College of Medicine of Case Western Reserve University, with just 32 students a year, &lt;a href=&quot;https://www.wsj.com/articles/SB121081981994794319?mod=article_inline&quot; class=&quot;icon none&quot;&gt;has paid full tuition and fees since 2008&lt;/a&gt; in an effort to encourage graduates to pursue academic and research careers.&lt;/p&gt; &lt;p&gt;Nationally, 72% of graduates from the class of 2018 had debt from medical school, with a median of $195,000 in loans, according to student surveys by the Association of American Medical Colleges. More than one-third of medical students also have student loans from prior academic programs.&lt;/p&gt; 






       




       &lt;p&gt;Sixty-two percent of NYU medical school’s most recent graduating class had student loans, averaging $171,908 for medical school and $184,000 overall. Most medical students will still need to pay for about $29,000 in annual room, board and other living expenses; tuition had been set at $55,018 for the coming year.&lt;/p&gt; &lt;p&gt;“There’s really a moral imperative to reduce the amount of debt people have,” Dr. Rivera said, citing concerns that loan burdens are shaping career choices and might even be scaring some prospects away from going to medical school at all.&lt;/p&gt; &lt;p&gt;Schools are also seeking to better reflect the population of U.S. patients in terms of race, ethnicity, gender and socioeconomic backgrounds. Asians make up a disproportionate share of medical-school classes, but other minorities are vastly underrepresented.&lt;/p&gt; &lt;p&gt;The median parental income for new medical-school students is $125,000, according to the AAMC.&lt;/p&gt; &lt;p&gt;Most medical students who want to go into lower paying practices like family medicine and endocrinology can take advantage of federal programs in which their monthly loan payments are tied to discretionary income; their loan balances are then forgiven after 10 or 25 years, depending on where they work. With compounding interest, &lt;a href=&quot;https://www.wsj.com/articles/mike-meru-has-1-million-in-student-loans-how-did-that-happen-1527252975?mod=article_inline&quot; class=&quot;icon none&quot;&gt;they often don’t make much dent on the principal balance&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;The salary disparity for doctors can be stark. The four lowest-paying specialties, all in pediatrics, had average annual compensation of $221,900 or below, according to a survey of more than 65,000 doctors by Doximity, a medical social network for clinicians. Doctors specializing in internal medicine had average annual compensation of $260,000.&lt;/p&gt; &lt;p&gt;Meanwhile, neurosurgery was the top-paying specialty last year, with average compensation of $662,755. Thoracic surgery and orthopaedic surgery rounded out the top three, at $602,745 and $537,568, respectively.&lt;/p&gt; &lt;p&gt;There’s no guarantee that schools’ new scholarships will push more students into less lucrative specialties or underserved communities, as the tuition payments aren’t tied to any career commitment after graduation. But school officials are hopeful.&lt;/p&gt; &lt;p&gt;“If you’re faced with debts that you’re likely to have into your 50s, it’s got to have an influence on what you choose to do,” said 




      Dr. Lee Goldman, 




       dean of Columbia’s Faculties of Health Sciences and Medicine. Published tuition for that school is $61,146 this year; including living expenses, students can expect to shell out between $92,311 and $100,665, the school says.&lt;/p&gt; 






       




       &lt;p&gt;Former 






            &lt;a href=&quot;http://quotes.wsj.com/MRK&quot;&gt;Merck&lt;/a&gt;
            


       &amp;amp; Co. chairman Dr. P. Roy Vagelos and his wife, Diana, gave Columbia’s medical school $250 million last winter, with $150 million earmarked for the endowment that funds the new no-loan financial aid package. About half the class receives need-based aid.&lt;/p&gt; &lt;p&gt;Generous aid packages are a powerful recruiting tool.&lt;/p&gt; &lt;p&gt;Columbia’s yield, or the share of admitted students who actually enrolled, increased by 1% this year in the wake of the financial aid announcement, and the school anticipates an even higher yield in the future.&lt;/p&gt; &lt;p&gt;UCLA boasts on its website that students have turned down offers from the University of California, San Francisco, Harvard University and Stanford University to attend its medical school, thanks to merit scholarships covering all costs for up to 20% of students. Those are funded by a $100 million gift made in 2012 by entertainment mogul David Geffen.&lt;/p&gt; &lt;p&gt;“I don’t know of any schools that would not want their students to graduate debt-free,” said Dr. Roy Ziegelstein, vice dean for education at the top-ranked Johns Hopkins University School of Medicine. “All schools are aiming for that end result.”&lt;/p&gt; &lt;p&gt;Median debt for Hopkins medical students who borrow is around $110,000, well below the national median.&lt;/p&gt; &lt;p&gt;Dr. Ziegelstein commended Columbia and other schools for their financial aid initiatives. “I love it. And I’m trying to do the same thing,” he said.&lt;/p&gt; &lt;p&gt; &lt;strong&gt;Write to &lt;/strong&gt;Melissa Korn at &lt;a href=&quot;mailto:melissa.korn@wsj.com&quot; target=&quot;_blank&quot; class=&quot;icon &quot;&gt;melissa.korn@wsj.com&lt;/a&gt;&lt;/p&gt;  &lt;p&gt; &lt;strong&gt;Corrections &amp;amp; Amplifications &lt;/strong&gt; &lt;br/&gt;NYU will provide full-tuition scholarships for 93 first-year students—another nine are already covered through M.D./PhD programs. An earlier version of this article incorrectly gave the numbers as 92 and 10.&lt;/p&gt; 






      &lt;/div&gt;






    &lt;p class=&quot;printheadline&quot;&gt;
      Appeared in the August 17, 2018, print edition as 'NYU Medical School Makes Tuition Free.'
    &lt;/p&gt;




</description>
<pubDate>Thu, 16 Aug 2018 16:13:31 +0000</pubDate>
<dc:creator>mudil</dc:creator>
<og:title>NYU Makes Tuition Free for All Medical Students</og:title>
<og:description>NYU said it will cover tuition for all its medical students, a first among the nation’s major medical schools and an attempt to expand career options for graduates who won’t be saddled with six-figure debt.</og:description>
<og:url>https://www.wsj.com/articles/nyu-offers-full-tuition-scholarships-for-all-medical-students-1534433082</og:url>
<og:image>https://images.wsj.net/im-22505/social</og:image>
<og:type>article</og:type>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.wsj.com/articles/nyu-offers-full-tuition-scholarships-for-all-medical-students-1534433082</dc:identifier>
</item>
<item>
<title>China’s first ‘fully homegrown’ web browser found to be Google Chrome clone</title>
<link>https://shanghai.ist/2018/08/16/chinas-first-fully-homegrown-web-browser-found-to-be-google-chrome-clone/</link>
<guid isPermaLink="true" >https://shanghai.ist/2018/08/16/chinas-first-fully-homegrown-web-browser-found-to-be-google-chrome-clone/</guid>
<description>&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;A&lt;/span&gt; Chinese software startup has become a laughing stock on Chinese social media after claiming to have developed China’s first fully homegrown browser only to be promptly exposed for copying Google.&lt;/p&gt;
&lt;p&gt;On Wednesday, the startup, AllMobilize Inc., unveiled its Redcore web browser to the public, boasting that it was the world’s first and only fully “made in China” browser and would come to smash the US monopoly on software. The company announced that in the latest round of fundraising it had raised a cool 250 million yuan ($36) from investors that included government agencies.&lt;/p&gt;
&lt;p&gt;However, the company’s claims did not manage to survive even the slightest scrutiny. When investigating the software, Chinese web users &lt;a href=&quot;https://www.weibo.com/1618051664/GuRZvFgIj?type=comment#_rnd1534402074811&quot;&gt;discovered&lt;/a&gt; some peculiarities in Redcore’s “homegrown technology,” including compressed “chrome.exe” installation files, a slew of chrome urls, and even image files of Google Chrome’s logo.&lt;/p&gt;



&lt;p&gt;&lt;img data-attachment-id=&quot;11741&quot; data-permalink=&quot;https://shanghai.ist/2018/08/16/chinas-first-fully-homegrown-web-browser-found-to-be-google-chrome-clone/redcore3/&quot; data-orig-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg&quot; data-orig-size=&quot;451,312&quot; data-comments-opened=&quot;0&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;redcore3&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore3-300x208.jpg&quot; data-large-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg&quot; class=&quot;aligncenter size-full wp-image-11741 jetpack-lazy-image&quot; src=&quot;https://i0.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg?resize=451%2C312&quot; alt=&quot;&quot; width=&quot;451&quot; height=&quot;312&quot; data-recalc-dims=&quot;1&quot; data-lazy-srcset=&quot;https://i0.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg?w=451&amp;amp;ssl=1 451w, https://i0.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg?resize=300%2C208&amp;amp;ssl=1 300w&quot; data-lazy-sizes=&quot;(max-width: 451px) 100vw, 451px&quot;/&gt;&lt;/p&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img data-attachment-id=&quot;11741&quot; data-permalink=&quot;https://shanghai.ist/2018/08/16/chinas-first-fully-homegrown-web-browser-found-to-be-google-chrome-clone/redcore3/&quot; data-orig-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg&quot; data-orig-size=&quot;451,312&quot; data-comments-opened=&quot;0&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;redcore3&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore3-300x208.jpg&quot; data-large-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg&quot; class=&quot;aligncenter size-full wp-image-11741&quot; src=&quot;https://i0.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg?resize=451%2C312&quot; alt=&quot;&quot; width=&quot;451&quot; height=&quot;312&quot; srcset=&quot;https://i0.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg?w=451&amp;amp;ssl=1 451w, https://i0.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore3.jpg?resize=300%2C208&amp;amp;ssl=1 300w&quot; sizes=&quot;(max-width: 451px) 100vw, 451px&quot; data-recalc-dims=&quot;1&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;
&lt;p&gt;&lt;img data-attachment-id=&quot;11742&quot; data-permalink=&quot;https://shanghai.ist/2018/08/16/chinas-first-fully-homegrown-web-browser-found-to-be-google-chrome-clone/redcore2/&quot; data-orig-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg&quot; data-orig-size=&quot;442,188&quot; data-comments-opened=&quot;0&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;redcore2&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore2-300x128.jpg&quot; data-large-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg&quot; class=&quot;aligncenter size-full wp-image-11742 jetpack-lazy-image&quot; src=&quot;https://i2.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg?resize=442%2C188&quot; alt=&quot;&quot; width=&quot;442&quot; height=&quot;188&quot; data-recalc-dims=&quot;1&quot; data-lazy-srcset=&quot;https://i2.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg?w=442&amp;amp;ssl=1 442w, https://i2.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg?resize=300%2C128&amp;amp;ssl=1 300w&quot; data-lazy-sizes=&quot;(max-width: 442px) 100vw, 442px&quot;/&gt;&lt;/p&gt;&lt;noscript&gt;
&lt;p&gt;&lt;img data-attachment-id=&quot;11742&quot; data-permalink=&quot;https://shanghai.ist/2018/08/16/chinas-first-fully-homegrown-web-browser-found-to-be-google-chrome-clone/redcore2/&quot; data-orig-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg&quot; data-orig-size=&quot;442,188&quot; data-comments-opened=&quot;0&quot; data-image-meta=&quot;{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}&quot; data-image-title=&quot;redcore2&quot; data-image-description=&quot;&quot; data-medium-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore2-300x128.jpg&quot; data-large-file=&quot;https://shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg&quot; class=&quot;aligncenter size-full wp-image-11742&quot; src=&quot;https://i2.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg?resize=442%2C188&quot; alt=&quot;&quot; width=&quot;442&quot; height=&quot;188&quot; srcset=&quot;https://i2.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg?w=442&amp;amp;ssl=1 442w, https://i2.wp.com/shanghai.ist/wp-content/uploads/2018/08/redcore2.jpg?resize=300%2C128&amp;amp;ssl=1 300w&quot; sizes=&quot;(max-width: 442px) 100vw, 442px&quot; data-recalc-dims=&quot;1&quot;/&gt;&lt;/p&gt;
&lt;/noscript&gt;
&lt;p&gt;In response to the controversy, AllMobilize founder Chen Benfeng has &lt;a href=&quot;https://www.weibo.com/ttarticle/p/show?id=2309404273645831768817&quot;&gt;admitted&lt;/a&gt; that Redcore is indeed based on Google Chrome but stressed that its core technology includes important independent innovations that improve upon Chrome’s software. He also added that his company is certainly not trying to swindle national funds by targeting government agencies.&lt;/p&gt;
&lt;p&gt;Redcore is now no longer available to download from the company’s website.&lt;/p&gt;

&lt;div class=&quot;sharedaddy sd-sharing-enabled&quot;&gt;
&lt;div class=&quot;robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing&quot;&gt;
&lt;h3 class=&quot;sd-title&quot;&gt;Share this:&lt;/h3&gt;

&lt;/div&gt;
&lt;/div&gt;


</description>
<pubDate>Thu, 16 Aug 2018 13:55:36 +0000</pubDate>
<dc:creator>dexterpe</dc:creator>
<og:type>article</og:type>
<og:title>China’s first ‘fully homegrown’ web browser found to be Google Chrome clone</og:title>
<og:description>A Chinese software startup has become a laughing stock on Chinese social media after claiming to have developed China's first</og:description>
<og:url>https://shanghai.ist/2018/08/16/chinas-first-fully-homegrown-web-browser-found-to-be-google-chrome-clone/</og:url>
<og:image>https://shanghai.ist/wp-content/uploads/2018/08/redcore.jpg</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://shanghai.ist/2018/08/16/chinas-first-fully-homegrown-web-browser-found-to-be-google-chrome-clone/</dc:identifier>
</item>
<item>
<title>Show HN: Wayland compositor in around 500 lines of annotated C</title>
<link>https://gist.github.com/SirCmpwn/ae4d1cdcca97ffeb2c35f0878d75dc17</link>
<guid isPermaLink="true" >https://gist.github.com/SirCmpwn/ae4d1cdcca97ffeb2c35f0878d75dc17</guid>
<description>&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* TinyWL: A tiny(ish) Wayland compositor.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* This is the annotated source. The canonical source is available here:&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* https://git.sr.ht/~sircmpwn/tinywl&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* It is recommended that you read this file from the bottom-up. The entrypoint&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* is at the bottom, and following the logic through there may be easier than&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* starting at the top. You are also encouraged to consult wayland-server-util.h&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* if necessary, I will not be explaining e.g. wl_list, wl_container_of, etc.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* This is based on wlroots[0], a library which makes building Wayland&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* compositors easier. Without it, this could easily be 10,000+ lines of code.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* [0] https://github.com/swaywm/wlroots&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Background:&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* In the X11 world, X11 window managers have it easy. The majority of input&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td id=&quot;file-tinywl-c-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* device handling, input dispatching, rendering, output resource management,&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* and so on, is all handled by the X11 server. The window manager simply tells&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* it where to place the windows, who gets focus, etc.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Our Wayland compositor has to do _all_ of this. This file is responsible for:&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Everything an X11 WM would do&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Negotiating window allocation with clients&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Rendering windows to the display&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Allocating output resources and managing a frame loop&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Allocating input devices and dispatching input events&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Focusing the appropriate windows in the appropriate circumstances&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Multihead support&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* wlroots is a very batteries-not-included library. It's the most flexible and&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L36&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;36&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC36&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* comprehensive Wayland compositor library, but it requires a lot of work to&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L37&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;37&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC37&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* get something working. Hence, this file is 582 SLOC and TinyWM[1] is only 50.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L38&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;38&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC38&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* In exchange for the extra work, you're able to make a huge variety of Wayland&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L39&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;39&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC39&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* compositors and other applications based on wlroots.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L40&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;40&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC40&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L41&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;41&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC41&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* [1] http://incise.org/tinywm.html&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L42&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;42&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC42&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L43&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;43&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC43&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Notable omissions from TinyWL:&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L44&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;44&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC44&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - HiDPI support&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L45&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;45&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC45&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Any kind of configuration, e.g. output layout&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L46&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;46&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC46&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Any protocol other than xdg-shell (e.g. layer-shell, for&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L47&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;47&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC47&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* panels/taskbars/etc; or Xwayland, for proxied X11 windows)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L48&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;48&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC48&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Optional protocols, e.g. screen capture, primary selection, virtual&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L49&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;49&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC49&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* keyboard, etc. Most of these are plug-and-play with wlroots, but they're&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L50&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;50&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC50&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* omitted for brevity.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L51&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;51&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC51&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* - Damage tracking, which tracks which parts of the screen are changing and&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L52&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;52&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC52&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* minimizes redraws accordingly.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L53&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;53&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC53&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L54&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;54&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC54&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* You can run this by simply running `./tinywl`. If you run it from within an&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L55&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;55&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC55&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* existing X11 or Wayland session, wlroots will open a virtual output as a&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L56&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;56&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC56&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* window in your existing session. If you run it at a tty, it'll run with the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L57&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;57&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC57&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* KMS+DRM backend. Use e.g. `./tinywl -s termite` to start with a terminal&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L58&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;58&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC58&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* running, which will be necessary to run anything interesting. Note that&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L59&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;59&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC59&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* weston-terminal will not work; it uses xdg-shell v6, which is supported by&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L60&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;60&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC60&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* wlroots but not implemented in TinyWL. The wlroots xdg-shell v6 interface is&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L61&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;61&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC61&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* very similar to the xdg-shell interface, implementing it may be a fun&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L62&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;62&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC62&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* exercise for the reader.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L63&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;63&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC63&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L64&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;64&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC64&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Press Alt+ESC to quit, and Alt+F1 to cycle between windows. Most Wayland&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L65&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;65&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC65&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* clients provide their own window decorations and means of moving the window&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L66&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;66&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC66&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* around; no TinyWL keybinding is provided for this purpose.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L67&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;67&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC67&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L68&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;68&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC68&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* For additional resources, please review my blog posts on Wayland compositor&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L69&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;69&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC69&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* development:&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L70&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;70&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC70&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L71&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;71&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC71&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* https://drewdevault.com/2018/02/17/Writing-a-Wayland-compositor-1.html&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L72&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;72&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC72&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* https://drewdevault.com/2018/02/22/Writing-a-wayland-compositor-part-2.html&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L73&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;73&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC73&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* https://drewdevault.com/2018/02/28/Writing-a-wayland-compositor-part-3.html&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L74&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;74&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC74&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* https://drewdevault.com/2018/07/17/Input-handling-in-wlroots.html&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L75&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;75&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC75&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* https://drewdevault.com/2018/07/29/Wayland-shells.html&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L76&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;76&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC76&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L77&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;77&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC77&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* More coming soon!&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L78&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;78&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC78&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L79&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;79&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC79&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;_POSIX_C_SOURCE&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;200112L&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L80&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;80&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC80&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;getopt.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L81&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;81&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC81&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;stdbool.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L82&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;82&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC82&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;stdlib.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L83&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;83&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC83&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;stdio.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L84&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;84&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC84&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;time.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L85&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;85&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC85&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;unistd.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L86&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;86&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC86&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wayland-server.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L87&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;87&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC87&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/backend.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L88&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;88&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC88&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/render/wlr_renderer.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L89&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;89&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC89&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_cursor.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L90&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;90&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC90&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_compositor.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L91&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;91&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC91&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_data_device.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L92&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;92&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC92&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_input_device.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L93&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;93&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC93&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_keyboard.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L94&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;94&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC94&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_linux_dmabuf_v1.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L95&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;95&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC95&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_matrix.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L96&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;96&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC96&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_output.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L97&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;97&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC97&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_output_layout.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L98&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;98&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC98&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_pointer.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L99&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;99&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC99&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_seat.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L100&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;100&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC100&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_xcursor_manager.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L101&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;101&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC101&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/types/wlr_xdg_shell.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L102&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;102&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC102&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;wlr/util/log.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L103&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;103&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC103&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;#&lt;span class=&quot;pl-k&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;lt;&lt;/span&gt;xkbcommon/xkbcommon.h&lt;span class=&quot;pl-pds&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L104&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;104&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC104&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L105&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;105&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC105&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; For brevity's sake, the struct members are annotated where they are used. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L106&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;106&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC106&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;enum&lt;/span&gt; tinywl_cursor_mode {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L107&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;107&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC107&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;TINYWL_CURSOR_PASSTHROUGH,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L108&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;108&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC108&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;TINYWL_CURSOR_MOVE,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L109&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;109&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC109&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;TINYWL_CURSOR_RESIZE,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L110&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;110&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC110&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L111&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;111&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC111&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L112&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;112&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC112&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L113&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;113&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC113&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_display *wl_display;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L114&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;114&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC114&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_backend *backend;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L115&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;115&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC115&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_renderer *renderer;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L116&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;116&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC116&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L117&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;117&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC117&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_xdg_shell *xdg_shell;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L118&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;118&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC118&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener new_xdg_surface;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L119&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;119&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC119&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_list views;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L120&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;120&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC120&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L121&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;121&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC121&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_cursor *cursor;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L122&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;122&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC122&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_xcursor_manager *cursor_mgr;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L123&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;123&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC123&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener cursor_motion;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L124&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;124&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC124&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener cursor_motion_absolute;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L125&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;125&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC125&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener cursor_button;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L126&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;126&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC126&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener cursor_axis;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L127&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;127&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC127&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L128&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;128&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC128&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_seat *seat;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L129&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;129&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC129&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener new_input;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L130&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;130&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC130&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener request_cursor;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L131&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;131&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC131&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_list keyboards;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L132&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;132&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC132&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;enum&lt;/span&gt; tinywl_cursor_mode cursor_mode;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L133&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;133&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC133&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *grabbed_view;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L134&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;134&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC134&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; grab_x, grab_y;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L135&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;135&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC135&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; grab_width, grab_height;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L136&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;136&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC136&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;uint32_t&lt;/span&gt; resize_edges;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L137&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;137&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC137&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L138&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;138&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC138&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_output_layout *output_layout;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L139&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;139&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC139&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_list outputs;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L140&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;140&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC140&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener new_output;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L141&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;141&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC141&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L142&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;142&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC142&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L143&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;143&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC143&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_output {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L144&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;144&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC144&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_list &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L145&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;145&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC145&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L146&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;146&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC146&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_output *wlr_output;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L147&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;147&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC147&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener frame;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L148&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;148&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC148&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L149&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;149&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC149&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L150&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;150&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC150&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L151&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;151&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC151&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_list &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L152&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;152&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC152&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L153&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;153&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC153&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_xdg_surface *xdg_surface;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L154&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;154&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC154&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener map;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L155&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;155&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC155&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener unmap;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L156&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;156&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC156&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener destroy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L157&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;157&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC157&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener request_move;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L158&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;158&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC158&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener request_resize;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L159&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;159&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC159&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;bool&lt;/span&gt; mapped;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L160&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;160&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC160&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; x, y;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L161&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;161&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC161&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L162&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;162&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC162&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L163&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;163&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC163&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_keyboard {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L164&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;164&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC164&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_list &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L165&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;165&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC165&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L166&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;166&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC166&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_input_device *device;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L167&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;167&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC167&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L168&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;168&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC168&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener modifiers;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L169&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;169&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC169&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener key;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L170&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;170&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC170&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L171&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;171&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC171&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L172&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;172&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC172&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_pointer {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L173&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;173&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC173&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_list &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L174&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;174&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC174&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L175&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;175&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC175&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_input_device *device;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L176&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;176&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC176&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L177&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;177&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC177&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L178&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;178&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC178&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;focus_view&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view, &lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface *surface) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L179&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;179&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC179&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Note: this function only deals with keyboard focus. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L180&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;180&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC180&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (view == &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L181&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;181&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC181&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L182&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;182&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC182&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L183&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;183&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC183&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server = view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L184&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;184&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC184&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_seat *seat = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L185&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;185&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC185&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface *prev_surface = seat-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard_state&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;focused_surface&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L186&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;186&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC186&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (prev_surface == surface) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L187&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;187&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC187&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Don't re-focus an already focused surface. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L188&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;188&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC188&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L189&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;189&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC189&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L190&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;190&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC190&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (prev_surface) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L191&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;191&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC191&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L192&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;192&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC192&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Deactivate the previously focused surface. This lets the client know&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L193&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;193&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC193&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* it no longer has focus and the client will repaint accordingly, e.g.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L194&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;194&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC194&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* stop displaying a caret.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L195&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;195&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC195&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L196&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;196&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC196&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_xdg_surface *previous = &lt;span class=&quot;pl-c1&quot;&gt;wlr_xdg_surface_from_wlr_surface&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L197&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;197&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC197&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;seat-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard_state&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;focused_surface&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L198&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;198&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC198&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_xdg_toplevel_set_activated&lt;/span&gt;(previous, &lt;span class=&quot;pl-c1&quot;&gt;false&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L199&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;199&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC199&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L200&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;200&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC200&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_keyboard *keyboard = &lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_get_keyboard&lt;/span&gt;(seat);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L201&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;201&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC201&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Move the view to the front &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L202&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;202&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC202&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_remove&lt;/span&gt;(&amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L203&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;203&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC203&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_insert&lt;/span&gt;(&amp;amp;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;views&lt;/span&gt;, &amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L204&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;204&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC204&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Activate the new surface &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L205&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;205&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC205&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_xdg_toplevel_set_activated&lt;/span&gt;(view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L206&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;206&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC206&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L207&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;207&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC207&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Tell the seat to have the keyboard enter this surface. wlroots will keep&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L208&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;208&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC208&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* track of this and automatically send key events to the appropriate&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L209&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;209&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC209&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* clients without additional work on your part.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L210&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;210&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC210&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L211&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;211&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC211&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_keyboard_notify_enter&lt;/span&gt;(seat, view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;surface&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L212&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;212&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC212&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keycodes&lt;/span&gt;, keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;num_keycodes&lt;/span&gt;, &amp;amp;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;modifiers&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L213&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;213&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC213&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L214&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;214&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC214&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L215&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;215&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC215&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;keyboard_handle_modifiers&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L216&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;216&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC216&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L217&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;217&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC217&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is raised when a modifier key, such as shift or alt, is&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L218&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;218&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC218&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* pressed. We simply communicate this to the client. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L219&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;219&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC219&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_keyboard *keyboard =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L220&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;220&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC220&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, keyboard, modifiers);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L221&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;221&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC221&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L222&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;222&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC222&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* A seat can only have one keyboard, but this is a limitation of the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L223&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;223&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC223&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Wayland protocol. We assign all connected keyboards to the same seat.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L224&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;224&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC224&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* You can swap it like this and wlr_seat handles this transparently.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L225&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;225&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC225&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L226&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;226&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC226&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_set_keyboard&lt;/span&gt;(keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;, keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;device&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L227&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;227&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC227&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Send modifiers to the client. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L228&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;228&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC228&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_keyboard_notify_modifiers&lt;/span&gt;(keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L229&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;229&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC229&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&amp;amp;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;device&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;modifiers&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L230&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;230&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC230&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L231&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;231&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC231&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L232&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;232&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC232&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;handle_keybinding&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server, &lt;span class=&quot;pl-c1&quot;&gt;xkb_keysym_t&lt;/span&gt; sym) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L233&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;233&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC233&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L234&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;234&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC234&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Here we handle compositor keybindings. This is when the compositor is&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L235&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;235&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC235&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* processing keys, rather than passing them on to the client for its own&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L236&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;236&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC236&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* processing.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L237&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;237&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC237&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L238&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;238&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC238&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* This function assumes Alt is held down.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L239&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;239&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC239&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L240&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;240&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC240&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;switch&lt;/span&gt; (sym) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L241&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;241&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC241&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;case&lt;/span&gt; XKB_KEY_Escape:&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L242&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;242&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC242&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_display_terminate&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L243&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;243&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC243&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;break&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L244&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;244&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC244&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;case&lt;/span&gt; XKB_KEY_F1:&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L245&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;245&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC245&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Cycle to the next view &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L246&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;246&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC246&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot;&gt;wl_list_length&lt;/span&gt;(&amp;amp;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;views&lt;/span&gt;) &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;2&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L247&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;247&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC247&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;break&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L248&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;248&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC248&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L249&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;249&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC249&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *current_view = &lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L250&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;250&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC250&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;views&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;next&lt;/span&gt;, current_view, &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L251&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;251&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC251&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *next_view = &lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L252&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;252&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC252&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;current_view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;next&lt;/span&gt;, next_view, &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L253&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;253&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC253&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;focus_view&lt;/span&gt;(next_view, next_view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;surface&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L254&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;254&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC254&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Move the previous view to the end of the list &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L255&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;255&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC255&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_remove&lt;/span&gt;(&amp;amp;current_view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L256&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;256&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC256&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_insert&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;views&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;prev&lt;/span&gt;, &amp;amp;current_view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L257&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;257&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC257&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;break&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L258&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;258&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC258&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;default&lt;/span&gt;:&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L259&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;259&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC259&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;false&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L260&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;260&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC260&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L261&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;261&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC261&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L262&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;262&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC262&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L263&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;263&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC263&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L264&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;264&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC264&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;keyboard_handle_key&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L265&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;265&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC265&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L266&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;266&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC266&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is raised when a key is pressed or released. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L267&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;267&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC267&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_keyboard *keyboard =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L268&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;268&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC268&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, keyboard, key);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L269&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;269&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC269&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server = keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L270&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;270&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC270&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_event_keyboard_key *event = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L271&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;271&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC271&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_seat *seat = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L272&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;272&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC272&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L273&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;273&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC273&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Translate libinput keycode -&amp;gt; xkbcommon &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L274&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;274&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC274&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;uint32_t&lt;/span&gt; keycode = event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keycode&lt;/span&gt; + &lt;span class=&quot;pl-c1&quot;&gt;8&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L275&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;275&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC275&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Get a list of keysyms based on the keymap for this keyboard &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L276&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;276&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC276&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;xkb_keysym_t&lt;/span&gt; *syms;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L277&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;277&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC277&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; nsyms = &lt;span class=&quot;pl-c1&quot;&gt;xkb_state_key_get_syms&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L278&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;278&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC278&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;device&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xkb_state&lt;/span&gt;, keycode, &amp;amp;syms);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L279&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;279&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC279&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L280&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;280&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC280&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;bool&lt;/span&gt; handled = &lt;span class=&quot;pl-c1&quot;&gt;false&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L281&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;281&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC281&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;uint32_t&lt;/span&gt; modifiers = &lt;span class=&quot;pl-c1&quot;&gt;wlr_keyboard_get_modifiers&lt;/span&gt;(keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;device&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L282&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;282&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC282&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; ((modifiers &amp;amp; WLR_MODIFIER_ALT) &amp;amp;&amp;amp; event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;state&lt;/span&gt; == WLR_BUTTON_PRESSED) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L283&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;283&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC283&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; If alt is held down and this button was _pressed_, we attempt to&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L284&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;284&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC284&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* process it as a compositor keybinding. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L285&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;285&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC285&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;; i &amp;lt; nsyms; i++) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L286&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;286&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC286&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;handled = &lt;span class=&quot;pl-c1&quot;&gt;handle_keybinding&lt;/span&gt;(server, syms[i]);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L287&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;287&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC287&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L288&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;288&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC288&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L289&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;289&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC289&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L290&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;290&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC290&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!handled) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L291&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;291&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC291&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Otherwise, we pass it along to the client. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L292&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;292&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC292&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_set_keyboard&lt;/span&gt;(seat, keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;device&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L293&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;293&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC293&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_keyboard_notify_key&lt;/span&gt;(seat, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;time_msec&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L294&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;294&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC294&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keycode&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;state&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L295&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;295&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC295&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L296&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;296&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC296&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L297&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;297&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC297&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L298&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;298&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC298&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_new_keyboard&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L299&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;299&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC299&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_input_device *device) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L300&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;300&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC300&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_keyboard *keyboard =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L301&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;301&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC301&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;calloc&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;pl-k&quot;&gt;sizeof&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_keyboard));&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L302&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;302&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC302&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt; = server;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L303&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;303&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC303&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;device&lt;/span&gt; = device;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L304&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;304&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC304&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L305&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;305&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC305&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; We need to prepare an XKB keymap and assign it to the keyboard. This&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L306&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;306&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC306&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* assumes the defaults (e.g. layout = &quot;us&quot;). &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L307&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;307&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC307&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; xkb_rule_names rules = { &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt; };&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L308&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;308&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC308&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; xkb_context *context = &lt;span class=&quot;pl-c1&quot;&gt;xkb_context_new&lt;/span&gt;(XKB_CONTEXT_NO_FLAGS);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L309&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;309&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC309&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; xkb_keymap *keymap = &lt;span class=&quot;pl-c1&quot;&gt;xkb_map_new_from_names&lt;/span&gt;(context, &amp;amp;rules,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L310&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;310&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC310&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;XKB_KEYMAP_COMPILE_NO_FLAGS);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L311&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;311&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC311&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L312&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;312&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC312&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_keyboard_set_keymap&lt;/span&gt;(device-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard&lt;/span&gt;, keymap);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L313&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;313&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC313&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;xkb_keymap_unref&lt;/span&gt;(keymap);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L314&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;314&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC314&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;xkb_context_unref&lt;/span&gt;(context);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L315&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;315&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC315&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_keyboard_set_repeat_info&lt;/span&gt;(device-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;25&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;600&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L316&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;316&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC316&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L317&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;317&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC317&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Here we set up listeners for keyboard events. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L318&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;318&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC318&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;modifiers&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = keyboard_handle_modifiers;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L319&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;319&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC319&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;device-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;modifiers&lt;/span&gt;, &amp;amp;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;modifiers&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L320&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;320&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC320&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;key&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = keyboard_handle_key;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L321&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;321&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC321&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;device-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboard&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;key&lt;/span&gt;, &amp;amp;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;key&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L322&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;322&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC322&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L323&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;323&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC323&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_set_keyboard&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;, device);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L324&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;324&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC324&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L325&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;325&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC325&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; And add the keyboard to our list of keyboards &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L326&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;326&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC326&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_insert&lt;/span&gt;(&amp;amp;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboards&lt;/span&gt;, &amp;amp;keyboard-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L327&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;327&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC327&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L328&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;328&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC328&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L329&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;329&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC329&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_new_pointer&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L330&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;330&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC330&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_input_device *device) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L331&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;331&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC331&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; We don't do anything special with pointers. All of our pointer handling&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L332&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;332&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC332&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* is proxied through wlr_cursor. On another compositor, you might take this&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L333&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;333&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC333&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* opportunity to do libinput configuration on the device to set&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L334&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;334&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC334&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* acceleration, etc. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L335&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;335&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC335&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_cursor_attach_input_device&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;, device);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L336&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;336&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC336&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L337&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;337&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC337&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L338&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;338&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC338&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_new_input&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L339&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;339&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC339&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is raised by the backend when a new input device becomes&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L340&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;340&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC340&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* available. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L341&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;341&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC341&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L342&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;342&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC342&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, server, new_input);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L343&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;343&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC343&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_input_device *device = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L344&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;344&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC344&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;switch&lt;/span&gt; (device-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L345&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;345&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC345&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;case&lt;/span&gt; WLR_INPUT_DEVICE_KEYBOARD:&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L346&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;346&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC346&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;server_new_keyboard&lt;/span&gt;(server, device);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L347&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;347&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC347&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;break&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L348&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;348&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC348&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;case&lt;/span&gt; WLR_INPUT_DEVICE_POINTER:&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L349&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;349&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC349&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;server_new_pointer&lt;/span&gt;(server, device);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L350&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;350&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC350&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;break&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L351&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;351&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC351&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L352&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;352&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC352&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; We need to let the wlr_seat know what our capabilities are, which is&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L353&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;353&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC353&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* communiciated to the client. In TinyWL we always have a cursor, even if&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L354&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;354&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC354&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* there are no pointer devices, so we always include that capability. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L355&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;355&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC355&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;uint32_t&lt;/span&gt; caps = WL_SEAT_CAPABILITY_POINTER;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L356&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;356&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC356&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;wl_list_empty&lt;/span&gt;(&amp;amp;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;keyboards&lt;/span&gt;)) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L357&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;357&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC357&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;caps |= WL_SEAT_CAPABILITY_KEYBOARD;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L358&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;358&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC358&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L359&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;359&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC359&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_set_capabilities&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;, caps);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L360&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;360&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC360&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L361&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;361&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC361&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L362&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;362&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC362&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;seat_request_cursor&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L363&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;363&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC363&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is rasied by the seat when a client provides a cursor image &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L364&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;364&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC364&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server = &lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L365&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;365&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC365&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;listener, server, request_cursor);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L366&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;366&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC366&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_seat_pointer_request_set_cursor_event *event = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L367&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;367&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC367&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_seat_client *focused_client =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L368&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;368&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC368&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;pointer_state&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;focused_client&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L369&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;369&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC369&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This can be sent by any client, so we check to make sure this one is&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L370&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;370&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC370&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* actually has pointer focus first. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L371&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;371&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC371&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (focused_client == event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat_client&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L372&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;372&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC372&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Once we've vetted the client, we can tell the cursor to use the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L373&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;373&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC373&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* provided surface as the cursor image. It will set the hardware cursor&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L374&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;374&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC374&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* on the output that it's currently on and continue to do so as the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L375&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;375&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC375&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* cursor moves between outputs. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L376&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;376&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC376&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_cursor_set_surface&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;surface&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L377&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;377&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC377&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;hotspot_x&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;hotspot_y&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L378&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;378&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC378&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L379&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;379&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC379&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L380&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;380&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC380&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L381&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;381&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC381&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;view_at&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L382&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;382&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC382&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; lx, &lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; ly, &lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface **surface,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L383&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;383&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC383&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; *sx, &lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; *sy) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L384&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;384&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC384&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L385&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;385&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC385&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* XDG toplevels may have nested surfaces, such as popup windows for context&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L386&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;386&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC386&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* menus or tooltips. This function tests if any of those are underneath the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L387&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;387&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC387&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* coordinates lx and ly (in output Layout Coordinates). If so, it sets the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L388&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;388&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC388&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* surface pointer to that wlr_surface and the sx and sy coordinates to the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L389&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;389&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC389&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* coordinates relative to that surface's top-left corner.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L390&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;390&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC390&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L391&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;391&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC391&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; view_sx = lx - view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L392&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;392&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC392&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; view_sy = ly - view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L393&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;393&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC393&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L394&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;394&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC394&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface_state *state = &amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;surface&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;current&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L395&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;395&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC395&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_box box = {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L396&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;396&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC396&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;, .&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L397&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;397&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC397&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;width&lt;/span&gt; = state-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;width&lt;/span&gt;, .&lt;span class=&quot;pl-smi&quot;&gt;height&lt;/span&gt; = state-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;height&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L398&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;398&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC398&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L399&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;399&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC399&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L400&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;400&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC400&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; _sx, _sy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L401&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;401&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC401&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface *_surface = &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L402&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;402&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC402&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;_surface = &lt;span class=&quot;pl-c1&quot;&gt;wlr_xdg_surface_surface_at&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td id=&quot;file-tinywl-c-L403&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;403&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC403&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;, view_sx, view_sy, &amp;amp;_sx, &amp;amp;_sy);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L404&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;404&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC404&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L405&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;405&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC405&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (_surface != &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L406&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;406&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC406&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;*sx = _sx;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L407&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;407&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC407&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;*sy = _sy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L408&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;408&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC408&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;*surface = _surface;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L409&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;409&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC409&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L410&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;410&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC410&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L411&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;411&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC411&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L412&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;412&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC412&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;false&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L413&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;413&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC413&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L414&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;414&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC414&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L415&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;415&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC415&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *&lt;span class=&quot;pl-en&quot;&gt;desktop_view_at&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L416&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;416&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC416&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server, &lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; lx, &lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; ly,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L417&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;417&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC417&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface **surface, &lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; *sx, &lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; *sy) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L418&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;418&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC418&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This iterates over all of our surfaces and attempts to find one under the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L419&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;419&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC419&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* cursor. This relies on server-&amp;gt;views being ordered from top-to-bottom. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L420&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;420&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC420&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L421&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;421&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC421&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_for_each&lt;/span&gt;(view, &amp;amp;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;views&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;7&quot;&gt;&lt;td id=&quot;file-tinywl-c-L422&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;422&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC422&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot;&gt;view_at&lt;/span&gt;(view, lx, ly, surface, sx, sy)) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L423&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;423&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC423&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; view;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L424&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;424&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC424&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L425&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;425&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC425&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L426&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;426&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC426&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L427&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;427&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC427&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L428&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;428&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC428&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L429&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;429&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC429&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;process_cursor_move&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server, &lt;span class=&quot;pl-c1&quot;&gt;uint32_t&lt;/span&gt; time) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L430&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;430&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC430&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Move the grabbed view to the new position. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L431&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;431&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC431&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grabbed_view&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; - server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_x&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L432&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;432&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC432&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grabbed_view&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; - server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_y&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L433&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;433&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC433&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L434&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;434&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC434&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L435&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;435&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC435&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;process_cursor_resize&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server, &lt;span class=&quot;pl-c1&quot;&gt;uint32_t&lt;/span&gt; time) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L436&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;436&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC436&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L437&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;437&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC437&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Resizing the grabbed view can be a little bit complicated, because we&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L438&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;438&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC438&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* could be resizing from any corner or edge. This not only resizes the view&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L439&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;439&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC439&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* on one or two axes, but can also move the view if you resize from the top&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L440&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;440&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC440&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* or left edges (or top-left corner).&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L441&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;441&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC441&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L442&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;442&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC442&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Note that I took some shortcuts here. In a more fleshed-out compositor,&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L443&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;443&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC443&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* you'd wait for the client to prepare a buffer at the new size, then&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L444&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;444&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC444&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* commit any movement that was prepared.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L445&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;445&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC445&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L446&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;446&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC446&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grabbed_view&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L447&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;447&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC447&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; dx = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; - server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_x&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L448&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;448&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC448&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; dy = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; - server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_y&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L449&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;449&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC449&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; x = view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L450&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;450&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC450&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; y = view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L451&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;451&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC451&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; width = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_width&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L452&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;452&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC452&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; height = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_height&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L453&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;453&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC453&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;resize_edges&lt;/span&gt; &amp;amp; WLR_EDGE_TOP) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L454&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;454&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC454&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;y = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_y&lt;/span&gt; + dy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L455&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;455&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC455&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;height -= dy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L456&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;456&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC456&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (height &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L457&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;457&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC457&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;y += height;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L458&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;458&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC458&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L459&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;459&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC459&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;} &lt;span class=&quot;pl-k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;resize_edges&lt;/span&gt; &amp;amp; WLR_EDGE_BOTTOM) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L460&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;460&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC460&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;height += dy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L461&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;461&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC461&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L462&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;462&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC462&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;resize_edges&lt;/span&gt; &amp;amp; WLR_EDGE_LEFT) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L463&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;463&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC463&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;x = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_x&lt;/span&gt; + dx;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L464&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;464&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC464&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;width -= dx;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L465&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;465&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC465&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (width &amp;lt; &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L466&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;466&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC466&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;x += width;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L467&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;467&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC467&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L468&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;468&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC468&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;} &lt;span class=&quot;pl-k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;resize_edges&lt;/span&gt; &amp;amp; WLR_EDGE_RIGHT) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L469&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;469&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC469&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;width += dx;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L470&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;470&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC470&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L471&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;471&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC471&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; = x;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L472&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;472&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC472&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; = y;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L473&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;473&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC473&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_xdg_toplevel_set_size&lt;/span&gt;(view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;, width, height);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L474&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;474&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC474&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L475&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;475&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC475&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L476&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;476&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC476&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;process_cursor_motion&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server, &lt;span class=&quot;pl-c1&quot;&gt;uint32_t&lt;/span&gt; time) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L477&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;477&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC477&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; If the mode is non-passthrough, delegate to those functions. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L478&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;478&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC478&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor_mode&lt;/span&gt; == TINYWL_CURSOR_MOVE) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L479&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;479&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC479&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;process_cursor_move&lt;/span&gt;(server, &lt;span class=&quot;pl-c1&quot;&gt;time&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L480&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;480&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC480&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L481&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;481&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC481&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;} &lt;span class=&quot;pl-k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor_mode&lt;/span&gt; == TINYWL_CURSOR_RESIZE) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L482&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;482&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC482&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;process_cursor_resize&lt;/span&gt;(server, &lt;span class=&quot;pl-c1&quot;&gt;time&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L483&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;483&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC483&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L484&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;484&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC484&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L485&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;485&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC485&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L486&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;486&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC486&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Otherwise, find the view under the pointer and send the event along. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L487&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;487&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC487&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; sx, sy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L488&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;488&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC488&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_seat *seat = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L489&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;489&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC489&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface *surface = &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L490&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;490&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC490&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = &lt;span class=&quot;pl-c1&quot;&gt;desktop_view_at&lt;/span&gt;(server,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td id=&quot;file-tinywl-c-L491&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;491&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC491&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt;, server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt;, &amp;amp;surface, &amp;amp;sx, &amp;amp;sy);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L492&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;492&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC492&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!view) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L493&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;493&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC493&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; If there's no view under the cursor, set the cursor image to a&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L494&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;494&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC494&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* default. This is what makes the cursor image appear when you move it&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L495&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;495&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC495&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* around the screen, not over any views. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L496&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;496&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC496&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_xcursor_manager_set_cursor_image&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L497&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;497&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC497&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor_mgr&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;left_ptr&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L498&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;498&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC498&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L499&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;499&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC499&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (surface) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L500&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;500&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC500&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;bool&lt;/span&gt; focus_changed = seat-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;pointer_state&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;focused_surface&lt;/span&gt; != surface;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L501&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;501&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC501&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L502&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;502&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC502&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* &quot;Enter&quot; the surface if necessary. This lets the client know that the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L503&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;503&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC503&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* cursor has entered one of its surfaces.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L504&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;504&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC504&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L505&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;505&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC505&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Note that this gives the surface &quot;pointer focus&quot;, which is distinct&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L506&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;506&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC506&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* from keyboard focus. You get pointer focus by moving the pointer over&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L507&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;507&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC507&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* a window.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L508&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;508&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC508&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L509&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;509&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC509&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_pointer_notify_enter&lt;/span&gt;(seat, surface, sx, sy);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L510&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;510&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC510&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!focus_changed) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L511&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;511&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC511&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; The enter event contains coordinates, so we only need to notify&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L512&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;512&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC512&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* on motion if the focus did not change. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L513&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;513&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC513&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_pointer_notify_motion&lt;/span&gt;(seat, &lt;span class=&quot;pl-c1&quot;&gt;time&lt;/span&gt;, sx, sy);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L514&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;514&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC514&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L515&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;515&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC515&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;} &lt;span class=&quot;pl-k&quot;&gt;else&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L516&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;516&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC516&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Clear pointer focus so future button events and such are not sent to&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L517&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;517&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC517&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* the last client to have the cursor over it. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L518&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;518&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC518&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_pointer_clear_focus&lt;/span&gt;(seat);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L519&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;519&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC519&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L520&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;520&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC520&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L521&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;521&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC521&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L522&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;522&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC522&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_cursor_motion&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L523&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;523&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC523&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is forwarded by the cursor when a pointer emits a _relative_&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L524&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;524&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC524&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* pointer motion event (i.e. a delta) &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L525&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;525&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC525&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L526&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;526&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC526&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, server, cursor_motion);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L527&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;527&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC527&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_event_pointer_motion *event = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L528&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;528&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC528&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; The cursor doesn't move unless we tell it to. The cursor automatically&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L529&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;529&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC529&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* handles constraining the motion to the output layout, as well as any&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L530&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;530&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC530&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* special configuration applied for the specific input device which&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L531&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;531&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC531&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* generated the event. You can pass NULL for the device if you want to move&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L532&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;532&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC532&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* the cursor around without any input. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L533&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;533&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC533&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_cursor_move&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;device&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L534&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;534&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC534&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;delta_x&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;delta_y&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L535&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;535&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC535&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;process_cursor_motion&lt;/span&gt;(server, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;time_msec&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L536&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;536&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC536&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L537&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;537&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC537&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L538&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;538&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC538&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_cursor_motion_absolute&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L539&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;539&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC539&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L540&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;540&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC540&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is forwarded by the cursor when a pointer emits an _absolute_&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L541&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;541&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC541&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* motion event, from 0..1 on each axis. This happens, for example, when&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L542&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;542&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC542&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* wlroots is running under a Wayland window rather than KMS+DRM, and you&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L543&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;543&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC543&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* move the mouse over the window. You could enter the window from any edge,&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L544&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;544&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC544&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* so we have to warp the mouse there. There is also some hardware which&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L545&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;545&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC545&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* emits these events. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L546&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;546&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC546&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L547&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;547&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC547&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, server, cursor_motion_absolute);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L548&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;548&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC548&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_event_pointer_motion_absolute *event = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L549&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;549&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC549&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_cursor_warp_absolute&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;device&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L550&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;550&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC550&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;process_cursor_motion&lt;/span&gt;(server, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;time_msec&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L551&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;551&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC551&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L552&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;552&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC552&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L553&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;553&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC553&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_cursor_button&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L554&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;554&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC554&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is forwarded by the cursor when a pointer emits a button&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L555&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;555&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC555&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* event. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L556&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;556&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC556&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L557&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;557&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC557&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, server, cursor_button);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L558&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;558&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC558&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_event_pointer_button *event = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L559&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;559&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC559&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Notify the client with pointer focus that a button press has occured &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L560&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;560&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC560&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_pointer_notify_button&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L561&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;561&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC561&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;time_msec&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;button&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;state&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L562&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;562&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC562&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;state&lt;/span&gt; == WLR_BUTTON_RELEASED) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L563&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;563&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC563&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; If you released any buttons, we exit interactive move/resize mode. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L564&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;564&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC564&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor_mode&lt;/span&gt; = TINYWL_CURSOR_PASSTHROUGH;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L565&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;565&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC565&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;} &lt;span class=&quot;pl-k&quot;&gt;else&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L566&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;566&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC566&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Focus that client if the button was _pressed_ &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L567&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;567&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC567&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; sx, sy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L568&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;568&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC568&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_seat *seat = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L569&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;569&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC569&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface *surface;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L570&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;570&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC570&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = &lt;span class=&quot;pl-c1&quot;&gt;desktop_view_at&lt;/span&gt;(server,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td id=&quot;file-tinywl-c-L571&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;571&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC571&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt;, server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt;, &amp;amp;surface, &amp;amp;sx, &amp;amp;sy);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L572&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;572&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC572&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;focus_view&lt;/span&gt;(view, surface);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L573&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;573&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC573&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L574&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;574&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC574&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L575&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;575&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC575&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L576&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;576&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC576&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_cursor_axis&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L577&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;577&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC577&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is forwarded by the cursor when a pointer emits an axis event,&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L578&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;578&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC578&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* for example when you move the scroll wheel. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L579&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;579&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC579&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L580&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;580&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC580&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, server, cursor_axis);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L581&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;581&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC581&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_event_pointer_axis *event = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L582&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;582&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC582&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Notify the client with pointer focus of the axis event. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L583&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;583&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC583&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_pointer_notify_axis&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L584&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;584&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC584&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;time_msec&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;orientation&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;delta&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L585&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;585&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC585&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;delta_discrete&lt;/span&gt;, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;source&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L586&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;586&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC586&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L587&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;587&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC587&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L588&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;588&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC588&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Used to move all of the data necessary to render a surface from the top-level&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L589&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;589&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC589&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* frame handler to the per-surface render function. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L590&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;590&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC590&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; render_data {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L591&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;591&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC591&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_output *output;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L592&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;592&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC592&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_renderer *renderer;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L593&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;593&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC593&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L594&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;594&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC594&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;timespec&lt;/span&gt; *when;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L595&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;595&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC595&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L596&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;596&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC596&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L597&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;597&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC597&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;render_surface&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface *surface,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L598&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;598&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC598&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; sx, &lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; sy, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L599&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;599&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC599&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This function is called for every surface that needs to be rendered. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L600&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;600&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC600&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; render_data *rdata = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L601&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;601&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC601&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = rdata-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;view&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L602&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;602&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC602&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_output *output = rdata-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;output&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L603&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;603&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC603&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L604&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;604&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC604&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; We first obtain a wlr_texture, which is a GPU resource. wlroots&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L605&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;605&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC605&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* automatically handles negotiating these with the client. The underlying&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L606&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;606&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC606&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* resource could be an opaque handle passed from the client, or the client&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L607&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;607&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC607&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* could have sent a pixel buffer which we copied to the GPU, or a few other&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L608&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;608&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC608&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* means. You don't have to worry about this, wlroots takes care of it. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L609&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;609&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC609&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_texture *texture = &lt;span class=&quot;pl-c1&quot;&gt;wlr_surface_get_texture&lt;/span&gt;(surface);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L610&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;610&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC610&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (texture == &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L611&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;611&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC611&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L612&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;612&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC612&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L613&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;613&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC613&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L614&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;614&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC614&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; The view has a position in layout coordinates. If you have two displays,&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L615&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;615&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC615&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* one next to the other, both 1080p, a view on the rightmost display might&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L616&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;616&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC616&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* have layout coordinates of 2000,100. We need to translate that to&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L617&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;617&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC617&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* output-local coordinates, or (2000 - 1920). &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L618&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;618&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC618&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;double&lt;/span&gt; ox = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;, oy = &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L619&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;619&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC619&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_output_layout_output_coords&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L620&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;620&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC620&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;output_layout&lt;/span&gt;, output, &amp;amp;ox, &amp;amp;oy);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L621&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;621&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC621&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;ox += view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; + sx, oy += view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; + sy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L622&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;622&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC622&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L623&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;623&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC623&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; We also have to apply the scale factor for HiDPI outputs. This is only&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L624&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;624&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC624&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* part of the puzzle, TinyWL does not fully support HiDPI. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L625&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;625&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC625&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_box box = {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L626&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;626&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC626&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; = ox * output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;scale&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L627&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;627&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC627&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; = oy * output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;scale&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L628&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;628&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC628&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;width&lt;/span&gt; = surface-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;current&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;width&lt;/span&gt; * output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;scale&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L629&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;629&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC629&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;height&lt;/span&gt; = surface-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;current&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;height&lt;/span&gt; * output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;scale&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L630&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;630&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC630&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L631&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;631&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC631&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L632&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;632&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC632&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L633&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;633&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC633&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Those familiar with OpenGL are also familiar with the role of matricies&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L634&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;634&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC634&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* in graphics programming. We need to prepare a matrix to render the view&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L635&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;635&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC635&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* with. wlr_matrix_project_box is a helper which takes a box with a desired&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td id=&quot;file-tinywl-c-L636&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;636&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC636&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* x, y coodrinates, width and height, and an output geometry, then&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L637&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;637&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC637&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* prepares an orthographic projection and multiplies the necessary&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L638&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;638&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC638&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* transforms to produce a model-view-projection matrix.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L639&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;639&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC639&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L640&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;640&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC640&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Naturally you can do this any way you like, for example to make a 3D&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L641&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;641&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC641&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* compositor.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L642&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;642&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC642&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L643&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;643&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC643&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;float&lt;/span&gt; matrix[&lt;span class=&quot;pl-c1&quot;&gt;9&lt;/span&gt;];&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L644&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;644&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC644&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;enum&lt;/span&gt; wl_output_transform transform =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L645&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;645&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC645&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_output_transform_invert&lt;/span&gt;(surface-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;current&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;transform&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td id=&quot;file-tinywl-c-L646&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;646&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC646&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_matrix_project_box&lt;/span&gt;(matrix, &amp;amp;box, transform, &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L647&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;647&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC647&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;transform_matrix&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L648&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;648&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC648&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L649&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;649&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC649&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This takes our matrix, the texture, and an alpha, and performs the actual&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L650&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;650&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC650&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* rendering on the GPU. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L651&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;651&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC651&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_render_texture_with_matrix&lt;/span&gt;(rdata-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;renderer&lt;/span&gt;, texture, matrix, &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L652&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;652&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC652&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L653&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;653&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC653&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This lets the client know that we've displayed that frame and it can&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L654&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;654&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC654&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* prepare another one now if it likes. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L655&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;655&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC655&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_surface_send_frame_done&lt;/span&gt;(surface, rdata-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;when&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L656&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;656&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC656&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L657&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;657&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC657&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L658&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;658&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC658&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;output_frame&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L659&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;659&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC659&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This function is called every time an output is ready to display a frame,&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L660&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;660&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC660&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* generally at the output's refresh rate (e.g. 60Hz). &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L661&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;661&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC661&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_output *output =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L662&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;662&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC662&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, output, frame);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L663&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;663&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC663&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_renderer *renderer = output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;renderer&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L664&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;664&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC664&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L665&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;665&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC665&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;timespec&lt;/span&gt; now;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L666&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;666&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC666&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;clock_gettime&lt;/span&gt;(CLOCK_MONOTONIC, &amp;amp;now);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L667&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;667&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC667&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L668&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;668&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC668&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; wlr_output_make_current makes the OpenGL context current. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L669&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;669&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC669&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;wlr_output_make_current&lt;/span&gt;(output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;wlr_output&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;)) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L670&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;670&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC670&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L671&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;671&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC671&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L672&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;672&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC672&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; The &quot;effective&quot; resolution can change if you rotate your outputs. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L673&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;673&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC673&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; width, height;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L674&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;674&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC674&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_output_effective_resolution&lt;/span&gt;(output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;wlr_output&lt;/span&gt;, &amp;amp;width, &amp;amp;height);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L675&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;675&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC675&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Begin the renderer (calls glViewport and some other GL sanity checks) &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L676&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;676&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC676&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_renderer_begin&lt;/span&gt;(renderer, width, height);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L677&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;677&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC677&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L678&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;678&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC678&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;float&lt;/span&gt; color[&lt;span class=&quot;pl-c1&quot;&gt;4&lt;/span&gt;] = {&lt;span class=&quot;pl-c1&quot;&gt;0.3&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;0.3&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;0.3&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;1.0&lt;/span&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L679&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;679&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC679&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_renderer_clear&lt;/span&gt;(renderer, color);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L680&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;680&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC680&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L681&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;681&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC681&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Each subsequent window we render is rendered on top of the last. Because&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L682&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;682&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC682&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* our view list is ordered front-to-back, we iterate over it backwards. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L683&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;683&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC683&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L684&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;684&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC684&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_for_each_reverse&lt;/span&gt;(view, &amp;amp;output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;views&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L685&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;685&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC685&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;mapped&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L686&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;686&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC686&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; An unmapped view should not be rendered. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L687&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;687&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC687&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;continue&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L688&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;688&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC688&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L689&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;689&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC689&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; render_data rdata = {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L690&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;690&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC690&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;output&lt;/span&gt; = output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;wlr_output&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L691&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;691&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC691&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;view&lt;/span&gt; = view,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L692&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;692&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC692&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;renderer&lt;/span&gt; = renderer,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L693&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;693&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC693&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;.&lt;span class=&quot;pl-smi&quot;&gt;when&lt;/span&gt; = &amp;amp;now,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L694&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;694&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC694&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L695&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;695&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC695&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This calls our render_surface function for each surface among the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L696&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;696&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC696&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* xdg_surface's toplevel and popups. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L697&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;697&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC697&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_xdg_surface_for_each_surface&lt;/span&gt;(view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L698&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;698&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC698&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;render_surface, &amp;amp;rdata);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L699&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;699&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC699&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L700&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;700&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC700&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L701&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;701&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC701&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Conclude rendering and swap the buffers, showing the final frame&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L702&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;702&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC702&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* on-screen. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L703&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;703&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC703&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_renderer_end&lt;/span&gt;(renderer);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L704&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;704&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC704&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_output_swap_buffers&lt;/span&gt;(output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;wlr_output&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L705&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;705&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC705&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L706&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;706&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC706&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L707&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;707&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC707&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_new_output&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L708&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;708&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC708&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is rasied by the backend when a new output (aka a display or&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L709&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;709&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC709&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* monitor) becomes available. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L710&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;710&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC710&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L711&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;711&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC711&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, server, new_output);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L712&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;712&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC712&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_output *wlr_output = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L713&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;713&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC713&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L714&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;714&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC714&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Some backends don't have modes. DRM+KMS does, and we need to set a mode&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L715&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;715&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC715&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* before we can use the output. The mode is a tuple of (width, height,&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L716&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;716&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC716&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* refresh rate), and each monitor supports only a specific set of modes. We&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L717&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;717&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC717&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* just pick the first, a more sophisticated compositor would let the user&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L718&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;718&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC718&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* configure it or pick the mode the display advertises as preferred. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L719&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;719&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC719&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;wl_list_empty&lt;/span&gt;(&amp;amp;wlr_output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;modes&lt;/span&gt;)) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L720&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;720&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC720&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_output_mode *mode =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L721&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;721&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC721&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(wlr_output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;modes&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;prev&lt;/span&gt;, mode, &lt;span class=&quot;pl-c1&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L722&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;722&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC722&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_output_set_mode&lt;/span&gt;(wlr_output, mode);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L723&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;723&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC723&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L724&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;724&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC724&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L725&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;725&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC725&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Allocates and configures our state for this output &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L726&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;726&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC726&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_output *output =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L727&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;727&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC727&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;calloc&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;pl-k&quot;&gt;sizeof&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_output));&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L728&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;728&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC728&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;wlr_output&lt;/span&gt; = wlr_output;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L729&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;729&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC729&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt; = server;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L730&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;730&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC730&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Sets up a listener for the frame notify event. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L731&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;731&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC731&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;frame&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = output_frame;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L732&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;732&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC732&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;wlr_output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;frame&lt;/span&gt;, &amp;amp;output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;frame&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L733&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;733&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC733&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_insert&lt;/span&gt;(&amp;amp;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;outputs&lt;/span&gt;, &amp;amp;output-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L734&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;734&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC734&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L735&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;735&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC735&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Adds this to the output layout. The add_auto function arranges outputs&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L736&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;736&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC736&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* from left-to-right in the order they appear. A more sophisticated&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L737&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;737&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC737&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* compositor would let the user configure the arrangement of outputs in the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L738&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;738&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC738&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* layout. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L739&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;739&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC739&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_output_layout_add_auto&lt;/span&gt;(server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;output_layout&lt;/span&gt;, wlr_output);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L740&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;740&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC740&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L741&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;741&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC741&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Creating the global adds a wl_output global to the display, which Wayland&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L742&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;742&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC742&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* clients can see to find out information about the output (such as&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;5&quot;&gt;&lt;td id=&quot;file-tinywl-c-L743&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;743&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC743&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* DPI, scale factor, manufacturer, etc). &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L744&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;744&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC744&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_output_create_global&lt;/span&gt;(wlr_output);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L745&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;745&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC745&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L746&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;746&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC746&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L747&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;747&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC747&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;xdg_surface_map&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L748&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;748&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC748&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Called when the surface is mapped, or ready to display on-screen. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L749&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;749&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC749&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = &lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, view, map);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L750&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;750&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC750&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;mapped&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L751&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;751&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC751&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;focus_view&lt;/span&gt;(view, view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;surface&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L752&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;752&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC752&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L753&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;753&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC753&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L754&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;754&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC754&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;xdg_surface_unmap&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L755&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;755&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC755&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Called when the surface is unmapped, and should no longer be shown. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L756&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;756&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC756&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = &lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, view, unmap);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L757&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;757&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC757&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;mapped&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;false&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L758&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;758&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC758&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L759&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;759&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC759&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L760&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;760&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC760&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;xdg_surface_destroy&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L761&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;761&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC761&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Called when the surface is destroyed and should never be shown again. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L762&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;762&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC762&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = &lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, view, destroy);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L763&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;763&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC763&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_remove&lt;/span&gt;(&amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L764&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;764&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC764&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;free&lt;/span&gt;(view);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L765&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;765&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC765&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L766&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;766&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC766&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L767&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;767&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC767&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;begin_interactive&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L768&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;768&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC768&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;enum&lt;/span&gt; tinywl_cursor_mode mode, &lt;span class=&quot;pl-c1&quot;&gt;uint32_t&lt;/span&gt; edges) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L769&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;769&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC769&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This function sets up an interactive move or resize operation, where the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L770&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;770&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC770&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* compositor stops propegating pointer events to clients and instead&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L771&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;771&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC771&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* consumes them itself, to move or resize windows. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L772&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;772&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC772&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server = view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L773&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;773&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC773&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_surface *focused_surface =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L774&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;774&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC774&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;pointer_state&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;focused_surface&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L775&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;775&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC775&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;surface&lt;/span&gt; != focused_surface) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L776&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;776&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC776&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Deny move/resize requests from unfocused clients. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L777&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;777&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC777&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L778&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;778&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC778&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L779&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;779&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC779&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grabbed_view&lt;/span&gt; = view;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L780&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;780&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC780&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor_mode&lt;/span&gt; = mode;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L781&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;781&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC781&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_box geo_box;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L782&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;782&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC782&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_xdg_surface_get_geometry&lt;/span&gt;(view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt;, &amp;amp;geo_box);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L783&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;783&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC783&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (mode == TINYWL_CURSOR_MOVE) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L784&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;784&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC784&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_x&lt;/span&gt; = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; - view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L785&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;785&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC785&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_y&lt;/span&gt; = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; - view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L786&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;786&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC786&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;} &lt;span class=&quot;pl-k&quot;&gt;else&lt;/span&gt; {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L787&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;787&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC787&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_x&lt;/span&gt; = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt; + geo_box.&lt;span class=&quot;pl-smi&quot;&gt;x&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L788&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;788&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC788&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_y&lt;/span&gt; = server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt; + geo_box.&lt;span class=&quot;pl-smi&quot;&gt;y&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L789&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;789&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC789&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L790&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;790&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC790&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_width&lt;/span&gt; = geo_box.&lt;span class=&quot;pl-smi&quot;&gt;width&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L791&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;791&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC791&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;grab_height&lt;/span&gt; = geo_box.&lt;span class=&quot;pl-smi&quot;&gt;height&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L792&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;792&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC792&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;resize_edges&lt;/span&gt; = edges;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L793&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;793&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC793&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L794&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;794&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC794&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L795&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;795&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC795&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;xdg_toplevel_request_move&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L796&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;796&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC796&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L797&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;797&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC797&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is raised when a client would like to begin an interactive&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L798&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;798&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC798&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* move, typically because the user clicked on their client-side&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L799&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;799&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC799&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* decorations. Note that a more sophisticated compositor should check the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L800&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;800&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC800&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* provied serial against a list of button press serials sent to this&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L801&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;801&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC801&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* client, to prevent the client from requesting this whenver they want. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L802&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;802&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC802&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = &lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, view, request_move);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L803&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;803&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC803&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;begin_interactive&lt;/span&gt;(view, TINYWL_CURSOR_MOVE, &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L804&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;804&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC804&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L805&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;805&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC805&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L806&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;806&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC806&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;xdg_toplevel_request_resize&lt;/span&gt;(&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L807&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;807&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC807&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L808&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;808&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC808&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is raised when a client would like to begin an interactive&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L809&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;809&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC809&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* resize, typically because the user clicked on their client-side&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L810&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;810&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC810&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* decorations. Note that a more sophisticated compositor should check the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L811&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;811&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC811&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* provied serial against a list of button press serials sent to this&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L812&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;812&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC812&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* client, to prevent the client from requesting this whenver they want. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L813&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;813&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC813&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_xdg_toplevel_resize_event *event = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L814&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;814&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC814&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view = &lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, view, request_resize);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L815&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;815&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC815&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;begin_interactive&lt;/span&gt;(view, TINYWL_CURSOR_RESIZE, event-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;edges&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L816&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;816&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC816&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L817&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;817&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC817&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L818&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;818&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC818&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;server_new_xdg_surface&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wl_listener *listener, &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *data) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L819&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;819&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC819&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This event is raised when wlr_xdg_shell receives a new xdg surface from a&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L820&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;820&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC820&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* client, either a toplevel (application window) or popup. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L821&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;821&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC821&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server *server =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L822&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;822&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC822&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_container_of&lt;/span&gt;(listener, server, new_xdg_surface);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L823&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;823&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC823&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_xdg_surface *xdg_surface = data;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L824&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;824&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC824&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (xdg_surface-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;role&lt;/span&gt; != WLR_XDG_SURFACE_ROLE_TOPLEVEL) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L825&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;825&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC825&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L826&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;826&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC826&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L827&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;827&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC827&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L828&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;828&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC828&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Allocate a tinywl_view for this surface &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L829&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;829&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC829&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view *view =&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L830&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;830&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC830&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;calloc&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;pl-k&quot;&gt;sizeof&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_view));&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L831&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;831&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC831&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;server&lt;/span&gt; = server;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L832&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;832&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC832&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;xdg_surface&lt;/span&gt; = xdg_surface;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L833&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;833&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC833&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L834&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;834&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC834&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Listen to the various events it can emit &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L835&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;835&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC835&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;map&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = xdg_surface_map;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L836&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;836&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC836&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;xdg_surface-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;map&lt;/span&gt;, &amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;map&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L837&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;837&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC837&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;unmap&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = xdg_surface_unmap;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L838&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;838&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC838&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;xdg_surface-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;unmap&lt;/span&gt;, &amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;unmap&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L839&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;839&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC839&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;destroy&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = xdg_surface_destroy;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L840&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;840&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC840&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;xdg_surface-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;destroy&lt;/span&gt;, &amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;destroy&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L841&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;841&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC841&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; cotd &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L842&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;842&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC842&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; wlr_xdg_toplevel *toplevel = xdg_surface-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;toplevel&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L843&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;843&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC843&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;request_move&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = xdg_toplevel_request_move;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L844&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;844&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC844&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;toplevel-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;request_move&lt;/span&gt;, &amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;request_move&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L845&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;845&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC845&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;request_resize&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = xdg_toplevel_request_resize;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L846&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;846&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC846&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;toplevel-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;request_resize&lt;/span&gt;, &amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;request_resize&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L847&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;847&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC847&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L848&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;848&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC848&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Add it to the list of views. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L849&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;849&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC849&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_insert&lt;/span&gt;(&amp;amp;server-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;views&lt;/span&gt;, &amp;amp;view-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;link&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L850&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;850&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC850&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L851&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;851&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC851&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L852&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;852&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC852&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt; *argv[]) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L853&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;853&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC853&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_log_init&lt;/span&gt;(WLR_DEBUG, &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L854&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;854&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC854&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt; *startup_cmd = &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L855&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;855&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC855&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L856&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;856&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC856&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;int&lt;/span&gt; c;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L857&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;857&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC857&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;while&lt;/span&gt; ((c = &lt;span class=&quot;pl-c1&quot;&gt;getopt&lt;/span&gt;(argc, argv, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;s:h&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;)) != -&lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L858&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;858&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC858&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;switch&lt;/span&gt; (c) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L859&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;859&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC859&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;s&lt;span class=&quot;pl-pds&quot;&gt;'&lt;/span&gt;&lt;/span&gt;:&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L860&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;860&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC860&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;startup_cmd = &lt;span class=&quot;pl-c1&quot;&gt;optarg&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L861&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;861&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC861&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;break&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L862&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;862&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC862&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;default&lt;/span&gt;:&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L863&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;863&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC863&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Usage: &lt;span class=&quot;pl-c1&quot;&gt;%s&lt;/span&gt; [-s startup command]&lt;span class=&quot;pl-cce&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, argv[&lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;]);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L864&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;864&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC864&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L865&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;865&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC865&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L866&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;866&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC866&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L867&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;867&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC867&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot;&gt;optind&lt;/span&gt; &amp;lt; argc) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L868&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;868&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC868&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;Usage: &lt;span class=&quot;pl-c1&quot;&gt;%s&lt;/span&gt; [-s startup command]&lt;span class=&quot;pl-cce&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, argv[&lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;]);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L869&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;869&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC869&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L870&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;870&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC870&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L871&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;871&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC871&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L872&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;872&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC872&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;struct&lt;/span&gt; tinywl_server server;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L873&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;873&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC873&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; The Wayland display is managed by libwayland. It handles accepting&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L874&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;874&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC874&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* clients from the Unix socket, manging Wayland globals, and so on. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L875&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;875&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC875&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;wl_display_create&lt;/span&gt;();&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L876&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;876&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC876&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; The backend is a wlroots feature which abstracts the underlying input and&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L877&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;877&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC877&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* output hardware. The autocreate option will choose the most suitable&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L878&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;878&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC878&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* backend based on the current environment, such as opening an X11 window&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L879&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;879&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC879&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* if an X11 server is running. The NULL argument here optionally allows you&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L880&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;880&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC880&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* to pass in a custom renderer if wlr_renderer doesn't meet your needs. The&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L881&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;881&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC881&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* backend uses the renderer, for example, to fall back to software cursors&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L882&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;882&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC882&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* if the backend does not support hardware cursors (some older GPUs&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L883&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;883&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC883&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* don't). &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L884&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;884&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC884&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;backend&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;wlr_backend_autocreate&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L885&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;885&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC885&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L886&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;886&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC886&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; If we don't provide a renderer, autocreate makes a GLES2 renderer for us.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L887&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;887&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC887&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* The renderer is responsible for defining the various pixel formats it&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L888&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;888&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC888&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* supports for shared memory, this configures that for clients. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L889&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;889&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC889&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;renderer&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;wlr_backend_get_renderer&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;backend&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L890&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;890&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC890&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_renderer_init_wl_display&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;renderer&lt;/span&gt;, server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L891&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;891&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC891&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L892&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;892&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC892&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; This creates some hands-off wlroots interfaces. The compositor is&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L893&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;893&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC893&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* necessary for clients to allocate surfaces, dmabuf allows them to use&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L894&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;894&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC894&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* opaque GPU handles for buffers to avoid copying pixels on the CPU, and&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L895&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;895&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC895&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* the data device manager handles the clipboard. Each of these wlroots&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L896&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;896&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC896&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* interfaces has room for you to dig your fingers in and play with their&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L897&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;897&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC897&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* behavior if you want. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L898&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;898&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC898&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_compositor_create&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;, server.&lt;span class=&quot;pl-smi&quot;&gt;renderer&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L899&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;899&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC899&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_linux_dmabuf_v1_create&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;, server.&lt;span class=&quot;pl-smi&quot;&gt;renderer&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L900&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;900&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC900&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_data_device_manager_create&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L901&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;901&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC901&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L902&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;902&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC902&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Creates an output layout, which a wlroots utility for working with an&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L903&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;903&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC903&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* arrangement of screens in a physical layout. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L904&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;904&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC904&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;output_layout&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;wlr_output_layout_create&lt;/span&gt;();&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L905&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;905&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC905&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L906&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;906&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC906&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Configure a listener to be notified when new outputs are available on the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L907&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;907&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC907&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* backend. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L908&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;908&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC908&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_init&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;outputs&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L909&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;909&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC909&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;new_output&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = server_new_output;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L910&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;910&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC910&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;backend&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;new_output&lt;/span&gt;, &amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;new_output&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L911&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;911&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC911&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L912&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;912&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC912&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Set up our list of views and the xdg-shell. The xdg-shell is a Wayland&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L913&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;913&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC913&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* protocol which is used for application windows. For more detail on&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L914&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;914&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC914&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* shells, refer to my article:&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L915&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;915&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC915&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L916&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;916&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC916&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* https://drewdevault.com/2018/07/29/Wayland-shells.html&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L917&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;917&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC917&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L918&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;918&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC918&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_init&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;views&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L919&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;919&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC919&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;xdg_shell&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;wlr_xdg_shell_create&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L920&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;920&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC920&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;new_xdg_surface&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = server_new_xdg_surface;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L921&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;921&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC921&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;xdg_shell&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;new_surface&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L922&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;922&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC922&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;new_xdg_surface&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L923&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;923&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC923&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L924&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;924&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC924&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L925&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;925&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC925&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Creates a cursor, which is a wlroots utility for tracking the cursor&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L926&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;926&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC926&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* image shown on screen.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L927&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;927&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC927&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L928&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;928&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC928&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;wlr_cursor_create&lt;/span&gt;();&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L929&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;929&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC929&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_cursor_attach_output_layout&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;, server.&lt;span class=&quot;pl-smi&quot;&gt;output_layout&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L930&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;930&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC930&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L931&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;931&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC931&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Creates an xcursor manager, another wlroots utility which loads up&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L932&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;932&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC932&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Xcursor themes to source cursor images from and makes sure that cursor&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L933&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;933&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC933&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* images are available at all scale factors on the screen (necessary for&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L934&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;934&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC934&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* HiDPI support). We add a cursor theme at scale factor 1 to begin with. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L935&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;935&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC935&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_mgr&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;wlr_xcursor_manager_create&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;24&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L936&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;936&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC936&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_xcursor_manager_load&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_mgr&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L937&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;937&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC937&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L938&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;938&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC938&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L939&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;939&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC939&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* wlr_cursor *only* displays an image on screen. It does not move around&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L940&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;940&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC940&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* when the pointer moves. However, we can attach input devices to it, and&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L941&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;941&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC941&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* it will generate aggregate events for all of them. In these events, we&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L942&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;942&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC942&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* can choose how we want to process them, forwarding them to clients and&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L943&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;943&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC943&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* moving the cursor around. More detail on this process is described in my&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L944&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;944&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC944&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* input handling blog post:&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L945&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;945&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC945&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L946&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;946&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC946&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* https://drewdevault.com/2018/07/17/Input-handling-in-wlroots.html&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L947&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;947&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC947&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L948&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;948&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC948&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* And more comments are sprinkled throughout the notify functions above.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L949&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;949&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC949&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L950&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;950&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC950&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_motion&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = server_cursor_motion;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L951&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;951&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC951&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;motion&lt;/span&gt;, &amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_motion&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L952&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;952&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC952&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_motion_absolute&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = server_cursor_motion_absolute;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L953&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;953&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC953&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;motion_absolute&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L954&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;954&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC954&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_motion_absolute&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L955&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;955&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC955&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_button&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = server_cursor_button;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L956&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;956&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC956&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;button&lt;/span&gt;, &amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_button&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L957&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;957&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC957&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_axis&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = server_cursor_axis;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L958&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;958&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC958&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;axis&lt;/span&gt;, &amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;cursor_axis&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L959&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;959&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC959&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L960&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;960&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC960&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L961&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;961&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC961&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* Configures a seat, which is a single &quot;seat&quot; at which a user sits and&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L962&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;962&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC962&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* operates the computer. This conceptually includes up to one keyboard,&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L963&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;963&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC963&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* pointer, touch, and drawing tablet device. We also rig up a listener to&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L964&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;964&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC964&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* let us know when new input devices are available on the backend.&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L965&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;965&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC965&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L966&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;966&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC966&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_list_init&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;keyboards&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L967&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;967&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC967&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;new_input&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = server_new_input;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L968&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;968&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC968&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;backend&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;new_input&lt;/span&gt;, &amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;new_input&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L969&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;969&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC969&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;wlr_seat_create&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;seat0&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L970&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;970&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC970&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;server.&lt;span class=&quot;pl-smi&quot;&gt;request_cursor&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;notify&lt;/span&gt; = seat_request_cursor;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L971&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;971&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC971&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_signal_add&lt;/span&gt;(&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;seat&lt;/span&gt;-&amp;gt;&lt;span class=&quot;pl-smi&quot;&gt;events&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;request_set_cursor&lt;/span&gt;,&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L972&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;972&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC972&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&amp;amp;server.&lt;span class=&quot;pl-smi&quot;&gt;request_cursor&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L973&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;973&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC973&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L974&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;974&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC974&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Add a Unix socket to the Wayland display. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L975&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;975&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC975&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;char&lt;/span&gt; *socket = &lt;span class=&quot;pl-c1&quot;&gt;wl_display_add_socket_auto&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L976&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;976&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC976&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!socket) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L977&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;977&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC977&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_backend_destroy&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;backend&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L978&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;978&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC978&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L979&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;979&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC979&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L980&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;980&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC980&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L981&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;981&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC981&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Start the backend. This will enumerate outputs and inputs, become the DRM&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L982&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;982&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC982&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* master, etc &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L983&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;983&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC983&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;pl-c1&quot;&gt;wlr_backend_start&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;backend&lt;/span&gt;)) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L984&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;984&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC984&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wlr_backend_destroy&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;backend&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L985&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;985&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC985&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_display_destroy&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L986&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;986&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC986&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L987&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;987&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC987&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L988&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;988&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC988&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L989&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;989&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC989&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Set the WAYLAND_DISPLAY environment variable to our socket and run the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L990&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;990&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC990&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* startup command if requested. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L991&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;991&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC991&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;setenv&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;WAYLAND_DISPLAY&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, socket, &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L992&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;992&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC992&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (startup_cmd) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L993&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;993&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC993&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot;&gt;fork&lt;/span&gt;() == &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;) {&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td id=&quot;file-tinywl-c-L994&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;994&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC994&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;execl&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;/bin/sh&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;/bin/sh&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;-c&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, startup_cmd, (&lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; *)&lt;span class=&quot;pl-c1&quot;&gt;NULL&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L995&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;995&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC995&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L996&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;996&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC996&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L997&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;997&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC997&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Run the Wayland event loop. This does not return until you exit the&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L998&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;998&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC998&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* compositor. Starting the backend rigged up all of the necessary event&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td id=&quot;file-tinywl-c-L999&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;999&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC999&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* loop configuration to listen to libinput events, DRM events, generate&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L1000&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1000&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1000&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;* frame events at the refresh rate, and so on. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L1001&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1001&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1001&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_display_run&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L1002&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1002&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1002&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;/&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td id=&quot;file-tinywl-c-L1003&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1003&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1003&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/*&lt;/span&gt; Once wl_display_run returns, we shut down the server. &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L1004&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1004&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1004&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_display_destroy_clients&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td id=&quot;file-tinywl-c-L1005&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1005&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1005&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;wl_display_destroy&lt;/span&gt;(server.&lt;span class=&quot;pl-smi&quot;&gt;wl_display&lt;/span&gt;);&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L1006&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1006&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1006&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td id=&quot;file-tinywl-c-L1007&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1007&quot;/&gt;
&lt;td id=&quot;file-tinywl-c-LC1007&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
&lt;/tr&gt;</description>
<pubDate>Thu, 16 Aug 2018 12:22:04 +0000</pubDate>
<dc:creator>Sir_Cmpwn</dc:creator>
<og:image>https://avatars3.githubusercontent.com/u/1310872?s=400&amp;v=4</og:image>
<og:type>object</og:type>
<og:title>Tiny Wayland compositor</og:title>
<og:url>https://gist.github.com/SirCmpwn/ae4d1cdcca97ffeb2c35f0878d75dc17</og:url>
<og:description>Tiny Wayland compositor</og:description>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://gist.github.com/SirCmpwn/ae4d1cdcca97ffeb2c35f0878d75dc17</dc:identifier>
</item>
<item>
<title>Twitter&amp;#039;s Secret “Guest Mode”</title>
<link>https://shkspr.mobi/blog/2018/08/twitters-secret-guest-mode/</link>
<guid isPermaLink="true" >https://shkspr.mobi/blog/2018/08/twitters-secret-guest-mode/</guid>
<description>&lt;p&gt;Twitter has an undocumented feature which lets you follow accounts &lt;em&gt;without&lt;/em&gt; being logged in. Here's how I found it, and how you can use it.&lt;/p&gt;
&lt;p&gt;My &lt;a href=&quot;https://shkspr.mobi/blog/2012/09/review-panasonic-tx-l37et5b/&quot;&gt;crappy old TV&lt;/a&gt; has a crappy old web browser on it. One boring Sunday, I decided to see which websites worked and which didn't on a 6 year old browser. Anything using LetsEncrypt was unavailable due to &quot;security certificate issues&quot; - but Twitter worked. Sort of.&lt;/p&gt;
&lt;p&gt;As soon as I opened the page, I was redirected to &lt;code&gt;mobile.twitter.com/i/guest&lt;/code&gt; - don't try it on your regular browser, it won't work there.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://shkspr.mobi/blog/wp-content/uploads/2018/08/Press-the-follow-button-promt-on-the-website.jpg&quot; alt=&quot;Press the follow button prompt on the website.&quot; width=&quot;413&quot; height=&quot;230&quot; class=&quot;aligncenter size-full wp-image-30208&quot;/&gt;&lt;/p&gt;
&lt;p&gt;This offered me the &quot;guest&quot; experience. I was able to browse Twitter and, crucially, follow accounts.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://shkspr.mobi/blog/wp-content/uploads/2018/08/Twitters-guest-mode-displayed-on-a-TV.jpg&quot; alt=&quot;Twitter's guest mode displayed on a TV.&quot; width=&quot;1080&quot; height=&quot;768&quot; class=&quot;aligncenter size-full wp-image-30210&quot; srcset=&quot;https://shkspr.mobi/blog/wp-content/uploads/2018/08/Twitters-guest-mode-displayed-on-a-TV.jpg 1080w, https://shkspr.mobi/blog/wp-content/uploads/2018/08/Twitters-guest-mode-displayed-on-a-TV-768x546.jpg 768w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;/&gt;&lt;/p&gt;
&lt;p&gt;The temporary guest account doesn't show up in any follower metrics, and you can't interact with the Tweets. But for a read-only experience, it's useful. There are, of course, some more limitations.&lt;/p&gt;
&lt;h2&gt;Secret Agent Man&lt;/h2&gt;
&lt;p&gt;As I mentioned - this doesn't work in most regular browsers. You need to change your User Agent to something that Twitter doesn't recognise. I went with &quot;Lynx&quot;. Or, you could just &lt;a href=&quot;https://lynx.browser.org/&quot;&gt;use the Lynx browser&lt;/a&gt; all the time like I do. Because I'm Old-School-Kool™.&lt;/p&gt;
&lt;h2&gt;Disorder&lt;/h2&gt;
&lt;p&gt;Tweets aren't ordered in a timeline like the regular experience. You see a dozen of one user's tweets, then a dozen of the next user's, and so on. A slightly frustrating experience.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://shkspr.mobi/blog/wp-content/uploads/2018/08/My-tweets-followed-by-Adeles-tweets.jpg&quot; alt=&quot;My tweets followed by Adele's tweets&quot; width=&quot;546&quot; height=&quot;468&quot; class=&quot;aligncenter size-full wp-image-30209&quot;/&gt;&lt;/p&gt;
&lt;h2&gt;Limited Success&lt;/h2&gt;
&lt;p&gt;By default, Twitter shows you a selection of Verified accounts to follow - but you can follow whoever you want. Well, you can follow up to four people!&lt;/p&gt;
&lt;p&gt;Yup, in this limited mode, you can only stalk 4 strangers before Twitter hits you with weird error messages about your browser not being supported.&lt;/p&gt;
&lt;h2&gt;Me Want Cookie!&lt;/h2&gt;
&lt;p&gt;The secret lies in the cookies.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://shkspr.mobi/blog/wp-content/uploads/2018/08/Technical-details-of-a-Twitter-cookie-fs8.png&quot; alt=&quot;Technical details of a Twitter cookie.&quot; width=&quot;567&quot; height=&quot;151&quot; class=&quot;aligncenter size-full wp-image-30202&quot;/&gt;&lt;/p&gt;
&lt;p&gt;As you can see, the names of the accounts you are following is stored in a pipe delimited format.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;guest_timeline_users=TwitterMusic|LBuckingham|StevePerryMusic|edent&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;But, if you're as skilled a h4x0r as I am, you can just edit that cookie and follow many more people.&lt;/p&gt;
&lt;h2&gt;Now what?&lt;/h2&gt;
&lt;p&gt;I've no idea if this legacy mode is still intended to be there - or if it has just been forgotten about. I couldn't find any documentation or mention of it. I don't think there's anything particularly nasty a malicious user can do with it.&lt;/p&gt;
&lt;p&gt;It's an odd little curio - and probably only of interest if you have an ancient browser but still crave tweets.&lt;/p&gt;
&lt;footer class=&quot;entry-footer&quot;/&gt;</description>
<pubDate>Thu, 16 Aug 2018 11:43:32 +0000</pubDate>
<dc:creator>edent</dc:creator>
<og:type>article</og:type>
<og:title>Twitter's Secret &quot;Guest Mode&quot;</og:title>
<og:url>https://shkspr.mobi/blog/2018/08/twitters-secret-guest-mode/</og:url>
<og:description>Twitter has an undocumented feature which lets you follow accounts without being logged in. Here’s how I found it, and how you can use it. My crappy old TV has a crappy old web browser on it.…</og:description>
<og:image>https://shkspr.mobi/blog/wp-content/uploads/2018/08/Twitters-guest-mode-displayed-on-a-TV.jpg</og:image>
<dc:language>en-GB</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://shkspr.mobi/blog/2018/08/twitters-secret-guest-mode/</dc:identifier>
</item>
<item>
<title>Pixelblaze V2 – An advanced LED pattern development engine and controller</title>
<link>https://www.bhencke.com/pixelblaze/</link>
<guid isPermaLink="true" >https://www.bhencke.com/pixelblaze/</guid>
<description>&lt;p&gt;Pixelblaze V2 is an advanced LED pattern development engine and controller. It makes it fast and fun to write new patterns with its web-based live editor and highly optimized expression engine. Pixelblaze can store hundreds of patterns and lets you write new ones by entering mathematical expressions or code that update live as you type. No more time consuming compile, upload, test cycles! Pixelblaze is optimized for speed and can produce hundreds of frames per second for extremely smooth animations.&lt;/p&gt;
&lt;p&gt;Pixelblaze was designed for APA102 LEDs (aka DotStar). These LEDs are state-of-the-art and provide rock solid updates, faster refresh cycles, and the possibility of a dynamic range well beyond 0-255. Pixelblaze also supports WS2812 (aka NeoPixel) LEDs and WS2801, as well as the compatible clones such as SK9822, and SK6812.&lt;/p&gt;
&lt;p&gt;Pixelblaze also supports input from websockets and IO pins. The analog digital converter (ADC) can be used in patterns, as well as 4-5 input/output pins. &lt;/p&gt;
&lt;p&gt;The sensor expansion board adds a wealth of sensors and a dedicated processor that makes it easy to incorporate into patterns to create movement, sound, or light reactive features. &lt;/p&gt;
</description>
<pubDate>Thu, 16 Aug 2018 07:06:16 +0000</pubDate>
<dc:creator>dfischer</dc:creator>
<og:title>Pixelblaze</og:title>
<og:url>https://www.bhencke.com/pixelblaze/</og:url>
<og:type>website</og:type>
<og:description>Advanced LED pattern development engine. Live pattern expression compiler, lightning fast fixed point math, and crazy dynamic range!</og:description>
<og:image>http://static1.squarespace.com/static/56be5ec27da24fee23cf829d/t/56e43dea37013b50c084a32e/1457798635385/bhencke+favicon.orig.png?format=1000w</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.bhencke.com/pixelblaze/</dc:identifier>
</item>
<item>
<title>Dugout Loop</title>
<link>https://www.boringcompany.com/dugout</link>
<guid isPermaLink="true" >https://www.boringcompany.com/dugout</guid>
<description>&lt;p&gt;Tunneling is much less invasive than construction of alternative transportation methods (e.g. road widening). Nevertheless, The Boring Company and our consultants are working with the City of LA Bureau of Engineering to draft an environmental impact report (EIR), which will identify ways to minimize and avoid impacts to the community. &lt;/p&gt;
&lt;p&gt;As part of the CEQA process, the Initial Study (IS) and Notice of Preparation (NOP) for the Dugout Loop process will be available for public review from August 16, 2018 to September 17, 2018. A public scoping meeting will be held at Dodger Stadium, 1000 Vin Scully Avenue, Los Angeles, CA 90012, on August 28, 2018 from 6:15 pm to 9:00 pm. Please visit LABOE’s website for more information on the location and availability of the IS for public review.  For more information on the location and availability of the IS for public review, please visit LABOE’s website at: &lt;a href=&quot;http://eng.lacity.org/dugout-loop&quot;&gt;http://eng.lacity.org/dugout-loop&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;The public will be engaged during this process and all comments will be included in the EIR. &lt;/p&gt;
</description>
<pubDate>Thu, 16 Aug 2018 03:47:50 +0000</pubDate>
<dc:creator>ot</dc:creator>
<og:title>Dugout Loop</og:title>
<og:url>https://www.boringcompany.com/dugout/</og:url>
<og:type>website</og:type>
<og:image>http://static1.squarespace.com/static/5915617137c58104451ac5fb/t/59156241414fb5cf0bfcf39d/1494573633789/favicon.png?format=1000w</og:image>
<dc:language>en-US</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.boringcompany.com/dugout</dc:identifier>
</item>
<item>
<title>Google Needs to Come Clean About Its Chinese Plans</title>
<link>https://www.eff.org/deeplinks/2018/08/google-needs-come-clean-about-its-chinese-plans</link>
<guid isPermaLink="true" >https://www.eff.org/deeplinks/2018/08/google-needs-come-clean-about-its-chinese-plans</guid>
<description>&lt;p&gt;&lt;span&gt;Eight years after Google initially took a stand against Internet censorship by exiting the Chinese search market, we are disappointed to learn the company has been secretly re-considering an extended collaboration with the &lt;/span&gt;&lt;a href=&quot;https://www.eff.org/deeplinks/2016/01/china-shows-how-backdoors-lead-software-censorship&quot;&gt;massive censorship and surveillance-wielding state&lt;/a&gt;&lt;span&gt;. &lt;/span&gt;According to an &lt;a href=&quot;https://theintercept.com/2018/08/01/google-china-search-engine-censorship/&quot;&gt;Intercept report&lt;/a&gt; released at the beginning of the month, Google is working on a censored version of its search service for release in China.&lt;/p&gt;
&lt;p&gt;In 2010, EFF and many other organizations &lt;a href=&quot;https://www.eff.org/deeplinks/2010/01/uncensoring-china-bravo-google&quot;&gt;praised Google&lt;/a&gt; for refusing to sacrifice the company’s values for access to the Chinese market. At the time, this move followed public backlash and several attacks on Google’s infrastructure that targeted the personal data of several prominent Chinese human rights activists. Google’s departure from China showed that strong core values in fundamental human rights could beat out short-term economic gain in the calculus of an Internet company.&lt;/p&gt;
&lt;p&gt;But now &lt;span&gt;it seems the company has reversed course.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This news comes amid other reports of American tech giants compromising values to enter or remain within China: Facebook has &lt;a href=&quot;https://www.nytimes.com/2016/11/22/technology/facebook-censorship-tool-china.html&quot;&gt;piloted a censored version&lt;/a&gt; of its own platform, and Apple recently &lt;a href=&quot;https://www.reuters.com/article/us-china-apple-icloud-insight/apple-moves-to-store-icloud-keys-in-china-raising-human-rights-fears-idUSKCN1G8060&quot;&gt;faced criticism&lt;/a&gt; for moving its customers' data into China-hosted servers, and adding code to &lt;a href=&quot;https://boingboing.net/2018/07/15/china-isnt-null-terminated.html&quot;&gt;filter the Taiwanese flag emoji&lt;/a&gt; in Chinese locales.&lt;/p&gt;
&lt;p&gt;Within China, Google’s direct competitor, Baidu, has been facing a significant amount of social, regulatory, and economic backlash over recent advertising malpractice, such as monetizing &lt;a href=&quot;https://www.bbc.co.uk/news/business-36189252&quot;&gt;questionable&lt;/a&gt; &lt;a href=&quot;https://www.nytimes.com/2016/05/04/world/asia/china-baidu-investigation-student-cancer.html&quot;&gt;medical&lt;/a&gt; &lt;a href=&quot;https://www.bbc.com/news/world-asia-china-35340394&quot;&gt;advertisements&lt;/a&gt;, heavily &lt;a href=&quot;http://tech.sina.com.cn/i/2018-01-30/doc-ifyqyuhy7612801.shtml&quot;&gt;deprioritizing non-Baidu services&lt;/a&gt;, and &lt;a href=&quot;https://mp.weixin.qq.com/s/r3YiwFHt_8HwC849FwNAZg&quot;&gt;allegedly promoting phishing sites&lt;/a&gt;. There may well be a &lt;a href=&quot;https://www.cnet.com/news/baidu-ceo-confident-of-defeating-google-china-disagrees/&quot;&gt;growing&lt;/a&gt; &lt;a href=&quot;https://qz.com/593120/chinese-citizens-are-boycotting-search-engine-baidu-and-praying-for-google-to-come-back/&quot;&gt;demand&lt;/a&gt; for competition within the Chinese search engine market.&lt;/p&gt;
&lt;p&gt;In even considering these changes, Google needs to tread carefully. In the wake of the last wave of engagement with the Chinese market, and to prevent Internet companies being complicit with human rights’ violations, the company joined with Microsoft and Yahoo! to create a set of standards for working in countries with poor human rights records: the Global Network Initiative’s &lt;a href=&quot;https://globalnetworkinitiative.org/implementation-guidelines/&quot;&gt;Implementation Guidelines&lt;/a&gt;. EFF was a founding member of the GNI, but subsequently &lt;a href=&quot;https://www.eff.org/ja/issues/global-network-initiative&quot;&gt;left the coalition in 2013&lt;/a&gt; due to concerns that the companies were unable to be forthcoming about their involvement in state surveillance, even within a confidential environment.&lt;/p&gt;
&lt;p&gt;From the outside, it’s unclear to us whether this project has yet to be considered in the light of that agreement. GNI’s Executive Director has told reporters, in part, that “All member companies are expected to implement the GNI Principles wherever they operate, and are subject to independent assessment, which is overseen by our multi-stakeholder Board of Directors.” It might reassure Google’s own staff and external critics to be told that process was being followed, and if both the GNI and Google were more public about the results of that procedure.&lt;/p&gt;
&lt;p&gt;&lt;span&gt;But for now, &lt;/span&gt;&lt;span&gt;it seems the company has opted to prepare new Chinese plans outside the view of the public, and even behind the backs of many of their own employees.&lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;&lt;strong&gt;From 2006 to 2018: Both Google and China are more powerful than ever&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;Our original concerns &lt;a href=&quot;https://www.eff.org/deeplinks/2006/01/chinese-new-year-resolutions-google&quot;&gt;from 2006&lt;/a&gt; still stand today, but in 2018, the potential for damage when large tech companies co-operate with repressive states has grown.&lt;/p&gt;
&lt;p&gt;Since 2006, Google’s capabilities have expanded massively. We live in an era in which Google-owned tracking scripts are present on an &lt;a href=&quot;http://randomwalker.info/publications/OpenWPM_1_million_site_tracking_measurement.pdf&quot;&gt;incredible 75% of the top million websites&lt;/a&gt;. Google’s personalized profiles of its users across several online services help it provide “relevant” search results and advertisements.&lt;/p&gt;
&lt;p&gt;Simultaneously, in order to sustain their position on strong censorship, the Chinese government has had to implement broad and pervasive surveillance laws and technology. In particular, the explosive dominance of centralized applications like Weibo and WeChat, whose communications and transactions are &lt;a href=&quot;https://www.nytimes.com/2018/04/15/world/asia/china-gay-ban-sina-weibo-.html&quot;&gt;regularly&lt;/a&gt; &lt;a href=&quot;https://www.theguardian.com/world/2018/feb/28/china-bans-the-letter-n-internet-xi-jinping-extends-power&quot;&gt;surveilled&lt;/a&gt; &lt;a href=&quot;https://www.scmp.com/news/china/policies-politics/article/2110806/wechat-users-censoring-content-amid-china-crackdown&quot;&gt;and&lt;/a&gt; &lt;a href=&quot;https://www.scmp.com/news/china/article/2087363/chinas-wechat-censoring-your-sensitive-photos-not-just-text-study-shows&quot;&gt;censored&lt;/a&gt;, has ultimately transformed the digital landscape in China.&lt;/p&gt;
&lt;p&gt;2017 in particular saw a new wave of &lt;a href=&quot;https://www.newamerica.org/cybersecurity-initiative/digichina/blog/translation-cybersecurity-law-peoples-republic-china/&quot;&gt;regulatory crackdowns&lt;/a&gt; aimed towards strengthening digital surveillance practices across the Chinese Internet. In particular, the government began restricting tools used for anonymity and privacy by arresting &lt;a href=&quot;https://www.theguardian.com/world/2017/dec/22/man-in-china-sentenced-to-five-years-jail-for-running-vpn&quot;&gt;local VPN providers&lt;/a&gt;, &lt;a href=&quot;https://www.nytimes.com/2017/09/25/business/china-whatsapp-blocked.html&quot;&gt;banning end-to-end chat applications&lt;/a&gt; like WhatsApp, and mandating Internet platforms to &lt;a href=&quot;https://techcrunch.com/2017/08/27/china-doubles-down-on-real-name-registration-laws-forbidding-anonymous-online-posts/&quot;&gt;require offline identity verification&lt;/a&gt;. In certain regions of China, citizens merely attempting to use foreign or encrypted applications like WhatsApp or Telegram can have their service cut off and are &lt;a href=&quot;https://www.nytimes.com/2015/11/24/business/international/china-cuts-mobile-service-of-xinjiang-residents-evading-internet-filters.html&quot;&gt;asked to report to the police&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It’s not clear how or whether Google’s planned offerings will comply with these new national regulations, or whether exemptions would be worked out for the tech giant.&lt;/p&gt;
&lt;p&gt;At this early stage, it’s this lack of transparency that concerns us most.&lt;/p&gt;
&lt;h4&gt;&lt;strong&gt;What happened to transparency within Google?&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;Google once prided itself in its internal organizational transparency, especially when compared to giants like Apple, famous for their &lt;a href=&quot;https://arstechnica.com/gadgets/2012/10/apples-secret-garden-the-struggle-over-leaks-and-security/&quot;&gt;secrets veiled in black cloth&lt;/a&gt;. However, as we saw with &lt;a href=&quot;https://www.eff.org/deeplinks/2018/04/should-google-really-be-helping-us-military-build-ai-systems&quot;&gt;Project Maven&lt;/a&gt;, Google’s controversial AI contract with the Department of Defense, executives within the organization are willing to &lt;a href=&quot;https://theintercept.com/2018/05/31/google-leaked-emails-drone-ai-pentagon-lucrative/&quot;&gt;keep projects quiet&lt;/a&gt; in the face of potential backlash. The initiative was not publicized, and came to light only when &lt;a href=&quot;https://gizmodo.com/google-is-helping-the-pentagon-build-ai-for-drones-1823464533&quot;&gt;employees noticed&lt;/a&gt; and brought it to the &lt;a href=&quot;https://www.nytimes.com/2018/04/04/technology/google-letter-ceo-pentagon-project.html&quot;&gt;forefront of internal discussion forums&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Unlike in 2006, when Google was &lt;a href=&quot;https://googleblog.blogspot.com/2006/01/google-in-china.html&quot;&gt;open (and even apologetic)&lt;/a&gt; about the quality and nature of its service in China, this new iteration was developed with little external or internal visibility. A source at The Intercept reports that knowledge about Google’s China project was “restricted to just a few hundred members of the Internet giant’s 88,000-strong workforce.” Though Project Maven was not publicized, this information was at least available to employees. This time, the vast majority of employees discovered the existence of the China project only &lt;a href=&quot;https://www.businessinsider.com/google-employees-react-report-china-censored-search-engine-2018-8&quot;&gt;after these emails were leaked&lt;/a&gt; to the public media.&lt;/p&gt;
&lt;p&gt;That means certain questions remain unanswered, not just publicly, but even among Google’s own staff. What sacrifices will Google make to its own operating practices in order to enter the Chinese market? Will it have to comply with China’s internal strict regulations, and how will these compromises affect its offerings outside of China?&lt;/p&gt;
&lt;p&gt;The public, Google’s users, and Google’s employees have been kept increasingly in the dark about compromises on the company’s own values that could massively affect the lives of not only citizens within China or the U.S., but also Internet users around the world. Google has already committed to processes that consider human rights when entering new markets in the &lt;a href=&quot;https://globalnetworkinitiative.org/participants/google/&quot;&gt;Global Network Initiative&lt;/a&gt;. Is it following them?&lt;/p&gt;
&lt;p&gt;Google is an effective gatekeeper of the Internet for a large majority of the world. It’s the portal through which many access the Internet, and through which Google itself continues to collect troves of information about these users across a variety of platforms. With that kind of responsibility, everyone — inside and outside Google — needs to stay vigilant and continue to hold the giant accountable. Avoiding internal oversight and criticism will not evade the backlash that will come from launching a complicit service, or the damaging consequences to Chinese users when Google’s compromises are used against them. It is better to have this debate now, in public, than to pick up the pieces when the damage has been done.&lt;/p&gt;
</description>
<pubDate>Thu, 16 Aug 2018 01:54:40 +0000</pubDate>
<dc:creator>panarky</dc:creator>
<og:type>article</og:type>
<og:title>Google Needs To Come Clean About Its Chinese Plans</og:title>
<og:url>https://www.eff.org/deeplinks/2018/08/google-needs-come-clean-about-its-chinese-plans</og:url>
<og:description>Eight years after Google initially took a stand against Internet censorship by exiting the Chinese search market, we are disappointed to learn the company has been secretly re-considering an extended collaboration with the massive censorship and surveillance-wielding state....</og:description>
<og:image>https://www.eff.org/files/banner_library/google-spy-eye.png</og:image>
<dc:language>en</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>https://www.eff.org/deeplinks/2018/08/google-needs-come-clean-about-its-chinese-plans</dc:identifier>
</item>
</channel>
</rss>