<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed43.com%2Fmathalg-jtks.xml&amp;max=5&amp;links=preserve&amp;exc=1" />
<atom:link rel="alternate" title="Source URL" href="http://feed43.com/mathalg-jtks.xml" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed43.com%252Fmathalg-jtks.xml%26max%3D5%26links%3Dpreserve%26exc%3D1&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed43.com%252Fmathalg-jtks.xml%26max%3D5%26links%3Dpreserve%26exc%3D1" />
<title>算法与数学之美</title>
<link>http://www.jintiankansha.me/column/c9dZ5TM2aS</link>
<description>算法与数学之美 - 今天看啥</description>
<ttl>360</ttl>
<item>
<title>苏步青谈读书与做题</title>
<link>http://www.jintiankansha.me/t/ELkZ3spfcx</link>
<guid isPermaLink="true" >http://www.jintiankansha.me/t/ELkZ3spfcx</guid>
<description>&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.7295081967213115&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/4ulCFFymNR5P3qaP0Dm5ymfnrSAaibEjICVAhXcpwznZDoI3Vb0XaH7pkMYibYhVdzTKz7XMUmWQfcsNbY4JLhtw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;244&quot; width=&quot;100%&quot;/&gt;&lt;/p&gt;
&lt;/section&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;2.5&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;5&quot;&gt;&lt;section class=&quot;&quot; data-tools=&quot;135&amp;#x7F16;&amp;#x8F91;&amp;#x5668;&quot; data-id=&quot;89091&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;2.5&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;5&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;学数学就是除了做题还是做题吗？为什么不少同学做了那么多题，成绩还是难以提高？看数学书是浪费时间、影响做题吗？下面将苏步青的读书经历分享给大家，相信定会让你得到启发：原来，读书和解题都是数学学习的重要环节，两者相辅相成，互相促进。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;在中学的数学课本里，一些基本的概念是逐步地被引导进来的，要把基本的概念了解清楚，可以说是学好数学的第一个步骤。如果概念还没有理解清楚，就急急忙忙地去证明定理、做习题，那是没有不碰壁的。有些同学在课堂里听了老师的讲课以后，回到家里就拿起笔来做习题，这时大概对以下两类习题的演算不大会感到困难：一类是用到的基本概念已经正确理解了的习题。由于正确理解了概念，解答所配的习题就比较容易，而通过习题的演算反过来还可以进一步明确概念以及从概念导出来的结论——定理。另一类是同课堂里老师做给大家看过的例题类似的习题。对这类只要“依样画葫芦”的习题。即使基本的概念还没有理解清楚，也可以做出来，但是如果遇到习题稍有更改，就会感到无从下手。像这种看来似乎能演算而实际是“描红”的情况，在今天的中学生里并不是罕见的。不少同学对数学竞赛的试题感到困难。原因不是别的，就是从来没有见过这类题目。&lt;/span&gt;&lt;br/&gt;&lt;/p&gt;
&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;7&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;14&quot;&gt;&lt;p&gt;&lt;span&gt;正确地理解数学的基本概念之所以重要，是因为它是掌握数学基础知识的前提。犹如造房屋那样，基础打得牢靠些，将来在它的上面造起来的房屋就不会坍毁。因此，正确理解基本概念的好处不仅仅在于能解出几个习题。打基础的惟一方法是不厌其烦地反复学习。既不要以为基本的概念很抽象，不易理解，就干脆把它放过去，又不要以为它很容易懂，就不去深人理解。在高中学习的有些数学内容，由于以前在初中里学过一点，往往就容易忽视它的重要性。没看到，这些内容外表上好像同初中阶段学过的有些内容是重复的，而实际上却是螺旋式上升的。从有理数的加法发展为整式、分式的加法，又发展为函数的加法，后来在物理学里发展为力、速度矢量的加法，这是一个具体的例子。不要怕做这些课程的计算题，不要不耐烦。凡是基础的东西总不免有些单调，缺乏变化，容易使人感到厌倦，以致产生“现在不去重视它，也没有什么关系”的不正确想法。事实恰恰相反，今天基础打得不好，明天就会发现缺陷。&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;我在1924年当学生的时候，曾经做过一万道微积分的题目。&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;我为什么要做这样多的题目呢?当时我是这样想的：要真正学到手，只学一遍恐怕太少，一定的重复是很有必要的。有的人念书，念—遍就够了，我自己往往不是那么快。怎么办呢?那就多看、多念、多想，一直到把它弄懂为止。我过去念—本书或阅读一本论著，从来没有念一遍就让它过去的。要么不念，要念就念个透，一次、两次，多到五次、六次，每次念的时候总觉得比前—次有新的体会。这里可以看出，平常所谓“懂了”，中间还有深浅之分，甚至有“真懂”与“假懂”之分。我们对怎样才算学好了、真懂了，要有一个高的标准。多一分耕耘，就多一分收获。我们要把基础知识扎扎实实地学到手，就要舍得下功夫。我念外文总是念懂了才译出来。我念过的书都有笔记，并且注明某月某日看的。这些笔记我都保存着，有的笔记现在还常常用到。由于念的次数多，又通过手、脑的劳动，所以印象是深刻的。有时学生来问我什么问题，我往往可以讲出来有关这个问题的答案在哪—本书、哪一卷、哪一页里，并且还可以从书架的某一处立刻拿出来。我不相信，人的脑力有那么厉害，学了一遍，做了很少习题，很少甚至没有一点实际形象化的东西，就会都理解透了，巩固了，一辈子也不会走样了。求学问，从不知到知，从没有印象到有印象，而且还要“印”得正确，“印”的清楚，决不是较而易举的，一定要经过艰巨的劳动，通过多次反复的钻研和练习，才能达到这样的境界。学习数学，宁可多花一些时间，学得精—些、深一些、透一些，学到的知识也就扎实些、牢靠些，“有备无患或少患”，“以防万一”。对学习中的困难要有足够的估计，多做一些准备，不要贪眼前的快，学得太多、太粗，而长期下去将造成一生的慢。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;科学研究，首先是“实事求是、循序前进”，然后，在这个基础上才能“齐头并进、迎头赶&lt;br/&gt;上”。没有基础，就没有得以进一步飞跃的土壤，那怎么能够开花结果呢？&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;这样说，并不反对同学们在完成自己的作业的前提下阅读课外读物；不但不反对，而且还要鼓励。只是要注意，即使在这种情况下也不要贪多冒进，囫囵吞枣，食而不化。想看这本课外读物，又想找另一本，这容易引起阅读不精，概念模糊，思路混乱等毛病。原来想看一点课外读物来帮助提高业务水平，而结果可能恰恰相反。所以，我们大学里担任一年级教学的老师经常说：“补基础，炒夹生饭，不好办。”从这一点看来，我从前在中学里念书时看不到一本数学课外读物，或许倒是一件好事！我希望成绩比较优秀的同学，在可能的条件下选定一本程度恰当的数学书籍、精读细算，踏踏实实做好、做完习题，然后考虑第二本。在阅读课外读物的时候，要练手——多做习题，又要练脑——多加思索。因为，要认识数学里的基本概念和推导得来的定理，必须经过实际演算，否则，就不可能获得念好这本书的经验，但是如果念了书，做了习题不想一想，只满足于做过算数，这同样也不可能积累经验，提高认识和掌握数学的本质。要学好数学，要善于使用思想器官，必须提倡思索，学会分析事物的方法，养成分析的习惯。数学，特别是高等数学，包括越来越多的抽象概念，尽管对一个一个的概念一读就觉得“懂了”，如果对概念的发展以及概念之间的联系不加思索和分析，往往在念完一本书或学完一门分支，回顾一下，会觉得局部是“明了’的，可是整体上不大懂，甚至莫名其妙。这样．将来把这分支的知识应用到另一理论上或建设事业的实际问题中，就会出毛病了。总之，要学好数学，方法不外是打好基础、多做习题、多加思索和分折等。学习数学除了书本知识以外，还备要同实际联系，也只有这样，才能生根壮大。发挥作用。限于篇幅，这里不详谈了。&lt;/span&gt;&lt;/p&gt;


&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;section class=&quot;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.4133333333333333&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/4ulCFFymNR5P3qaP0Dm5ymfnrSAaibEjIXU0F8HRTSCoG1CSFkaPL0wcL8Lvb2SFulfcwoiaVQrufNv0s3gliaBeg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;300&quot; width=&quot;100%&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;苏步青&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;2&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;4&quot;&gt;&lt;p&gt;&lt;span&gt;（1902~2003），中国著名的数学家、教育家，中国微分几何学派创始人，被誉为“东方第一几何学家”。苏步青将自己的毕生精力无私地奉献给了人民的教育事业，为祖国培养了一大批优秀的数学人才，包括中国科学院院士。&lt;/span&gt;&lt;/p&gt;
&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
&lt;/section&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;1.5&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;3&quot;&gt;&lt;p&gt;&lt;span&gt;本系列文章选自《数学阅读精粹》（第四册，七年级下适用），江苏凤凰教育出版社，2016.12&lt;/span&gt;&lt;/p&gt;
&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-style=&quot;white-space: normal; text-align: left;font-size: 14px;line-height: 1.5em; color: rgb(12, 12, 12);&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;来源：好玩的数学&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;__bg_gif&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.9366666666666666&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/951TjTgiabkwJ4BpvBcQhGAbtWZZvV69s7GickZGibsKgYkTQkiaZfLYOmGS9iaaoibadibGJhT18OVZkfeJmCSUSD0zw/0?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;600&quot; width=&quot;auto&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;算法数学之美微信公众号欢迎赐稿&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;稿件涉及数学、物理、算法、计算机、编程等相关领域&lt;br/&gt;稿件一经采用，我们将奉上稿酬。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;投稿邮箱：math_alg@163.com&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 15 Jan 2018 05:11:54 +0000</pubDate>
<dc:language>zh-CN</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.jintiankansha.me/t/ELkZ3spfcx</dc:identifier>
</item>
<item>
<title>这里有个古老的车站：三年只为一人开</title>
<link>http://www.jintiankansha.me/t/SH3AOLbwh5</link>
<guid isPermaLink="true" >http://www.jintiankansha.me/t/SH3AOLbwh5</guid>
<description>&lt;section class=&quot;&quot; data-tools=&quot;135&amp;#x7F16;&amp;#x8F91;&amp;#x5668;&quot; data-id=&quot;89091&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;2&quot;&gt;&lt;section class=&quot;&quot; https:=&quot;&quot; fill=&quot;&quot; break-word=&quot;&quot; readability=&quot;4&quot;&gt;&lt;p&gt;&lt;span&gt;日本有个车站，过去三年里只为一个高中生开着。上白滝站是日本北海道一个古老的车站，位于偏远的纹别郡远轻町。因为人口锐减，近年来乘客越来越少……&lt;/span&gt;&lt;/p&gt;
&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5036363636363637&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNiaGD0fl4RwPeMexOkeqHXlycBmVicibia6aMKjZJbJW7MDRRgSMDb5NZcQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;本来当地的铁路部门已经打算关闭这个车站了。但他们听说还有一名女高中生原田华奈每天乘坐这辆车上下课，于是在三年多以前，他们决定，为这名唯一的乘客保留这个车站。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;直到她高中毕业……&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5236363636363637&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNrC4QoFiab7aLicofKwPMxjnU2c2UTUP3uRK1tV38icbYArMRSgqHviaAkw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;去年春天，原田华奈毕业。上白滝站也宣布，于2016年3月26日关闭。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5145454545454545&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNniaO2CeGiazYCOVd09fdBr6uiaibL4rKkYWNHr7SAAUD4cl8PWjzhDwf1w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;于是在过去三年里，这个车站就只为这个姑娘一个人开着。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.56&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNibEQicTzOnjFEFIntwiahuR2QIIQemWK6xpN7CpX8e653rZico8P8PYibFQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;列车每天来回只有一趟车，早上上学前一班，傍晚放学后一班。他们甚至为原田华奈调整了列车的时间，方便她上学放学。早上7：04发往网走，下午17：08开往旭川。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.6272727272727273&quot; data-s=&quot;300,640&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNjgmNjqqElYvckZVbhI4fPznZACiaDIkrbwu43tMnRsicdsE8IKPNSVyw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;不过要是一不小心没赶上这唯一一趟列车，就直接上不了学或者回不了家了。&lt;/span&gt;&lt;/p&gt;

&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.56&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaN3VT1vRWVg2ayye7zLBygpOdiaxLXcU33VeQzKN1UMicfUJtkQedu83WQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;她每天往返于上白滝站与旧白滝站之间，别看只有两站地，其实距离十分遥远。因为中间的天幕站、中越站、奥白滝站都已经一一关停，所以列车从上白滝站到达下一站上川站就需要1小时8分钟，这是目前日本两站单一区间行驶最久的列车。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.56&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNMwA7zZFX0RHiaY82O1C1yyOYrty6pKicMbdceCsE0woFibRCMkiahrMMUg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;上白滝站1932年开通，位于石北线上最偏远的地区。从1978年起，上白滝站开通了货运，不过在1983年就停运了。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5563636363636364&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNLJPC5MiamFyySgscT0pDHVOsWBJib8N82fdRibu42b5mo8ChjXQ18ic9Tg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;1980年代，这里每天有5趟列车往返，始发6：00，最晚21：00。自从1986年线路改造后，这里每天就只有往返各一班列车经停了。那以后的30年里，这个小小的车站一直在那里，一天里只有早晚各一次等着列车经过。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.7436363636363637&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNEeqKcHgSGL7ZKB2Edjl0uzPkDe1DRgcZBrKKD85ibMjXQjyIfptapng/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;车站是一幢木质小屋，墙上贴着时刻表。车站附近只有寥寥几户人家居住。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-croporisrc=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNLD5z2eD81LR6v7eZLJR0cJvUiaXZ2mJTh6J0okAydvR74XsW9Ek8IIQ/0?wx_fmt=jpeg&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;550&quot; data-cropy1=&quot;82&quot; data-cropy2=&quot;432&quot; data-ratio=&quot;0.6363636363636364&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaN4WyGeqIgH0VMsdqXBHyUY96VJ4DNnr7xXia32RVRxibCePnQficShQDLw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot; width=&quot;550px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;即便如此，车站的角落里仍然摆着花，甚至放着几本书，干净整洁，充满人情味。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5618181818181818&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNPn02VV5SpkUrKUZof7kQxSDKcb79ibsONSUlq4HFFrZJAmH6Yu6yxfQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5618181818181818&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNkWbkSaeBfD1560YOWKQibnHcaia8pKwDq9c3w9neucaz9co8l1xebu0g/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;原田华奈说，记忆中只有一次，因为没有赶上列车，不得不让家人送到了学校。其它时候，她每天都乘坐列车上学，列车总是准时在远方出现。即便偶尔因为天气等原因晚点，她也会收到列车员的通知。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6636363636363637&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNZvMRNecqGSTHib6yWHwywrHibiaZX0rQY7LNuDQnURia6Zpmqfc8SXWib5w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; 
&lt;p&gt;&lt;span&gt;这件事情被媒体报道后，无数日本网友深受感动，纷纷感慨这根本是发生在电视剧里的情节。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5763636363636364&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNAAIkjgLcrm2hFyFsvqeRj5dw9VaslMWItsgqWtjSlwBJ1E7keuFVLg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;&quot; data-croporisrc=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNzP03GCo2oEqNgVkcXF3h8asicIvovT88E8dveSbpcI3p5HfWn3ibUXfQ/0?wx_fmt=jpeg&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;550&quot; data-cropy1=&quot;0&quot; data-cropy2=&quot;295&quot; data-ratio=&quot;0.5363636363636364&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNTZKGMlhYnYZhs3xqFyH98tiaWXLsf8IlxcHEZsUYJ2TNAd9rmEhqCXA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot; width=&quot;550px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;还有网友去围观日本最古老却最有人情味的车站，发现站里还挂着1986年的日历。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5636363636363636&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNsBPqClADIZfBWjEHypOYmGk8xWfZA3C6d0ImdBRVrF2ftgudYXcdwg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;站里一个相当原始的厕所仍然在使用中。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNmjrDP3icC3JVv27dCPicJ9YerygBdvEORnrIE0GBMrFUUhfYKFHUjCLg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;正门前用来照明的还是这种白炽灯泡。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6654545454545454&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaN8BV8O4XKPicgjc7bn9j4o5xJUGMAKO10mGsXr1mPaQB3YkmHVXTThYA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;冬天的清晨，它在这里默默为原田华奈守候。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6654545454545454&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/QYz5oQbB75Gp6UYOHDMBWagAlbO8HCiaNbhZz5Irju0h5CrtyIHibePyvJwJkiax9jvfZg9RaCOL7EG8cicFqz7mSw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;550&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;日本少子化和人口老龄化严重，预计到2060年人口会减少到现在的三分之二。为此，许多人口稀疏的地区不得不关停利用人数少的车站，上白滝站所在的远轻町就关闭了至少20条铁路。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;来源：界面&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;__bg_gif&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.9366666666666666&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/951TjTgiabkwJ4BpvBcQhGAbtWZZvV69s7GickZGibsKgYkTQkiaZfLYOmGS9iaaoibadibGJhT18OVZkfeJmCSUSD0zw/0?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;600&quot; width=&quot;auto&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;算法数学之美微信公众号欢迎赐稿&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span&gt;稿件涉及数学、物理、算法、计算机、编程等相关领域&lt;br/&gt;稿件一经采用，我们将奉上稿酬。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;投稿邮箱：math_alg@163.com&lt;/span&gt;&lt;/p&gt;

</description>
<pubDate>Sun, 14 Jan 2018 08:02:26 +0000</pubDate>
<dc:language>zh-CN</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.jintiankansha.me/t/SH3AOLbwh5</dc:identifier>
</item>
<item>
<title>现代情感分析方法</title>
<link>http://www.jintiankansha.me/t/dBTBhXNb4i</link>
<guid isPermaLink="true" >http://www.jintiankansha.me/t/dBTBhXNb4i</guid>
<description>&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot;&gt;&lt;section class=&quot;&quot; data-tools=&quot;135&amp;#x7F16;&amp;#x8F91;&amp;#x5668;&quot; data-id=&quot;89091&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;2.5&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;5&quot;&gt;&lt;section class=&quot;&quot; data-tools=&quot;135&amp;#x7F16;&amp;#x8F91;&amp;#x5668;&quot; data-id=&quot;89091&quot;&gt;&lt;section class=&quot;&quot; readability=&quot;2.5&quot;&gt;&lt;section class=&quot;&quot; https:=&quot;&quot; fill=&quot;&quot; break-word=&quot;&quot; readability=&quot;5&quot;&gt;&lt;p&gt;&lt;span&gt;情感分析&lt;/span&gt;&lt;span&gt;（Sentiment analysis）&lt;/span&gt;&lt;span&gt;是自然语言处理&lt;/span&gt;&lt;span&gt;（NLP）&lt;/span&gt;&lt;span&gt;方法中常见的应用，尤其是以提炼文本情绪内容为目的的分类。利用情感分析这样的方法，可以通过情感评分对定性数据进行定量分析。虽然情感充满了主观性，但情感定量分析已经有许多实用功能，例如企业藉此了解用户对产品的反映，或者判别在线评论中的仇恨言论。&lt;/span&gt;&lt;/p&gt;
&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;情感分析最简单的形式就是借助包含积极和消极词的字典。每个词在情感上都有分值，通常 +1 代表积极情绪，-1 代表消极。接着，我们简单累加句子中所有词的情感分值来计算最终的总分。显而易见，这样的做法存在许多缺陷，最重要的就是忽略了语境&lt;/span&gt;&lt;span&gt;（context）&lt;/span&gt;&lt;span&gt;和邻近的词。例如一个简单的短语“not good”最终的情感得分是 0，因为“not”是 -1，“good”是 +1。正常人会将这个短语归类为消极情绪，尽管有“good”的出现。&lt;/span&gt;&lt;br/&gt;&lt;/p&gt;
&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
&lt;p&gt;&lt;span&gt;另一个常见的做法是以文本进行“词袋&lt;/span&gt;&lt;span&gt;（bag of words）&lt;/span&gt;&lt;span&gt;”建模。我们把每个文本视为 1 到 N 的向量，N 是所有词汇&lt;/span&gt;&lt;span&gt;（vocabulary）&lt;/span&gt;&lt;span&gt;的大小。每一列是一个词，对应的值是这个词出现的次数。比如说短语“bag of bag of words”可以编码为 [2, 2, 1]。这个值可以作为诸如逻辑回归&lt;/span&gt;&lt;span&gt;（logistic regression）&lt;/span&gt;&lt;span&gt;、支持向量机&lt;/span&gt;&lt;span&gt;（SVM）&lt;/span&gt;&lt;span&gt;的机器学习算法的输入，以此来进行分类。这样可以对未知的&lt;/span&gt;&lt;span&gt;（unseen）&lt;/span&gt;&lt;span&gt;数据进行情感预测。注意这需要已知情感的数据通过监督式学习的方式&lt;/span&gt;&lt;span&gt;（supervised fashion）&lt;/span&gt;&lt;span&gt;来训练。虽然和前一个方法相比有了明显的进步，但依然忽略了语境，而且数据的大小会随着词汇的大小增加。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;Word2Vec 和 Doc2Vec&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;近几年，Google 开发了名为 Word2Vec 新方法，既能获取词的语境，同时又减少了数据大小。Word2Vec 实际上有两种不一样的方法：CBOW&lt;/span&gt;&lt;span&gt;（Continuous Bag of Words，连续词袋）&lt;/span&gt;&lt;span&gt;和 Skip-gram。对于 CBOW，目标是在给定邻近词的情况下预测单独的单词。Skip-gram 则相反：我们希望给定一个单独的词（见图 1）来预测某个范围的词。两个方法都使用人工神经网络&lt;span&gt;（Artificial Neural Networks）&lt;/span&gt;来作为它们的分类算法。首先，词汇表中的每个单词都是随机的 N 维向量。在训练过程中，算法会利用 CBOW 或者 Skip-gram 来学习每个词的最优向量。&lt;/span&gt;&lt;/p&gt;

&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.588021778584392&quot; data-s=&quot;300,640&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/fhujzoQe7ToAxY5ia2dNnt5MckIpiaT3s3k9eMtZz3MWDwqt8DfL8Libb1cEDWqicOtMtUKHV6LqxiaRVOD1z3BtgOQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;551&quot; width=&quot;510px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;图 1：CBOW 以及 Skip-Gram 结构图，选自《Efficient Estimation of Word Representations in Vector Space》。W(t) 代表当前的单词，而w(t-2)， w(t-1) 等则是邻近的单词。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;这些词向量现在可以考虑到上下文的语境了。这可以看作是利用基本的代数式来挖掘词的关系（例如：“king” – “man” + “woman” = “queen”）。这些词向量可以作为分类算法的输入来预测情感，有别于词袋模型的方法。这样的优势在于我们可以联系词的语境，并且我们的特征空间&lt;span&gt;（feature space）&lt;/span&gt;的维度非常低（通常约为 300，相对于约为 100000 的词汇）。在神经网络提取出这些特征之后，我们还必须手动创建一小部分特征。由于文本长度不一，将以全体词向量的均值作为分类算法的输入来归类整个文档。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;然而，即使使用了上述对词向量取均值的方法，我们仍然忽略了词序。Quoc Le 和 Tomas Mikolov 提出了 Doc2Vec 的方法对长度不一的文本进行描述。这个方法除了在原有基础上添加 paragraph / document 向量以外，基本和 Word2Vec 一致，也存在两种方法：DM&lt;span&gt;（Distributed Memory，分布式内存）&lt;/span&gt;和分布式词袋&lt;/span&gt;&lt;span&gt;（DBOW）&lt;/span&gt;&lt;span&gt;。DM 试图在给定前面部分的词和 paragraph 向量来预测后面单独的单词。即使文本中的语境在变化，但 paragraph 向量不会变化，并且能保存词序信息。DBOW 则利用paragraph 来预测段落中一组随机的词（见图 2）。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.3468208092485549&quot; data-s=&quot;300,640&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/fhujzoQe7ToAxY5ia2dNnt5MckIpiaT3s3VonloUJnqHt2vjVKWAqibzF4CIBntSKVejNChmD70XEQGmIEhtibS2yw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;519&quot; width=&quot;552px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;图 2: Doc2Vec 方法结构图，选自《Distributed Representations of Sentences and Documents》。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;一旦经过训练，paragraph 向量就可以作为情感分类器的输入而不需要所有单词。这是目前对 IMDB 电影评论数据集进行情感分类最先进的方法，错误率只有 7.42%。当然，如果这个方法不实用，说这些都没有意义。幸运的是，一个 Python 第三方库 gensim 提供了 Word2Vec 和 Doc2Vec 的优化版本。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;基于 Python 的 Word2Vec 举例&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;在本节我们将会展示怎么在情感分类任务中使用词向量。gensim 这个库是 Anaconda 发行版中的标配，你同样可以利用 pip 来安装。利用它你可以在自己的语料库（一个文档数据集）中训练词向量或者导入 C text 或二进制格式的已经训练好的向量。&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;11&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;gensim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;word2vec &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;Word2Vec&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;Word2Vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;load_word2vec_format&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'vectors.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;binary&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;#C text 格式&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;Word2Vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;load_word2vec_format&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'vectors.bin'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;binary&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;#二进制格式&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;我发现读取谷歌已经训练好的词向量尤其管用，这些向量来自谷歌新闻&lt;span&gt;（Google News）&lt;/span&gt;，由超过千亿级别的词训练而成，“已经训练过的词和短语向量”可以在这里找到。注意未压缩的文件有 3.5 G。通过 Google 词向量我们能够发现词与词之间有趣的关联：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;32&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;gensim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;word2vec &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;Word2Vec&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;Word2Vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;load_word2vec_format&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;'GoogleNews-vectors-negative300.bin'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;binary&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;most_similar&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;positive&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'woman'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'king'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;negative&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'man'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;topn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'queen'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.711819589138031&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'monarch'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.618967592716217&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'princess'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.5902432799339294&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'crown_prince'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.5499461889266968&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'prince'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.5377323031425476&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;有趣的是它可以发现语法关系，例如识别最高级&lt;span&gt;（superlatives）&lt;/span&gt;和动词词干&lt;span&gt;（stems）&lt;/span&gt;：&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;“biggest” – “big” + “small” = “smallest”&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;27&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;most_similar&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;positive&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'biggest'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'small'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;negative&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'big'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;topn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'smallest'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.6086569428443909&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;'largest'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.6007465720176697&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'tiny'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.5387299656867981&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'large'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.456944078207016&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'minuscule'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.43401968479156494&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;“ate” – “eat” + “speak” = “spoke”&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;27&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;most_similar&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;positive&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'ate'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'speak'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;negative&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'eat'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;topn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'spoke'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.6965223550796509&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'speaking'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.6261293292045593&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'conversed'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.5754593014717102&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'spoken'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.570488452911377&lt;/span&gt;&lt;span class=&quot;&quot;&gt;),&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'speaks'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.5630602240562439&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;由以上例子可以清楚认识到 Word2Vec 能够学习词与词之间的有意义的关系。这也就是为什么它对于许多 NLP 任务有如此大的威力，包括在本文中的情感分析。在我们用它解决起情感分析问题以前，让我们先测试一下 Word2Vec 对词分类&lt;span&gt;（separate）&lt;/span&gt;和聚类&lt;span&gt;（cluster）&lt;/span&gt;的本事。我们会用到三个示例词集：食物类（food）、运动类（sports）和天气类&lt;span&gt;（weather）&lt;/span&gt;，选自一个非常棒的网站 Enchanted Learning。因为这些向量有 300 个维度，为了在 2D 平面上可视化，我们会用到 Scikit-Learn’s 中叫作“t-SNE”的降维算法操作。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;首先必须像下面这样取得词向量：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;41&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;numpy &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'food_words.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;food_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'sports_words.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sports_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'weather_words.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;weather_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getWordVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;word &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'n'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reshape&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)))&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;KeyError&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;&quot;&gt;continue&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;dtype&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'float'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;#TSNE expects float type values&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;food_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getWordVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;food_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;sports_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getWordVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;sports_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;weather_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getWordVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;weather_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;我们接着使用 TSNE 和 matplotlib 可视化聚类，代码如下：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;39&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sklearn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;manifold &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;TSNE&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;matplotlib&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;pyplot &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;ts&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;TSNE&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;reduced_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;ts&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fit_transform&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;food_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sports_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;weather_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;#color points by word group to see if Word2Vec can separate them&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reduced_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &amp;amp;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;lt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;food_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;#food words colored blue&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'b'&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;elif&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &amp;amp;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;gt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;= &lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;food_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &amp;amp;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;lt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;food_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; + &lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;sports_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;#sports words colored red&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;#weather words colored green&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'g'&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reduced_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;reduced_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;marker&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'o'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;markersize&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote readability=&quot;41&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;numpy &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'food_words.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;food_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'sports_words.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sports_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'weather_words.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;weather_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getWordVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;word &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'n'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt;  append&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reshape&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;KeyError&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;&quot;&gt;continue&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;dtype&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'float'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;#TSNE 要求浮点型的值&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;food_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getWordVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;food_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;sports_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getWordVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;sports_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;weather_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getWordVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;weather_words&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;结果如下：&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6927083333333334&quot; data-s=&quot;300,640&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/fhujzoQe7ToAxY5ia2dNnt5MckIpiaT3s3zobhIRfG2SZlUKFic2NtWEwLo6h4ib7Q6SxRjH9ZL7C8jiaeSHzYiaPISg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;768&quot; width=&quot;378px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;图 3：食物类单词（蓝色），运动类单词（红色）和天气类单词（绿色）T-SNE 集群效果图。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;我们可以从上面的例子看到，Word2Vec 不仅能有效分类不相关的单词，同样也能聚类类似的词。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;推特 Emoji 情感分析&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;现在我们进入下一个例程，利用符号表情作为搜索词的推特情感分析。我们把这些符号表情作为我们数据的“模糊&lt;span&gt;（fuzzy）&lt;/span&gt;”标签；微笑表情（:-)）与积极情绪对应，而皱眉表情（:-(）则对应消极情绪。在大约 400,000 条推特数据中，积极和消极的各占一半&lt;span&gt;（even split）&lt;/span&gt;。我们对积极和消极情绪的推特进行了随机采样，并按80 / 20 的比例分为了训练集/ 测试集。我们接着在 Word2Vec 模型上训练推特。为了避免数据泄露&lt;span&gt;（data leakage）&lt;/span&gt;，在训练数据集分类完成以前我们都不会在 Word2Vec 上训练。为了结构化分类器的输入，我们对所有推特词向量取均值。我们会用到 Scikit-Learn 这个第三方库做大量的机器学习。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;我们首先导入我们的数据并训练 Word2Vec 模型：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;47&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sklearn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;cross_validation &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_test_split&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;gensim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;word2vec &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;Word2Vec&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'twitter_data/pos_tweets.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;pos_tweets&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'twitter_data/neg_tweets.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;neg_tweets&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 1 代表积极情绪，0 代表消极情绪&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;y&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;ones&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;pos_tweets&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;zeros&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;neg_tweets&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))))&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_test_split&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;pos_tweets&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;neg_tweets&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 零星的预处理&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;cleanText&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'n'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;cleanText&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;cleanText&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;n_dim&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;300&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 初始化模型并创建词汇表（vocab）&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt;  imdb_w2v&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;Word2Vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;n_dim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;min_count&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;imdb_w2v&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;build_vocab&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 训练模型 (会花费几分钟)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;imdb_w2v&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;下面我们必须对输入文本创建词向量，为了平均推特中的所有词向量，将用到如下的函数：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;26&quot;&gt;
&lt;p&gt;&lt;span&gt;# 对训练数据集创建词向量，接着进行比例缩放（scale）。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;buildWordVector&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;zeros&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reshape&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;word &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt; += &lt;/span&gt;&lt;span class=&quot;&quot;&gt;imdb_w2v&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reshape&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;&quot;&gt; += &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;KeyError&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;&quot;&gt;continue&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;&quot;&gt; != &lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt; /= &lt;/span&gt;&lt;span class=&quot;&quot;&gt;count&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vec&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;对我们的数据集进行缩放是标准化处理的一部分。通过均值为零的高斯分布，意味着大于均值则为积极，小于则为消极。许多机器学习模型要求使用缩放过的数据集来获得更好的处理效果，尤其是多特征（例如文本分类）。&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;12&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sklearn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;preprocessing &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;scale&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;train_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;&quot;&gt;buildWordVector&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;n_dim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;train_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt;   &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 在测试推特数据集中训练 Word2Vec&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;imdb_w2v&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;最终我们必须创建测试数据向量并进行比例缩放来评估。&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;&lt;span&gt;# 创建测试推特向量并缩放&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;&quot;&gt;buildWordVector&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;n_dim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;下面我们想通过计算测试数据的预测精度来验证我们的分类器，同时测试它们的 ROC 曲线&lt;span&gt;（Receiver Operating Characteristic，受试者操作特征曲线）&lt;/span&gt;。当模型参数调节时，ROC 曲线会测试分类器的真阳性&lt;span&gt;（true-positive）&lt;/span&gt;以及假阳性&lt;span&gt;（false-positive）&lt;/span&gt;。本例中，我们通过调节边界阈值概率&lt;span&gt;（cut-off threshold probability）&lt;/span&gt;将某条推特分类为积极或消极情绪。通常，更希望得到最大化的真阳性和最小化的假阳性，也就是 ROC 曲线下方最大的区域&lt;span&gt;（AUC）&lt;/span&gt;。通过这里更多地了解 ROC 曲线。&lt;/span&gt;&lt;/p&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; 
&lt;p&gt;&lt;span&gt;开始训练我们的分类器，本例对逻辑回归&lt;span&gt;（Logistic Regression）&lt;/span&gt;使用随机梯度下降&lt;span&gt;（&lt;span&gt;Stochastic Gradient Descent&lt;/span&gt;）&lt;/span&gt;。&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;15&quot;&gt;
&lt;p&gt;&lt;span&gt;# 使用分类算法（例如：随机逻辑回归（Stochastic Logistic Regression）来训练数据集，接着从 sklearn.linear_model 导入 SGDClassifier 进行模型处理）&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;SGDClassifier&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;loss&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'log'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;penalty&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'l1'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fit&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'Test Accuracy: %.2f'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;我们利用 matplotlib 和 Scikit-Learn 的 metric 包中的 roc_curve 创建 ROC 曲线来评估。&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;31&quot;&gt;
&lt;p&gt;&lt;span&gt;# 创建 ROC 曲线&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sklearn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;metrics &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;roc_curve&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;auc&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;matplotlib&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;pyplot &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;pred_probas&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;predict_proba&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;fpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;tpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;roc_curve&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;pred_probas&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;roc_auc&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;auc&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fpr&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;tpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;tpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'area = %.2f'&lt;/span&gt;&lt;span class=&quot;&quot;&gt; %&lt;/span&gt;&lt;span class=&quot;&quot;&gt;roc_auc&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'k--'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;xlim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;ylim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1.05&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt;  legend&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'lower right'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;曲线结果如下：&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6693333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/fhujzoQe7ToAxY5ia2dNnt5MckIpiaT3s3DK59GqjoQOkCZ8MyBSNzebsGLhT1ic4Pfibl0XlVx6tUVxicPW0uYK1DQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;375&quot; width=&quot;384px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;图 4：逻辑分类器对推特训练数据的 ROC 曲线&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;没有创建任何特征以及最小化的文本预处理，利用 Scikit-Learn 提供的简单线性模型我们已经实现了 73% 的测试准确率。有趣的是，移除了标点符号实际上反而降低了准确率，说明当“？”或“！”出现时，Word2Vec 能够找到有趣的特征。将这些标点视为独立的单词，训练更长的时间，做更多的预处理，调节 Word2Vec 和分类器中的参数这些方法都有助于准确率的提升。我已经发现配合使用人工神经网络&lt;span&gt;（ANN）&lt;/span&gt;能够提高大概 5% 的准确率。因为 Scikit-Learn 没有提供 ANN 分类器的实现工具，所以我自己写了一个：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;21&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;NNet &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;NeuralNet&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;nnet&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;NeuralNet&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;learn_rate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1e&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;penalty&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1e&lt;/span&gt;&lt;span class=&quot;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;maxiter&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1000&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;150&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;nnet&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fit&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;fine_tune&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;maxiter&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;maxiter&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;SGD&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;rho&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;0.9&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'Test Accuracy: %.2f'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;&quot;&gt;nnet&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;最终准确率为 77%。不论什么机器学习任务，选对模型的艺术性大于科学性。如果你想用我写的库你可以在这找到。友情提示，它看起来比较乱并且没有定期维护！如果你想贡献代码欢迎 fork 我的代码仓。它非常需要被宠幸&lt;span&gt;（TLC）&lt;/span&gt;。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;基&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;于 Doc2Vec 的电影评论分析&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;在推特的例子中，使用词向量的均值效果良好。这是因为推特通常是几十个词的长度，即使取均值也能保留相关的特征。然而，一旦我们上升到段落的规模，忽略词序和上下文信息将面临丢失大量特征的风险。这样的情况下更适合使用 Doc2Vec 创建输入特征。我们将使用 IMDB 电影评论数据集 作为示例来测试 Word2Vec 在情感分析中的有效性。数据集中包含了 25,000 条积极评论，25,000 条消极评论和 50,000 条未标记的电影评论。我们首先利用 Doc2Vec 对未标记评论进行训练。除了同时使用 DM 和 DBOW 向量作为输入以外，方法和上一节 Word2Vec 例子相同。&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;87&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;gensim&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;LabeledSentence&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;gensim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;doc2vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;LabeledSentence&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sklearn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;cross_validation &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_test_split&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;numpy &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'IMDB_data/pos.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;pos_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'IMDB_data/neg.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;neg_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'IMDB_data/unsup.txt'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;unsup_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 1 代表积极情绪，0 代表消极情绪&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;ones&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;pos_reviews&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;zeros&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;neg_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))))&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_test_split&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;pos_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;neg_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 零星的预处理&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;cleanText&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;punctuation&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;&quot;&quot;&quot;.,?!:;(){}[]&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'n'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'&lt;br/&gt;'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;' '&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;# 将标点视为一个单词&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;punctuation&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;' %s '&lt;/span&gt;&lt;span class=&quot;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;cleanText&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;cleanText&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;unsup_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;cleanText&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;unsup_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# Gensim 的 Doc2Vec 工具要求每个文档/段落包含一个与之关联的标签。我们利用 LabeledSentence 进行处理。格式形如 “TRAIN_i” 或者 “TEST_i”，其中 “i” 是假的评论索引。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;labelizeReviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;label_type&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;labelized&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'%s_%s'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;label_type&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;&quot;&gt;labelized&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;LabeledSentence&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;labelized&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;labelizeReviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'TRAIN'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;labelizeReviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'TEST'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;unsup_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;labelizeReviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;unsup_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'UNSUP'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;这么一来创建了 LabeledSentence 类型对象：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote&gt;

&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;下面我们实例化两个 Doc2Vec 模型，DM 和 DBOW。gensim 文档建议多次训练数据，并且在每一步&lt;span&gt;（pass）&lt;/span&gt;调节学习率&lt;span&gt;（learning rate）&lt;/span&gt;或者用随机顺序输入文本。接着我们收集了通过模型训练后的电影评论向量。&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;90&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;random&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;400&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span&gt;# 实例化 DM 和 DBOW 模型&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;gensim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;Doc2Vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;min_count&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1e&lt;/span&gt;&lt;span class=&quot;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;negative&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;workers&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;gensim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;Doc2Vec&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;min_count&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1e&lt;/span&gt;&lt;span class=&quot;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;negative&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;workers&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 对所有评论创建词汇表&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;build_vocab&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;unsup_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)))&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;model_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;build_vocab&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;unsup_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 多次传入数据集，通过每次滑动（shuffling）来提高准确率。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;all_train_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;unsup_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;epoch &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;perm&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;permutation&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;all_train_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;model_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;all_train_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;perm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;model_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;all_train_reviews&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;perm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 从我们的模型中获得训练过的向量&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]]).&lt;/span&gt;&lt;span class=&quot;&quot;&gt;reshape&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;concatenate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;train_vecs_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;model_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span&gt;&lt;span class=&quot;&quot;&gt;train_vecs_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;model_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;train_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;hstack&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_vecs_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_vecs_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 训练测试数据集&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;epoch &lt;/span&gt;&lt;span class=&quot;&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;perm&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;permutation&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;model_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;perm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;&quot;&gt;model_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;perm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;# 创建测试数据集向量&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;test_vecs_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;model_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;test_vecs_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;getVecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;model_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;x_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;hstack&lt;/span&gt;&lt;span class=&quot;&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs_dm&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs_dbow&lt;/span&gt;&lt;span class=&quot;&quot;&gt;))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;现在我们准备对我们的评论向量训练一个分类器。我们再次使用 sklearn 的 SGDClassifier。&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;14&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sklearn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;linear_model &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;SGDClassifier&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;SGDClassifier&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;loss&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'log'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;penalty&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'l1'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fit&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'Test Accuracy: %.2f'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;这个模型的测试准确率达到了 0.86。我们也构建了如下的分类器 ROC 曲线：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;28&quot;&gt;
&lt;p&gt;&lt;span&gt;#Create ROC curve&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;sklearn&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;metrics &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;roc_curve&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;auc&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;&quot;&gt;matplotlib&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;inline&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;matplotlib&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;pyplot &lt;/span&gt;&lt;span class=&quot;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;pred_probas&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;lr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;predict_proba&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;fpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;tpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;roc_curve&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;pred_probas&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;roc_auc&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;auc&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;tpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;tpr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'area = %.2f'&lt;/span&gt;&lt;span class=&quot;&quot;&gt; %&lt;/span&gt;&lt;span class=&quot;&quot;&gt;roc_auc&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'k--'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;xlim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;ylim&lt;/span&gt;&lt;span class=&quot;&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;1.05&lt;/span&gt;&lt;span class=&quot;&quot;&gt;])&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;'lower right'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6693333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/fhujzoQe7ToAxY5ia2dNnt5MckIpiaT3s3ss2CvrkhsOLxZfn16aPFU3rD3zEESTkjH7iaEL3LbG77YibwlglhZZ9Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;375&quot; width=&quot;auto&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;图 5：基于 IMDB 电影评论训练数据的逻辑分类器（logistic classifier）的 ROC 曲线&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;原始论文 强调了用有 50 个结点的神经网络加上一个简单的逻辑回归分类器，效果会有提高：&lt;/span&gt;&lt;/p&gt;

&lt;blockquote readability=&quot;20&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;NNet &lt;/span&gt;&lt;span class=&quot;&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;NeuralNet&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;nnet&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;NeuralNet&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;learn_rate&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1e&lt;/span&gt;&lt;/span&gt; &lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt; &lt;span class=&quot;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;maxiter&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;500&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;150&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;&quot;&gt;nnet&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;fit&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;train_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_train&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;fine_tune&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;maxiter&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;maxiter&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;SGD&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;rho&lt;/span&gt;&lt;span class=&quot;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;&quot;&gt;0.9&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt;   &lt;/span&gt;&lt;span class=&quot;&quot;&gt;'Test Accuracy: %.2f'&lt;/span&gt;&lt;span class=&quot;&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;&quot;&gt;nnet&lt;/span&gt;&lt;span class=&quot;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;test_vecs&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;y_test&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;有趣的是，我们在这儿并没有看到什么提高。测试准确率是 0.85，我们也没能达到他们所说的 7.42% 的测试错误率。原因有很多：我们在每一步&lt;span&gt;（epochs）&lt;/span&gt;对于训练/测试数据没有训练足够，他们实现 Doc2Vec 和 ANN 的方式不同，他们的超参数不同等等。因为论文中并没有谈及细节，所以难以确知真正原因。不管怎样，在进行了零星预处理以及没有构造和选取特征的情况下，我们还是得到了 86% 的准确率。并不需要花哨的卷积&lt;span&gt;（convolutions）&lt;/span&gt;和树库&lt;span&gt;（treebanks）&lt;/span&gt;！&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;结论&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;我希望已经你不仅见识了 Word2Vec 和 Doc2Vec 的强大，而且能够通过标准工具诸如 Python 和 gensim 来应用它们。只需要非常简单的算法我们即可得到丰富的词和段落向量，足以在所有 NLP 应用中使用。另外更棒的是 Google 发布了基于超大规模数据集预训练&lt;span&gt;（pre-train）&lt;/span&gt;的词向量。如果你想在大规模数据集中训练自己的词向量，可以利用 Apache Spark’s MLlib 的 Word2Vec 来实现。Happy NLP’ing！&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;扩展阅读&lt;/span&gt;&lt;/p&gt;

&lt;ul class=&quot; list-paddingleft-2&quot; readability=&quot;0&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;span&gt;A Word is Worth a Thousand Vectors&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span&gt;Word2Vec Tutorial&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span&gt;Gensim&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;span&gt;Scikit-Learn: Working with Text Data&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;span&gt;Natural Language Processing with Python&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span&gt;编译：伯乐在线 - Ree Ray&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;__bg_gif&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.9366666666666666&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/951TjTgiabkwJ4BpvBcQhGAbtWZZvV69s7GickZGibsKgYkTQkiaZfLYOmGS9iaaoibadibGJhT18OVZkfeJmCSUSD0zw/0?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;600&quot; width=&quot;auto&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;算法数学之美微信公众号欢迎赐稿&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;/&gt;  稿件涉及数学、物理、算法、计算机、编程等相关领域&lt;br/&gt;稿件一经采用，我们将奉上稿酬。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;投稿邮箱：math_alg@163.com&lt;/span&gt;&lt;/p&gt;

</description>
<pubDate>Fri, 12 Jan 2018 21:28:16 +0000</pubDate>
<dc:language>zh-CN</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.jintiankansha.me/t/dBTBhXNb4i</dc:identifier>
</item>
</channel>
</rss>