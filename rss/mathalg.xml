<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed43.com%2Fmathalg-jtks.xml&amp;max=5&amp;links=preserve&amp;exc=1" />
<atom:link rel="alternate" title="Source URL" href="http://feed43.com/mathalg-jtks.xml" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed43.com%252Fmathalg-jtks.xml%26max%3D5%26links%3Dpreserve%26exc%3D1&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed43.com%252Fmathalg-jtks.xml%26max%3D5%26links%3Dpreserve%26exc%3D1" />
<title>算法与数学之美</title>
<link>http://www.jintiankansha.me/column/c9dZ5TM2aS</link>
<description>算法与数学之美 - 今天看啥</description>
<ttl>360</ttl>
<item>
<title>如何用 R 创作古诗</title>
<link>http://www.jintiankansha.me/t/onbKA1EJ3P</link>
<guid isPermaLink="true" >http://www.jintiankansha.me/t/onbKA1EJ3P</guid>
<description>&lt;h3&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;引子&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;最近中国诗词大会很受欢迎，才女武亦姝凭借超强的记忆力和超快的反应能力一炮走红，成为大家心目中的偶像。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6054421768707483&quot; data-type=&quot;jpeg&quot; data-w=&quot;588&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALibKQTNJicKEScAVRTc5OTaFQQjd45U6moF2HlTnDVB6bfrficAeXtnapwg/640?wx_fmt=jpeg&quot; width=&quot;588&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;在欣赏节目的同时，我也不禁想到，既然古代的诗人能够创作出这些美好的诗篇，那我是不是也能创作几首属于自己的诗词作品呢？可惜，经过一番尝试，我发现自身的文学功底不够，恐怕无法完成这样艰巨的任务。看来人和人还是有很大的差距。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;当然，我并没有气馁。就像著名的无限猴子定理阐述的那样，哪怕是让一只猴子在打字机上随机地按键，只要按键的时间足够长，那么几乎必然能够打出任何特定的文字，甚至是莎士比亚的全套著作。我觉得我的编程能力应该比猴子还是要略强一筹，所以打算试试用我熟悉的语言R 来创作几首『歪诗』。&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;&lt;span&gt;词频分析&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;既然要创作诗词，那么就要先了解诗词中最常出现的词汇和意象是什么。我在 github 上找到了一些古典中文的语料库（链接），其中有不少唐诗宋词的文本，只不过是繁体的。我选择了《宋词三百首》作为了我的文本库，对它进行词频分析。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;其实做法很简单，大概就是分这么几步：&lt;/span&gt;&lt;/p&gt;
&lt;ol class=&quot; list-paddingleft-2&quot; readability=&quot;0&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;span&gt;把文本拆分成一个一个的单词；&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;span&gt;把单词按照出现的频率、次数进行排序&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;&lt;span&gt;用可视化把结果展示出来&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;span&gt;下面的部分我会讨论一下具体的操作，不感兴趣的观众请往后翻到结果的部分。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;第一步、第二步&lt;/span&gt;&lt;/p&gt;
&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;导入文本库：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;fileName &lt;span class=&quot;&quot;&gt; &lt;span class=&quot;&quot;&gt;&quot;宋詞三百首.txt&quot;&lt;/span&gt; &lt;br /&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;SC &lt;span class=&quot;&quot;&gt; &lt;span class=&quot;&quot;&gt;readChar&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;fileName&lt;span class=&quot;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;&quot;&gt;file.info&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;fileName&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;$&lt;/span&gt;size&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;&gt;&lt;/ins&gt;

    
# 大概检查一下&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;SC&lt;span class=&quot;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;&quot;&gt;1100&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[1] &quot;醒。送春春去幾時回，臨晚鏡。傷流景。往事後期空記省。○沙上並禽池上暝。雲破月來花弄影。重重簾幕密遮燈，風不定。人初靜。明日落紅應滿徑。\n\n詞牌:青門引\n作者:張先\n詞文:乍暖還輕冷。風雨晚來方定。庭軒寂&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;cc &lt;span class=&quot;&quot;&gt;=&lt;/span&gt; worker&lt;span class=&quot;&quot;&gt;()&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;analysis &lt;span class=&quot;&quot;&gt; &lt;span class=&quot;&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;cc&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;SC&lt;span class=&quot;&quot;&gt;]))&lt;/span&gt;&lt;span class=&quot;&quot;&gt;# 重新排序&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;analysis &lt;span class=&quot;&quot;&gt; analysis&lt;span class=&quot;&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;-&lt;/span&gt;analysis&lt;span class=&quot;&quot;&gt;$&lt;/span&gt;freq&lt;span class=&quot;&quot;&gt;),]&lt;/span&gt;&lt;span class=&quot;&quot;&gt;# 简单改变一下文件的命名、格式&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;analysis&lt;span class=&quot;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;&quot;&gt; &lt;span class=&quot;&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&quot;word&quot;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&quot;freq&quot;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;analysis&lt;span class=&quot;&quot;&gt;$&lt;/span&gt;word &lt;span class=&quot;&quot;&gt; &lt;span class=&quot;&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;analysis&lt;span class=&quot;&quot;&gt;$&lt;/span&gt;word&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;# 看一下这个分词文件的开头&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;analysis&lt;span class=&quot;&quot;&gt;)&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;     word freq&lt;br /&gt;470  作者  310&lt;br /&gt;6120 詞文  310&lt;br /&gt;6121 詞牌  310&lt;br /&gt;1024   又   75&lt;br /&gt;1014   去   55&lt;br /&gt;3124   月   54&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span&gt;看来在宋词三百首中，出现最多的词语是『作者』，『词文』，『词牌』，总共出现了310次。这是因为每首诗词开始时，文档中都会介绍这首诗词的作者、词文和词牌，从而干扰了我们的文本分析。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;第二步&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我用 R 包 wordcloud2把结果简单地进行了一下可视化：&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt;wordcloud2(analysis)&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span&gt;然后得到了这张图。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.1329479768786128&quot; data-type=&quot;png&quot; data-w=&quot;346&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALibickBlGGsVVSfiaL1fsLepf8R2oFM7icjH0LTwP2UIJMAvB9Q58T7mFwpg/640?wx_fmt=png&quot; width=&quot;346&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;嗯，硕大的一个『词文』出现了很多次，看来我们在可视化的时候要把它去掉。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;我把出现频率大于300次的词语刨除之后，根据分词结果的字数（一字，二字，三字）重新进行了可视化，结果如下：&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt;wordcloud2(analysis[analysis$freq&amp;gt;1&amp;amp; analysis$freq &amp;lt; 300 &amp;amp; nchar(analysis$word) == 1,])&lt;br /&gt;wordcloud2(analysis[analysis$freq&amp;gt;1&amp;amp; analysis$freq &amp;lt; 300 &amp;amp; nchar(analysis$word) == 2,])&lt;br /&gt;wordcloud2(analysis[analysis$freq&amp;gt;1 &amp;amp; analysis$freq &amp;lt; 300 &amp;amp; nchar(analysis$word) == 3,])&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.1142857142857143&quot; data-type=&quot;png&quot; data-w=&quot;350&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALib3YkM9naXZP4d8KdfJxnAcE1wwiaUyM2wFOjznGylP2KDRYiaDNm30hKQ/640?wx_fmt=png&quot; width=&quot;350&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;现在的结果就正常多了。我们看到，一个字的词语中，出现频率较多的有『谁』，『又』，『人』，『去』，『梦』, 『是』， 『处』，『月』 等等。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.1329479768786128&quot; data-type=&quot;png&quot; data-w=&quot;346&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALibDSrWyBUx76peibIVk5hts0mCFWj1suNYvViaOhSyeQRJSxY0oletCBQw/640?wx_fmt=png&quot; width=&quot;346&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;两个字的词语中，『何处』，『斜阳』，『相思』这些词使用频率最多，给我一种在看网络小说标题的感觉。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.3333333333333333&quot; data-type=&quot;jpeg&quot; data-w=&quot;285&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALibN0Dk6w5oeXUd3hVyBw677o7FEicib0wojRpicApU0eC1ynTpWtRBL32Qw/640?wx_fmt=jpeg&quot; width=&quot;285&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;三个字的词语中，出现最多的往往是词牌名和作者名。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;&gt;&lt;/ins&gt; &lt;img class=&quot;&quot; data-ratio=&quot;1.1329479768786128&quot; data-type=&quot;png&quot; data-w=&quot;346&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALiblBzWWn32ic1FbgwK2eGySFIBBEkV2Kz4sDZibMfAQ5Yhn5GcxHKEb1GQ/640?wx_fmt=png&quot; width=&quot;346&quot; /&gt;&lt;span&gt;完成了简短的词频分析，下面就要开始最重要的『诗词创作』部分了！&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;&lt;span&gt;诗词创作&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;准备&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;创作宋词，先要明确一个词牌名。我选择了李白的《清平乐·画堂晨起》作为范例。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;画堂晨起，来报雪花坠。高卷帘栊看佳瑞，皓色远迷庭砌。盛气光引炉烟，素草寒生玉佩。应是天仙狂醉，乱把白云揉碎。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;R 的中文分词包『结巴R』的功能中，有一项可以用来分辨词语的词性。我将范例进行分词后，再用这项功能分析一下各部分的词性。&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;cipai &lt;span class=&quot;&quot;&gt; &lt;span class=&quot;&quot;&gt;&quot;画堂晨起，来报雪花坠。高卷帘栊 看 佳瑞，皓色远 迷 庭砌。盛气光引 炉烟，素草寒生玉佩。应是天仙狂醉，乱把白云揉碎。&quot;&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;tagger &lt;span class=&quot;&quot;&gt; worker&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&quot;tag&quot;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;cipai_2 &lt;span class=&quot;&quot;&gt; tagger &lt;span class=&quot;&quot;&gt;&amp;lt;=&lt;/span&gt; cipai&lt;br /&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;cipai_2&lt;br /&gt;&lt;span class=&quot;&quot;&gt;     n      x      x      n      v      a      n      g      v&lt;br /&gt;&quot;画堂&quot; &quot;晨起&quot; &quot;来报&quot; &quot;雪花&quot;   &quot;坠&quot;   &quot;高&quot; &quot;卷帘&quot;   &quot;栊&quot;   &quot;看&quot;&lt;br /&gt;x      x      a      v      x      n      x      x      x&lt;br /&gt;&quot;佳瑞&quot; &quot;皓色&quot;   &quot;远&quot;   &quot;迷&quot; &quot;庭砌&quot; &quot;盛气&quot; &quot;光引&quot; &quot;炉烟&quot; &quot;素草&quot;&lt;br /&gt;x     nr      x      n      x      d      p     nr      v&lt;br /&gt;&quot;寒生&quot; &quot;玉佩&quot; &quot;应是&quot; &quot;天仙&quot; &quot;狂醉&quot;   &quot;乱&quot;   &quot;把&quot; &quot;白云&quot; &quot;揉碎&quot; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span&gt;其中每个字母代表什么词性，我也没有很理解。据我的猜测，n 应该是名词，x是没有分辨出来的词性，v是动词， a是形容词，至于『nr』, 『p』, 『d』是什么，实在是猜不出来，在帮助文档中也没有找到。如果有朋友知道的话，希望能不吝赐教。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;最后，我从之前提炼的宋词词频库中，选取了至少出现过两次的一字或两字词语，作为诗词创作的素材库：&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;example &lt;span class=&quot;&quot;&gt; &lt;span class=&quot;&quot;&gt;subset&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;analysis&lt;span class=&quot;&quot;&gt;,&lt;/span&gt; freq &lt;span class=&quot;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;&quot;&gt;nchar&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;word&lt;span class=&quot;&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;&quot;&gt;&amp;lt;&amp;lt;/span&amp;gt;&lt;span class=&quot;&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;&gt;&lt;/ins&gt;

    
 freq &lt;span class=&quot;&quot;&gt;&amp;lt;&amp;lt;/span&amp;gt; &lt;span class=&quot;&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;# 提取词性文件&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;cixing &lt;span class=&quot;&quot;&gt; &lt;span class=&quot;&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;cipai_2&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;$names&lt;/span&gt;&lt;span class=&quot;&quot;&gt;# 将素材库进行词性分类&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;example_2 &lt;span class=&quot;&quot;&gt; tagger &lt;span class=&quot;&quot;&gt;&amp;lt;=&lt;/span&gt; example&lt;span class=&quot;&quot;&gt;$&lt;/span&gt;word&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;创作&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;下面，我们终于要开始用 R 创作诗歌了！我自己想了一个创作的算法，可以说很简单，甚至说有点可笑。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;步骤是这样的：我从范本词牌的第一个词开始，随机在素材库中选取词性相同，字数相等的单词，填入提前设置好的空白字符串中。&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;举个例子，原诗的第一个词是『画堂』，是个二字的名词。那么，我就在素材库中随机选择一个二字的名词，填入这个空间中。然后，继续分析下一个词。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;具体方程的代码如下：&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;write_songci &lt;span class=&quot;&quot; readability=&quot;16.5&quot;&gt; &lt;span class=&quot;&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;m&lt;span class=&quot;&quot;&gt;){&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;&quot; readability=&quot;33&quot;&gt;set.seed(m)&lt;br /&gt;empty   temp_file   temp_file   empty }&lt;p&gt;result   substr(empty,5,9),&quot;。&quot;,&lt;br /&gt;substr(empty, 10,16), &quot;,&quot;,&lt;br /&gt;substr(empty, 17,22),&quot;。&quot;,&lt;br /&gt;substr(empty, 23,28), &quot;,&quot;,&lt;br /&gt;substr(empty, 29,34),&quot;。&quot;,&lt;br /&gt;substr(empty, 35,40), &quot;,&quot;,&lt;br /&gt;substr(empty, 41,46),&quot;。&quot;)&lt;br /&gt;}&lt;/p&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;&lt;strong&gt;&lt;span&gt;结果&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;做了这么多工作，终于到了验收结果的部分。请各位来欣赏几首 R 创作的歪词作品吧：&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;&quot;&gt;5&lt;/span&gt;&lt;/code&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;&gt;&lt;/ins&gt;
&lt;span class=&quot;&quot;&gt;,&lt;/span&gt; write_songci&lt;span class=&quot;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;&quot;&gt;[[1]]&lt;br /&gt;[1] &quot;幽香凝佇,春空賞花回。淨關塞旆感春歸,朝天淺爭前度。江聲已失無跡,香非凝笑秋千。過盡細雨歸鴻,欲對蓬萊歸來。&quot;&lt;br /&gt;[[2]]&lt;br /&gt;[1] &quot;流年漏永,春空愁腸覺。穩黃花笮收敗壁,數峰深鋪已斷。寄語舊香非煙,歸夢如夢殷勤。沈沈啼鶯老來,卻把丁香不堪。&quot;&lt;br /&gt;[[3]]&lt;br /&gt;[1] &quot;愁腸簾外,前度芳心困。少陽臺瘞切桃蹊,幾人細鎖新樣。腸斷缺月中酒,潘鬢行遍何曾。歸雁芳草修竹,不對秋水垂下。&quot;&lt;br /&gt;[[4]]&lt;br /&gt;[1] &quot;一川晏殊,阮郎斷鴻展。重暮雲菰訪楊花,畫閣滿聽金尊。敗葉孤城雪滿,晝永隋堤碧雲。無準黃金年光,漸因綺羅開時。&quot;&lt;br /&gt;[[5]]&lt;br /&gt;[1] &quot;煙柳清景,謝娘桃花如。窄蝴蝶琮誤中酒,花間碎挂斷煙。幽夢曉來千樹,蕭娘數峰翩翩。蟲網暗想未醒,曾向丁寧聚散。&quot;&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span&gt;既然是计算机生成的诗，自然谈不上什么文学性。不过，虽然大部分内容看上去不知所云，有些词句还是有些意思的，比如『幽香凝伫』，『愁肠帘外』，『孤城雪满』等等。之前在调试的时候，还出现过类似于『风烟泪暗霜前, 古岸频听金莲』这样的词句，无厘头之余，莫名地居然还有些押韵。&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;&lt;strong&gt;&lt;span&gt;感想&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;这篇文章到此就结束了，希望大家读得还愉快。最后谈谈自己的感想。&lt;/span&gt;&lt;/p&gt;
&lt;ul class=&quot; list-paddingleft-2&quot; readability=&quot;1&quot;&gt;&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;span&gt;很多读者可能会问，既然用 R 写出来的诗毫不合文理，为什么还要进行这样的工作呢？这种练习是不是在侮辱中文和古典诗词呢？我倒是觉得，我们对语言应该存有一种开放的态度。诗词说到底，也是一种风雅的文字游戏。我们又何尝不能抱着游戏的态度，把这个练习当做一个有趣的消遣呢？&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;span&gt;用计算机代码作诗的主意并非是我原创。清华大学早在一年前就推出过作诗机器人薇薇，宣称可以通过图灵测试。&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.12&quot; data-type=&quot;png&quot; data-w=&quot;600&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALibhZoJHgoxvBvMicCd0hcDHuPic7tFibZL8HIfjsYRpkqJdaibmIpZmncu8Q/640?wx_fmt=png&quot; width=&quot;752&quot; /&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.76&quot; data-type=&quot;png&quot; data-w=&quot;600&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALibdsJ3g4qBVKqR4oslsicUPRUjTJtMzNYDKdXeX46KYKPMxg4sTr3aDcA/640?wx_fmt=png&quot; width=&quot;790&quot; /&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.8183333333333334&quot; data-type=&quot;png&quot; data-w=&quot;600&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTjc63KjNX7jiaDjvnCBOibALibtlMib2gdxzkjMMxNicIBaaE89KdZHN1wYgPSoplicQLDOKSWMKVEAxuMA/640?wx_fmt=png&quot; width=&quot;733&quot; /&gt;&lt;/p&gt;
&lt;ul class=&quot; list-paddingleft-2&quot; readability=&quot;2&quot;&gt;&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;span&gt;有些词句，如『何处东风约』，『万朵千峰映碧垂』等还是略显生硬，不过比我这里创作的诗词已经强的太多了。本文的小程序比较简短，总共只使用了不到50行代码，可以说是比较粗略的一个版本，仅供大家参考。感兴趣的读者可以设计更精密的算法，使用更高级的统计方法改进创作的质量。&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;&lt;span&gt;古诗词向来被认为具有很高的艺术价值。今天的我们有越来越多的工具，可以系统化地总结、归纳诗词的规律，这大概也是过去的诗人怎么也想不到的。或许有一天，计算机真的能学习出作诗的秘诀，给我们带来更多全新的灵感和更好的诗句。我们拭目以待。&lt;/span&gt;&lt;/p&gt;

&lt;/li&gt;
&lt;/ul&gt;&lt;h3&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;参考资料&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;ins class=&quot;adsbygoogle&quot; data-ad-layout=&quot;in-article&quot; data-ad-format=&quot;fluid&quot; data-ad-client=&quot;ca-pub-1837452791782084&quot; data-ad-slot=&quot;7041996284&quot;&gt;&lt;/ins&gt; &lt;p&gt;&lt;span&gt;「归雁芳草修竹,不对秋水垂下。—— R」&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;∑编辑 | Gemini&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;知乎专栏：知叶堂 &lt;/span&gt;&lt;/p&gt;
&lt;p helvetica=&quot;&quot; neue=&quot;&quot; pingfang=&quot;&quot; sc=&quot;&quot; hiragino=&quot;&quot; sans=&quot;&quot; gb=&quot;&quot; microsoft=&quot;&quot; yahei=&quot;&quot; ui=&quot;&quot; arial=&quot;&quot; sans-serif=&quot;&quot; px=&quot;&quot; normal=&quot;&quot; rgb=&quot;&quot; text-align:=&quot;&quot; center=&quot;&quot; border-box=&quot;&quot; important=&quot;&quot; break-word=&quot;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.0437601296596435&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;617&quot; data-src=&quot;http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/951TjTgiabky7x6u1VxMVMia4MLibNzC2nrumY3zDflTsCeoM04M1BrkvPny8tsw6hYkIicUr42iarLmadL2x6JwV6A/640?wx_fmt=png&quot; width=&quot;auto&quot; /&gt;&lt;/p&gt;
&lt;p helvetica=&quot;&quot; neue=&quot;&quot; pingfang=&quot;&quot; sc=&quot;&quot; hiragino=&quot;&quot; sans=&quot;&quot; gb=&quot;&quot; microsoft=&quot;&quot; yahei=&quot;&quot; ui=&quot;&quot; arial=&quot;&quot; sans-serif=&quot;&quot; px=&quot;&quot; normal=&quot;&quot; rgb=&quot;&quot; text-align:=&quot;&quot; center=&quot;&quot; border-box=&quot;&quot; important=&quot;&quot; break-word=&quot;&quot;&gt;&lt;span&gt;算法数学之美微信公众号欢迎赐稿&lt;/span&gt;&lt;/p&gt;
&lt;p helvetica=&quot;&quot; neue=&quot;&quot; pingfang=&quot;&quot; sc=&quot;&quot; hiragino=&quot;&quot; sans=&quot;&quot; gb=&quot;&quot; microsoft=&quot;&quot; yahei=&quot;&quot; ui=&quot;&quot; arial=&quot;&quot; sans-serif=&quot;&quot; px=&quot;&quot; normal=&quot;&quot; rgb=&quot;&quot; text-align:=&quot;&quot; center=&quot;&quot; border-box=&quot;&quot; important=&quot;&quot; break-word=&quot;&quot;&gt;&lt;span&gt;稿件涉及数学、物理、算法、计算机、编程等相关领域，经采用我们将奉上稿酬。&lt;/span&gt;&lt;/p&gt;
&lt;p helvetica=&quot;&quot; neue=&quot;&quot; pingfang=&quot;&quot; sc=&quot;&quot; hiragino=&quot;&quot; sans=&quot;&quot; gb=&quot;&quot; microsoft=&quot;&quot; yahei=&quot;&quot; ui=&quot;&quot; arial=&quot;&quot; sans-serif=&quot;&quot; px=&quot;&quot; normal=&quot;&quot; rgb=&quot;&quot; text-align:=&quot;&quot; center=&quot;&quot; border-box=&quot;&quot; important=&quot;&quot; break-word=&quot;&quot;&gt;&lt;span&gt;投稿邮箱：math_alg@163.com&lt;/span&gt;&lt;/p&gt;

</description>
<pubDate>Tue, 04 Sep 2018 23:35:44 +0000</pubDate>
<dc:language>zh-CN</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.jintiankansha.me/t/onbKA1EJ3P</dc:identifier>
</item>
</channel>
</rss>