<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>博客园_首页</title>
<link></link>
<description>代码改变世界</description>
<item>
<title>纯前端实现图片背景透明化 - 韩子卢</title>
<link>http://www.cnblogs.com/vvjiang/p/9005804.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/vvjiang/p/9005804.html</guid>
<description>&lt;h2 id=&quot;前言&quot;&gt;前言&lt;/h2&gt;
&lt;p&gt;不论是做一些2d的小游戏，或者制作小图标，或者抠图都需要用到这个功能，对图片的背景进行透明化，是我们经常需要用到的一个功能。&lt;/p&gt;
&lt;p&gt;通常情况下我们都会去下载PS或者美图秀秀这样的软件去制作。&lt;/p&gt;
&lt;p&gt;但是我真的不想仅仅为了做个透明图像就去下载这些软件，这些软件不仅体积大，要下载个半天，放在电脑上也占空间。&lt;/p&gt;
&lt;p&gt;最重要的是每次我做这个事情，都需要去临时百度一下制作透明图片的方法。&lt;/p&gt;
&lt;p&gt;这些软件固然强大，但是功能的众多或者需要一些基础知识，往往造成了一些门槛。&lt;/p&gt;
&lt;p&gt;简单点说，虽然瑞士军刀很6，但是我现在只需要一把起子，我不想知道什么蒙版图层，不想在一堆什么美颜什么各种滤镜之中找半天，我就想上传个图片点两下就好了。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;那么能不能在线对图片进行背景透明化呢？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;当然是有的，下面是网址&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;uri&quot; href=&quot;http://www.aigei.com/bgremover/&quot;&gt;http://www.aigei.com/bgremover/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;你以为我是来推荐网站的？当然不是。&lt;/p&gt;
&lt;p&gt;我之所以提到这个网站，是因为我以前就是用这个做一些处理的，但是真的不是很给力啊。&lt;/p&gt;
&lt;p&gt;我并不知道它的原理，也没有看过它的代码，但是它的缺陷很明显：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;不能对指定颜色进行透明化&lt;/li&gt;
&lt;li&gt;当需要对色差很大的多种颜色进行透明化时，无能为力&lt;/li&gt;
&lt;li&gt;对一些图片的透明化处理不够完美，会出现锯齿，但是又无法进行进一步处理&lt;/li&gt;
&lt;li&gt;对复杂图片完全无能为力&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;有问题就解决问题呗，于是就有了今天的小玩意。&lt;/p&gt;
&lt;h2 id=&quot;作品&quot;&gt;作品&lt;/h2&gt;
&lt;p&gt;与之前的作品一样，直接将功能写在这篇博客里了，所以可以直接在博客园中使用。&lt;/p&gt;
&lt;p&gt;使用方法：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;上传图片&lt;/li&gt;
&lt;li&gt;点击图片，将以鼠标点击处的颜色为标准，对色差20之内的颜色进行透明化处理。（如果想调整色差标准，可以在控制台下设置transparentConfig.colorDiff）&lt;/li&gt;
&lt;li&gt;对出现透明化处理有有误的地方，可以开启恢复模式，再次移动鼠标到图片上，此时鼠标会变成红色小方框，小方框区域内会显示原始图像。点击后会将红色小方框区域内的图像恢复为原始图像。（如果想调整小方框尺寸，可以在控制台下通过transparentConfig.setRecoverSize(30)的方式进行修改）&lt;/li&gt;
&lt;li&gt;下载图片，搞定。&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;当然按照本懒人的惯例，还是只在chrome浏览器下实现，所以如果您用其它浏览器的话可能无法正常操作。&lt;/p&gt;
&lt;p&gt;不过本应用的核心功能与以往一样都是可以在现代浏览器中实现的，只是需要您调一下兼容性。&lt;/p&gt;
&lt;p&gt;如果您有闲情逸致，想研究一下的话，这是为本项目的 &lt;a href=&quot;https://github.com/vvjiang/Img4Transparent&quot;&gt;GitHub地址&lt;/a&gt;，为了能方便复制进博客园，所以代码是直接写在html中的。&lt;/p&gt;
&lt;p&gt;少说废话，以下为应用：&lt;/p&gt;

&lt;h2 id=&quot;技术点&quot;&gt;技术点&lt;/h2&gt;
&lt;p&gt;本应用依然只使用纯前端实现，涉及到的技术点如下：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;获取图片文件&lt;/li&gt;
&lt;li&gt;将文件转换为图片,并放入canvas中&lt;/li&gt;
&lt;li&gt;点击canvas获取点击处的颜色信息&lt;/li&gt;
&lt;li&gt;根据指定颜色，对图像中在色差范围内的颜色进行透明化处理&lt;/li&gt;
&lt;li&gt;自定义鼠标，在鼠标上显示指定区域内原始图像&lt;/li&gt;
&lt;li&gt;对图像上指定区域，进行图像还原操作&lt;/li&gt;
&lt;li&gt;下载图片&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;其中技术点1，2，7在之前的一篇博客中有涉及到，所以这里就不再赘述，不了解的可以去看一下我之前写的那篇博客：&lt;a href=&quot;http://www.cnblogs.com/vvjiang/p/8673879.html&quot;&gt;在博客园里给图片加水印(canvas + drag)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;那么，接下来就让我们看一下具体的实现吧。&lt;/p&gt;
&lt;h2 id=&quot;点击图片获取点击处的颜色信息&quot;&gt;点击图片获取点击处的颜色信息&lt;/h2&gt;
&lt;p&gt;通过type为file类型的input获取到文件，然后通过FileReader读取文件信息后放入到canvas中。&lt;/p&gt;
&lt;p&gt;这是前两步所做的工作，现在我们需要做的是点击图像（实际上是canvas）获取到点击处的颜色信息。&lt;/p&gt;
&lt;p&gt;首先我们需要获取到原始图像的像素信息，并保存下来，这一步在图片加载时实现，部分代码如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; ctx = document.getElementById('target_canvas').getContext('2d'&lt;span&gt;);
imgDataArr &lt;/span&gt;= ctx.getImageData(0, 0, imgWidth, imgHeight).data;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt; 小课堂开始：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;canvas的getImageData会获取canvas中指定区域内的图像信息，返回一个ImageData对象。&lt;/p&gt;
&lt;p&gt;ImageData对象的data属性的值是一个Uint8ClampedArray对象，而这个对象就是图像的像素信息。&lt;/p&gt;
&lt;p&gt;Uint8ClampedArray看名字可以了解到，它是一个定型数组，里面的值都是0-255范围之内的值。&lt;/p&gt;
&lt;p&gt;假如我们有一个图片只有四个像素，长2px，宽2px。左上角的像素和右下角的像素为黑色，而右上角和左下角的像素为白色。&lt;/p&gt;
&lt;p&gt;如下图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/746209/201805/746209-20180507231941209-1152228683.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;那么这张图片会以怎样的形式存储在Uint8ClampedArray数组中呢？&lt;/p&gt;
&lt;p&gt;首先我们了解到白色的RGBA值为rgba(255,255,255,255)，黑色的RGBA值为rgba(0,0,0,255)。&lt;/p&gt;
&lt;p&gt;那么这张图片的分解为rgba值，分别为&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;44&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:true;&quot;&gt;
rgba(0,0,0,255)           rgba(255,255,255,255)
rgba(255,255,255,255)     rgba(0,0,0,255)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;那么颜色值将会以从左到右，从上至下的方式存储到Uint8ClampedArray数组中，如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;47&quot;&gt;
&lt;pre class=&quot;brush:csharp;gutter:true;&quot;&gt;
[0,0,0,255,255,255,255,255,255,255,255,255,0,0,0,255]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;小课堂讲解完毕，回到正题。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;现在我们已经拿到了原始图像的像素信息了，并存放在了imgDataArr这个Uint8ClampedArray数组中。&lt;/p&gt;
&lt;p&gt;如何获取鼠标点击处的像素信息呢？代码如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt;　　　/*&lt;/span&gt;&lt;span&gt;*
      * 获取图像数据中指定偏移处的颜色信息
      &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;function&lt;/span&gt;&lt;span&gt; getColorInfo(imgDataArr, offsetX, offsetY) {
      &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; pos = canvasInfo.width * 4 * offsetY + offsetX * 4&lt;span&gt;;
      &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; {
        rValue: imgDataArr[pos],
        gValue: imgDataArr[pos &lt;/span&gt;+ 1&lt;span&gt;],
        bValue: imgDataArr[pos &lt;/span&gt;+ 2&lt;span&gt;],
        aValue: imgDataArr[pos &lt;/span&gt;+ 3&lt;span&gt;]
      }
    }

    &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
     * 非恢复模式下，点击canvas，以点击处颜色为标准，去掉颜色色差在指定色差范围内的颜色
     &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;function&lt;/span&gt;&lt;span&gt; transparetModeCanvasClick(e) {
      &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (imgDataArr.length === 0&lt;span&gt;) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
      }
      &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (resultImgDataArr.length === 0&lt;span&gt;) {
        resultImgDataArr &lt;/span&gt;= imgDataArr.slice(0&lt;span&gt;)
      }
      &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; clickColorInfo =&lt;span&gt; getColorInfo(resultImgDataArr, e.offsetX, e.offsetY)
      ...
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;我们会给canvas绑定回调函数为transparetModeCanvasClick的click事件，那么，在鼠标点击canvas后，我们就可以获取到鼠标相对于canvas左上角的点击位置。&lt;/p&gt;
&lt;p&gt;imgDataArr里面保存的是原始的图像像素信息，之后还会用到，所以这里不做处理。&lt;/p&gt;
&lt;p&gt;那么就copy数据到当前像素信息数组resultImgDataArr中。&lt;/p&gt;
&lt;p&gt;然后获取像素信息时需要计算像素在一维数组中的位置：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; pos = canvasInfo.width * 4 * offsetY + offsetX * 4;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;根据上面的表达式得到点击的那个像素在一维数组中的位置，如果有仔细阅读之前Uint8ClampedArray存储像素信息的方式，这个表达式应该不难理解。&lt;/p&gt;
&lt;h2 id=&quot;判断颜色与指定颜色的色差并做透明化处理&quot;&gt;判断颜色与指定颜色的色差，并做透明化处理&lt;/h2&gt;
&lt;p&gt;在获取到点击像素的颜色信息后，我们需要去遍历整个canvas的像素信息，对于色差小于指定范围的颜色做透明化处理。代码如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;52&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
 * 获取图像数据指定位置颜色与指定颜色的色差
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; getColorDiff(imgDataArr, pos, colorInfo) {
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; value = Math.pow(imgDataArr[pos] - colorInfo.rValue, 2) +&lt;span&gt;
    Math.pow(imgDataArr[pos &lt;/span&gt;+ 1] - colorInfo.gValue, 2) +&lt;span&gt;
    Math.pow(imgDataArr[pos &lt;/span&gt;+ 2] - colorInfo.bValue, 2&lt;span&gt;);

    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; Math.pow(value, 0.5&lt;span&gt;);
}
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
 * 设置图像数据指定位置为透明色
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; setTransparent(imgDataArr, pos) {
  imgDataArr[pos] &lt;/span&gt;= 0&lt;span&gt;;
  imgDataArr[pos &lt;/span&gt;+ 1] = 0&lt;span&gt;;
  imgDataArr[pos &lt;/span&gt;+ 2] = 0&lt;span&gt;;
  imgDataArr[pos &lt;/span&gt;+ 3] = 0&lt;span&gt;;
}
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
 * 非恢复模式下，点击canvas，以点击处颜色为标准，去掉颜色色差在指定色差范围内的颜色
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; transparetModeCanvasClick(e) {
  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (imgDataArr.length === 0&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
  }
  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (resultImgDataArr.length === 0&lt;span&gt;) {
    resultImgDataArr &lt;/span&gt;= imgDataArr.slice(0&lt;span&gt;)
  }
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; clickColorInfo =&lt;span&gt; getColorInfo(resultImgDataArr, e.offsetX, e.offsetY)
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; ctx = document.getElementById('target_canvas').getContext('2d'&lt;span&gt;);
  &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; pos = 0, len = canvasInfo.height * canvasInfo.height * 4; pos &amp;lt; len; pos = pos + 4&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (getColorDiff(resultImgDataArr, pos, clickColorInfo) &amp;lt;&lt;span&gt; transparentConfig.colorDiff) {
      setTransparent(resultImgDataArr, pos);
    }
  }
  ctx.putImageData(&lt;/span&gt;&lt;span&gt;new&lt;/span&gt; ImageData(resultImgDataArr, canvasInfo.width, canvasInfo.height), 0, 0&lt;span&gt;);
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;色差计算公式为将rgb三个值的颜色相减，将他们的平方和进行开方即可。&lt;/p&gt;
&lt;p&gt;至于设置图片为透明色，实际上只需要将&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
imgDataArr[pos + 3] = 0;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;即可。&lt;br/&gt;但是为了和一般声明的透明颜色保持一致，还是将其他几个值都设为0。&lt;/p&gt;
&lt;p&gt;将数据设为透明色的数据之后，需要调用canvas的putImageData方法将整个图像的数据设置到canvas中。&lt;/p&gt;
&lt;p&gt;至此，我们完成了对图像进行透明化处理的整个过程。&lt;br/&gt;但是仍然不够，因为对于复杂图像而言，这种方式处理起来太过粗暴，无法做到精细化的处理。&lt;br/&gt;所以接下来我们要实现恢复模式，对于处理的不好的地方进行恢复原始图像的操作。&lt;/p&gt;
&lt;h2 id=&quot;恢复模式的探讨&quot;&gt;恢复模式的探讨&lt;/h2&gt;
&lt;p&gt;在恢复模式下，当我们鼠标移动到canvas上时，鼠标显示为一个小方框，小方框内是原始图像。&lt;br/&gt;当我们点击鼠标时，小方框内的图像会重新覆盖到当前图像上，从而达到恢复原有图像的效果。&lt;/p&gt;
&lt;p&gt;全篇下来，其实在这个地方才开始显得有趣。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; 最初方案（隐藏鼠标 + canvas） &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在想到通过这个办法进行精细化操作之后，第一反应是隐藏鼠标，并在移动鼠标时跟随一个小的canvas，这个小canvas中显示的是原始图像。&lt;/p&gt;
&lt;p&gt;事实上最开始也是这么做的，如果各位有兴趣的话可以参考我github上的提交方案，上面有这个方案的实现。&lt;/p&gt;
&lt;p&gt;虽然这个方案可以实现效果，但是存在一个很明显的性能问题，操作起来会有顿卡的感觉。&lt;/p&gt;
&lt;p&gt;原因就是在进行鼠标移动的时候，会频繁的计算图像信息，再写入到小canvas中。&lt;/p&gt;
&lt;p&gt;虽然后来加了个防抖函数，并将移动方框放在防抖函数外，使得红色小框可以即时移动，其中的内容不会出现顿卡，但是因为防抖函数的存在，必然会有一点小小的延迟。&lt;/p&gt;
&lt;p&gt;作为一个懒人其实我觉得做到这里就可以了，因为这样我也可以用了。&lt;/p&gt;
&lt;p&gt;然而，纠结了半天还是改了，这种卡顿实在是蛋疼得紧。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;现在的方案（隐藏鼠标 + background-image） &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;现在的方案是在鼠标移动时，隐藏鼠标，并在鼠标那里加一个div，div里面设置原始图像的背景图片。&lt;/p&gt;
&lt;p&gt;在移动鼠标时，不仅会对鼠标的位置进行重新计算（说是位置，实际上用的是translate，而不是top+left），还会对背景图片的位置进行重新计算，这样就可以实现同样的效果了。&lt;/p&gt;
&lt;p&gt;通过这种方案，在我的电脑上移动红框和计算恢复图像的方式很流畅，完全感觉不到卡顿。&lt;/p&gt;
&lt;p&gt;如果在低配电脑上有卡顿的情况，这里也可以加一个防抖函数来处理。&lt;/p&gt;
&lt;h2 id=&quot;恢复模式的实现&quot;&gt;恢复模式的实现&lt;/h2&gt;
&lt;p&gt;那么让我们现在来看一看恢复模式下鼠标在canvas上移动时的代码：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 根据鼠标的偏移位置获取recover_img位置&lt;/span&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; getRecoverImgPos(e) {
  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 给鼠标位置+1，是为了让recover_img不会出现在鼠标下方，从而使得鼠标点击时不会点击在recover_img上&lt;/span&gt;
  &lt;span&gt;return&lt;/span&gt;&lt;span&gt; {
    x: e.offsetX &lt;/span&gt;+ 1&lt;span&gt;,
    y: e.offsetY &lt;/span&gt;+ 1&lt;span&gt;
  }
}

&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
 * 恢复模式下，鼠标在canvas上移动，呈现原先图像
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; recoverModeCanvasMove(e) {
  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (imgDataArr.length === 0&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
  }
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; $recoverImg = $(&quot;#recover_img&quot;&lt;span&gt;);
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; recoverImgPos =&lt;span&gt; getRecoverImgPos(e)
  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (recoverImgPos.x &amp;gt; canvasInfo.width - recoverSize || recoverImgPos.y &amp;gt; canvasInfo.height -&lt;span&gt; recoverSize) {
  $recoverImg.hide();
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
  } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
    $recoverImg.show();
  }
  $recoverImg.css({
    transform: &lt;/span&gt;'translate(' + recoverImgPos.x + 'px,' + recoverImgPos.y + 'px)'&lt;span&gt;,
    &lt;/span&gt;'background-position': (-recoverImgPos.x - 1) + 'px ' + (-recoverImgPos.y - 1) + 'px'&lt;span&gt;
  });
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在上面的代码中我们会根据鼠标的位置重新计算恢复图像所在的div的位置，然后判断是否触边来决定是否隐藏。&lt;br/&gt;接着再来计算其位置。&lt;/p&gt;
&lt;p&gt;这里有一个坑点在注释里面也写了，就是恢复图像实际上并没有和鼠标重叠，以防止我们在点击时点到恢复图像上而不是canvas上。&lt;/p&gt;
&lt;p&gt;另外如果大家细心查看css样式的话，会发现两个小坑点：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;在样式里面对恢复图像和canvas上的鼠标样式都设置了隐藏，原因是避免当鼠标拖动过快时鼠标会出现在恢复图像上，出现鼠标闪烁情况&lt;/li&gt;
&lt;li&gt;恢复图像本身就有一个top：1px和left：1px的初始值，这是因为我们的canvas有一个1px的border，而绝对定位的位置是相对于canvas的父级的。&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;然后再来看看点击恢复图像的代码：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
 * 恢复模式下，点击canvas，将点击处指定范围内图像恢复原样
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; recoverModeCanvasClick(e) {
  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (imgDataArr.length === 0&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
  }
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; recoverImgPos =&lt;span&gt; getRecoverImgPos(e);
  &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; i = 0, ylen = recoverSize; i &amp;lt; ylen; i++&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; pos = canvasInfo.width * 4 * (recoverImgPos.y + i) + recoverImgPos.x * 4&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; j = pos, xlen = pos + recoverSize * 4; j &amp;lt; xlen; j++&lt;span&gt;) {
      resultImgDataArr[j] &lt;/span&gt;=&lt;span&gt; imgDataArr[j]
    }
  }
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; ctx = document.getElementById('target_canvas').getContext('2d'&lt;span&gt;);
  ctx.putImageData(&lt;/span&gt;&lt;span&gt;new&lt;/span&gt; ImageData(resultImgDataArr, canvasInfo.width, canvasInfo.height), 0, 0&lt;span&gt;);
  setCanvasImgToDownloadLink()
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;同样是先根据鼠标位置获取恢复图像的位置，然后根据偏移量去计算位置。&lt;/p&gt;
&lt;p&gt;我们得注意到虽然我们的恢复图像是一块完整的相连接的区域，但是在&lt;br/&gt;Uint8ClampedArray数组中的数据并不是相连接的，需要我们去计算。&lt;/p&gt;
&lt;p&gt;将最开始我们保存初始图像像素数组imgDataArr赋值到当前处理的图像像素数组中。&lt;/p&gt;
&lt;p&gt;最后将处理好的像素数组以putImageData的方式放入数组即可。&lt;/p&gt;
&lt;h2 id=&quot;总结&quot;&gt;总结&lt;/h2&gt;
&lt;p&gt;这个小应用现在可以满足我的需求了，但是它依然存在很多不足与改进空间，比如：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;兼容性&lt;/li&gt;
&lt;li&gt;色差的调整，现在是放在控制台之中。即使是拿出来也可能只是一个输入框。实际上这个地方是可以做的更加完美，在应对一个复杂图片时，当我们点击一个像素后，可以保存这个像素，并出现一个调整色差的滑动条，拖动这个滑动条图像会针对色差在原基础上实时进行透明化和恢复图像的处理。&lt;/li&gt;
&lt;li&gt;恢复图像尺寸的调整，可以通过鼠标滑轮滚动的方式进行处理&lt;/li&gt;
&lt;li&gt;返回操作。可以增加回退功能。&lt;/li&gt;
&lt;li&gt;依然存在的一些小bug，以及仍然不够智能不够完美的图像处理，因为我真的只想点一下然后就自动处理好。&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;本期分享结束，依然是一个小应用，依然是一堆你可能知道也可能不知道的小知识点。&lt;/p&gt;
&lt;p&gt;最后例行说明，右下角的精灵球是点赞，这已经是我连续几篇文章说明了，并且那么大几个字已经写明了。&lt;br/&gt;因为有几个园友引用了这个精灵球，所以你们应该也形成了精灵球即是点赞的心理预期和用户习惯了吧。&lt;br/&gt;如果你不小心点错了，请刷新页面，那么精灵球那里会出现取消点赞的按钮。&lt;/p&gt;
&lt;p&gt;下次不会再解释了。&lt;/p&gt;
</description>
<pubDate>Mon, 07 May 2018 15:28:00 +0000</pubDate>
<dc:creator>韩子卢</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/vvjiang/p/9005804.html</dc:identifier>
</item>
<item>
<title>unity零基础开始学习做游戏（四）biu~biu~biu发射子弹打飞机 - AGamer</title>
<link>http://www.cnblogs.com/agamer/p/9003622.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/agamer/p/9003622.html</guid>
<description>&lt;h3&gt;-------小基原创，转载请给我一个面子&lt;/h3&gt;
&lt;h3&gt;　　主角都能移动了，那不得做点什么伸张正义，守护世界和平的事嘛，拿起家伙biu~biu~biu~&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507153226158-1485879909.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;首先得做一个好人和一个坏人&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507153519123-754636750.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;老规矩，Canvas下创建两个Image，一个叫做player，一个叫做enemy1好了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507153716962-23008363.png&quot; alt=&quot;&quot;/&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507153730910-1191558826.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;一个红色，一个蓝色（自古红蓝出CP，不好意思，走错片场了●﹏●）&lt;/p&gt;
&lt;p&gt; &lt;span&gt;新知识：要加BoxCollider2D&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;子弹打到别人，其实是碰撞检测的过程&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;一种是根据位置坐标，判断子弹有没有打中，另一种是使用物理碰撞系统（小基这里使用后者）&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; 两个物体&lt;span&gt;物理碰撞检测条件&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1.物体A，物体B，必须都有Collider&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2.运动的一方要有刚体（本例对应的是子弹，后面介绍）&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507154339296-1223128192.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;最终效果是这样的。&lt;/p&gt;


&lt;p&gt;下面开始制作子弹&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507154505455-1748667063.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Canvas下创建一个Image，修改名字叫做Bullet，使用自带的圆形图片凑合用吧&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507154645566-2068945688.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;同样添加BoxCollider2D，最后切记添加RigidBody，不然没法碰撞成功&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507160112486-829749449.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;额外提一句，重力调成0吧，不然子弹抛物线飞=_=&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507154759883-1696092576.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;现在看起来是这样的。&lt;/p&gt;

&lt;p&gt;接下来想想怎么让子弹动起来，上代码（创建一个脚本Bullet），给那个子弹挂上&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; System.Collections;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; System.Collections.Generic;
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; UnityEngine;
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Bullet : MonoBehaviour {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;float&lt;/span&gt; speed = &lt;span&gt;15&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; Vector2 dir = &lt;span&gt;new&lt;/span&gt; Vector2(&lt;span&gt;1&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;float&lt;/span&gt; lifeTime =&lt;span&gt; 5f;
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; 
&lt;span&gt;11&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;float&lt;/span&gt; damage = &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Use this for initialization&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Start () {
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;        DestroySelf(lifeTime);
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;     
&lt;span&gt;17&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Update is called once per frame&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Update () {
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;         &lt;span&gt;this&lt;/span&gt;.transform.Translate(dir * speed *&lt;span&gt; Time.deltaTime, Space.World);
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; 
&lt;span&gt;22&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt; DestroySelf(&lt;span&gt;float&lt;/span&gt;&lt;span&gt; time)
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;         Destroy(&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.gameObject, time);
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt; 
&lt;span&gt;27&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; OnTriggerEnter2D(Collider2D other)
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Debug.Log(&quot;enter&quot;);&lt;/span&gt;
&lt;span&gt;30&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (other.gameObject.tag == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Enemy&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; &lt;span&gt;        {&lt;br/&gt;&lt;/span&gt;&lt;span&gt;33&lt;/span&gt;             Destroy(&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.gameObject);
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;start()里面调用DestroySelf()，意思是子弹存活lifeTime 时间后，自动消失。不然“让子弹飞”飞到啥时候是个头啊，飞出屏幕外就没有意义了。存活时间可以自己控制&lt;/p&gt;
&lt;p&gt;Update()方法里面，每帧都在按照指定的dir方向移动，你想让子弹怎么飞，朝哪飞，就自行设计吧，螺旋升天都没有问题~&lt;/p&gt;
&lt;p&gt;OnTriggerEnter2D这个方法是Unity自带的，用处就是当进入碰撞盒Collider时调用，小基的内容是销毁自己，不是~意思是销毁掉子弹&lt;/p&gt;
&lt;p&gt;这里加了一个if的判断，判断tag是不是Enemy，毕竟打到友军可是会被喷猪队友的&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507160448661-1067231606.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Tag一般默认是Untagged的，点击一下后有弹出AddTag这个选项，然后&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507160616783-1069142580.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;点击加号，可以自己创建需要的tag，这样可以给不同类别的物体做区分。&lt;/p&gt;

&lt;p&gt; 下面考虑怎么让主角射出子弹，这个就需要代码控制了&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;57&quot;&gt;
&lt;pre&gt;
&lt;span&gt;  1&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; System.Collections;
&lt;/span&gt;&lt;span&gt;  2&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; System.Collections.Generic;
&lt;/span&gt;&lt;span&gt;  3&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; UnityEngine;
&lt;/span&gt;&lt;span&gt;  4&lt;/span&gt; 
&lt;span&gt;  5&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; MyInput2 : MonoBehaviour {
&lt;/span&gt;&lt;span&gt;  6&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;移动方向枚举&lt;/span&gt;
&lt;span&gt;  7&lt;/span&gt;     &lt;span&gt;enum&lt;/span&gt;&lt;span&gt; MoveDir
&lt;/span&gt;&lt;span&gt;  8&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;  9&lt;/span&gt;         None = &lt;span&gt;0&lt;/span&gt;,       &lt;span&gt;//&lt;/span&gt;&lt;span&gt;不动&lt;/span&gt;
&lt;span&gt; 10&lt;/span&gt;         Up = &lt;span&gt;1&lt;/span&gt;,         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;上8&lt;/span&gt;
&lt;span&gt; 11&lt;/span&gt;         Down = -&lt;span&gt;1&lt;/span&gt;,      &lt;span&gt;//&lt;/span&gt;&lt;span&gt;下2&lt;/span&gt;
&lt;span&gt; 12&lt;/span&gt;         Left = &lt;span&gt;10&lt;/span&gt;,      &lt;span&gt;//&lt;/span&gt;&lt;span&gt;左4&lt;/span&gt;
&lt;span&gt; 13&lt;/span&gt;         Right = -&lt;span&gt;10&lt;/span&gt;,    &lt;span&gt;//&lt;/span&gt;&lt;span&gt;右6&lt;/span&gt;
&lt;span&gt; 14&lt;/span&gt;         UL = &lt;span&gt;11&lt;/span&gt;,        &lt;span&gt;//&lt;/span&gt;&lt;span&gt;左上7&lt;/span&gt;
&lt;span&gt; 15&lt;/span&gt;         UR = -&lt;span&gt;9&lt;/span&gt;,        &lt;span&gt;//&lt;/span&gt;&lt;span&gt;右上9&lt;/span&gt;
&lt;span&gt; 16&lt;/span&gt;         DL = &lt;span&gt;9&lt;/span&gt;,         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;左下1&lt;/span&gt;
&lt;span&gt; 17&lt;/span&gt;         DR = -&lt;span&gt;11&lt;/span&gt;,       &lt;span&gt;//&lt;/span&gt;&lt;span&gt;右下3&lt;/span&gt;
&lt;span&gt; 18&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 19&lt;/span&gt; 
&lt;span&gt; 20&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;输入按键常量（之后走配置）&lt;/span&gt;
&lt;span&gt; 21&lt;/span&gt;     &lt;span&gt;const&lt;/span&gt; KeyCode INPUT_UP =&lt;span&gt; KeyCode.W;
&lt;/span&gt;&lt;span&gt; 22&lt;/span&gt;     &lt;span&gt;const&lt;/span&gt; KeyCode INPUT_DOWN =&lt;span&gt; KeyCode.S;
&lt;/span&gt;&lt;span&gt; 23&lt;/span&gt;     &lt;span&gt;const&lt;/span&gt; KeyCode INPUT_LEFT =&lt;span&gt; KeyCode.A;
&lt;/span&gt;&lt;span&gt; 24&lt;/span&gt;     &lt;span&gt;const&lt;/span&gt; KeyCode INPUT_RIGHT =&lt;span&gt; KeyCode.D;
&lt;/span&gt;&lt;span&gt; 25&lt;/span&gt; 
&lt;span&gt; 26&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;默认移动方向&lt;/span&gt;
&lt;span&gt; 27&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; MoveDir moveDir =&lt;span&gt; MoveDir.None;
&lt;/span&gt;&lt;span&gt; 28&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;按压值&lt;/span&gt;
&lt;span&gt; 29&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; moveDirValue = &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 30&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;按压记录&lt;/span&gt;
&lt;span&gt; 31&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; isUpPress = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 32&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; isDownPress = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 33&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; isLeftPress = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 34&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; isRightPress = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 35&lt;/span&gt; 
&lt;span&gt; 36&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;是否可以移动&lt;/span&gt;
&lt;span&gt; 37&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; canMove = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 38&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;右移动&lt;/span&gt;
&lt;span&gt; 39&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; Vector3 MOVE_RIGHT = &lt;span&gt;new&lt;/span&gt; Vector3(&lt;span&gt;1&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 40&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;上移动&lt;/span&gt;
&lt;span&gt; 41&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; Vector3 MOVE_UP = &lt;span&gt;new&lt;/span&gt; Vector3(&lt;span&gt;0&lt;/span&gt;, &lt;span&gt;1&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 42&lt;/span&gt; 
&lt;span&gt; 43&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;外部调控速度&lt;/span&gt;
&lt;span&gt; 44&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;float&lt;/span&gt; speed =&lt;span&gt; 2f;
&lt;/span&gt;&lt;span&gt; 45&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;移动速度向量&lt;/span&gt;
&lt;span&gt; 46&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; Vector3 move_speed_dir =&lt;span&gt; Vector3.zero;
&lt;/span&gt;&lt;span&gt; 47&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;移动距离&lt;/span&gt;
&lt;span&gt; 48&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; Vector3 move_dis =&lt;span&gt; Vector3.zero;
&lt;/span&gt;&lt;span&gt; 49&lt;/span&gt; 
&lt;span&gt; 50&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;控制目标&lt;/span&gt;
&lt;span&gt; 51&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; Transform target;
&lt;/span&gt;&lt;span&gt; 52&lt;/span&gt; 
&lt;span&gt; 53&lt;/span&gt; 
&lt;span&gt; 54&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标按下时的坐标&lt;/span&gt;
&lt;span&gt; 55&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; Vector3 mouseStartPos =&lt;span&gt; Vector3.zero;
&lt;/span&gt;&lt;span&gt; 56&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标是否按下&lt;/span&gt;
&lt;span&gt; 57&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; isMousePress = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 58&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标枚举&lt;/span&gt;
&lt;span&gt; 59&lt;/span&gt;     &lt;span&gt;const&lt;/span&gt; KeyCode INPUT_MOUSE =&lt;span&gt; KeyCode.Mouse0;
&lt;/span&gt;&lt;span&gt; 60&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标拖动范围&lt;/span&gt;
&lt;span&gt; 61&lt;/span&gt;     &lt;span&gt;const&lt;/span&gt; &lt;span&gt;float&lt;/span&gt; MOUSE_RADIUS = &lt;span&gt;20&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 62&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标移动向量&lt;/span&gt;
&lt;span&gt; 63&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; Vector3 mouseDir =&lt;span&gt; Vector3.zero;
&lt;/span&gt;&lt;span&gt; 64&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标速度衰减&lt;/span&gt;
&lt;span&gt; 65&lt;/span&gt;     &lt;span&gt;private&lt;/span&gt; &lt;span&gt;float&lt;/span&gt; mouseSpeedRate = &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 66&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标速度&lt;/span&gt;
&lt;span&gt; 67&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;float&lt;/span&gt; mouseSpeed = &lt;span&gt;100&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 68&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;摇杆底&lt;/span&gt;
&lt;span&gt; 69&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; RectTransform joyStickDown;
&lt;/span&gt;&lt;span&gt; 70&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;摇杆顶&lt;/span&gt;
&lt;span&gt; 71&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; RectTransform joyStickUp;
&lt;/span&gt;&lt;span&gt; 72&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;摄像机&lt;/span&gt;
&lt;span&gt; 73&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; Camera camera;
&lt;/span&gt;&lt;span&gt; 74&lt;/span&gt; 
&lt;span&gt; 75&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;子弹prefab&lt;/span&gt;
&lt;span&gt; 76&lt;/span&gt; &lt;span&gt;    GameObject prefabBullet;
&lt;/span&gt;&lt;span&gt; 77&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;是否开火&lt;/span&gt;
&lt;span&gt; 78&lt;/span&gt;     &lt;span&gt;bool&lt;/span&gt; isFire = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 79&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Use this for initialization&lt;/span&gt;
&lt;span&gt; 80&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Start () {
&lt;/span&gt;&lt;span&gt; 81&lt;/span&gt;         prefabBullet = (GameObject)Resources.Load(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Prefab/Bullet&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 82&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Debug.Log(&quot;bullet:&quot; + prefabBullet);&lt;/span&gt;
&lt;span&gt; 83&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 84&lt;/span&gt;     
&lt;span&gt; 85&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; Update is called once per frame&lt;/span&gt;
&lt;span&gt; 86&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Update () {
&lt;/span&gt;&lt;span&gt; 87&lt;/span&gt; &lt;span&gt;        CheckInputKey();
&lt;/span&gt;&lt;span&gt; 88&lt;/span&gt; &lt;span&gt;        CheckMoveDir();
&lt;/span&gt;&lt;span&gt; 89&lt;/span&gt; &lt;span&gt;        CheckMouseDir();
&lt;/span&gt;&lt;span&gt; 90&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 91&lt;/span&gt; 
&lt;span&gt; 92&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; FixedUpdate()
&lt;/span&gt;&lt;span&gt; 93&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt; 94&lt;/span&gt; &lt;span&gt;        CheckMove();
&lt;/span&gt;&lt;span&gt; 95&lt;/span&gt; &lt;span&gt;        CheckFire();
&lt;/span&gt;&lt;span&gt; 96&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt; 97&lt;/span&gt; 
&lt;span&gt; 98&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;检测输入按键&lt;/span&gt;
&lt;span&gt; 99&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; CheckInputKey()
&lt;/span&gt;&lt;span&gt;100&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;101&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;检测单一输入&lt;/span&gt;
&lt;span&gt;102&lt;/span&gt;         &lt;span&gt;foreach&lt;/span&gt; (KeyCode kcode &lt;span&gt;in&lt;/span&gt; System.Enum.GetValues(&lt;span&gt;typeof&lt;/span&gt;&lt;span&gt;(KeyCode)))
&lt;/span&gt;&lt;span&gt;103&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;104&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (Input.GetKeyDown(kcode))
&lt;/span&gt;&lt;span&gt;105&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt;106&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Debug.Log(&quot;Single KeyCode Down: &quot; + kcode);&lt;/span&gt;
&lt;span&gt;107&lt;/span&gt;                 ChangeKeyPressState(kcode, &lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;108&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;109&lt;/span&gt; 
&lt;span&gt;110&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (Input.GetKeyUp(kcode))
&lt;/span&gt;&lt;span&gt;111&lt;/span&gt; &lt;span&gt;            {
&lt;/span&gt;&lt;span&gt;112&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;Debug.Log(&quot;Single KeyCode Up: &quot; + kcode);&lt;/span&gt;
&lt;span&gt;113&lt;/span&gt;                 ChangeKeyPressState(kcode, &lt;span&gt;false&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;114&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;115&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;116&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;117&lt;/span&gt; 
&lt;span&gt;118&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;记录按键的按压状态&lt;/span&gt;
&lt;span&gt;119&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt; ChangeKeyPressState(KeyCode keyCode, &lt;span&gt;bool&lt;/span&gt;&lt;span&gt; isPress)
&lt;/span&gt;&lt;span&gt;120&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;121&lt;/span&gt;         &lt;span&gt;switch&lt;/span&gt;&lt;span&gt;(keyCode)
&lt;/span&gt;&lt;span&gt;122&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;123&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt;&lt;span&gt; INPUT_UP:
&lt;/span&gt;&lt;span&gt;124&lt;/span&gt;                 isUpPress =&lt;span&gt; isPress;
&lt;/span&gt;&lt;span&gt;125&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;126&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt;&lt;span&gt; INPUT_DOWN:
&lt;/span&gt;&lt;span&gt;127&lt;/span&gt;                 isDownPress =&lt;span&gt; isPress;
&lt;/span&gt;&lt;span&gt;128&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;129&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt;&lt;span&gt; INPUT_LEFT:
&lt;/span&gt;&lt;span&gt;130&lt;/span&gt;                 isLeftPress =&lt;span&gt; isPress;
&lt;/span&gt;&lt;span&gt;131&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;132&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt;&lt;span&gt; INPUT_RIGHT:
&lt;/span&gt;&lt;span&gt;133&lt;/span&gt;                 isRightPress =&lt;span&gt; isPress;
&lt;/span&gt;&lt;span&gt;134&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;135&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt;&lt;span&gt; INPUT_MOUSE:
&lt;/span&gt;&lt;span&gt;136&lt;/span&gt; &lt;span&gt;                MouseStateChange(isPress);
&lt;/span&gt;&lt;span&gt;137&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;138&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt;&lt;span&gt; INPUT_FIRE:
&lt;/span&gt;&lt;span&gt;139&lt;/span&gt;                 isFire =&lt;span&gt; isPress;
&lt;/span&gt;&lt;span&gt;140&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;141&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;142&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;143&lt;/span&gt; 
&lt;span&gt;144&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标按键输入&lt;/span&gt;
&lt;span&gt;145&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt; MouseStateChange(&lt;span&gt;bool&lt;/span&gt;&lt;span&gt; isPress)
&lt;/span&gt;&lt;span&gt;146&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;147&lt;/span&gt;         isMousePress =&lt;span&gt; isPress;
&lt;/span&gt;&lt;span&gt;148&lt;/span&gt;         mouseStartPos = isPress ?&lt;span&gt; Input.mousePosition : Vector3.zero;
&lt;/span&gt;&lt;span&gt;149&lt;/span&gt; &lt;span&gt;        joyStickDown.gameObject.SetActive(isPress);
&lt;/span&gt;&lt;span&gt;150&lt;/span&gt;         joyStickDown.position =&lt;span&gt; camera.ScreenToWorldPoint(mouseStartPos);
&lt;/span&gt;&lt;span&gt;151&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;152&lt;/span&gt; 
&lt;span&gt;153&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;鼠标移动&lt;/span&gt;
&lt;span&gt;154&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; CheckMouseDir()
&lt;/span&gt;&lt;span&gt;155&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;156&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt;(isMousePress)
&lt;/span&gt;&lt;span&gt;157&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;158&lt;/span&gt;             mouseDir = Input.mousePosition -&lt;span&gt; mouseStartPos;
&lt;/span&gt;&lt;span&gt;159&lt;/span&gt;             mouseSpeedRate = Mathf.Min(mouseDir.magnitude / MOUSE_RADIUS, &lt;span&gt;1&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;160&lt;/span&gt;             move_dis = mouseSpeed * mouseSpeedRate * Time.deltaTime *&lt;span&gt; mouseDir.normalized;
&lt;/span&gt;&lt;span&gt;161&lt;/span&gt;             target.position +=&lt;span&gt; move_dis;
&lt;/span&gt;&lt;span&gt;162&lt;/span&gt;             joyStickUp.localPosition = mouseDir.normalized * mouseSpeedRate *&lt;span&gt; MOUSE_RADIUS;
&lt;/span&gt;&lt;span&gt;163&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;164&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;165&lt;/span&gt; 
&lt;span&gt;166&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;确定移动方向&lt;/span&gt;
&lt;span&gt;167&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; CheckMoveDir()
&lt;/span&gt;&lt;span&gt;168&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;169&lt;/span&gt;         moveDirValue = &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;170&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;确定方向&lt;/span&gt;
&lt;span&gt;171&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt;(isUpPress)
&lt;/span&gt;&lt;span&gt;172&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;173&lt;/span&gt;             moveDirValue += (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.Up;
&lt;/span&gt;&lt;span&gt;174&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;175&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (isDownPress)
&lt;/span&gt;&lt;span&gt;176&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;177&lt;/span&gt;             moveDirValue += (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.Down;
&lt;/span&gt;&lt;span&gt;178&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;179&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (isLeftPress)
&lt;/span&gt;&lt;span&gt;180&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;181&lt;/span&gt;             moveDirValue += (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.Left;
&lt;/span&gt;&lt;span&gt;182&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;183&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (isRightPress)
&lt;/span&gt;&lt;span&gt;184&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;185&lt;/span&gt;             moveDirValue += (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.Right;
&lt;/span&gt;&lt;span&gt;186&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;187&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;188&lt;/span&gt; 
&lt;span&gt;189&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;检测是否可以移动&lt;/span&gt;
&lt;span&gt;190&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; CheckMove()
&lt;/span&gt;&lt;span&gt;191&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;192&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;某些情况下可能禁止移动，例如暂停，播放CG等&lt;/span&gt;
&lt;span&gt;193&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;(canMove &amp;amp;&amp;amp; moveDirValue != (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.None)
&lt;/span&gt;&lt;span&gt;194&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;195&lt;/span&gt; &lt;span&gt;            PlayerMove(target, speed);
&lt;/span&gt;&lt;span&gt;196&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;197&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;198&lt;/span&gt; 
&lt;span&gt;199&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;移动&lt;/span&gt;
&lt;span&gt;200&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt; PlayerMove(Transform target, &lt;span&gt;float&lt;/span&gt;&lt;span&gt; speed)
&lt;/span&gt;&lt;span&gt;201&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;202&lt;/span&gt;         move_dis = speed * Time.deltaTime *&lt;span&gt; GetSpeedDir();
&lt;/span&gt;&lt;span&gt;203&lt;/span&gt;         target.position +=&lt;span&gt; move_dis;
&lt;/span&gt;&lt;span&gt;204&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;205&lt;/span&gt; 
&lt;span&gt;206&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;速度向量&lt;/span&gt;
&lt;span&gt;207&lt;/span&gt; &lt;span&gt;    Vector3 GetSpeedDir()
&lt;/span&gt;&lt;span&gt;208&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;209&lt;/span&gt;         &lt;span&gt;switch&lt;/span&gt;&lt;span&gt;(moveDirValue)
&lt;/span&gt;&lt;span&gt;210&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;211&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.Up:
&lt;/span&gt;&lt;span&gt;212&lt;/span&gt;                 move_speed_dir =&lt;span&gt; MOVE_UP;
&lt;/span&gt;&lt;span&gt;213&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;214&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.Down:
&lt;/span&gt;&lt;span&gt;215&lt;/span&gt;                 move_speed_dir = -&lt;span&gt;MOVE_UP;
&lt;/span&gt;&lt;span&gt;216&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;217&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.Left:
&lt;/span&gt;&lt;span&gt;218&lt;/span&gt;                 move_speed_dir = -&lt;span&gt;MOVE_RIGHT;
&lt;/span&gt;&lt;span&gt;219&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;220&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.Right:
&lt;/span&gt;&lt;span&gt;221&lt;/span&gt;                 move_speed_dir =&lt;span&gt; MOVE_RIGHT;
&lt;/span&gt;&lt;span&gt;222&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;223&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.UL:
&lt;/span&gt;&lt;span&gt;224&lt;/span&gt;                 move_speed_dir = MOVE_UP -&lt;span&gt; MOVE_RIGHT;
&lt;/span&gt;&lt;span&gt;225&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;226&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.UR:
&lt;/span&gt;&lt;span&gt;227&lt;/span&gt;                 move_speed_dir = MOVE_UP +&lt;span&gt; MOVE_RIGHT;
&lt;/span&gt;&lt;span&gt;228&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;229&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.DL:
&lt;/span&gt;&lt;span&gt;230&lt;/span&gt;                 move_speed_dir = -MOVE_UP -&lt;span&gt; MOVE_RIGHT;
&lt;/span&gt;&lt;span&gt;231&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;232&lt;/span&gt;             &lt;span&gt;case&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)MoveDir.DR:
&lt;/span&gt;&lt;span&gt;233&lt;/span&gt;                 move_speed_dir = -MOVE_UP +&lt;span&gt; MOVE_RIGHT;
&lt;/span&gt;&lt;span&gt;234&lt;/span&gt;                 &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;235&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;236&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; move_speed_dir.normalized;
&lt;/span&gt;&lt;span&gt;237&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;238&lt;/span&gt; 
&lt;span&gt;239&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;开火&lt;/span&gt;
&lt;span&gt;240&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;const&lt;/span&gt; KeyCode INPUT_FIRE =&lt;span&gt; KeyCode.Space;
&lt;/span&gt;&lt;span&gt;241&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;开火时间cd&lt;/span&gt;
&lt;span&gt;242&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;float&lt;/span&gt; fireCD = &lt;span&gt;0.5f&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;243&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;上次开火时间&lt;/span&gt;
&lt;span&gt;244&lt;/span&gt;     &lt;span&gt;float&lt;/span&gt; lastTime = &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;245&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;当前时间&lt;/span&gt;
&lt;span&gt;246&lt;/span&gt;     &lt;span&gt;float&lt;/span&gt; curTime = &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;247&lt;/span&gt; 
&lt;span&gt;248&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; CheckFire()
&lt;/span&gt;&lt;span&gt;249&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;250&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;&lt;span&gt;(isFire)
&lt;/span&gt;&lt;span&gt;251&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;252&lt;/span&gt; &lt;span&gt;            Fire();
&lt;/span&gt;&lt;span&gt;253&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;254&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;255&lt;/span&gt; 
&lt;span&gt;256&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Fire()
&lt;/span&gt;&lt;span&gt;257&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;258&lt;/span&gt;         curTime =&lt;span&gt; Time.time;
&lt;/span&gt;&lt;span&gt;259&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;(curTime - lastTime &amp;gt;&lt;span&gt; fireCD)
&lt;/span&gt;&lt;span&gt;260&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;261&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;创建子弹&lt;/span&gt;
&lt;span&gt;262&lt;/span&gt; &lt;span&gt;            CreateBullet();
&lt;/span&gt;&lt;span&gt;263&lt;/span&gt;             lastTime =&lt;span&gt; curTime;
&lt;/span&gt;&lt;span&gt;264&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;265&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;266&lt;/span&gt; 
&lt;span&gt;267&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;画布&lt;/span&gt;
&lt;span&gt;268&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt;&lt;span&gt; Canvas canvas;
&lt;/span&gt;&lt;span&gt;269&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;创建子弹&lt;/span&gt;
&lt;span&gt;270&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; CreateBullet()
&lt;/span&gt;&lt;span&gt;271&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;272&lt;/span&gt;         GameObject bullet =&lt;span&gt; Instantiate(prefabBullet, target.localPosition, target.rotation);
&lt;/span&gt;&lt;span&gt;273&lt;/span&gt;         bullet.transform.SetParent(canvas.transform, &lt;span&gt;false&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;274&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;275&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;还是之前的移动代码，增加了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507161300717-1670194130.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这里是需要先把Bullet制作成Prefab预制体，使用Resources.Load方法载入子弹prefab&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507161359661-1915412341.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;在Project下创建文件夹Resources（必须用这个才可以载入）下面Prefab里面都是做好的预制体，做法就是把Hierarchy下的对象直接拖到Prefab文件夹下（请无视与本例无关的东西）&lt;/p&gt;
&lt;p&gt;ChangeKeyPressState（）方法里面增加判断开火的按键，FixedUpdate里面检测是不是开火，if里面可以加很多条件，比如CG时候不能开火，没有子弹不能开火等等。&lt;/p&gt;
&lt;p&gt;Fire()这个方法里面记录了开火的当前时间，下次开火的时候判断是不是已经过了CD时长，不然按住按键，每帧都会开火，火力太猛没法玩了，氪金大佬专属。&lt;/p&gt;
&lt;p&gt;CreateBullet（）这里面使用了Instantiate这个自带的方法，通过前面载入的子弹预设体prefab可以克隆出bullet（就是通过模版复制的过程）&lt;/p&gt;
&lt;p&gt;切记要把bullet的父物体设置成Canvas，就是通过代码把bullet放到canvas下面，不然你子弹可能不在UI里面哦~&lt;/p&gt;
&lt;p&gt;SetParent()方法的第二个参数用false，这样可以保证bullet的size不会因为父节点变化而变化。好奇的话，你可以写成true试试&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507163116788-1849504669.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;来试试发射子弹，打到敌人就消失了。&lt;/p&gt;


&lt;p&gt;不过这敌人木头人太愣了，给他点反应吧，enemy1上添加脚本enemy1（脚本名字你随便起）&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; System.Collections;
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; System.Collections.Generic;
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;using&lt;/span&gt;&lt;span&gt; UnityEngine;
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; Enemy : MonoBehaviour {
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;void&lt;/span&gt;&lt;span&gt; ByHit()
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;         Debug.Log(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;byHit&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;         &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.transform.Translate(Vector2.one);
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;就写一个方法，被揍了，效果就是朝着vector2.one也就是（1，1）这个方向移动。你想让有啥反映就在这里写就可以，想变大变小变色都没问题&lt;/p&gt;
&lt;p&gt;那么怎么才能被调用呢？&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; OnTriggerEnter2D(Collider2D other)
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;         Debug.Log(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;enter&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (other.gameObject.tag == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Enemy&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;             other.gameObject.SendMessage(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ByHit&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;             Destroy(&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.gameObject);
&lt;/span&gt;&lt;span&gt;8&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;9&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;刚才子弹的碰撞里面，增加sendMessage这个方法，参数是被调用方法的名字。这样就可以调用到碰撞的对方身上的脚本里面的&quot;ByHit&quot;这个方法&lt;img src=&quot;https://images2018.cnblogs.com/blog/1386347/201805/1386347-20180507163809300-1434496404.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;虽然敌人暂时还不能反击，不过起码不那么木讷了∠( ᐛ 」∠)＿&lt;/p&gt;
&lt;p&gt;敌人怎么反击的话，大家自己发挥想象力去做就好了，让他发出散弹打你也是可以的哦~&lt;/p&gt;
&lt;p&gt;但愿你可以不用参考这个工程就能自己做出来https://pan.baidu.com/s/1e9rQIJt8AYDgHVPvbyJEuQ&lt;/p&gt;

&lt;h3&gt;不过，这个敌人为啥打不死呢？！哦，因为他没有血条啊！那咋整啊？下一篇介绍制作通用进度条（血条）(=￣ω￣=)&lt;/h3&gt;
</description>
<pubDate>Mon, 07 May 2018 15:03:00 +0000</pubDate>
<dc:creator>AGamer</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/agamer/p/9003622.html</dc:identifier>
</item>
<item>
<title>使用vscode高效编写博客园博客 - 祈求者-</title>
<link>http://www.cnblogs.com/invoker-/p/9005558.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/invoker-/p/9005558.html</guid>
<description>&lt;p&gt;之前写博客的时候，我一般是使用马克飞象先编辑好然后直接复制粘贴到博客园中，这样做一方面可以一边写一遍预览改，另一方面可以保存到印象笔记中，这样一举两得，比较方便。可唯一的问题就在于，图片插入的问题，如下图&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507214700071-938103752.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;如图可以看到，本地编辑预览的时候图片引用的是本地路径的图片(这当然也是理所应当的事，因为文档就是本地的)，于是在写完之后，将文章放到博客园的编辑器里的时候，就要重新的去拖拽上传图片或者gif,当图片数量多了起来之后，就显得很麻烦了。明明我都写完了，怎么还要折腾呢？&lt;/p&gt;

&lt;p&gt;昨天在搜索vscode中关于racket的配置的问题时候，无意间看到了一篇博客园的&lt;a href=&quot;https://www.cnblogs.com/caipeiyu/p/5475761.html&quot;&gt;用vscode写博客和发布&lt;/a&gt;，发现这位博主根据xmlrpc编写了一个cnblog的插件，其中就包括了很方便的图片上传，我如获至宝，立刻进行了实践，发现效果还不错(这篇文章就是用vscode编写发布的啦~)。&lt;/p&gt;

&lt;h2 id=&quot;安装vscode与cnblog插件&quot;&gt;安装vscode与cnblog插件&lt;/h2&gt;
&lt;p&gt;这里还是给出原作者的文章，里面写的已经十分清楚&lt;a href=&quot;https://www.cnblogs.com/caipeiyu/p/5475761.html&quot;&gt;用vscode写博客和发布&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;插件的功能虽然不多，但都十分实用，已经完全可以满足日常需求啦。&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507225818714-824573081.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;高效截取图片并上传&quot;&gt;高效截取图片并上传&lt;/h2&gt;
&lt;p&gt;看完上面插件作者的文章我觉得应该都明白功能的使用了，这里我讲一下我截图并且上传的一些小技巧。&lt;/p&gt;
&lt;ul readability=&quot;6&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;截图我使用的是QQ截图，默认的快捷键(&lt;code&gt;ctrl+alt+a&lt;/code&gt;)，可以自定义编辑一些文字，很方便。在编辑完截图之后使用&lt;code&gt;ctrl + s&lt;/code&gt;可以保存到本地的文件夹，如图&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507221256434-689500095.png&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;之后可以将保存到本地的文件夹，这里我们可以将用于存储博客图片的文件夹添加至windows快速访问区(写博客的电脑系统为win10)，如图。&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507221632957-1194629893.png&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;在将文件夹设置到快速访问区之后，每次截图编辑完保存的时候就可以直接选择快速访问区的文件夹了,如图。&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507222001328-2058492458.png&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;接着可以为图片文件设置一个容易分辨的名字，例如图中我设置的是&lt;code&gt;vscode-blog-1&lt;/code&gt;这样的文件名，这样比较容易区分。并且从第二张图片开始你就可以直接在第一章图片上使用&lt;code&gt;f2 + ctrl c&lt;/code&gt;快速的复制到文件名，剩下的文件名你只需要输入类似&lt;code&gt;2 3 4 5&lt;/code&gt;的序号即可。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;最后使用cnblog插件的图片上传功能将图片上传到博客园里即可，下面是完整的操作图。&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507223143401-1475905778.gif&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;整个操作步骤其实一共只有三步 截图-保存-上传 ，操作完毕之后图片与博文一步到位。&lt;/p&gt;
&lt;h2 id=&quot;安装markdown的辅助插件&quot;&gt;安装markdown的辅助插件&lt;/h2&gt;
&lt;p&gt;换成了vscode编写博客，我发现链接，表格与目录的快捷插入方式都没有了(这几点马克飞象里都是有的)，该怎么办呢？这里我自己使用的是两款markdown插件，只用到了里面的一些功能，不过对我来说已经足够了。&lt;/p&gt;
&lt;ul readability=&quot;1&quot;&gt;&lt;li readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;code&gt;Markdown Shortcuts&lt;/code&gt;插件，该插件可以提供链接与表格的快速插入(我只用到了这里面这两项功能),下载完插件后，在编辑页面点击右键即可看到关于链接(默认ctrl + l)的快捷键，以及表格(add table)的插入,插入表格可以自行设置快捷键,这里我设置的是ctrl+t。如图&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507224059156-617931281.png&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Markdown All in One&lt;/code&gt;插件，名字很霸气的插件。我使用到了里面的数学公式插入,css预览美化与目录生成插件(当然博客园的是用Js函数生成的)。
&lt;ul readability=&quot;0&quot;&gt;&lt;li&gt;数学公式的默认快捷键是&lt;code&gt;alt + m(math)&lt;/code&gt;，例如&lt;span class=&quot;math inline&quot;&gt;\(f_(x) = x^2\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;生成目录可以通过命令查找来完成&lt;code&gt;markdown create table of conents&lt;/code&gt;,如图&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507224409408-49589093.png&quot;/&gt;&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;css的样式可以在用户目录添加这样的一段Json字符串设置(这里的地址可以填写你本地或者网络的css文件地址)&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;sourceCode json&quot;&gt;
&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;dt&quot;&gt;&quot;markdown.styles&quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;st&quot;&gt;&quot;https://files.cnblogs.com/files/invoker-/dark.css&quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;在vscode左侧插件还提供了Markdown的提纲进行查看，方便这里思绪整理，如图。&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507224839657-2066320908.png&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;使用github进行同步管理&quot;&gt;使用github进行同步管理&lt;/h2&gt;
&lt;p&gt;使用上图的设置之后，我感觉比起之前用马克飞象写，舒服了很多，但马克飞象是和印象笔记关联的，这里我觉得不如直接把博客和github进行关联，这样方便保存和管理。&lt;/p&gt;
&lt;p&gt;如何安装与使用git这里我就不再赘述了，相关的教程十分的多。简单来说就是将本地的博客文件夹和github远程仓库进行关联。vsCode内置了git插件，git的提交和推送通过命令搜索都十分的方便，如图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507225437722-1142314788.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;同样的，你也可以自行设置git常用操作的快捷键。这样，你只需要按几个键，文章就推送到github上了，非常简单。如下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1132218/201805/1132218-20180507230626186-653284985.gif&quot;/&gt;&lt;/p&gt;

&lt;p&gt;在一翻设置之后，之前写博客觉得最麻烦图片问题总算解决了，现在我只需要在vscode编写预览完博客，连浏览器都不用打开，按几个键，就可以把博客推送到cnblog与github上了 :)。&lt;/p&gt;
</description>
<pubDate>Mon, 07 May 2018 15:01:00 +0000</pubDate>
<dc:creator>祈求者-</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/invoker-/p/9005558.html</dc:identifier>
</item>
<item>
<title>spring cloud 入门系列五：使用Feign 实现声明式服务调用 - JAVA开发老菜鸟</title>
<link>http://www.cnblogs.com/sam-uncle/p/9004723.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/sam-uncle/p/9004723.html</guid>
<description>&lt;p&gt;&lt;strong&gt;&lt;span&gt;一、Spring Cloud Feign概念引入&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;通过前面的随笔，我们了解如何通过Spring Cloud ribbon进行负责均衡，如何通过Spring Cloud Hystrix进行服务断路保护，&lt;br/&gt;两者作为基础工具类框架应用在各种基础设施类微服务和业务类微服务中，并且成对存在，那么有没有更高层的封装，将两者的使用&lt;br/&gt;进一步简化呢？ 有！ 他就是Spring Cloud Feign。它基于Netflix Feign实现，整合了Spring Cloud Ribbon和Spring Cloud Hystrix，&lt;br/&gt;除了提供两者强大的功能外，还提供了一种声明式的Web服务客户端定义方式。&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;二、入门实例&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;我们还是继续使用前面随笔中的hello-service服务，这里通过Spring Cloud Feign提供的声明式服务绑定功能来实现对服务接口的调用。&lt;br/&gt;我们需要新建一个feign-consumer来代替之前的hello-consumer&lt;/p&gt;
&lt;p&gt;先给出代码结构:&lt;/p&gt;
&lt;p&gt;　　&lt;img src=&quot;https://images2018.cnblogs.com/blog/1345071/201805/1345071-20180507194306679-1075956514.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;代码实现：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;新建maven工程(feign-consumer)&lt;/li&gt;
&lt;li readability=&quot;-0.5&quot;&gt;修改pom文件，引入eureka和feign依赖
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt; xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.sam&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;feign-consumer&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-parent&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.5.1.RELEASE&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;javaVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.8&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;javaVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencyManagement&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-cloud-dependencies&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;Camden.SR6&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;pom&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;import&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencyManagement&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 引入eureka 客户端依赖 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-cloud-starter-eureka&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 引入feign 依赖 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-cloud-starter-feign&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li readability=&quot;-0.5&quot;&gt;新建启动类
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * 通过@EnableFeignClients来开启spring cloud feign的支持功能
 *
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@EnableFeignClients
@EnableDiscoveryClient
@SpringBootApplication
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; FeiApp {

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; main(String[] args) {
        SpringApplication.run(FeiApp.&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;, args);
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;新建service接口
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * 通过@FeignClient注解指定服务名来绑定服务，这里的服务名字不区分大小写
 * 然后再通过@RequestMapping来绑定服务下的rest接口
 *
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@FeignClient(name&lt;/span&gt;=&quot;hello-service&quot;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; FeignConsumerService&lt;span&gt;{

    @RequestMapping(&lt;/span&gt;&quot;/hello&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; hello();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;新建controller
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@RestController
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; FeiConsumerController {

    @Autowired
    FeignConsumerService consumerService;

    @RequestMapping(&lt;/span&gt;&quot;feign-consumer&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String feignConsumer() {
        consumerService.hello();
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;feign consumer call finished!!!&quot;&lt;span&gt;;
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1.5&quot;&gt;新建application.properties
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
server.port=9001&lt;span&gt;

spring.application.name&lt;/span&gt;=feign-&lt;span&gt;consumer

eureka.client.serviceUrl.defaultZone&lt;/span&gt;=http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;localhost:1111/eureka&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;测试，
&lt;ol&gt;&lt;li&gt;启动服务注册中心eureka、启动两个hello-service（端口号分别为9090和9091），启动feign-consumer&lt;img src=&quot;https://images2018.cnblogs.com/blog/1345071/201805/1345071-20180507195241648-1257271230.png&quot; alt=&quot;&quot;/&gt;
&lt;/li&gt;
&lt;li&gt;访问http://localhost:9001/feign-consumer

&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;　　　　　　&lt;img src=&quot;https://images2018.cnblogs.com/blog/1345071/201805/1345071-20180507200042705-183016763.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　　　　　并且多次访问的话，会轮询调用两个hello-service服务。&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;三、参数绑定&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;在上面的例子中，我们实现的只是一个不带参数的rest服务绑定，然而现实的业务中不会这么简单，往往会有各种参数，&lt;br/&gt;这个时候我们做如下事情：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;如果服务提供方有对象参数（如User对象），那么feign-consumer工程中需要建一个路径和类名完全一样的类。&lt;/li&gt;
&lt;li&gt;然后将服务提供方controller里面的所有方法声明进行copy（包括前面的@RequestMapping），粘贴到feign-consumer的service接口里面。&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;四、继承特性&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;根据上面参数绑定的做法，我们需要进行很多copy操作，这样比较麻烦，可以通过继承的方式进行简化。&lt;/p&gt;
&lt;p&gt;这种实现步骤如下：&lt;/p&gt;
&lt;p&gt;1.我们需要新建一个基础工程hello-service-api，&lt;/p&gt;
&lt;p&gt;　　代码结构：&lt;/p&gt;
&lt;p&gt;　　&lt;img src=&quot;https://images2018.cnblogs.com/blog/1345071/201805/1345071-20180507200417539-636970117.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　代码实现：&lt;/p&gt;
&lt;ol readability=&quot;-1&quot;&gt;&lt;li&gt;)新建maven项目hello-service-api&lt;/li&gt;
&lt;li readability=&quot;1.5&quot;&gt;）修改pom文件
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt; xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.sam&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;hello-service-api&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-parent&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.5.1.RELEASE&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;javaVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.8&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;javaVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-web&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;你会发现其实就是一个普通的spring boot项目。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;）考虑到需要掩饰参数中有对象的情况，我们加个User类
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.sam.entity;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; User {

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; String name;
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; Integer age;

    
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User(String name, Integer age) {
        &lt;/span&gt;&lt;span&gt;super&lt;/span&gt;&lt;span&gt;();
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.name =&lt;span&gt; name;
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.age =&lt;span&gt; age;
    }
    

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User() {
        &lt;/span&gt;&lt;span&gt;super&lt;/span&gt;&lt;span&gt;();
    }



    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String getName() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; name;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setName(String name) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.name =&lt;span&gt; name;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Integer getAge() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; age;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setAge(Integer age) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.age =&lt;span&gt; age;
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;User必须要有一个无参数的构造器。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;）新建service接口
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * 为了同前面那个hello 接口区分开了，我们加了refactor前缀
 *
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@RequestMapping(&lt;/span&gt;&quot;/refactor&quot;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; HelloService {

    @RequestMapping(&lt;/span&gt;&quot;/hello2&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String hello2();
    
    @RequestMapping(&lt;/span&gt;&quot;/hello3&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User printUser(@RequestBody User user);
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;2.重构hello-sevice服务&lt;/p&gt;
&lt;ol readability=&quot;-1.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;）修改pom文件
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 引入 hello-service-api的依赖，以继承其提供的接口 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.sam&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;hello-service-api&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li readability=&quot;3.5&quot;&gt;）HelloController implements HelloService，并实现interface中的接口
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@RestController
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; HelloController &lt;strong&gt;&lt;span&gt;implements&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt; HelloService&lt;/strong&gt;{

    Logger logger &lt;/span&gt;= LoggerFactory.getLogger(HelloController.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;);

    @Autowired
    DiscoveryClient discoveryClient;
    
    @RequestMapping(&lt;/span&gt;&quot;/hello&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; String hello() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; Exception {
        ServiceInstance instance &lt;/span&gt;=&lt;span&gt; discoveryClient.getLocalServiceInstance();
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;打印服务的服务id&lt;/span&gt;
        logger.info(&quot;*********&quot; +&lt;span&gt; instance.getServiceId());
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;hello,this is hello-service&quot;&lt;span&gt;;
    }

    &lt;strong&gt;@Override
    &lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String hello2() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;hello,this is hello2-service&quot;&lt;span&gt;;
        
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User printUser(@RequestBody User user) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt; user;
    }
&lt;/strong&gt;
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;controller实现接口的方法时，不需要@RequestMapping注解，只需要类注解@RestController即可。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;3.重构feign-consumer服务&lt;/p&gt;
&lt;ol&gt;&lt;li readability=&quot;-1&quot;&gt;）修改POM文件
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 引入 hello-service-api的依赖，以继承其提供的接口 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.sam&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;hello-service-api&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li readability=&quot;-0.5&quot;&gt;）让FeignConsumerService extends hello-service-api中的HelloService
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * 通过@FeignClient注解指定服务名来绑定服务，这里的服务名字不区分大小写
 * 然后再通过@RequestMapping来绑定服务下的rest接口
 *
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@FeignClient(name&lt;/span&gt;=&quot;hello-service&quot;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; FeignConsumerService&lt;strong&gt; &lt;span&gt;extends&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt; HelloService&lt;/strong&gt;{

    @RequestMapping(&lt;/span&gt;&quot;/hello&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; hello();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;只需要继承即可。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-0.5&quot;&gt;）修改controller，追加方法
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@RestController
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; FeiConsumerController {

    @Autowired
    FeignConsumerService consumerService;

    @RequestMapping(&lt;/span&gt;&quot;feign-consumer&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String feignConsumer() {
        consumerService.hello();
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;feign consumer call finished!!!&quot;&lt;span&gt;;
    }
&lt;strong&gt;
    @RequestMapping(&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&quot;feign-consumer-user&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User feignConsumer2(User user) {
        consumerService.hello2();
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt; consumerService.printUser(user);
    }&lt;/strong&gt;
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;4.测试&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1345071/201805/1345071-20180507222815528-286136546.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;五、其他&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;由于Spring Cloud Feign是通过ribbon和hystrix实现具体功能的，因此可以直接通过配置这两个来实现功能&lt;br/&gt;1.ribbon配置方式：&lt;br/&gt;　　通过ribbon.&amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;的方式进行全局配置，比如&lt;br/&gt;　　　　ribbon.ConnectTimeout=500&lt;br/&gt;　　　　ribbon.ReadTimeout=5000&lt;br/&gt;　　通过&amp;lt;client&amp;gt;.ribbon.&amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;的方式进行指定服务配置，比如&lt;br/&gt;　　　　#这里的&amp;lt;client&amp;gt;为@FeignClient(value=&quot;hello-service&quot;)指定的服务名&lt;br/&gt;　　　　hello-service.ribbon.ConnectTimeout=500&lt;br/&gt;　　　　hello-service.ribbon.ReadTimeout=500&lt;br/&gt;2.hystrix配置方式：&lt;br/&gt;　　通过hystrix.command.default.xxx进行全局配置&lt;br/&gt;　　　　如：hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=5000&lt;br/&gt;　　通过hystrix.command.&amp;lt;commandKey&amp;gt;.xxx进行指定配置,这里的&amp;lt;commandKey&amp;gt;可以为方法名&lt;br/&gt;　　　　如：hystrix.command.hello.execution.isolation.thread.timeoutInMilliseconds=5000&lt;br/&gt;3.请求压缩配置,支持对请求和响应进行GZIP压缩，以减少通信过程中的性能损耗。&lt;br/&gt;　　feign.compression.request.enabled=true;&lt;/p&gt;
&lt;p&gt;&lt;em id=&quot;__mceDel&quot;&gt;　　feigan.compression.response.enabled=true;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;4.日志配置&lt;br/&gt;　　Spring Cloud Feign在构建被@FeignClient注解修饰的服务客户端是，会为每一个客户端都创建一个feign.Logger实例，我们可以利用该日志对象进行Log分析。&lt;/p&gt;
</description>
<pubDate>Mon, 07 May 2018 14:40:00 +0000</pubDate>
<dc:creator>JAVA开发老菜鸟</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/sam-uncle/p/9004723.html</dc:identifier>
</item>
<item>
<title>Manacher算法解析 - hkyhj</title>
<link>http://www.cnblogs.com/nkqlhqc/p/9005450.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/nkqlhqc/p/9005450.html</guid>
<description>&lt;h2&gt;        &lt;strong&gt;Manacher算法&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;        &lt;em&gt;Manachar算法主要是处理字符串中关于回文串的问题的，它可以在 O（n） 的时间处理出以字符串中每一个字符为中心的回文串半径，由于将原字符串处理成两倍长度的新串，在每两个字符之间加入一个特定的特殊字符，因此原本长度为偶数的回文串就成了以中间特殊字符为中心的奇数长度的回文串了。       ------摘自百度百科&lt;/em&gt;&lt;/p&gt;
&lt;div readability=&quot;16&quot;&gt;

&lt;p&gt;    &lt;strong&gt;    &lt;span&gt;奇偶变换：为处理字符串方便，现将给定的任意字符串进行处理，使所有可能的奇数/偶数长度的回文子串都转换成了奇数长度。具体就是在每个字符的两边都插入一个特殊的符号。比如hhjj变成 #h#h#j#j#， aba变成 #a#b#a#；为防止数组越界，可以在字符串的开始加入另一个特殊字符，比如“?#a#b#a#?” 。&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;        用p[i]表示以第i个字符为中心轴，两边字符轴对称的最大半径。如下图所示，例如p[5]=3,p[7]=6。该算法利用已知的回文字串信息推断下一个回文字串的长度，判断当前字符是否包含在之前的回文字串中，若不包含在其中，令p[i]=1；否则做进一步的推断。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/png;base64,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&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;div readability=&quot;30&quot;&gt;
&lt;p&gt;             定义变量mid为前面长度能够延伸到最右边的回文子串的中心轴位置，定义最大右边界right = i + mid，即最大右边界表示以mid为中心的回文子串最右边位置的下一个位置。如下图&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/png;base64,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&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;//定义变量j为i关于mid的对称位置，j=2*mid-1&lt;/p&gt;
&lt;p&gt;一、&lt;strong&gt;right &amp;gt; i的情况&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1) 当 right - i &amp;gt;= P[j] 的时候，以j为中心的回文子串包含在以为中心的回文子串中，因为 i 和 j 是对称的，所以以i为中心的回文子串必然包含在以mid为中心的回文子串中，所以必有 P[i] = P[j]。如下图&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/png;base64,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&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;2）当 right - i &amp;lt; p[j] 的时候，以j为中心的回文子串不完全包含于以mid为中心的回文子串中，但是基于对称性可知，处于以mid为中心的回文子串的部分字符串是绝对匹配的，即以i为中心的回文子串向右至少会延伸到right的位置，也就是说 P[i] &amp;gt;= right - i，其后的部分是否是回文的，就要一个个判断了。 &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/png;base64,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&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;二、&lt;strong&gt;right &amp;gt; i的情况&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;right &amp;lt;= i，无法利用已知信息对以i为中心的回文字串做出判断，令P[i] = 1，然后一个个再去判断&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;以下为代码实现(C++)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; #include &amp;lt;iostream&amp;gt;
&lt;span&gt; 2&lt;/span&gt; #include &amp;lt;cstring&amp;gt;
&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;using&lt;/span&gt; &lt;span&gt;namespace&lt;/span&gt;&lt;span&gt; std;
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; 
&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; longestPalindrome(&lt;span&gt;string&lt;/span&gt;&lt;span&gt; s)
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;     
&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;string&lt;/span&gt; str = &lt;span&gt;&quot;?&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; s.size(); i++)   &lt;span&gt;//&lt;/span&gt;&lt;span&gt;字符串长度奇偶变换，添加'$'防止数组越界&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;         str +=&lt;span&gt; s[i];
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;         str += &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;     str += &lt;span&gt;&quot;?&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;cout&amp;lt;&amp;lt;str;&lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;  
&lt;span&gt;18&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; p[str.size()-&lt;span&gt;2&lt;/span&gt;]={&lt;span&gt;0&lt;/span&gt;};    &lt;span&gt;//&lt;/span&gt;&lt;span&gt;定义p[i]数组&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt; 
&lt;span&gt;20&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; right = &lt;span&gt;0&lt;/span&gt;, mid = &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;1&lt;/span&gt;; i &amp;lt;  str.size()-&lt;span&gt;1&lt;/span&gt;; i++&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;(right &amp;gt;&lt;span&gt; i)
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;             p[i] = (p[&lt;span&gt;2&lt;/span&gt;*mid - i] &amp;lt; (right - i) ? p[&lt;span&gt;2&lt;/span&gt;*mid - i] : (right - i));   &lt;span&gt;//&lt;/span&gt;&lt;span&gt;计算以i为中心的回文字串的最小长度&lt;/span&gt;
&lt;span&gt;26&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;         &lt;span&gt;else&lt;/span&gt;
&lt;span&gt;28&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;             p[i] = &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; 
&lt;span&gt;32&lt;/span&gt;         &lt;span&gt;while&lt;/span&gt;(str[i - p[i]] == str[i + p[i]])  p[i]++;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;回文子串长度延伸&lt;/span&gt;
&lt;span&gt;33&lt;/span&gt;         
&lt;span&gt;34&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;(i + p[i] &amp;gt;&lt;span&gt; right)
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;             right = i +&lt;span&gt; p[i];
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt;             mid =&lt;span&gt; i;
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; 
&lt;span&gt;40&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt;         
&lt;span&gt;42&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; max = &lt;span&gt;0&lt;/span&gt;, middle=&lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;1&lt;/span&gt;; i &amp;lt; str.size()-&lt;span&gt;1&lt;/span&gt;; i++)   &lt;span&gt;//&lt;/span&gt;&lt;span&gt;生成最终结果&lt;/span&gt;
&lt;span&gt;44&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;(p[i] &amp;gt;&lt;span&gt; max)
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt;             middle =&lt;span&gt; i;
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt;             max =&lt;span&gt; p[i];
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt;     max--&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt;         
&lt;span&gt;53&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; start = middle -&lt;span&gt; max ;
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; end = middle +&lt;span&gt; max;
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt;     &lt;span&gt;string&lt;/span&gt;&lt;span&gt; result;
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = start; i &amp;lt;= end; i++&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;57&lt;/span&gt; &lt;span&gt;    {
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;(str[i] != &lt;span&gt;'&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &amp;amp;&amp;amp; str[i] != &lt;span&gt;'?&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt; &lt;span&gt;        {
&lt;/span&gt;&lt;span&gt;60&lt;/span&gt;             result +=&lt;span&gt; str[i];
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;62&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;63&lt;/span&gt;     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;cout&amp;lt;&amp;lt;result;&lt;/span&gt;
&lt;span&gt;64&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; result; 
&lt;/span&gt;&lt;span&gt;65&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;&lt;strong&gt;测试&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; main()
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; &lt;span&gt;{
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;     &lt;span&gt;string&lt;/span&gt; s1=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;xschhsdr&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;     &lt;span&gt;string&lt;/span&gt; s2=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;vffabbaabbbabaababbbacisd&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;     cout&amp;lt;&amp;lt;longestPalindrome(s1)&amp;lt;&amp;lt;&lt;span&gt;endl;
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;     cout&amp;lt;&amp;lt;longestPalindrome(s2)&amp;lt;&amp;lt;&lt;span&gt;endl;
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;8&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;结果&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1251807/201805/1251807-20180507221743901-1684004927.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;/div&gt;
</description>
<pubDate>Mon, 07 May 2018 14:38:00 +0000</pubDate>
<dc:creator>hkyhj</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/nkqlhqc/p/9005450.html</dc:identifier>
</item>
<item>
<title>第一次作业  orm环境构建(hibernate)及基本的demo - 三哥无邪</title>
<link>http://www.cnblogs.com/sangewuxie/p/9004968.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/sangewuxie/p/9004968.html</guid>
<description>&lt;p&gt;&lt;span&gt;一、数据库&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      &lt;span&gt; 1.创建数据库hibernate01-1514010311&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　 　2.创建表 customer&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:sql;gutter:true;&quot;&gt;
CREATE TABLE customer(
        id int(11) not null auto_increment  PRIMARY KEY,
  name VARCHAR(20) DEFAULT NULL COMMENT '姓名',
        age int(11)  DEFAULT NULL COMMENT '年龄',
        sex VARCHAR(2)  DEFAULT null COMMENT '性别',
        city VARCHAR(20) DEFAULT NULL COMMENT '城市'
);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;二、创建项目并导入jar包&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　&lt;strong&gt;&lt;span&gt;1.使用eclipse创建web项目，并导入hibernate所需的jar包&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;       &lt;img src=&quot;https://images2018.cnblogs.com/blog/1231036/201805/1231036-20180507210720593-1928799003.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;          &lt;strong&gt;   &lt;span&gt;2.创建实体类&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;39&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
package domain;

public class Customer {
        private Integer id;
        private String name;
        private Integer age;
        private String sex;
        private String city;
        public Integer getId() {
                return id;
        }
        public void setId(Integer id) {
                this.id = id;
        }
        public String getName() {
                return name;
        }
        public void setName(String name) {
                this.name = name;
        }
        public Integer getAge() {
                return age;
        }
        public void setAge(Integer age) {
                this.age = age;
        }
        public String getSex() {
                return sex;
        }
        public void setSex(String sex) {
                this.sex = sex;
        }
        public String getCity() {
                return city;
        }
        public void setCity(String city) {
                this.city = city;
        }
        @Override
        public String toString() {
                return &quot;Customer [id=&quot; + id + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;, sex=&quot; + sex + &quot;, city=&quot; + city + &quot;]&quot;;
        }
        
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　&lt;strong&gt;　&lt;span&gt;3.编写映射文件&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; 　　在domain包下创建Customer.hbm.xml&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:html;gutter:true;&quot;&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;!DOCTYPE hibernate-mapping PUBLIC 
    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;
    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&amp;gt;
&amp;lt;hibernate-mapping&amp;gt;
        &amp;lt;class name=&quot;domain.Customer&quot; table=&quot;customer&quot;&amp;gt;
                &amp;lt;id name=&quot;id&quot; column=&quot;id&quot;&amp;gt;
                        &amp;lt;generator class=&quot;native&quot;&amp;gt;&amp;lt;/generator&amp;gt;
                &amp;lt;/id&amp;gt;
                &amp;lt;property name=&quot;name&quot; column=&quot;name&quot; type=&quot;string&quot;&amp;gt;&amp;lt;/property&amp;gt;
                &amp;lt;property name=&quot;age&quot; column=&quot;age&quot; type=&quot;integer&quot;&amp;gt;&amp;lt;/property&amp;gt;
                &amp;lt;property name=&quot;sex&quot; column=&quot;sex&quot; type=&quot;string&quot;&amp;gt;&amp;lt;/property&amp;gt;
                &amp;lt;property name=&quot;city&quot; column=&quot;city&quot; type=&quot;string&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;/class&amp;gt;
&amp;lt;/hibernate-mapping&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　&lt;strong&gt;　&lt;span&gt;4.编写核心配置文件hibernate.cfg.xml&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　　在src目录下创建hibernate.cfg.xml&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:html;gutter:true;&quot;&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;!DOCTYPE hibernate-configuration PUBLIC
        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;
        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&amp;gt;
        &amp;lt;hibernate-configuration&amp;gt;
                &amp;lt;session-factory&amp;gt;
                        &amp;lt;!-- 指定方言 --&amp;gt;
                        &amp;lt;property name=&quot;hibernate.dialect&quot;&amp;gt;org.hibernate.dialect.MySQLDialect&amp;lt;/property&amp;gt;
                         &amp;lt;!-- 数据库驱动 --&amp;gt;
                        &amp;lt;property name=&quot;hibernate.connection.driver_class&quot;&amp;gt;com.mysql.jdbc.Driver&amp;lt;/property&amp;gt;
                        &amp;lt;!-- 数据库url --&amp;gt;
                        &amp;lt;property name=&quot;hibernate.connection.url&quot;&amp;gt;jdbc:mysql:///hibernate01-1514010311&amp;lt;/property&amp;gt;
                         &amp;lt;!-- 数据库连接用户名 --&amp;gt;
                        &amp;lt;property name=&quot;hibernate.connection.username&quot;&amp;gt;root&amp;lt;/property&amp;gt;
                         &amp;lt;!-- 数据库连接密码 --&amp;gt;
                        &amp;lt;property name=&quot;hibernate.connection.password&quot;&amp;gt;0x3137&amp;lt;/property&amp;gt;
                        &amp;lt;!-- 将hibernate生成的sql语句打印到控制台 --&amp;gt;
                        &amp;lt;property name=&quot;hibernate.show_sql&quot;&amp;gt;true&amp;lt;/property&amp;gt;
                        &amp;lt;!-- 将hibernate生成的sql语句格式化(语法缩进) --&amp;gt;
                        &amp;lt;property name=&quot;hibernate.format_sql&quot;&amp;gt;true&amp;lt;/property&amp;gt;
                        &amp;lt;mapping resource=&quot;domain/Customer.hbm.xml&quot; /&amp;gt;
                &amp;lt;/session-factory&amp;gt;
                
                
        &amp;lt;/hibernate-configuration&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　&lt;span&gt;　&lt;strong&gt;5.编写测试类&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; 　　导入JUnit4运行环境(详情百度JUnit单元测试，小生不才)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　　选中项目点击鼠标右键-&amp;gt;选中Build Path-&amp;gt;选中Configure Build Path-&amp;gt;选中如图，选择Add Library-&amp;gt;选择JUnit-&amp;gt;next-&amp;gt;finish-&amp;gt;apply&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1231036/201805/1231036-20180507221819863-779594188.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;　　在test包下创建CustomerTest类&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
package test;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;
import org.junit.Test;

import domain.Customer;

public class CustomerTest {
        @Test
        public void insertTest() {
                //1.加载核心配置文件
                Configuration config = new Configuration().configure();
                //2.获取SessionFactory
                SessionFactory sessionFactory = config.buildSessionFactory();
                //3.得到一个session
                Session session = sessionFactory.openSession();
                //4.开启事务
                Transaction transaction = session.beginTransaction();
                //5.操作
                Customer customer = new Customer();
                customer.setName(&quot;三哥无邪&quot;);
                customer.setAge(21);
                customer.setSex(&quot;男&quot;);
                customer.setCity(&quot;哈尔滨&quot;);
                //5.2将数据存储在表中
                session.save(customer);
                //6.提交事务
                transaction.commit();
                //7.关闭资源
                session.close();
                sessionFactory.close();
        }
}
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;       选中@Test下方法名-&amp;gt;右键-&amp;gt;Run As-&amp;gt;JUnit Test&lt;/p&gt;
&lt;p&gt;　　&lt;strong&gt;测试添加方法insertTest()&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1231036/201805/1231036-20180507222407719-1195231152.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/1231036/201805/1231036-20180507223917833-595653501.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　　&lt;strong&gt;查询数据。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;　　 findByIdTest方法，通过id查询Customer.&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;36&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Test
        public void findByIdTest() {
                //1.加载核心配置文件
                                Configuration config = new Configuration().configure();
                                //2.获取SessionFactory
                                SessionFactory sessionFactory = config.buildSessionFactory();
                                //3.得到一个session
                                Session session = sessionFactory.openSession();
                                //4.开启事务
                                Transaction transaction = session.beginTransaction();
                                //5 操作
                                Customer customer = session.get(Customer.class, 1);
                                System.out.println(customer);
                                //6.提交事务
                                transaction.commit();
                                //7.关闭资源
                                session.close();
                                sessionFactory.close();
        }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　测试结果&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1231036/201805/1231036-20180507224617698-82540664.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;　　　&lt;span&gt;&lt;strong&gt;修改数据&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;　　　&lt;/strong&gt;updateTest()方法&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
        @Test
        public void updateTest() {
                //1.加载核心配置文件
                Configuration config = new Configuration().configure();
                //2.获取SessionFactory
                SessionFactory sessionFactory = config.buildSessionFactory();
                //3.得到一个session
                Session session = sessionFactory.openSession();
                //4.开启事务
                Transaction transaction = session.beginTransaction();
                //5 操作
                Customer customer = new Customer();
                customer.setId(1);
                customer.setName(&quot;1514010311&quot;);
                customer.setAge(21);
                customer.setSex(&quot;男&quot;);
                customer.setCity(&quot;哈尔滨&quot;);
                session.update(customer);
                //6.提交事务
                transaction.commit();
                //7.关闭资源
                session.close();
                sessionFactory.close();
        }    
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　测试结果&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1231036/201805/1231036-20180507225045134-1496717689.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1231036/201805/1231036-20180507225124634-533773383.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;






&lt;p&gt;就此一个简单的hibernate demo编写完成。&lt;/p&gt;

</description>
<pubDate>Mon, 07 May 2018 14:28:00 +0000</pubDate>
<dc:creator>三哥无邪</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/sangewuxie/p/9004968.html</dc:identifier>
</item>
<item>
<title>模仿天猫实战【SSM】——总结 - 我没有三颗心脏</title>
<link>http://www.cnblogs.com/wmyskxz/p/9005147.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wmyskxz/p/9005147.html</guid>
<description>&lt;blockquote readability=&quot;7.6119402985075&quot;&gt;
&lt;p&gt;第一篇文章链接：&lt;a href=&quot;https://www.jianshu.com/p/5e44ee046b43&quot;&gt;模仿天猫实战【SSM版】——项目起步&lt;/a&gt;&lt;br/&gt;第二篇文章链接：&lt;a href=&quot;https://www.jianshu.com/p/484096db003f&quot;&gt;模仿天猫实战【SSM版】——后台开发&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;总结：项目从4-27号开始写，到今天5-7号才算真正的完工，有许多粗糙的地方，但总算完成了，比想象中的开发周期要久的多，并且大部分的时间都花在了前端页面的编写上...仅以此文来总结一下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-3eee3c0023557f8e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;项目总结&quot;&gt;项目总结&lt;/h2&gt;
&lt;h4 id=&quot;功能一览表&quot;&gt;功能一览表&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-8de7d88e63f5feab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;大致理了一下功能列表，应该是齐全的，其中推荐链接暂时不支持修改。&lt;/p&gt;
&lt;h4 id=&quot;项目页面一览表&quot;&gt;项目页面一览表&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-8265022a0d8fde56.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;后端页面：&lt;/strong&gt; 后台所需要用到的页面，从名字很好区分功能，其中 index.jsp 只有一行代码用于跳转&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;公共页面：&lt;/strong&gt; 都是前端页面，从对天猫页面的分析提取出一些复用比较高的页面用于动态的包含在其他前端页面中。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;前台页面：&lt;/strong&gt;前台相较于后台页面 CSS 更加复杂，交互也更多，我把每一个页面的需要用到的 css 和 js 代码均保留在了当前 JSP 页面中，方便浏览学习。&lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;项目主要逻辑类&quot;&gt;项目主要逻辑类&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-2ee2704c72494225.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;控制器（Controller）：&lt;/strong&gt; 用于控制页面的逻辑， 提取出一个 PageController 来专门控制页面的跳转，ForeController 用于前台所有的逻辑操作&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;拦截器（Interceptor）：&lt;/strong&gt; LoginInteceptor 用于对登录进行判断，因为有一些页面需要登录之后才能访问的，例如：购物车；OtherInterceptor 用于向页面中添加一些其他的数据，例如：购物车数量。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;业务层（Service层）：&lt;/strong&gt; 业务处理层，其中封装了 Dao 层，用于完成主要的逻辑处理。&lt;/li&gt;
&lt;/ul&gt;&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;不需要登录就能访问的页面（以下为拦截器中的代码片段）：&lt;br/&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-0cc94a89ec585ea2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;其中包括：主页、搜索结果页、产品展示页、登录页、注册页。&lt;/li&gt;
&lt;li&gt;还包括一些其他的路径用于处理逻辑，test 为开发过程中用于测试的页面&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;前台总结&quot;&gt;前台总结&lt;/h2&gt;
&lt;p&gt;前台花费了大部分的时间，不仅仅是繁杂的样式和页面需要自己去编写，业务逻辑也比后台要复杂一些，因为是模仿，所以大部分的 CSS 我都是参照着天猫官网写的（利用FireFox来查看元素和元素样式）：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-253d0a2d979404f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;另外一部分是参照了how2j.cn上模仿的前端教程：&lt;a href=&quot;http://how2j.cn/k/tmall-front/tmall-front-790/790.html&quot;&gt;戳这里&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;首页&quot;&gt;首页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-1a0c952535b9559d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;简要的首页大概就是这样，请别在意轮播下面的【女装/内衣】中的产品，因为在4月份的时候，第一个分类的名字还叫【女装 /男装 /内衣】（好像是这个），后来项目写着写着突然改了...&lt;/p&gt;
&lt;p&gt;观察大部分的页面，其实都是包含了其中的三个部分：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-366e78dae956c6eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;即顶部导航栏、一个搜索框、还有底部，我们可以单独把他们写成一个 jsp ，并动态的包含在我们的页面中&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;&lt;li&gt;首页分类栏&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;p&gt;因为一开始，我以为分类栏中保存的是一些直接的产品，但是分析前端的时候发现它们只是一些 hot-word 热词，所以为了和天猫的首页保持一致，我直接把分类栏写死了写成了一个单独的 JSP 文件并包含进了主页：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-45ee80b50df9085c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;我还自己写了一个小程序，用来将这些 hor-word 转换成对应的 html 代码，不然这手写 2000 行可能真的够呛...&lt;/p&gt;
&lt;h4 id=&quot;产品搜索页&quot;&gt;产品搜索页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-c2f1edc856487a15.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;并且支持按照【综合（销量*评价）】、【人气（评论量）】、【销量】、【价格】来排序产品，使用 Java 8 的新特性来完成该功能：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-f8b52056229d0e0f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;产品展示页&quot;&gt;产品展示页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-7c2807d14ba0aa63.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;所有的产品展示图片均是来自how2j.com上的一张图，前面有链接，表示有参照这个教程来做。&lt;/p&gt;
&lt;h4 id=&quot;购买页&quot;&gt;购买页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-08a11273e23d0019.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;在产品页中点击立即购买，或者在购物车点击结算都会跳转到该页面，创建订单。&lt;/p&gt;
&lt;h4 id=&quot;付款页面&quot;&gt;付款页面&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-45fee843691d32a4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;无耻的黏了一张自己的收款二维码...&lt;/p&gt;
&lt;h4 id=&quot;付款成功页&quot;&gt;付款成功页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-4412da524b78fbc9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;当点击确认支付按钮之后，就会跳转到该页面来。&lt;/p&gt;
&lt;h4 id=&quot;购物车页&quot;&gt;购物车页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-f9d2c11534b7c884.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;该页面支持删除订单和对订单项进行相关的操作，点击结算页面跳转到购买页。&lt;/p&gt;
&lt;h4 id=&quot;我的订单页&quot;&gt;我的订单页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-a9bba1fd07a97acc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;该页面用于对订单的管理，可以查看和操作订单。&lt;/p&gt;
&lt;h4 id=&quot;评价页&quot;&gt;评价页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-7f24722600e49c63.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;当完成购买，即经过购买→支付→发货→确认收货的流程之后，即可对产品进行评论，评论完成后能看到其他用户的评价信息：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-f597c88795ac8eef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;注册页&quot;&gt;注册页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-b3fcc1bebad7c58c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;用户注册页，在前端判断两次密码是否相同，并提交给后台判断用户名是否唯一。&lt;/p&gt;
&lt;h4 id=&quot;登录页&quot;&gt;登录页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-11c055b0974e3895.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;因为分辨率的问题有一点 BUG，不过不影响体验，登录之后顶部导航栏出现用户信息：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-9bc95b094347e682.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;后台总结&quot;&gt;后台总结&lt;/h2&gt;
&lt;p&gt;前台因为有现成的原型可以参照和模仿，后台需要自己去设计和实现界面，所以我直接找了一个模板代码，很方便也很快的完成了开发，在我的第二篇文章：&lt;a href=&quot;https://www.jianshu.com/p/484096db003f&quot;&gt;模仿天猫实战【SSM版】——后台开发&lt;/a&gt; 有介绍。&lt;/p&gt;
&lt;h4 id=&quot;分类管理&quot;&gt;分类管理&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-8b874a9caba8a982.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;其中的分页和搜索功能是我找来的模板中用 js 代码来实现的，分类管理中不仅提供了更改分类名称的功能，还能管理分类下的产品和属性。&lt;/p&gt;
&lt;h4 id=&quot;产品管理页&quot;&gt;产品管理页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-ec968f34fdba0fea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;产品图片管理页&quot;&gt;产品图片管理页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-c1a5f55b81f871a1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;产品的图片是默认放置在 &lt;code&gt;img/product/产品的id号/&lt;/code&gt; 目录下的，并且默认的五张图片分别为：1.jpg、2.jpg.....5.jpg，用于默认显示的图片均为 1.jpg&lt;/p&gt;
&lt;h4 id=&quot;属性值管理页&quot;&gt;属性值管理页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-44c9c3d0b5bae37d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;产品属性值管理页，能增加的属性值只能为当前分类下拥有的属性。&lt;/p&gt;
&lt;h4 id=&quot;用户管理&quot;&gt;用户管理&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-f155c8d139aa1f7c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;提供一个修改密码的功能，给申诉修改密码的用户留一条后路。&lt;/p&gt;
&lt;h4 id=&quot;订单管理页&quot;&gt;订单管理页&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-bb85ec56c0820d71.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;等待发货的订单有一个发货按钮，用于发货。&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;上面有一些产品管理的按钮乱入了..直接拷贝的之前的图片，左侧栏中的产品管理按钮是删除了的...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;推荐链接管理&quot;&gt;推荐链接管理&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-1dd1a3ec88dc56b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;暂时不提供修改功能。&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;项目中遇到的一些问题&quot;&gt;项目中遇到的一些问题&lt;/h2&gt;
&lt;h4 id=&quot;轮播失效&quot;&gt;轮播失效&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-883473b3c260be5f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Bootstrap 的引入要在 JQuery 之后，不然不能正常使用...&lt;/p&gt;
&lt;h4 id=&quot;为什么不在-propertyvalue-表中增加-property_name-字段&quot;&gt;为什么不在 PropertyValue 表中增加 property_name 字段？&lt;/h4&gt;
&lt;p&gt;在产品详情页明显感觉到显示产品的属性的时候，特别不方便。&lt;/p&gt;
&lt;h4 id=&quot;propertyvalue&quot;&gt;PropertyValue&lt;/h4&gt;
&lt;p&gt;新增一个 Property 属性，来完成产品页的传递&lt;/p&gt;
&lt;h4 id=&quot;后台属性值管理逻辑有点问题&quot;&gt;后台属性值管理逻辑有点问题&lt;/h4&gt;
&lt;p&gt;之前的代码：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;c:forEach items=&quot;${propertyValues}&quot; var=&quot;pv&quot;&amp;gt;
    &amp;lt;tr&amp;gt;
        &amp;lt;td&amp;gt;
            &amp;lt;c:forEach items=&quot;${properties}&quot; var=&quot;p&quot;&amp;gt;
                &amp;lt;c:if test=&quot;${p.id==pv.property_id}&quot;&amp;gt;${p.name}&amp;lt;/c:if&amp;gt;
            &amp;lt;/c:forEach&amp;gt;
        &amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;${pv.value}&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;lt;a href=&quot;editPropertyValue?id=${pv.id}&quot;&amp;gt;&amp;lt;span
                class=&quot;glyphicon glyphicon-edit&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;
            &amp;lt;a href=&quot;deletePropertyValue?id=${pv.id}&amp;amp;category_id=${product.category_id}&quot;&amp;gt;&amp;lt;span
                    class=&quot;glyphicon glyphicon-trash&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
    &amp;lt;/tr&amp;gt;
&amp;lt;/c:forEach&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;非常糟糕，逻辑就是错的。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-f65e97fdeb5b4ecc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;利用上面为 PropertyValue 添加的 Property 来完成功能：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-8e0814d7b3eb7ee7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;&lt;li&gt;下面的 select 标签也是错的&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-890297352553a12f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;生成出来的代码是这样的：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-3848bd97481ea5a7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;我想要绑定一个隐藏的 input ，看来这样写是不行的，搜索了一下，可以通过为 &lt;code&gt;&amp;lt;select&amp;gt;&lt;/code&gt; 标签写 &lt;code&gt;onchange&lt;/code&gt; 属性来完成：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-41859dc0dc714c79.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;使用-java-8-的新特性来排序&quot;&gt;使用 Java 8 的新特性来排序&lt;/h4&gt;
&lt;p&gt;使用了 Java 8 的 Lambda 表达式来完成前端的排序工作：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-a5b7d31c428fc275.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;注册页-1&quot;&gt;注册页&lt;/h4&gt;
&lt;p&gt;天猫的注册搞得很高大上的样子，淘宝也弄成了一样的，不是很好模仿出效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-e8c8b999970823a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;所以照着改了一改，弄成了这个样子：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-0e7b1c5090bede21.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;在前端通过 JS 来判断完成确认密码的功能，然后这是注册成功的页面：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-227ec2309e4921c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;发现-orderitem-少设计了一个字段&quot;&gt;发现 OrderItem 少设计了一个字段&lt;/h4&gt;
&lt;p&gt;这是最初设计的数据库表与表之间的关系：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/7896890-5b661e7395805c1e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot;/&gt;&lt;/p&gt;
&lt;p&gt;当我按照流程一步一步完成着项目，在完成立即购买这个功能时，我需要按照user_id来返回订单项时，不容易实现，我们需要为 OrderItem 增加一个字段（user_id）：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;CREATE TABLE `order_item` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '唯一索引id',
    `product_id` INT(11) NOT NULL COMMENT '对应产品id',
    `order_id` INT(11) NOT NULL COMMENT '对应订单id',
    `user_id` INT(11) NOT NULL COMMENT '对应用户id',
    `number` INT(11) NULL DEFAULT NULL COMMENT '对应产品购买的数量',
    INDEX `fk_order_item_product` (`product_id`),
    INDEX `fk_order_item_order` (`order_id`),
    INDEX `fk_order_item_user` (`user_id`),
    PRIMARY KEY (`id`),
    CONSTRAINT `fk_order_item_order` FOREIGN KEY (`order_id`) REFERENCES `order_` (`id`),
    CONSTRAINT `fk_order_item_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`),
    CONSTRAINT `fk_order_item_product` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)
)COLLATE='utf8_general_ci' ENGINE=InnoDB;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;然后运行 TestMybatisGenerator 来重新生成相关的文件.&lt;/p&gt;
&lt;h4 id=&quot;更改-orderitem-表中的-order_id-字段默认为空&quot;&gt;更改 OrderItem 表中的 order_id 字段默认为空&lt;/h4&gt;
&lt;p&gt;order_id 是用于判断当前的 OrderItem 是否存在于购物车中的依据，最开始我们将这个字段设计为不能为空，那么就只能在购物车中存在，当我们不需要经过购物车而要直接购买的时候，就不能得到满足...&lt;/p&gt;
&lt;h4 id=&quot;修复购物车逻辑问题&quot;&gt;修复购物车逻辑问题&lt;/h4&gt;
&lt;p&gt;之前给 cart.jsp 页面的 List&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Override
public List&amp;lt;OrderItem&amp;gt; listForCart(Integer user_id) {
    OrderItemExample example = new OrderItemExample();
    example.or().andUser_idEqualTo(user_id).andOrder_idIsNull();
    List&amp;lt;OrderItem&amp;gt; result = orderItemMapper.selectByExample(example);
    setProduct(result);
    return result;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;hr/&gt;&lt;h4 id=&quot;github&quot;&gt;Github&lt;/h4&gt;
&lt;p&gt;完成之后的项目直接上传 Github，代码可能有些乱，可读性不是很高，但结构还是清晰的，还是值得参考：&lt;a href=&quot;https://github.com/wmyskxz/Tmall_SSM&quot;&gt;传送门&lt;/a&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;后期再对代码进行维护吧...菜鸟学习代码，勿喷....&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;关于-sql-语句&quot;&gt;关于 sql 语句&lt;/h4&gt;
&lt;p&gt;这里给一个连接提供建表语句以及一些数据：&lt;a href=&quot;https://pan.baidu.com/s/18e_ZBRv3TL7Jhgqy0fMLGg&quot;&gt;传送门&lt;/a&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;3.3290322580645&quot;&gt;
&lt;p&gt;欢迎转载，转载请注明出处！&lt;br/&gt;@我没有三颗心脏&lt;br/&gt;CSDN博客：&lt;a href=&quot;http://blog.csdn.net/qq939419061&quot; class=&quot;uri&quot;&gt;http://blog.csdn.net/qq939419061&lt;/a&gt;&lt;br/&gt;简书：&lt;a href=&quot;http://www.jianshu.com/u/a40d61a49221&quot; class=&quot;uri&quot;&gt;http://www.jianshu.com/u/a40d61a49221&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Mon, 07 May 2018 13:42:00 +0000</pubDate>
<dc:creator>我没有三颗心脏</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/wmyskxz/p/9005147.html</dc:identifier>
</item>
<item>
<title>简单剖析Node中的事件监听机制（一） - 学习会让你青春永驻</title>
<link>http://www.cnblogs.com/blackgan/p/9005090.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/blackgan/p/9005090.html</guid>
<description>&lt;p&gt;使用js的class类简单的实现一个事件监听机制，不同于浏览器中的时间绑定与监听，类似于node中的时间监听，并且会在接下来的文章中去根据自己的理解去写一下Event模块中的原理。&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;Node.js使用了一个事件驱动、非阻塞式I/O的模型，使其轻量又高效。并且Node中的大量模块都使用了Event机制，因此可以说是整个Node中最重要的模块之一。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;实例：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;8&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt;    &lt;span class=&quot;kw&quot;&gt;let&lt;/span&gt; event &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;eventEmitter&lt;/span&gt;()&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'someType'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt;()&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        
    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;emit&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'someType'&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;依据上述例子，手动触发一个类型的事件，调用监听的回调函数，可以先来实现一个最为简单的小例子，例如下放代码：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;11&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt;&lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; eventEmitter &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;at&quot;&gt;constructor&lt;/span&gt;() &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;callEvent&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;at&quot;&gt;on&lt;/span&gt;(eventType&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt; callback) &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;callEvent&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; callback&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;at&quot;&gt;emit&lt;/span&gt;(eventType) &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;callEvent&lt;/span&gt;()&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;let&lt;/span&gt; event &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;eventEmitter&lt;/span&gt;()&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; () &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;va&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click'&lt;/span&gt;)
&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;emit&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click'&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上述实现的代码，能够简单的实现，当我们执行emit()方法时，去执行原本on()中传入的回调函数。&lt;br/&gt;我们知道node中的Event模块是一个简单的事件监听模式的实现。Event模块中只提供了一个对象EventEmitter,EventEmitter的核心就是事件监听与事件触发的监听功能的封装。&lt;/p&gt;
&lt;p&gt;EventEmitter可以让我们注册一个或者多个函数作为listeners,在特定的事件触发时被调用。我们去监听的函数就是listeners。当然，我们可以注册多个监听事件，所以需要一个map结构来存储监听事件和回调函数的对应关系。&lt;/p&gt;
&lt;p&gt;在EventEmitter类中，已键值对的方式来存储事件名和对应的监听器。&lt;/p&gt;
&lt;p&gt;首先根据上边的类来实现我们on事件，先来个events来作为存储的键值对，每次传入的值为事件类型和回调函数，代码简单如下：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;15&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt;    &lt;span class=&quot;va&quot;&gt;EventEmitter&lt;/span&gt;.&lt;span class=&quot;va&quot;&gt;prototype&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;on&lt;/span&gt;(type&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;listener)&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;cf&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;_on&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;type&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;listener)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;op&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;_on&lt;/span&gt;(target&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;type&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;listener)&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt; m&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt; events&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt; existing&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;cf&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;typeof&lt;/span&gt; listener &lt;span class=&quot;op&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'function'&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;cf&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;Error&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;监听者必须是一个函数&quot;&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;co&quot;&gt;//获取到对象上的监听事件键值对&lt;/span&gt;
    events &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;_events&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;cf&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;op&quot;&gt;!&lt;/span&gt;events)&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;co&quot;&gt;//如果没有键值对，则重新自定义&lt;/span&gt;
        events &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;_events&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;{};&lt;/span&gt;
        &lt;span class=&quot;va&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;_eventsCount&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;cf&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;co&quot;&gt;//获取原来键值对中的listener事件&lt;/span&gt;
        existing &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; events[type]&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;cf&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;op&quot;&gt;!&lt;/span&gt;existing) &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;co&quot;&gt;//如果原本的事件监听的键值对中没有该type的该监听事件&lt;/span&gt;
        &lt;span class=&quot;co&quot;&gt;//则在events中存放该type和该监听事件的键值对&lt;/span&gt;
        existing &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; events[type] &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; listener&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;co&quot;&gt;//并且当前内存中存放的监听事件加1&lt;/span&gt;
        &lt;span class=&quot;op&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;va&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;_eventsCount&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;cf&quot;&gt;return&lt;/span&gt; target&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在on事件可以使用了，我们先不去思考最大监听数的限制还有键值对的初始化不正确等其他因素，这些可以放在之后进行优化，接下来简单的去实现EventEmitter中的emit事件&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;14&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt;&lt;span class=&quot;va&quot;&gt;EventEmitter&lt;/span&gt;.&lt;span class=&quot;va&quot;&gt;prototype&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;emit&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;emit&lt;/span&gt;(type)&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;cf&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;_emit&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;type)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;op&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;_emit&lt;/span&gt;(target&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;type)&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt; events&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;exiting&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;handler&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;cf&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;op&quot;&gt;!&lt;/span&gt;type)&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;cf&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;Error&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'触发的事件不能为空'&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;co&quot;&gt;//获取到对象上的监听事件键值对&lt;/span&gt;
    events &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;_events&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;co&quot;&gt;//根据type获取到监听事件&lt;/span&gt;
    handler &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; events[type]&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;cf&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;op&quot;&gt;!&lt;/span&gt;handler)&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;cf&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;at&quot;&gt;handler&lt;/span&gt;()&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;同样的emit事件的实现是简单的从键值对中根据type获取到监听事件去执行。这里还没有考虑传入多个参数的情况。&lt;/p&gt;
&lt;p&gt;根据上边的简单实现，我们可以来进行下尝试，比之前的版本相比，我们可以监听多个事件，去触发多个回调函数了。&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;12&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt;&lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; () &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;va&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click'&lt;/span&gt;)
&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click1'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; ()&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;va&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click11'&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;emit&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click'&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;//输出click&lt;/span&gt;

&lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;emit&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'click1'&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;//输出click11&lt;/span&gt;

&lt;span class=&quot;va&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;va&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;_events&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;//输入{click: [Function],click1:[Function]}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这里简单的实现了多个事件注册，多个事件触发的EventEmitter,接下来会继续进行设置监听个数、以及触发时传入多个参数的剖析。&lt;/p&gt;
&lt;p&gt;参考：[&lt;a href=&quot;https://github.com/nodejs/node/blob/v6.0.0/lib/events.js&quot; class=&quot;uri&quot;&gt;https://github.com/nodejs/node/blob/v6.0.0/lib/events.js&lt;/a&gt;]&lt;/p&gt;
</description>
<pubDate>Mon, 07 May 2018 13:29:00 +0000</pubDate>
<dc:creator>学习会让你青春永驻</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/blackgan/p/9005090.html</dc:identifier>
</item>
<item>
<title>一个函数实现基因内具有多种突变类型的热图的绘制 - ywliao</title>
<link>http://www.cnblogs.com/ywliao/p/8991346.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/ywliao/p/8991346.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1093203/201805/1093203-20180504203818609-1190162987.png&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/1093203/201805/1093203-20180504203834020-1775735198.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;  我们平常多见的基因突变热图是一个基因一个格子，一种突变类型，但实际上在同一个病人中，同一个基因往往具有多种突变类型，因此传统的热图绘制工具并不能满足我们绘图的需要。应研究需要，本人自己写了一个热图绘制函数，内部调用image 进行热图的绘制， barplot进行直方图绘制， 用data.table进行数据处理。对于一个基因内多种突变类型如何表现出来的问题， 这个函数先采用image将初步的热图绘制出来，再使用points，以方块形式将第二种突变，第三种突变依次添加， 在添加的同时方块位置稍为移动并且伴随着大小的略微缩小，以实现更好的显示效果，最多能在一个热图格子上表示四种突变。&lt;br/&gt;  函数如下， 需要安装并加载data.table 1.10.4， 加载RColorBrewer&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;my_heatmap &amp;lt;- function(vr, pal = c(&quot;#F2F2F2&quot;,colorRampPalette(c(&quot;blue&quot;, &quot;white&quot;, &quot;red&quot;))(5)[c(1,2)],&quot;#F2F2F2&quot;,colorRampPalette(c(&quot;blue&quot;, &quot;white&quot;, &quot;red&quot;))(5)[c(4,5)],brewer.pal(n = 8, name =&quot;Accent&quot;)[c(1,4,6,8,2,3,5,7)],&quot;#E31A1C&quot;,&quot;#6A3D9A&quot;),type = c(&quot;DEL&quot;,&quot;LOSS&quot;,&quot;NEUTRAL&quot;,&quot;GAIN&quot;,&quot;AMPL&quot;,&quot;nonsynonymous SNV&quot;,&quot;synonymous SNV&quot;,&quot;intronic&quot;,&quot;stopgain&quot;,&quot;nonframeshift deletion&quot;,&quot;splicing&quot;, &quot;frameshift deletion&quot;,&quot;UTR3&quot;,&quot;frameshift insertion&quot;,&quot;UTR5&quot;),
                       order_gene = T, order_patient = T, hist_plot = T, legend_dist = 0.4, col_text_cex = 1, sub_gene= NULL,heatmap_mar = c(5,17,1,2), heatmap_oma=c(0.2,0.2,0.2,0.2),heatmap_mex=0.5, legend_mar = c(1,0,4,1),xlab_adj=1, order_omit=c(&quot;NoMut&quot;,&quot;NEUTRAL&quot;))
{
  if((length(pal) - length(type)) !=1 ){stop(&quot;Pal must be one longer than type, because first one pal is col for no mutation&quot;)}
  if(!is.null(sub_gene)){
    pal_dt &amp;lt;- data.table(pal, type=c(&quot;NoMut&quot;,type))
    vr &amp;lt;- vr[Gene %in% sub_gene,]
    type &amp;lt;- pal_dt[type %in% unique(vr$Type),type]
    pal &amp;lt;- c(pal[1],pal_dt[type, on=&quot;type&quot;][,pal])
  }else{
    pal_dt &amp;lt;- data.table(pal, type=c(&quot;NoMut&quot;,type))
    type &amp;lt;- pal_dt[type %in% unique(vr$Type),type]
    pal &amp;lt;- c(pal[1],pal_dt[type, on=&quot;type&quot;][,pal])
  }
  dt &amp;lt;- unique(vr[,.(Gene,Type,Patient)])
  if(is.null(type)){type &amp;lt;- data.table(table(vr$Type))[order(-N),V1]}
  dt$Type &amp;lt;- factor(dt$Type, levels = type)
  gene &amp;lt;- dt[!Type %in% order_omit,.(N=length(unique(Patient))),by=Gene][order(N),Gene]
  dt$Gene &amp;lt;- factor(dt$Gene, levels = gene)
  patient &amp;lt;- data.table(table(vr[!Type %in% order_omit,]$Patient))[order(-N),V1]
  dt$Patient &amp;lt;- factor(dt$Patient, levels = c(patient, setdiff(unique(dt$Patient),patient)))
  
  
  if(order_gene &amp;amp; !order_patient){setkey(dt, &quot;Gene&quot;)}
  if(!order_gene &amp;amp; order_patient){setkey(dt, &quot;Patient&quot;)}
  if(order_gene &amp;amp; order_patient){setkey(dt, &quot;Gene&quot;,&quot;Patient&quot;,&quot;Type&quot;)}
  
  n &amp;lt;- length(unique(dt$Type))
  
  dt$Gene_Patients &amp;lt;- paste(dt$Gene, dt$Patient)
  dt_inf &amp;lt;- dt[,.N,by=.(Gene, Patient)]
  max_mut_num &amp;lt;- max(dt_inf$N)
  dt[,Mut_num:=seq_len(.N),by=.(Patient,Gene)]

  #main plot, heatmap using first mutation type
  dt1 &amp;lt;- copy(dt)
  dt1[Mut_num !=1, Type:=NA]
  dc &amp;lt;- data.frame(dcast(dt1, Patient ~ Gene, value.var = &quot;Type&quot;, fun.aggregate = function(x)(x[!is.na(x)][1])))
  rownames(dc)&amp;lt;- dc[,1]
  data_matrix&amp;lt;-data.matrix(dc[,-1])
  data_matrix[is.na(data_matrix)] &amp;lt;- 0
  pal=pal
  breaks&amp;lt;-seq(-1,10,1)
  if(!hist_plot){
    layout(matrix(data=c(1,2), nrow=1, ncol=2), widths=c(8,2), heights=c(1,1))
    par(mar=heatmap_mar, oma=heatmap_oma, mex=heatmap_mex)
  }else if(hist_plot){
    layout(matrix(c(2,4,1,3),2,2,byrow=TRUE), widths=c(3,1), 
           heights=c(1,3), TRUE)
    par(mar=heatmap_mar)
  }
  
  
  image(x=1:nrow(data_matrix),y=1:ncol(data_matrix),
        z=data_matrix,xlab=&quot;&quot;,ylab=&quot;&quot;,breaks=breaks,
        col=pal[1:11],axes=FALSE)
  
  
  #sub plot, points using other mutation type
  add_plot &amp;lt;- function(dt, i){
    dt1 &amp;lt;- copy(dt)
    dt1[Mut_num != i, Type:=NA]
    dc &amp;lt;- data.frame(dcast(dt1, Patient ~ Gene, value.var = &quot;Type&quot;, fun.aggregate = function(x){ifelse(length(x) &amp;gt;1,x[!is.na(x)][1],factor(NA))}))
    rownames(dc)&amp;lt;- dc[,1]
    data_matrix &amp;lt;- data.matrix(dc[,-1])
    xy &amp;lt;- which(data_matrix !=0, arr.ind = T)
    #apply(xy, 1, function(x)points(x[1], x[2],pch=15, cex=2.5 -0.5*i, col=pal[data_matrix[x[1],x[2]]+1]))
    apply(xy, 1, function(x)points(x[1]-0.6+i*0.25, x[2],pch=15, cex=1.2 - i*0.08, col=pal[data_matrix[x[1],x[2]]+1]))
  }
  
  ploti &amp;lt;- data.frame(i=2:max_mut_num)
  apply(ploti, 1, function(i){print(add_plot(dt, i))})
  
  text(x=1:nrow(data_matrix)+0.1, y=par(&quot;usr&quot;)[1] - xlab_adj, 
       srt = 90, adj = 0.5, labels = rownames(data_matrix), 
       xpd = TRUE, cex=col_text_cex)
  axis(2,at=1:ncol(data_matrix),labels=colnames(data_matrix),
       col=&quot;white&quot;,las=1, cex.lab=0.1)
  abline(h=c(1:ncol(data_matrix))+0.5,v=c(1:nrow(data_matrix))+0.5,
         col=&quot;white&quot;,lwd=2,xpd=F)
  #title(&quot;Correlation between genes&quot;,line=8,adj=0)
  
  if(hist_plot){
    #bar plot
    par(mar=c(0,2+0.5,3,heatmap_mar[4]-0.9))
    patient_dt &amp;lt;- dt[,.N,by=.(Patient,Type)]
    mt &amp;lt;- data.frame(dcast(patient_dt, Type ~ Patient, value.var = &quot;N&quot;))
    data_matrix &amp;lt;- data.matrix(mt[,-1])
    rownames(data_matrix) &amp;lt;- mt[,1]
    tryCatch(data_matrix &amp;lt;- data_matrix[setdiff(type, order_omit), patient], error = function(e){print(&quot;type argument or your patient name format(include &quot;-&quot; and so on )&quot;)})
    data_matrix[is.na(data_matrix)] &amp;lt;- 0
    omit_idx &amp;lt;- NULL
    for(i in order_omit){omit_idx &amp;lt;- c(omit_idx,1+which(type == i))}
    barplot(data_matrix, col=pal[-c(1,omit_idx)],space=0,border = &quot;white&quot;,axes=T,xlab=&quot;&quot;,ann=F, xaxt=&quot;n&quot;)
    
    par(mar=c( heatmap_mar[1]-2 , 0.8, heatmap_mar[3]+2.2, 3),las=1)
    gene_dt &amp;lt;- dt[,.N,by=.(Gene,Type)]
    mt &amp;lt;- data.frame(dcast(gene_dt, Type ~ Gene, value.var = &quot;N&quot;))
    data_matrix &amp;lt;- data.matrix(mt[,-1])
    rownames(data_matrix) &amp;lt;- mt[,1]
    gene &amp;lt;- gsub(&quot;ATM,&quot;, &quot;ATM.&quot;, gene)
    tryCatch(data_matrix &amp;lt;- data_matrix[setdiff(type, order_omit), gene], error = function(e){print(&quot;type argument or check your gene name format(please not include &quot;-&quot; and so on)&quot;)})
    data_matrix[is.na(data_matrix)] &amp;lt;- 0
    barplot(data_matrix, col=pal[-c(1,omit_idx)],space=0,border = &quot;white&quot;,axes=T,xlab=&quot;&quot;, ann=F, horiz = T, yaxt=&quot;n&quot;)
    
  }
  
  #add legend   
  par(mar=legend_mar)
  plot(3, 8,  axes=F, ann=F, type=&quot;n&quot;)
  ploti &amp;lt;- data.frame(i=1:length(type))
  if(!hist_plot){
    tmp &amp;lt;- apply(ploti, 1, function(i){print(points(2, 10+(length(type)-i)*legend_dist, pch=15, cex=2, col=pal[i+1]))})
    tmp &amp;lt;- apply(ploti, 1, function(i){print(text(3, 10+(length(type)-i)*legend_dist, labels = type[i],pch=15, cex=1, col=&quot;black&quot;))})
  }
  if(hist_plot){
    tmp &amp;lt;- apply(ploti, 1, function(i){print(points(2, 5+(length(type)-i)*legend_dist, pch=15, cex=0.9, col=pal[i+1]))})
    tmp &amp;lt;- apply(ploti, 1, function(i){print(text(2.8, 5+(length(type)-i)*legend_dist, labels = type[i],pch=15, cex=0.9, col=&quot;black&quot;))})  
  }
  
}

&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;描述&lt;/strong&gt;：&lt;br/&gt;  绘制一个基因可以同时显示多种突变类型的热图，输入三列的data table数据框， 列名分别是Gene，Type， 和 Patient，输出热图， 还可以在热图上方和右方添加突变的直方图。&lt;br/&gt;用法：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;my_heatmap(vr, pal = c(&quot;#F2F2F2&quot;,colorRampPalette(c(&quot;blue&quot;, &quot;white&quot;, &quot;red&quot;))(5)[c(1,2)],&quot;#F2F2F2&quot;,colorRampPalette(c(&quot;blue&quot;, &quot;white&quot;, &quot;red&quot;))(5)[c(4,5)],brewer.pal(n = 8, name =&quot;Accent&quot;)[c(1,4,6,8,2,3,5,7)],&quot;#E31A1C&quot;,&quot;#6A3D9A&quot;),type = c(&quot;DEL&quot;,&quot;LOSS&quot;,&quot;NEUTRAL&quot;,&quot;GAIN&quot;,&quot;AMPL&quot;,&quot;nonsynonymous SNV&quot;,&quot;synonymous SNV&quot;,&quot;intronic&quot;,&quot;stopgain&quot;,&quot;nonframeshift deletion&quot;,&quot;splicing&quot;, &quot;frameshift deletion&quot;,&quot;UTR3&quot;,&quot;frameshift insertion&quot;,&quot;UTR5&quot;),order_gene = T, order_patient = T, hist_plot = T, legend_dist = 0.4, col_text_cex = 1,xlab_adj=1, sub_gene= NULL,heatmap_mar = c(5,17,1,2), heatmap_oma=c(0.2,0.2,0.2,0.2),heatmap_mex=0.5, legend_mar = c(1,0,4,1), order_omit=c(&quot;NEUTRAL&quot;))&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;参数&lt;/strong&gt;:&lt;br/&gt;&lt;strong&gt;vr&lt;/strong&gt;： 含有变异数据的数据框，共三列，列名分别是Gene， Type， Patient；&lt;br/&gt;&lt;strong&gt;pal&lt;/strong&gt;： 色板，向量，需要根据数据框中突变类型的数量进行自定义，需要比突变类型多一种颜色作为背景色，背景色放在第一位；&lt;br/&gt;&lt;strong&gt;type&lt;/strong&gt;：色板相对应的突变类型，向量，type必须等于或者多于数据中所出现的所有类型；默认使用拷贝数的四种突变类型加上拷贝数中性再加上annovar中所有突变类型；自定义设置时长度要比色板少1；&lt;br/&gt;&lt;strong&gt;order_gene&lt;/strong&gt;： 默认T， 对基因按照突变的病人数目进行排序；&lt;br/&gt;&lt;strong&gt;order_patient&lt;/strong&gt;：默认T，对病人按照突变的基因数目进行排序；&lt;br/&gt;&lt;strong&gt;hist_plot&lt;/strong&gt;：默认T，在上方和右方加上对应的直方图；&lt;br/&gt;&lt;strong&gt;legend_dist&lt;/strong&gt;：默认0.4，调整图例之间相互的距离，一般需要自行调整；&lt;br/&gt;&lt;strong&gt;col_text_cex&lt;/strong&gt;：调整病人名称的大小，默认1；&lt;br/&gt;&lt;strong&gt;xlab_adj&lt;/strong&gt;：调整病人名称与热图之间的距离；&lt;br/&gt;&lt;strong&gt;sub_gene&lt;/strong&gt;：只选择部分基因进行画图，需要给基因名的向量，并且基因需要在数据中存在，默认NULL&lt;br/&gt;&lt;strong&gt;heatmap_mar&lt;/strong&gt;：mar参数，调整热图前后左右的边缘长度，默认c(5,17,1,2)&lt;br/&gt;&lt;strong&gt;heatmap_oma&lt;/strong&gt;：oma参数，调整热图前后左右的外边缘长度，默认c(0.2,0.2,0.2,0.2)&lt;br/&gt;&lt;strong&gt;mex&lt;/strong&gt;：调整热图的mex参数，用于描绘绘图边缘的坐标，默认0.5&lt;br/&gt;&lt;strong&gt;legend_mar&lt;/strong&gt;：legend的mar参数，调整图例的位置，默认c(1,0,4,1)&lt;br/&gt;&lt;strong&gt;order_omit&lt;/strong&gt;：排序时忽略的变异类型，这些突变类型在直方图中也会被过滤，默认c(&quot;NEUTRAL&quot;)，如果不存在&quot;NEUTRAL&quot;这种突变类型，也可以保持默认参数。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;细节&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;运行前需要加载data.table1.10.4， RColorBrewer；&lt;/li&gt;
&lt;li&gt;如果要绘制带有直方图的热图，因为图片尺寸过大，因此要使用pdf函数并要给足够大的宽度和长度；&lt;/li&gt;
&lt;li&gt;默认使用的是annovar注释的突变类型；&lt;/li&gt;
&lt;li&gt;因为绘制时影响热图和直方图对齐的因素太多，很难通过调节相应的mar，mex，oma参数达到较好的效果，因此推荐快速画出个大概后，再使用inkscape或adobe进行排版对齐&lt;/li&gt;
&lt;li&gt;如果热图中突变类型的点过小，可以减小pdf文件的宽度和长度。&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;使用例子&lt;/strong&gt;：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;#without hist plot
pdf(&quot;~/project/PE/fromws02/PE/cnv_plot/heatmap_cnv_mut.pdf&quot;, height=12, width = 12)
my_heatmap(vr, heatmap_mar = c(17,17,1,2),hist_plot = F, legend_dist=0.1, xlab_adj = 1.2, order_patient = T, order_gene = T)
dev.off()

#with hist plot
pdf(&quot;~/project/PE/fromws02/PE/cnv_plot/heatmap_hist_cnv_mut.pdf&quot;, height=12, width = 12)
my_heatmap(vr, heatmap_mar = c(17,7,1,2),hist_plot = T, legend_dist=0.3, xlab_adj = 1.2, order_patient = T, order_gene = T)
dev.off()

#only a few gene
pdf(&quot;~/project/PE/fromws02/PE/cnv_plot/Assoc_CN1.pdf&quot;, height=2,width = 14)
my_heatmap(vr, heatmap_mar = c(7,17,1,2), sub_gene = c(&quot;CDKN2A&quot;, &quot;GNAQ&quot;, &quot;NOTCH1&quot;, &quot;RB1&quot;, &quot;SMAD4&quot;, &quot;ABL1&quot;),hist_plot = F,legend_dist=0.2, xlab_adj = 0.9, order_omit = &quot;NEUTRAL&quot;)
dev.off()&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Mon, 07 May 2018 13:07:00 +0000</pubDate>
<dc:creator>ywliao</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/ywliao/p/8991346.html</dc:identifier>
</item>
<item>
<title>Java 故障安全异常处理 - NWGDK</title>
<link>http://www.cnblogs.com/nwgdk/p/9004958.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/nwgdk/p/9004958.html</guid>
<description>&lt;p&gt;异常处理代码必须保证其故障安全机制，其中一条重要的规则如下：&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;在&lt;code&gt;try-catch-finally&lt;/code&gt;块抛出的最后一个异常将会在调用堆栈中传递。&lt;br/&gt;所有早期异常将会消失。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果从一个&lt;code&gt;catch&lt;/code&gt;或&lt;code&gt;finally&lt;/code&gt;块抛出一个异常，那么这个异常可能会导致&lt;code&gt;try&lt;/code&gt;块中捕获的异常隐藏。这会在你试图确定异常的原因时产生误导。&lt;/p&gt;
&lt;p&gt;下面是&lt;code&gt;non-fail-safe&lt;/code&gt;异常处理的经典示例：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;InputStream input = &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
    input = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; FileInputStream( &lt;span class=&quot;st&quot;&gt;&quot;myFile.txt&quot;&lt;/span&gt; );
    &lt;span class=&quot;co&quot;&gt;/* do something with the stream */&lt;/span&gt;
}
&lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; ( IOException e ) {
    &lt;span class=&quot;kw&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;WrapperException&lt;/span&gt;( e );
}
&lt;span class=&quot;kw&quot;&gt;finally&lt;/span&gt; {
    &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
        input.&lt;span class=&quot;fu&quot;&gt;close&lt;/span&gt;();
    }
    &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; ( IOException e ) {
        &lt;span class=&quot;kw&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;WrapperException&lt;/span&gt;( e );
    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果&lt;code&gt;FileInputStream&lt;/code&gt;构造器抛出一个&lt;code&gt;FileNotFoundException&lt;/code&gt;异常，你认为会发生什么？&lt;/p&gt;
&lt;p&gt;首先会执行&lt;code&gt;catch&lt;/code&gt;块，该块只会重新抛出包装在&lt;code&gt;WrapperException&lt;/code&gt;中的异常。&lt;/p&gt;
&lt;p&gt;其次将执行&lt;code&gt;finally&lt;/code&gt;块来关闭输入流。但是，由于&lt;code&gt;FileInputStream&lt;/code&gt;构造器抛出了一个&lt;code&gt;FileNotFoundException&lt;/code&gt;异常，引用变量&quot;input&quot;将为&lt;code&gt;null&lt;/code&gt;。结果将是从&lt;code&gt;finally&lt;/code&gt;块中抛出&lt;code&gt;NullPointerException&lt;/code&gt;异常。&lt;code&gt;NullPointerException&lt;/code&gt;不会被&lt;code&gt;catch ( IOException e )&lt;/code&gt;子句捕获，所以它将会在调用堆栈中传递。而第一个 catch 块中抛出的&lt;code&gt;WrapperException&lt;/code&gt;将会消失。&lt;/p&gt;
&lt;p&gt;处理这种情况的正确方式是，再调用任何方法之前，先检查在&lt;code&gt;try&lt;/code&gt;块中分配的引用是否为&lt;code&gt;null&lt;/code&gt;。比如像下面这样：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;InputStream input = &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
    input = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; FileInputStream(&lt;span class=&quot;st&quot;&gt;&quot;myFile.txt&quot;&lt;/span&gt;);
    &lt;span class=&quot;co&quot;&gt;//do something with the stream&lt;/span&gt;
}
&lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt;(IOException e) {
    &lt;span class=&quot;co&quot;&gt;//first catch block&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;WrapperException&lt;/span&gt;(e);
}
&lt;span class=&quot;kw&quot;&gt;finally&lt;/span&gt; {
    &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(input != &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;) input.&lt;span class=&quot;fu&quot;&gt;close&lt;/span&gt;();
    }
    &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt;(IOException e){
        &lt;span class=&quot;co&quot;&gt;//second catch block&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;WrapperException&lt;/span&gt;(e);
    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;但即使是这样处理同样还是会有问题，让我们先假设&quot;myFile.txt&quot;文件存在，因此&quot;input&quot;引用现在指向一个有效的&lt;code&gt;FileInputStream&lt;/code&gt;。同样我们也假设处理输入流时引发了异常，这时第一个 catch 子句捕获后处理并抛出&lt;code&gt;WrapperException&lt;/code&gt;，在将&lt;code&gt;WrapperException&lt;/code&gt;传递到调用堆栈之前，还要先执行&lt;code&gt;finally&lt;/code&gt;子句。如果&lt;code&gt;input.close()&lt;/code&gt;调用失败，那么它将会抛出&lt;code&gt;IOException&lt;/code&gt;并且被第二个 catch 子句捕获并抛出&lt;code&gt;WrapperException&lt;/code&gt;，这时从第一个 catch 子句中抛出的&lt;code&gt;WrapperException&lt;/code&gt;再次消失，只有第二个 catch 抛出的&lt;code&gt;WrapperException&lt;/code&gt;才会被传递到调用堆栈中。&lt;/p&gt;
&lt;p&gt;如你所见，故障安全（fail safe）异常处理并不总是无价值的。&lt;code&gt;InputStream&lt;/code&gt;处理示例甚至不是你可以遇到的最复杂的示例。JDBC 中的事务有更多错误的可能性。当尝试提交、然后回滚，最后尝试关闭连接时，可能会出现异常。所有这些可能出现的异常都应该由异常处理代码来处理，因此，他们都不会使第一个被抛出异常消失。这样做的一种方法是确保抛出的最后一个异常包含以前抛出的所有异常，这样开发人员就可以了解错误原因。&lt;/p&gt;
&lt;p&gt;BTW，Java 7 中的&lt;code&gt;try-with-resources&lt;/code&gt;特性使得实现故障安全异常处理变得更加容易。&lt;/p&gt;
&lt;blockquote readability=&quot;0.9&quot;&gt;
&lt;p&gt;原文链接：&lt;a href=&quot;http://tutorials.jenkov.com/java-exception-handling/fail-safe-exception-handling.html&quot; class=&quot;uri&quot;&gt;http://tutorials.jenkov.com/java-exception-handling/fail-safe-exception-handling.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Mon, 07 May 2018 13:05:00 +0000</pubDate>
<dc:creator>NWGDK</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/nwgdk/p/9004958.html</dc:identifier>
</item>
</channel>
</rss>