<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>博客园_首页</title>
<link></link>
<description>代码改变世界</description>
<item>
<title>如何向微软 Docs 和本地化社区提交翻译贡献 - yan_xiaodi</title>
<link>http://www.cnblogs.com/yanxiaodi/p/9805144.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yanxiaodi/p/9805144.html</guid>
<description>&lt;h2&gt;排行榜及积分规则&lt;/h2&gt;
&lt;p&gt;微软发布了一个排行榜，可以看到全球贡献者的分数排名：Microsoft Cloud + AI International Community Leaderboard（https://microsoftl10n.github.io/）&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicG0bID4WQD9ygicWDwNGAibKmib4VgIqY3tic10XwYAQE6ib5seupAGw9Fibw/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-backh=&quot;228&quot; data-backw=&quot;434&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicG0bID4WQD9ygicWDwNGAibKmib4VgIqY3tic10XwYAQE6ib5seupAGw9Fibw/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;434&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;26&quot; data-ratio=&quot;0.5244261330194232&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicG0bID4WQD9ygicWDwNGAibKmib4VgIqY3tic10XwYAQE6ib5seupAGw9Fibw/640?wx_fmt=png&quot; data-w=&quot;1699&quot; data-type=&quot;png&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;计分规则是这样的：&lt;/p&gt;
&lt;ul class=&quot;list-paddingleft-2&quot; readability=&quot;6.5&quot;&gt;&lt;li readability=&quot;4&quot;&gt;
&lt;p&gt;对于 Docs 来说，每项建议得15分，如果微软审核后接受建议，则可以得到60分。也就是说一项建议最多得75分。&lt;/p&gt;
&lt;p&gt;1. Docs 本地化得分 = 建议数 * 15 + 接受建议数 * 60&lt;/p&gt;
&lt;p&gt;2. 一个建议 = 15分&lt;/p&gt;
&lt;p&gt;3. 一个通过审核的建议 = 60分&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;9&quot;&gt;
&lt;p&gt;对于软件程序来说，如果审核并修改一个包含10个单词的的句子，可以得20分。如果该翻译被微软批准，则可以得到80分。也就是说翻译10个单词的句子最多得100分。同时如果审核其他人的翻译并投票，可以得2分。&lt;/p&gt;
&lt;p&gt;1. 软件本地化得分 = 建议单词数 * &lt;em&gt;2 + &lt;/em&gt;投票数 * 2 + 接受翻译单词数 * 8&lt;/p&gt;
&lt;p&gt;2. 一个建议的单词 = 2分&lt;/p&gt;
&lt;p&gt;3. 一个通过审核的单词 = 8分&lt;/p&gt;
&lt;p&gt;4. 对其他人的翻译投票 = 每个投票2分&lt;/p&gt;

&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;当然我想强调的是，我们并不是为了得分才去做贡献，提交 PR 是一件很有成就感的事情，你的贡献能够帮助到他人，同时对自己也是一个提高，这才是 Contribution 的意义所在。&lt;/p&gt;
&lt;h2&gt;向 Docs 提交 PR&lt;/h2&gt;
&lt;p&gt;下面详细介绍如何对 Docs 提交 PR(&lt;code&gt;Pull Request&lt;/code&gt;)。&lt;/p&gt;
&lt;h3&gt;直接在页面上修改&lt;/h3&gt;
&lt;p&gt;第一种方式是直接在页面上修改，适合修改单个词语、句子或文章。以该页面为例：https://docs.microsoft.com/zh-cn/dotnet/standard/design-guidelines/choosing-between-class-and-struct&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic5bJ5IS92ONTxiavzo7rmyBvM0sotMrhAQf6JNtfk4QvflNQz1nVbCpA/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-backh=&quot;30&quot; data-backw=&quot;85&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic5bJ5IS92ONTxiavzo7rmyBvM0sotMrhAQf6JNtfk4QvflNQz1nVbCpA/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;85&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;26&quot; data-ratio=&quot;0.3609671848013817&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic5bJ5IS92ONTxiavzo7rmyBvM0sotMrhAQf6JNtfk4QvflNQz1nVbCpA/640?wx_fmt=png&quot; data-w=&quot;1737&quot; data-type=&quot;png&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;“每个框架设计器的人脸的基本设计决策之一……” 这什么乱七八糟的。Bing 翻译的质量还需提高啊。&lt;/p&gt;
&lt;p&gt;首先点页面右上角的 &lt;code&gt;登陆&lt;/code&gt;按钮,这里需要使用 &lt;code&gt;GitHub&lt;/code&gt; 账户，没有的话先注册一个。然后可以看到页面上方有几个链接：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuiclBDvbdqeIetiakgl1ZkUevVjRF1FNCRjicChTkaLKwmkkSNEmkicTjjcQ/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-backh=&quot;26&quot; data-backw=&quot;244&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuiclBDvbdqeIetiakgl1ZkUevVjRF1FNCRjicChTkaLKwmkkSNEmkicTjjcQ/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;80&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;26&quot; data-ratio=&quot;0.10642201834862386&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuiclBDvbdqeIetiakgl1ZkUevVjRF1FNCRjicChTkaLKwmkkSNEmkicTjjcQ/640?wx_fmt=png&quot; data-w=&quot;545&quot; data-type=&quot;png&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;可以点击 &lt;code&gt;反馈&lt;/code&gt; 按钮来提交你的反馈意见，相当于发布评论，会显示在页面下方。如果想编辑翻译的话，就点击 &lt;code&gt;编辑&lt;/code&gt; 按钮，这样会直接链接到该页面在 &lt;code&gt;GitHub&lt;/code&gt; 上的地址：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-backh=&quot;82&quot; data-backw=&quot;130&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicialdiaHUoo96xghWBziaDcT2DCjZnPRg5VmRoibgzSaPsylEzX4eJ0Zfibw/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;130&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;26&quot; data-ratio=&quot;0.6346922462030375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicialdiaHUoo96xghWBziaDcT2DCjZnPRg5VmRoibgzSaPsylEzX4eJ0Zfibw/640?wx_fmt=png&quot; data-w=&quot;1251&quot; data-type=&quot;png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;要编辑的话，就点击那个笔形的编辑按钮：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-backh=&quot;26&quot; data-backw=&quot;62&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuictXJ3KIQfvX5wQZXibPQ3WWIkV7DxIQltiaYy5grJqFjYbXnz09C8UG4Q/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;48&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;26&quot; data-ratio=&quot;0.42105263157894735&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuictXJ3KIQfvX5wQZXibPQ3WWIkV7DxIQltiaYy5grJqFjYbXnz09C8UG4Q/640?wx_fmt=png&quot; data-w=&quot;380&quot; data-type=&quot;png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;然后就可以直接编辑了，注意页面上方的说明：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicewLAt7K9KX6XaLnf7b5XSQZNNdVKfkpUdaWwfnVdREz3kicCic8aghsQ/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-backh=&quot;62&quot; data-backw=&quot;112&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicewLAt7K9KX6XaLnf7b5XSQZNNdVKfkpUdaWwfnVdREz3kicCic8aghsQ/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;112&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;26&quot; data-ratio=&quot;0.5596774193548387&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicewLAt7K9KX6XaLnf7b5XSQZNNdVKfkpUdaWwfnVdREz3kicCic8aghsQ/640?wx_fmt=png&quot; data-w=&quot;1240&quot; data-type=&quot;png&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;使用这种方式会自动在你的仓库中创建一个分支。点击下面的 &lt;code&gt;Propose file change&lt;/code&gt;按钮：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicjsfRHnibR6SicEX3VPj36CvBBgibqiapppRMS754O2PSPofQ7ecTWAH6aw/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-backh=&quot;65&quot; data-backw=&quot;80&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicjsfRHnibR6SicEX3VPj36CvBBgibqiapppRMS754O2PSPofQ7ecTWAH6aw/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;80&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;26&quot; data-ratio=&quot;0.8103448275862069&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicjsfRHnibR6SicEX3VPj36CvBBgibqiapppRMS754O2PSPofQ7ecTWAH6aw/640?wx_fmt=png&quot; data-w=&quot;464&quot; data-type=&quot;png&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这样会自动生成一个页面，对比所做的修改，点击绿色的 &lt;code&gt;Create pull requet&lt;/code&gt; 按钮就可以创建一个 PR 了：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuickQr5SpkXehpjWcnRciaqibslKCEoy87yYt8SN6H5FAFcSKibPGQoDlh3Q/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-backh=&quot;390&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuickQr5SpkXehpjWcnRciaqibslKCEoy87yYt8SN6H5FAFcSKibPGQoDlh3Q/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.6980237154150197&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuickQr5SpkXehpjWcnRciaqibslKCEoy87yYt8SN6H5FAFcSKibPGQoDlh3Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1265&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;创建 PR：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5613259668508287&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicKl6ovPBMoNynD7icK1DCCcOib8z7ibwG7Mtly3sDNIont5WNmTTnxZphQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;905&quot;/&gt;&lt;/p&gt;

&lt;p&gt;可以看到，这种方式实际上是创建了一个名为&lt;code&gt;patch-1&lt;/code&gt;的分支：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicNBsa37QDictbOrGHmkHSlhoMRAo862qZyHubmlOZ8EcrCRgaJ5BNyrw/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.7606217616580311&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicNBsa37QDictbOrGHmkHSlhoMRAo862qZyHubmlOZ8EcrCRgaJ5BNyrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;965&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;等 PR 被批准并合并之后，会提示你将该分支删除，因为该分支已经没用了。按提示操作就可以了。&lt;/p&gt;
&lt;h3&gt;&lt;code&gt;Fork&lt;/code&gt; 项目到自己的仓库&lt;/h3&gt;
&lt;p&gt;直接在页面上修改的方式虽然简单，但只能在线操作，如果遇到断网或系统崩溃，可能会丢数据。此外，只改几个单词就提交一个 PR，显得比较零散。因此建议 fork 项目到自己的仓库，在本地修改后，再提交 PR 。本地编辑使用 VS Code 或其他编辑器，也不会丢失数据，VS Code 会自动暂存修改。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Fork&lt;/code&gt; 相当于一个仓库的副本。将源项目 fork 到自己的仓库可以让你随意修改代码而不会影响到源项目。并且你还可以将你的修改提交到源项目。一般流程是这样的：&lt;/p&gt;

&lt;p&gt;如果原项目作者同意了你的修改，会将其合并到源项目中。&lt;/p&gt;
&lt;h4&gt;Fork 项目&lt;/h4&gt;
&lt;p&gt;首先，打开官方项目的主页面，将其 fork 到自己的仓库：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicSS6VWkof0KqrNCHgcZlMm8IgIPRJmGqolJuiadIu1HiaFNKRHdtrmOog/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-backh=&quot;118&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicSS6VWkof0KqrNCHgcZlMm8IgIPRJmGqolJuiadIu1HiaFNKRHdtrmOog/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.21&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicSS6VWkof0KqrNCHgcZlMm8IgIPRJmGqolJuiadIu1HiaFNKRHdtrmOog/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1300&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这样会在自己的账户内生成一个新的项目，并显示是从源项目 fork 过来的：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic62IPVo0CiaE2lPibhDBBIn8MyJ93gtWFbcfNmMIn21RXfWb2vIwQeeoQ/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic62IPVo0CiaE2lPibhDBBIn8MyJ93gtWFbcfNmMIn21RXfWb2vIwQeeoQ/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.34347826086956523&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic62IPVo0CiaE2lPibhDBBIn8MyJ93gtWFbcfNmMIn21RXfWb2vIwQeeoQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;460&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;使用 VS Code，将项目 Clone 到本地。没有 VS Code 的话就装一个吧，前端神器，集成 Git，用来写 &lt;code&gt;markdown&lt;/code&gt; 也是极好的。Docs 的文档都是&lt;code&gt;markdown&lt;/code&gt; 格式，所以 VS Code 很适合干这个。&lt;/p&gt;
&lt;p&gt;点击 &lt;code&gt;Clone or download&lt;/code&gt; 的按钮，再点击路径旁边的按钮，将项目路径复制下来：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic8icwwD38iceibgbicQa9Mf4rEjmsRzM7yLva5D3nXCicfiaseib7JLqp3lDtA/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicnV3rCwyJCNxtVWjEKIEP3NuO1l8DWBRNCBib8xkDXeHvL5ntnclv2IA/0?wx_fmt=jpeg&quot; data-ratio=&quot;0.7028571428571428&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic8icwwD38iceibgbicQa9Mf4rEjmsRzM7yLva5D3nXCicfiaseib7JLqp3lDtA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;525&quot;/&gt;&lt;/p&gt;
&lt;p&gt;因为 VS Code 已经集成了 Git，所以 VS Code 中也有两种不同的使用 Git 的方式：&lt;/p&gt;
&lt;ul class=&quot;list-paddingleft-2&quot; readability=&quot;-0.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;按 &lt;code&gt;F1&lt;/code&gt;，调出命令输入框，输入 &lt;code&gt;Git&lt;/code&gt;，即可看到支持的各种 Git 命令：&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-backh=&quot;216&quot; data-backw=&quot;530&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic3WcibLluPyjPR04GZViajEBDer9FlvzkHtQ8353r5ZezUMK8BGnZAb7g/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.40760295670538543&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic3WcibLluPyjPR04GZViajEBDer9FlvzkHtQ8353r5ZezUMK8BGnZAb7g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;947&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;按 Ctrl+`,也可以在 Terminal 窗口中直接输入 Git 命令：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicaTKJW48WQnnmIwXPLU0PaeYvmiaBqrOwjPO8UVruDicl4XW4PSdCyaaQ/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5901639344262295&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicaTKJW48WQnnmIwXPLU0PaeYvmiaBqrOwjPO8UVruDicl4XW4PSdCyaaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;793&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;选择自己喜欢的方式即可。如果使用第一种方式，就选择 &lt;code&gt;Git: Clone&lt;/code&gt; 命令，然后输入项目路径，回车，会弹出一个选择文件夹位置的对话框，选择后确定即可将项目 Clone 到该文件夹中。&lt;/p&gt;
&lt;p&gt;如果使用第二种方式，首先要定位到你要存放该仓库的文件夹，然后输入：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git clone https://github.com/YOUR-USERNAME/dotnet.docs.zh-cn.git&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicG0gQiac4aNia2rYZ3sCTrov7lJpSdCfHzP3axLZyMxMw8aS5RUcxs7jA/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.27116212338593976&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicG0gQiac4aNia2rYZ3sCTrov7lJpSdCfHzP3axLZyMxMw8aS5RUcxs7jA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;697&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;h4&gt;设置与源项目同步&lt;/h4&gt;
&lt;p&gt;Clone项目后，还需要设置一下，将本地的项目与源项目（upstream）关联起来，这样就可以进行同步了。&lt;/p&gt;
&lt;p&gt;使用Terminal导航到项目所在目录，输入以下命令：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git remote -v&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;输出如下：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;c:\Source\dotnet.docs.zh-cn&amp;gt;git remote -v
origin  https://github.com/YOUR-USERNAME/dotnet.docs.zh-cn.git (fetch)
origin  https://github.com/YOUR-USERNAME/dotnet.docs.zh-cn.git (push)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;接下来，输入以下命令设置本地目录的 &lt;code&gt;upstream&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git remote add upstream https://github.com/dotnet/docs.zh-cn.git&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;再输入之前的命令查看，显示已设置成功：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;c:\Source\dotnet.docs.zh-cn&amp;gt;git remote add upstream https://github.com/dotnet/docs.zh-cn.git

c:\Source\dotnet.docs.zh-cn&amp;gt;git remote -v
origin  https://github.com/YOUR-USERNAME/dotnet.docs.zh-cn.git (fetch)
origin  https://github.com/YOUR-USERNAME/dotnet.docs.zh-cn.git (push)
upstream        https://github.com/dotnet/docs.zh-cn.git (fetch)
upstream        https://github.com/dotnet/docs.zh-cn.git (push)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.18461538461538463&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicmM3r0VxKNLD2wHnKuZVm6svYKMRcqwBAR6cj2NvgfrN51rD06uvJmA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;845&quot;/&gt;&lt;/p&gt;
&lt;h4&gt;创建分支&lt;/h4&gt;
&lt;p&gt;回到自己的项目页面（不是官方源项目的页面），点击 &lt;code&gt;Branch&lt;/code&gt; 那个下拉列表框，输入一个新的 branch 名称：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicjXE6emvbe5Zo0f1Ev01btdk4FyZuCQia8jq5vFcIFxHFECRb5YeDsRg/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.7323232323232324&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicjXE6emvbe5Zo0f1Ev01btdk4FyZuCQia8jq5vFcIFxHFECRb5YeDsRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;396&quot;/&gt;&lt;/p&gt;
&lt;p&gt;注意，选择的时候要注意是以哪个分支为基础，默认是 &lt;code&gt;live&lt;/code&gt; 分支，你也可以选择以其他的分支为基础创建自己的分支。&lt;/p&gt;
&lt;p&gt;创建分支后，就可以在本地切换到该分支进行修改了。我还是更倾向使用 VS Code 集成的命令，不易出错。&lt;/p&gt;
&lt;p&gt;使用 VS Code 打开刚才 Clone 的项目目录，按 &lt;code&gt;F1&lt;/code&gt; 调出命令输入框，输入&lt;code&gt;Git&lt;/code&gt;，即可看到支持的 Git 命令：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicJRLUE4KYJwQ8DFzt3fBPMbMpstqibuR7cejxT4X1JIrWgcn8Z0mWVlQ/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-backh=&quot;232&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicJRLUE4KYJwQ8DFzt3fBPMbMpstqibuR7cejxT4X1JIrWgcn8Z0mWVlQ/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.41530524505588995&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicJRLUE4KYJwQ8DFzt3fBPMbMpstqibuR7cejxT4X1JIrWgcn8Z0mWVlQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1163&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;选择 &lt;code&gt;Git: Checkout to...&lt;/code&gt;，选择刚才创建的分支：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicnF9lPUy1hIWK2xs6oUBXoj5B59PPDedJRR4eLs4BibMFicbabu4jYplA/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicnF9lPUy1hIWK2xs6oUBXoj5B59PPDedJRR4eLs4BibMFicbabu4jYplA/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuiciaJNQAoOBEytuwx6pthx3KIPiaIoTWhvibhTzYVKCBTUNCyKoWGJTJFbA/0?wx_fmt=jpeg&quot; data-ratio=&quot;0.6973415132924335&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicnF9lPUy1hIWK2xs6oUBXoj5B59PPDedJRR4eLs4BibMFicbabu4jYplA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;489&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这样本地的分支就切换为刚创建的分支了，在 VS Code 左下角可以看出来当前分支是哪个：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicmVPMCS1h9qdgIibAGwlID9R2Q501qysH9aOhkQ7pW2yhqRgjeyLGyFA/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicmVPMCS1h9qdgIibAGwlID9R2Q501qysH9aOhkQ7pW2yhqRgjeyLGyFA/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.0825396825396825&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicmVPMCS1h9qdgIibAGwlID9R2Q501qysH9aOhkQ7pW2yhqRgjeyLGyFA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;315&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;点击左下角这个地方也可以方便的切换分支。&lt;/p&gt;
&lt;p&gt;如果使用命令行的方式，可以输入以下命令：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git checkout xy-test&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;输出如下：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;C:\Source\dotnet.docs.zh-cn&amp;gt;git checkout xy-test
Switched to branch &lt;span&gt;'xy-test'Your branch is up to date with &lt;span&gt;'origin/xy-test'.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;现在可以大胆修改了。&lt;/p&gt;
&lt;h4&gt;修改&lt;/h4&gt;
&lt;p&gt;这次我们来修改另一篇文档。打开 &lt;code&gt;member.md&lt;/code&gt;，即https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/member页面的源文件。&lt;/p&gt;
&lt;p&gt;对照英文原文进行翻译。为了查看 &lt;code&gt;markdown&lt;/code&gt; 的效果，可以安装一个插件。点击 VS Code 侧栏的第五个按钮，打开插件管理器，输入 &lt;code&gt;markdown&lt;/code&gt; 搜索，安装前面两个即可：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.6902286902286903&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicev0lkW76xXzicOtE3BZxfbhbBZe1S3fgQ8lnbHtmqo6hMDgyvOFsjVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;481&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这两个插件能够有效提升你写 &lt;code&gt;markdown&lt;/code&gt; 文档的效率，还可以在右侧预览效果。具体的功能可查看插件的说明。&lt;/p&gt;
&lt;p&gt;修改完后保存。点击 VS Code 侧栏的第三个图标，可以看到已经有一个修改，输入 comment，然后点击对号提交。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicxP1xGBe5iasQkdqS00hD88OkkFfdibwp6W6E9odxe7vBzEUpf9zWFibiag/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.426056338028169&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicxP1xGBe5iasQkdqS00hD88OkkFfdibwp6W6E9odxe7vBzEUpf9zWFibiag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1988&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这样修改只是提交到本地仓库，还需要 Push 到远程仓库。点击右侧的三个点的按钮，选择 &lt;code&gt;Push&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic5XZpR67plYicjpJxATh5Zo0fQT3D3icSUz3CxoVVEEW0EiaY76UtsiclPA/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.8731563421828908&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuic5XZpR67plYicjpJxATh5Zo0fQT3D3icSUz3CxoVVEEW0EiaY76UtsiclPA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;339&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;如果选择 &lt;code&gt;Push to...&lt;/code&gt; 的话，还可以选择直接 Push 到上游分支，也就是官方的项目，但这样是没有权限的，所以只能先提交到自己的项目，再向官方项目提PR。&lt;/p&gt;
&lt;p&gt;返回到自己的仓库页面，可以看到 GitHub 已经检测出来已经提交了一个更新，这时候就可以点击右侧按钮创建 &lt;code&gt;Pull Request&lt;/code&gt;了：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuico0Qn7vsbSzRVzOXqQCebj8BkWUmAC7DQjibvPUo7pyF3ibYuHsfwBQew/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.18387096774193548&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuico0Qn7vsbSzRVzOXqQCebj8BkWUmAC7DQjibvPUo7pyF3ibYuHsfwBQew/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1240&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;也可以点击 tab 栏的 &lt;code&gt;Pull Request&lt;/code&gt;，也会有一个 &lt;code&gt;New pull request&lt;/code&gt; 的按钮。这样会出现一个页面对修改后的文件和源文件进行比较：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicN40oKryCWoQN01IMtVVSadcEfTc3pF3SrZib0CHTh1czhvjVLa60Haw/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.733195449844881&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicN40oKryCWoQN01IMtVVSadcEfTc3pF3SrZib0CHTh1czhvjVLa60Haw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;967&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;一定要注意上面的分支选择，是从我们自己的分支提交到源项目的分支，不要选错了。建议输入详细的 comment 便于官方人员检查。&lt;/p&gt;
&lt;p&gt;最后点击 &lt;code&gt;Crete Pull Request&lt;/code&gt; 的按钮，就成功创建 PR 了：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicOjJ00VUvp5dUma5CYAUejbxSIPt3aD4prnFkE7U3suibqMOYy4j39lA/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.8338493292053664&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicOjJ00VUvp5dUma5CYAUejbxSIPt3aD4prnFkE7U3suibqMOYy4j39lA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;969&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;等微软工作人员审核后，即可以被合并到主项目分支了。期间微软可能会做出一些修改。&lt;/p&gt;
&lt;h4&gt;删除本地分支&lt;/h4&gt;
&lt;p&gt;往往本地创建的分支都是针对一个 issue 做的修改，或者修复某个bug，或增加一个新 feature。当修改并成功被合并后，该分支就没用了。可以点击分支后面的删除按钮删除：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;img_loading&quot; src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.30064308681672025&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicrUAicichZQUd6XHL6J5DYwhRKicc8deJdY69A8r0kX5re1mXWCpbuoqOw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1244&quot;/&gt;&lt;/p&gt;
&lt;p&gt;注意，一旦删除就无法恢复了，因此一定要确认分支的内容都已成功被合并后再删除。&lt;/p&gt;
&lt;h4&gt;与源项目进行同步&lt;/h4&gt;
&lt;p&gt;时间一长，我们本地的项目可能已经大大落后源项目的更新了。因此如果本地分支不是做出很大的破坏性变更的话，建议保持与源项目的同步。&lt;/p&gt;
&lt;p&gt;首先点击自己仓库项目的 &lt;code&gt;Pull Request&lt;/code&gt; 栏，点击 &lt;code&gt;New pull request&lt;/code&gt; 按钮。&lt;/p&gt;
&lt;p&gt;此时要注意，默认是将自己项目的更改提交到源项目，我们要反过来，将源项目的更改提交到自己的项目。&lt;/p&gt;
&lt;p&gt;所以先选择左侧的下拉列表框，选择自己的仓库：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicC2jxaBgGRicjBoHoUL94zfL97Y6AdqbyCmytJicrrNzd77eUoHsQeTgQ/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.3926805143422354&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicC2jxaBgGRicjBoHoUL94zfL97Y6AdqbyCmytJicrrNzd77eUoHsQeTgQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1011&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这样两边都是自己的项目了，再点击 &lt;code&gt;compare across forks&lt;/code&gt; 链接：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicfDZElYHibIibicL5hvoVnPPaicFuUTZOO3JTGhkxejQ0flQ7tfSHGTDltg/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.19065776930409914&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicfDZElYHibIibicL5hvoVnPPaicFuUTZOO3JTGhkxejQ0flQ7tfSHGTDltg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1049&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;右侧的下拉列表框选择源项目：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicsqKTl7ZVOJPtDgoIAMziah52PSCt37gH5G1kYKZ0pd9LSGIj6rKibO1A/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.3554884189325277&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicsqKTl7ZVOJPtDgoIAMziah52PSCt37gH5G1kYKZ0pd9LSGIj6rKibO1A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;993&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;可以看到源项目已经更新很多了，点击 &lt;code&gt;Create pull request&lt;/code&gt; 按钮即可创建一个 PR。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicxXfZykG3cwbEPNSiaPegstlPr3xRw48UBrT13GiaEylFcHbxFCWYeeLg/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.6061507936507936&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicxXfZykG3cwbEPNSiaPegstlPr3xRw48UBrT13GiaEylFcHbxFCWYeeLg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1008&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;因为是自己的项目，所以可以直接将 PR 合并：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicztZB9Q5DaHBVPBlia4esFQnQoiaJO3pXjvK8sCPZzUJCSo4PNMibv8Isw/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.3299319727891156&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicztZB9Q5DaHBVPBlia4esFQnQoiaJO3pXjvK8sCPZzUJCSo4PNMibv8Isw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;882&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;合并后，自己的项目就更新到源项目的进度了。然后要把更新的内容 Pull 到本地。&lt;/p&gt;
&lt;p&gt;在 VS Code 中按 &lt;code&gt;F1&lt;/code&gt;，打开命令行窗口，输入 &lt;code&gt;git pull&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicv9odceLCNvcDqdp5AeajONWtTib11uTyLp9bEIcibQv8bp2386KAepag/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.2765957446808511&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicv9odceLCNvcDqdp5AeajONWtTib11uTyLp9bEIcibQv8bp2386KAepag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;564&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;或者点侧栏第三个按钮，右上角的三个点按钮，选择 &lt;code&gt;Pull&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuiciaXqTe1KHwCbzuMjAzuJ3sTDxsQkzhmd5qxxdoaBvbHxDTIPHDL9AgA/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuiciaXqTe1KHwCbzuMjAzuJ3sTDxsQkzhmd5qxxdoaBvbHxDTIPHDL9AgA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;512&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这样本地的项目也是最新的了。&lt;/p&gt;
&lt;p&gt;现在大家应该对如何向 Docs 贡献翻译有一个大概了解了。我并没有全部使用 Git 命令，使用 VS Code 可以很方便的代替命令行做一些操作，还是比较方便的。&lt;/p&gt;
&lt;h2&gt;向应用程序提交贡献&lt;/h2&gt;
&lt;p&gt;这个就比较简单了，将这个网址加入收藏夹：&lt;/p&gt;
&lt;p&gt;https://envelope-community.azurewebsites.net/&lt;/p&gt;
&lt;p&gt;首先选择语言，然后可以点击右侧的按钮对当前已存在的翻译进行投票，或在下面的输入框中输入自己的翻译：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicuR7o9DCDxPGbFI26PTe04gHmfzgshR42JvibdIyROEKdy8yobjNG8jw/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.3068720379146919&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ahAATVIdckTGiaxyVc6MvNslVpmpzdxuicuR7o9DCDxPGbFI26PTe04gHmfzgshR42JvibdIyROEKdy8yobjNG8jw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1688&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这个页面支持手机浏览，所以没事等车的时候也可以刷几个翻译。&lt;/p&gt;
&lt;h2&gt;结语&lt;/h2&gt;
&lt;p&gt;Docs 是很好的学习资料，文章质量也都比较高。参与翻译 Docs 也是提高英语水平的一个方法。每天努力看一点，时间久了就会发现英语阅读能力会有很大提高，顺便为社区做点贡献，何乐而不为呢？希望能有更多同学加入到贡献者的队伍中来，帮助他人的同时也提高自己。&lt;/p&gt;
</description>
<pubDate>Wed, 17 Oct 2018 19:40:00 +0000</pubDate>
<dc:creator>yan_xiaodi</dc:creator>
<og:description>Docs （docs.microsoft.com）是微软新版的文档网站，重新规划了各项技术栈的文档结构，看起来比 MSDN 可读性更好。虽然 Docs 提供了各种语言的版本，但大多是机器翻译，某些中文</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/yanxiaodi/p/9805144.html</dc:identifier>
</item>
<item>
<title>util.promisify 的那些事儿 - 贾顺名</title>
<link>http://www.cnblogs.com/jiasm/p/9808113.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/jiasm/p/9808113.html</guid>
<description>&lt;p&gt;&lt;code&gt;util.promisify&lt;/code&gt;是在&lt;code&gt;node.js 8.x&lt;/code&gt;版本中新增的一个工具，用于将老式的&lt;code&gt;Error first callback&lt;/code&gt;转换为&lt;code&gt;Promise&lt;/code&gt;对象，让老项目改造变得更为轻松。&lt;/p&gt;
&lt;p&gt;在官方推出这个工具之前，民间已经有很多类似的工具了，比如&lt;a href=&quot;https://www.npmjs.com/package/es6-promisify&quot;&gt;es6-promisify&lt;/a&gt;、&lt;a href=&quot;https://www.npmjs.com/package/thenify&quot;&gt;thenify&lt;/a&gt;、&lt;a href=&quot;http://bluebirdjs.com/docs/api/promise.promisify.html&quot;&gt;bluebird.promisify&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;以及很多其他优秀的工具，都是实现了这样的功能，帮助我们在处理老项目的时候，不必费神将各种代码使用&lt;code&gt;Promise&lt;/code&gt;再重新实现一遍。&lt;/p&gt;
&lt;h2 id=&quot;工具实现的大致思路&quot;&gt;工具实现的大致思路&lt;/h2&gt;
&lt;p&gt;首先要解释一下这种工具大致的实现思路，因为在&lt;code&gt;Node&lt;/code&gt;中异步回调有一个约定：&lt;code&gt;Error first&lt;/code&gt;，也就是说回调函数中的第一个参数一定要是&lt;code&gt;Error&lt;/code&gt;对象，其余参数才是正确时的数据。&lt;/p&gt;
&lt;p&gt;知道了这样的规律以后，工具就很好实现了，在匹配到第一个参数有值的情况下，触发&lt;code&gt;reject&lt;/code&gt;，其余情况触发&lt;code&gt;resolve&lt;/code&gt;，一个简单的示例代码：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;function util (func) {
  return (...arg) =&amp;gt; new Promise((resolve, reject) =&amp;gt; {
    func(...arg, (err, arg) =&amp;gt; {
      if (err) reject(err)
      else resolve(arg)
    })
  })
}&lt;/code&gt;
&lt;/pre&gt;
&lt;ol&gt;&lt;li&gt;调用工具函数返回一个匿名函数，匿名函数接收原函数的参数。&lt;br/&gt;&lt;/li&gt;
&lt;li&gt;匿名函数被调用后根据这些参数来调用真实的函数，同时拼接一个用来处理结果的&lt;code&gt;callback&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;检测到&lt;code&gt;err&lt;/code&gt;有值，触发&lt;code&gt;reject&lt;/code&gt;，其他情况触发&lt;code&gt;resolve&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;&lt;strong&gt;resolve 只能传入一个参数，所以&lt;code&gt;callback&lt;/code&gt;中没有必要使用&lt;code&gt;...arg&lt;/code&gt;获取所有的返回值&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;常规的使用方式&quot;&gt;常规的使用方式&lt;/h2&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;拿一个官方文档中的示例&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const { promisify } = require('util')
const fs = require('fs')

const statAsync = promisify(fs.stat)

statAsync('.').then(stats =&amp;gt; {
  // 拿到了正确的数据
}, err =&amp;gt; {
  // 出现了异常
})&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;以及因为是&lt;code&gt;Promise&lt;/code&gt;，我们可以使用&lt;code&gt;await&lt;/code&gt;来进一步简化代码：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const { promisify } = require('util')
const fs = require('fs')

const statAsync = promisify(fs.stat)

// 假设在 async 函数中
try {
  const stats = await statAsync('.')
  // 拿到正确结果
} catch (e) {
  // 出现异常
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;用法与其他工具并没有太大的区别，我们可以很轻易的将回调转换为&lt;code&gt;Promise&lt;/code&gt;，然后应用于新的项目中。&lt;/p&gt;
&lt;h2 id=&quot;自定义的-promise-化&quot;&gt;自定义的 Promise 化&lt;/h2&gt;
&lt;p&gt;有那么一些场景，是不能够直接使用&lt;code&gt;promisify&lt;/code&gt;来进行转换的，有大概这么两种情况：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;没有遵循&lt;code&gt;Error first callback&lt;/code&gt;约定的回调函数&lt;/li&gt;
&lt;li&gt;返回多个参数的回调函数&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;首先是第一个，如果没有遵循我们的约定，很可能导致&lt;code&gt;reject&lt;/code&gt;的误判，得不到正确的反馈。&lt;br/&gt;而第二项呢，则是因为&lt;code&gt;Promise.resolve&lt;/code&gt;只能接收一个参数，多余的参数会被忽略。&lt;/p&gt;
&lt;p&gt;所以为了实现正确的结果，我们可能需要手动实现对应的&lt;code&gt;Promise&lt;/code&gt;函数，但是自己实现了以后并不能够确保使用方不会针对你的函数调用&lt;code&gt;promisify&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;所以，&lt;code&gt;util.promisify&lt;/code&gt;还提供了一个&lt;code&gt;Symbol&lt;/code&gt;类型的&lt;code&gt;key&lt;/code&gt;，&lt;code&gt;util.promisify.custom&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Symbol&lt;/code&gt;类型的大家应该都有了解，是一个唯一的值，这里是&lt;code&gt;util.prosimify&lt;/code&gt;用来指定自定义的&lt;code&gt;Promise&lt;/code&gt;化的结果的，使用方式如下：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const { promisify } = require('util')
// 比如我们有一个对象，提供了一个返回多个参数的回调版本的函数
const obj = {
  getData (callback) {
    callback(null, 'Niko', 18) // 返回两个参数，姓名和年龄
  }
}

// 这时使用promisify肯定是不行的
// 因为Promise.resolve只接收一个参数，所以我们只会得到 Niko

promisify(obj.getData)().then(console.log) // Niko

// 所以我们需要使用 promisify.custom 来自定义处理方式

obj.getData[promisify.custom] = async () =&amp;gt; ({ name: 'Niko', age: 18 })

// 当然了，这是一个曲线救国的方式，无论如何 Promise 不会返回多个参数过来的
promisify(obj.getData)().then(console.log) // { name: 'Niko', age: 18 }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;del&gt;&lt;em&gt;关于&lt;code&gt;Promise&lt;/code&gt;为什么不能&lt;code&gt;resolve&lt;/code&gt;多个值，我有一个大胆的想法，一个没有经过考证，强行解释的理由：如果能&lt;code&gt;resolve&lt;/code&gt;多个值，你让&lt;code&gt;async&lt;/code&gt;函数怎么&lt;code&gt;return&lt;/code&gt;（当个乐子看这句话就好，不要当真）&lt;/em&gt;&lt;/del&gt;&lt;br/&gt;&lt;em&gt;不过应该确实跟&lt;code&gt;return&lt;/code&gt;有关，因为&lt;code&gt;Promise&lt;/code&gt;是可以链式调用的，每个&lt;code&gt;Promise&lt;/code&gt;中执行&lt;code&gt;then&lt;/code&gt;以后都会将其返回值作为一个新的&lt;code&gt;Promise&lt;/code&gt;对象&lt;code&gt;resolve&lt;/code&gt;的值，在&lt;code&gt;JavaScript&lt;/code&gt;中并没有办法&lt;code&gt;return&lt;/code&gt;多个参数，所以即便第一个&lt;code&gt;Promise&lt;/code&gt;可以返回多个参数，只要经过&lt;code&gt;return&lt;/code&gt;的处理就会丢失&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;在使用上就是很简单的针对可能会被调用&lt;code&gt;promisify&lt;/code&gt;的函数上添加&lt;code&gt;promisify.custom&lt;/code&gt;对应的处理即可。&lt;br/&gt;当后续代码调用&lt;code&gt;promisify&lt;/code&gt;时就会进行判断：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;如果目标函数存在&lt;code&gt;promisify.custom&lt;/code&gt;属性，则会判断其类型：
&lt;ol&gt;&lt;li&gt;如果不是一个可执行的函数，抛出异常&lt;/li&gt;
&lt;li&gt;如果是可执行的函数，则直接返回其对应的函数&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;如果目标函数不存在对应的属性，按照&lt;code&gt;Error first callback&lt;/code&gt;的约定生成对应的处理函数然后返回&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;添加了这个&lt;code&gt;custom&lt;/code&gt;属性以后，就不用再担心使用方针对你的函数调用&lt;code&gt;promisify&lt;/code&gt;了。&lt;br/&gt;而且可以验证，赋值给&lt;code&gt;custom&lt;/code&gt;的函数与&lt;code&gt;promisify&lt;/code&gt;返回的函数地址是一处：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;obj.getData[promisify.custom] = async () =&amp;gt; ({ name: 'Niko', age: 18 })

// 上边的赋值为 async 函数也可以改为普通函数，只要保证这个普通函数会返回 Promise 实例即可
// 这两种方式与上边的 async 都是完全相等的

obj.getData[promisify.custom] = () =&amp;gt; Promise.resolve({ name: 'Niko', age: 18 })
obj.getData[promisify.custom] = () =&amp;gt; new Promise(resolve({ name: 'Niko', age: 18 }))

console.log(obj.getData[promisify.custom] === promisify(obj.getData)) // true&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;一些内置的-custom-处理&quot;&gt;一些内置的 custom 处理&lt;/h3&gt;
&lt;p&gt;在一些内置包中，也能够找到&lt;code&gt;promisify.custom&lt;/code&gt;的踪迹，比如说最常用的&lt;code&gt;child_process.exec&lt;/code&gt;就内置了&lt;code&gt;promisify.custom&lt;/code&gt;的处理：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const { exec } = require('child_process')
const { promisify } = require('util')

console.log(typeof exec[promisify.custom]) // function&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;因为就像前边示例中所提到的曲线救国的方案，官方的做法也是将函数签名中的参数名作为&lt;code&gt;key&lt;/code&gt;，将其所有参数存放到一个&lt;code&gt;Object&lt;/code&gt;对象中进行返回，比如&lt;code&gt;child_process.exec&lt;/code&gt;的返回值抛开&lt;code&gt;error&lt;/code&gt;以外会包含两个，&lt;code&gt;stdout&lt;/code&gt;和&lt;code&gt;stderr&lt;/code&gt;，一个是命令执行后的正确输出，一个是命令执行后的错误输出：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;promisify(exec)('ls').then(console.log)
// -&amp;gt; { stdout: 'XXX', stderr: '' }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;或者我们故意输入一些错误的命令，当然了，这个只能在&lt;code&gt;catch&lt;/code&gt;模块下才能够捕捉到，一般命令正常执行&lt;code&gt;stderr&lt;/code&gt;都会是一个空字符串：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;promisify(exec)('lss').then(console.log, console.error)
// -&amp;gt; { ..., stdout: '', stderr: 'lss: command not found' }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;包括像&lt;code&gt;setTimeout&lt;/code&gt;、&lt;code&gt;setImmediate&lt;/code&gt;也都实现了对应的&lt;code&gt;promisify.custom&lt;/code&gt;。&lt;br/&gt;之前为了实现&lt;code&gt;sleep&lt;/code&gt;的操作，还手动使用&lt;code&gt;Promise&lt;/code&gt;封装了&lt;code&gt;setTimeout&lt;/code&gt;：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const sleep = promisify(setTimeout)

console.log(new Date())

await sleep(1000)

console.log(new Date())&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;内置的-promisify-转换后函数&quot;&gt;内置的 promisify 转换后函数&lt;/h2&gt;
&lt;p&gt;如果你的&lt;code&gt;Node&lt;/code&gt;版本使用&lt;code&gt;10.x&lt;/code&gt;以上的，还可以从很多内置的模块中找到类似&lt;code&gt;.promises&lt;/code&gt;的子模块，这里边包含了该模块中常用的回调函数的&lt;code&gt;Promise&lt;/code&gt;版本（都是&lt;code&gt;async&lt;/code&gt;函数），无需再手动进行&lt;code&gt;promisify&lt;/code&gt;转换了。&lt;/p&gt;
&lt;p&gt;而且我本人觉得这是一个很好的指引方向，因为之前的工具实现，有的选择直接覆盖原有函数，有的则是在原有函数名后边增加&lt;code&gt;Async&lt;/code&gt;进行区分，官方的这种在模块中单独引入一个子模块，在里边实现&lt;code&gt;Promise&lt;/code&gt;版本的函数，其实这个在使用上是很方便的，就拿&lt;code&gt;fs&lt;/code&gt;模块进行举例：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;// 之前引入一些 fs 相关的 API 是这样做的
const { readFile, stat } = require('fs')

// 而现在可以很简单的改为
const { readFile, stat } = require('fs').promises
// 或者
const { promises: { readFile, stat } } = require('fs')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;后边要做的就是将调用&lt;code&gt;promisify&lt;/code&gt;相关的代码删掉即可，对于其他使用&lt;code&gt;API&lt;/code&gt;的代码来讲，这个改动是无感知的。&lt;br/&gt;所以如果你的&lt;code&gt;node&lt;/code&gt;版本够高的话，可以在使用内置模块之前先去翻看文档，有没有对应的&lt;code&gt;promises&lt;/code&gt;支持，如果有实现的话，就可以直接使用。&lt;/p&gt;
&lt;h2 id=&quot;promisify-的一些注意事项&quot;&gt;promisify 的一些注意事项&lt;/h2&gt;
&lt;ol&gt;&lt;li&gt;一定要符合&lt;code&gt;Error first callback&lt;/code&gt;的约定&lt;/li&gt;
&lt;li&gt;不能返回多个参数&lt;/li&gt;
&lt;li&gt;注意进行转换的函数是否包含&lt;code&gt;this&lt;/code&gt;的引用&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;前两个问题，使用前边提到的&lt;code&gt;promisify.custom&lt;/code&gt;都可以解决掉。&lt;br/&gt;但是第三项可能会在某些情况下被我们所忽视，这并不是&lt;code&gt;promisify&lt;/code&gt;独有的问题，就一个很简单的例子：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const obj = {
  name: 'Niko',
  getName () {
    return this.name
  }
}

obj.getName() // Niko

const func = obj.getName

func() // undefined&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;类似的，如果我们在进行&lt;code&gt;Promise&lt;/code&gt;转换的时候，也是类似这样的操作，那么可能会导致生成后的函数&lt;code&gt;this&lt;/code&gt;指向出现问题。&lt;br/&gt;修复这样的问题有两种途径：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;使用箭头函数，也是推荐的做法&lt;/li&gt;
&lt;li&gt;在调用&lt;code&gt;promisify&lt;/code&gt;之前使用&lt;code&gt;bind&lt;/code&gt;绑定对应的&lt;code&gt;this&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;不过这样的问题也是建立在&lt;code&gt;promisify&lt;/code&gt;转换后的函数被赋值给其他变量的情况下会发生。&lt;br/&gt;如果是类似这样的代码，那么完全不必担心&lt;code&gt;this&lt;/code&gt;指向的问题：&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const obj = {
  name: 'Niko',
  getName (callback) {
    callback(null, this.name)
  }
}

// 这样的操作是不需要担心 this 指向问题的
obj.XXX = promisify(obj.getName)

// 如果赋值给了其他变量，那么这里就需要注意 this 的指向了
const func = promisify(obj.getName) // 错误的 this&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;小结&quot;&gt;小结&lt;/h2&gt;
&lt;p&gt;个人认为&lt;code&gt;Promise&lt;/code&gt;作为当代&lt;code&gt;javaScript&lt;/code&gt;异步编程中最核心的一部分，了解如何将老旧代码转换为&lt;code&gt;Promise&lt;/code&gt;是一件很有意思的事儿。&lt;br/&gt;而我去了解官方的这个工具，原因是在搜索&lt;code&gt;Redis&lt;/code&gt;相关的&lt;code&gt;Promise&lt;/code&gt;版本时看到了这个&lt;a href=&quot;https://github.com/mjackson/then-redis&quot;&gt;readme&lt;/a&gt;：&lt;/p&gt;
&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;This package is no longer maintained. node_redis now includes support for promises in core, so this is no longer needed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;然后跳到了&lt;code&gt;node_redis&lt;/code&gt;里边的实现方案，里边提到了&lt;code&gt;util.promisify&lt;/code&gt;，遂抓过来研究了一下，感觉还挺有意思，总结了下分享给大家。&lt;/p&gt;
&lt;h3 id=&quot;参考资料&quot;&gt;参考资料&lt;/h3&gt;
</description>
<pubDate>Wed, 17 Oct 2018 17:25:00 +0000</pubDate>
<dc:creator>贾顺名</dc:creator>
<og:description>`util.promisify node.js 8.x Error first callback Promise`对象，让老项目改造变得更为轻松。 在官方推出这个工具之前，民间已经有很多类似的工具了，</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/jiasm/p/9808113.html</dc:identifier>
</item>
<item>
<title>定制和我一样的博客园主题 - Liam Wang</title>
<link>http://www.cnblogs.com/willick/p/my-cnblogs-theme.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/willick/p/my-cnblogs-theme.html</guid>
<description>&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-tag&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#e6ecf0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-family&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica&lt;br/&gt;Neue, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#home&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;max-width&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;1140px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; transparent&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; auto&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#main&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#mainContent&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.forFlow&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding-right&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;20px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.newsItem&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListEssay&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListLink&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListNoteBook&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListTag&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListPostCategory&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListPostArchive&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListImageCategory&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListArticleArchive&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListView&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListFeedback&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.mySearch&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListComment&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListBlogRank&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catList&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.catListArticleCategory&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; transparent&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#blogTitle&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-notice&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; tan&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.9em&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6px&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;rgba&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.16&lt;/span&gt;), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6px&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;rgba&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.23&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-notice&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-tag&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;max-width&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;1140px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; auto&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-notice&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; blue&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-portrait&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; center&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;50px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#39424b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#fff&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; -&lt;span class=&quot;hljs-number&quot;&gt;40px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-portrait&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-tag&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; inline-block&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;80px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border-radius&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;50%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-portrait&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;25px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-weight&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; bold&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-portrait&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#fff&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-portrait&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;h2&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;16px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;7px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#ccc&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c-social&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#959da5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; inline-block&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;vertical-align&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; middle&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#navigator&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border-bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; solid &lt;span class=&quot;hljs-hexcolor&quot;&gt;#ccc&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#stats_article_count&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#sideBar&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;250px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#sideBar&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; inherit&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.newsItem&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.catListTitle&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.sidebar-block&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#topics&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.postTitle&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;28px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;35px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;30px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding-left&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#mainContent&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.day&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#fff&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#mainContent&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.day&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.postTitle&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; inline-block&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-tag&quot;&gt;pre&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;1.35em&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-tag&quot;&gt;pre&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;code&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;16px&lt;/span&gt; &lt;span class=&quot;hljs-important&quot;&gt;!important&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.post&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#fff&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;60px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;60px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6px&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;rgba&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.3&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.postTitle&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border-left&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;8px&lt;/span&gt; solid &lt;span class=&quot;hljs-hexcolor&quot;&gt;#21759b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-weight&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; bold&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;line-height&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;box-sizing&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; border-box&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.postTitle&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;hljs-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-left&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.postBody&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;p&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.postCon&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;text-indent&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.postBody&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;blockquote&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;min-height&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; auto&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border-top&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border-bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border-right&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1em&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#cnblogs_post_body&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding-bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#cnblogs_post_body&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;max-width&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.postDesc&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#comment_form_container&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.comment_textarea&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.comment_vote&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding-right&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;14px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.comment_vote&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.comment_digg&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#f80&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.feedbackItem&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;20px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;25px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#fff&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-class&quot;&gt;.feedbackCon&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;13px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border-bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; justify&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#div_digg&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; fixed&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;right&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;30px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;50px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-hexcolor&quot;&gt;#fff&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;20px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border-radius&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-hexcolor&quot;&gt;#888&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;rgba&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.3&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#ad_t2&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#opt_under_post&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-class&quot;&gt;.c_ad_block&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#under_post_news&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#under_post_kb&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none &lt;span class=&quot;hljs-important&quot;&gt;!important&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-at_rule&quot;&gt;@&lt;span class=&quot;hljs-keyword&quot;&gt;media&lt;/span&gt; (max-width: &lt;span class=&quot;hljs-number&quot;&gt;767px&lt;/span&gt;) &lt;/span&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#home&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding-left&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding-right&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#div_digg&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; auto&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;right&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; -&lt;span class=&quot;hljs-number&quot;&gt;25px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;bottom&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#div_digg&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.buryit&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; none&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#mainContent&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.forFlow&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding-right&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#mainContent&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;.post&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;hljs-id&quot;&gt;#sideBar&lt;/span&gt;,&lt;br/&gt;&lt;span class=&quot;hljs-id&quot;&gt;#blog-comments-placeholder&lt;/span&gt; &lt;span class=&quot;hljs-rules&quot;&gt;{&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-value&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;span class=&quot;hljs-rule&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;}
&lt;/p&gt;</description>
<pubDate>Wed, 17 Oct 2018 16:31:00 +0000</pubDate>
<dc:creator>Liam Wang</dc:creator>
<og:description>有园友问我的博客园的主题怎么弄的，我答应了要发一篇博文分享一下我的博客主题配置。其实是很简单的，相信懂 CSS 的人都能自己搞，但如果你懒得花时间，正好可以直接复制我写好的配置代码。 PS：按照博客园</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/willick/p/my-cnblogs-theme.html</dc:identifier>
</item>
<item>
<title>CircleList-使用UGUI实现的圆形列表 - blueberryzzz</title>
<link>http://www.cnblogs.com/blueberryzzz/p/9807580.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/blueberryzzz/p/9807580.html</guid>
<description>&lt;p&gt;CircleList是一个通过UGUI实现的圆形列表，通过缩放、平移和层级的改变模拟一个3D的圆形列表。&lt;/p&gt;

&lt;h2 id=&quot;添加与旋转&quot;&gt;添加与旋转&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017232011492-598265543.gif&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017232834235-1259448189.gif&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;间距调整&quot;&gt;间距调整&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017233928748-1434719457.gif&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;椭圆形的旋转&quot;&gt;椭圆形的旋转&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017223646760-1608281846.gif&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CenterX:&lt;/strong&gt; 椭圆圆心的x坐标偏移量&lt;br/&gt;&lt;strong&gt;CenterY:&lt;/strong&gt; 椭圆圆心的y坐标偏移量&lt;br/&gt;&lt;strong&gt;RadiusX:&lt;/strong&gt; 椭圆的长轴&lt;br/&gt;&lt;strong&gt;RadiusY:&lt;/strong&gt; 椭圆的短轴&lt;br/&gt;&lt;strong&gt;MinScale:&lt;/strong&gt; 缩放的最小值，缩放值在[0,π]间逐渐增大，在[π,2π]间逐渐减小&lt;br/&gt;&lt;strong&gt;MaxScale:&lt;/strong&gt; 缩放的最大值&lt;br/&gt;&lt;strong&gt;Speed:&lt;/strong&gt; 滑动距离对旋转速度的影响参数&lt;br/&gt;&lt;strong&gt;AdjustArg:&lt;/strong&gt; 调整间距的参数，值越小前方的item布局越松散&lt;br/&gt;&lt;strong&gt;OriginalRotatin:&lt;/strong&gt; 椭圆的初始旋转角度&lt;br/&gt;&lt;strong&gt;IsAutoMove:&lt;/strong&gt; 是否自动转动&lt;/p&gt;

&lt;p&gt;  以横向滑动的距离作为每个item旋转角度的增量来实现列表的转动，同时将角度控制在[0,2π]，方便进行其他的计算。&lt;br/&gt;  在将每次拖动的距离向item旋转角做变化时做了一些处理，先算出点击点向量AB的的垂直向量BF(x2,y2)，也就是半径为AB的圆的切线。将BF标准化后得到向量B'F'(x2',y2')，让后计算GB、B'F'的点积，用结果乘上速度参数作角度的增量，实现滑动的效果。&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017223717349-1228082874.png&quot;/&gt;&lt;br/&gt;  根据item的个数，计算出每个item间的间隔，以此为依据进行布局。(总旋转角+item在队列中的位置*item间的间隔)作为每个item的最终旋转角。&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017223727130-2120670482.png&quot;/&gt;&lt;br/&gt;  以角度的值为缩放的依据，让item在[0,π]之间逐渐增大，在[π,2π]之间逐渐减小。模拟出近大远小的感觉,同时以item的缩放来重新设置item的层级，解决item的遮挡关系（层级的排序通过一个辅助列表实现）。&lt;br/&gt;  但是让每个item之间相隔的角度相等的话，就会显得前方的item比较拥挤，所以通过每个item的缩放值进行角度的二次调整，让列表显得不是那么拥挤。&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017223738850-1111982059.png&quot;/&gt;&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017223746057-352098581.png&quot;/&gt;&lt;br/&gt;  在计算出每个item的位置后，将item的位置以圆心为原点，旋转θ度，实现椭圆的旋转。&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1362861/201810/1362861-20181017223803052-1085315160.png&quot;/&gt;&lt;/p&gt;&lt;p&gt;代码链接：&lt;a href=&quot;https://github.com/blueberryzzz/CircleListDemo&quot; class=&quot;uri&quot;&gt;https://github.com/blueberryzzz/CircleListDemo&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Wed, 17 Oct 2018 15:40:00 +0000</pubDate>
<dc:creator>blueberryzzz</dc:creator>
<og:description>CircleList CircleList是一个通过UGUI实现的圆形列表，通过缩放、平移和层级的改变模拟一个3D的圆形列表。 效果 添加与旋转 间距调整 椭圆形的旋转 参数 CenterX: 椭圆圆</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/blueberryzzz/p/9807580.html</dc:identifier>
</item>
<item>
<title>第21天 常用模块二 - 沉沦的罚</title>
<link>http://www.cnblogs.com/huwentao/p/9803809.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/huwentao/p/9803809.html</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;strong&gt;介绍的模块&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;pickle
shelve
json
xml&lt;br/&gt;configparser&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt; 人生三问&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre readability=&quot;6&quot;&gt;
&lt;span readability=&quot;6&quot;&gt;&lt;strong&gt;序列化是什么&lt;/strong&gt;&lt;br/&gt;　　序列化就是将内存中数据格式转换成中间对象，存储到硬盘上面或者是传输到网络上面。
　　反序列化就是将硬盘或者网络中传输的中间对象转换成内存中数据格式的过程。&lt;p&gt;&lt;strong&gt;为什么要有序列化&lt;/strong&gt;&lt;br/&gt;1. 为了持久化存储文件&lt;br/&gt;　　数据是为了使用的，当我们的电脑断电之后数据就丢失是一件让人无法忍受的事情，因此我们要存储文件，存储的&lt;br/&gt;方式有两种，一种就是自己打开文件写入文件，一种就是使用模块给我们存储文件。　&lt;br/&gt;2. 为了跨平台进行交互&lt;br/&gt;　　之前我们在写atm程序的时候，为了持久保存信息都是自己通过open打开文件，然后将我们自己的数据转换成字符串的形式&lt;br/&gt;写入文件中，当我们需要的时候重新按照一定的格式翻译成我们想要的样子展现给我们。这样做不仅麻烦，而且跨平台性很差，因为&lt;br/&gt;无论我们把数据传给谁，我们都要告诉对方我这个数据是怎么存储的，你要怎么去获取，可能对方就算是获取了你的数据，也不一定&lt;br/&gt;用它的语言去得到想要的值，或者说需要花费很长的时间去解析你的数据才能真正得到想要的数据。&lt;br/&gt;　　为了解决这样的问题，有了序列化。&lt;br/&gt;　　一天，有一个人告诉大家，以后你们都不要随便的存储数据了，都按照我的格式来存储，也都按照我的格式来解析好了，因此&lt;br/&gt;网络上就出现了各式各样的序列化操作方法。归根结底就是一种通用的标准来来存储数据，方便其他人进行解析的。&lt;br/&gt;&lt;strong&gt;怎么使用序列化&lt;/strong&gt;&lt;br/&gt;　　序列化的方法有很多种，python中自带的有pickle, shelve模块，通用的模块有xml和json。接下来我来详细的&lt;br/&gt;介绍一下怎么使用这几个模块。 &lt;/p&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;模块一：pickel&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;方法1： dumps和loads&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;import&lt;/span&gt;&lt;span&gt; pickle
user &lt;/span&gt;=&lt;span&gt; {
    &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;alex&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
    &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;sex&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;male&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
    &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: 32&lt;span&gt;
}

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 序列化  将内存中的格式转换成字节流之后存储到文件中&lt;/span&gt;
with open(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;a.kle&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;wb&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;) as f:
    f.write(pickle.dumps(user))

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 反序列化 将文件中的字节流读取到内存转换成想要的格式&lt;/span&gt;
with open(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;a.kle&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;rb&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;) as f:
    res &lt;/span&gt;=&lt;span&gt; pickle.loads(f.read())
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(res)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方法2： dump和load&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; dump和load封装了文件的write和read方法&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; 使得模块使用起来更加的方便&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; 序列化&lt;/span&gt;
with open(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;wb&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;) as f:
    pickle.dump(user, f)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 反序列化&lt;/span&gt;
with open(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;rb&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;) as f:
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(pickle.load(f))
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;模块二：shevel&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;import&lt;/span&gt;&lt;span&gt; shelve   
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; shelve只有一个open函数&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; 打开文件，文件可以存在也可以不存在，&lt;/span&gt;
f = shelve.open(r&lt;span&gt;'&lt;/span&gt;&lt;span&gt;shelve.txt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, writeback=&lt;span&gt;True)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 在关闭之前可读可写参数writeback=True代表的是否可以进行修改&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; f['user'] = {'name': 'hu'}&lt;/span&gt;
&lt;span&gt;print&lt;/span&gt;(f[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;user&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
f[&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;user&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;][&lt;span&gt;'&lt;/span&gt;&lt;span&gt;sex&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;] = &lt;span&gt;'&lt;/span&gt;&lt;span&gt;male&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;
f.close()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;通用的模块&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;模块三：json&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
json是什么？&lt;br/&gt;json是一种轻量级的数据交换语言。简单清晰的层次结构使得它更易于人们的阅读以及机器的解析。能够有效的提高网络传输速率。
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;'''&lt;/span&gt;&lt;span&gt;
js中的数据类型和python中数据类型的一一转换关系

js中的数据类型                python中的数据类型
{}                            dict
[]                            list
int/float                     int/float
string&quot;&quot;双引号                str
true/false                    True/False
null                          None


json格式的语法规范：
    最外层通常是一个字典或者列表
    字符串要用双引号
    你可以在里面套用任意多的层次
&lt;/span&gt;&lt;span&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方法一：dumps, loads&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;# 和pickle的使用方法是一样的，如果是dumps和loads要通过f.write和f.readfang方法辅助&lt;br/&gt;import&lt;/span&gt;&lt;span&gt; json
user &lt;/span&gt;=&lt;span&gt; {
    &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;hu&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
    &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;sex&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;male&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
    &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: 123&lt;span&gt;
}

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 序列化&lt;/span&gt;
with open(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;a.json&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;wt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, encoding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;utf-8&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;) as f:
    f.write(json.dumps(user))

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 反序列化&lt;/span&gt;
with open(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;a.json&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;rt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, encoding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;utf-8&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;) as f:
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(json.loads(f.read()))
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方法二：dump, load&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
with open(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;a.json&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;wt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, encoding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;utf-8&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;) as f:
    json.dump(user, f)

with open(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;a.json&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;rt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, encoding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;utf-8&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;) as f:
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(json.load(f))
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;模块四：xml&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;xml是什么
    xml是一种可扩展的标记语言，它制定了一种文本内容的书写规范，使得计算机能够很轻松的识别这些数据。用于多个平台之间&lt;br/&gt;的数据交换。和json类似。

xml语法标准&lt;br/&gt;　　1. xml的每一个标签必须有一个结束标签&lt;br/&gt;　　2. 标签可以嵌套使用&lt;br/&gt;　　3. 所有的属性必须有值&lt;br/&gt;　　4. 所有的值必须是加上双引号    &lt;br/&gt;　　5. 一个标签中可以同时表示起始和结束标签 eg:&amp;lt;百度百科词条/&amp;gt;&lt;br/&gt;eg:标签是由&lt;br/&gt;　　&amp;lt;a&amp;gt;&lt;br/&gt;　　　　&amp;lt;b name=&quot;hu&quot;&amp;gt;&lt;br/&gt;　　　　&amp;lt;b/&amp;gt;&lt;br/&gt;　　&amp;lt;a/&amp;gt;&lt;br/&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;'''&lt;/span&gt;&lt;span&gt;
xml.etree.ElementTree as ET
tree = ET.parse('b.xml')
root = tree.getroot()
tree的方法：
步骤一：获得根标签
    parse     解析一个xml文档获得一个对象
    getroot   根据获得得对象获得当前xml文档的跟标签
步骤二：根据根标签找子标签
    iter      全xml文档去寻找标签
    find      找到当前层的一个标签
    findall   找到当前层的所有标签
    getchildren   获得当前标签的儿子标签
步骤三：找到子标签更改标签的内容：   
    text       标签文本，必须是叶子节点
    attrib     属性值
    set()      设置属性
步骤四：删除该标签
    remove     删除当前节点
步骤五：添加标签
    创建节点：
        year2 = ET.Element('year2')
        # 设置节点的text
        year2.text = '新年'
        # 设置节点的属性
        year2.attrib = {'updated': 'yes'}
        
步骤六：一系列操作完成之后写入文件：
    tree.write() 
    ET.dump()  把xml对象转换成一个文本   
&lt;/span&gt;&lt;span&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;案例：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_351d1363-f728-4223-8cdf-0bf11ce0e1ab&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_351d1363-f728-4223-8cdf-0bf11ce0e1ab&quot; class=&quot;code_img_opened&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_351d1363-f728-4223-8cdf-0bf11ce0e1ab&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&amp;lt;?xml version=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1.0&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;data&amp;gt;
    &amp;lt;country name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Liechtenstein&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;rank updated=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;yes&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/rank&amp;gt;
        &amp;lt;year&amp;gt;2008&amp;lt;/year&amp;gt;
        &amp;lt;gdppc&amp;gt;141100&amp;lt;/gdppc&amp;gt;
        &amp;lt;neighbor name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Austria&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; direction=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;E&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt;
        &amp;lt;neighbor name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Switzerland&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; direction=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;W&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;/country&amp;gt;
    &amp;lt;country name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Singapore&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;rank updated=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;yes&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;5&amp;lt;/rank&amp;gt;
        &amp;lt;year&amp;gt;2011&amp;lt;/year&amp;gt;
        &amp;lt;gdppc&amp;gt;59900&amp;lt;/gdppc&amp;gt;
        &amp;lt;neighbor name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Malaysia&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; direction=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;N&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;/country&amp;gt;
    &amp;lt;country name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Panama&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;rank updated=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;yes&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;69&amp;lt;/rank&amp;gt;
        &amp;lt;year&amp;gt;2011&amp;lt;/year&amp;gt;
        &amp;lt;gdppc&amp;gt;13600&amp;lt;/gdppc&amp;gt;
        &amp;lt;neighbor name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Costa Rica&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; direction=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;W&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt;
        &amp;lt;neighbor name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Colombia&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; direction=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;E&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;/country&amp;gt;
&amp;lt;/data&amp;gt;&lt;span&gt;

xml数据&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;xml文件内容&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;方法一：parse获得根标签&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;import&lt;/span&gt;&lt;span&gt; xml.etree.ElementTree as ET
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 解析xml文档为一颗树，如果此时报错，说明xml文档有问题，到xml格式化网站进行格式化就可以了&lt;/span&gt;
tree = ET.parse(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;b.xml&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 根据一棵树先得到树根（也就是根标签）&lt;/span&gt;
root = tree.getroot()
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方法二：遍历当前一层标签&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1181163/201810/1181163-20181017165903395-134124521.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 遍历xml文档&lt;/span&gt;
&lt;span&gt;for&lt;/span&gt; child &lt;span&gt;in&lt;/span&gt;&lt;span&gt; root:
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;=====》&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, child.tag, child.attrib, child.attrib[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; for i in child:&lt;/span&gt;
    &lt;span&gt;#&lt;/span&gt;&lt;span&gt;     print(i.tag, i.attrib, i.text)&lt;/span&gt;
&lt;span&gt;    
结果:
&lt;/span&gt;=====》 country {&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;Liechtenstein&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;} Liechtenstein
&lt;/span&gt;=====》 country {&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;Singapore&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;} Singapore
&lt;/span&gt;=====》 country {&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;Panama&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;} Panama
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;方法三：iter全文档查找当前标签&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;# iter方法代表全文档查看标签名为year的节点，然后循环遍历&lt;br/&gt;for&lt;/span&gt; node &lt;span&gt;in&lt;/span&gt; root.iter(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;year&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;):
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 获得当前节点的标签名，属性和文本&lt;/span&gt;
    &lt;span&gt;print&lt;/span&gt;&lt;span&gt;(node.tag, node.attrib, node.text)
    
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 结果：&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; year {} 2008&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; year {} 2011&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; year {} 2011&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方法四：修改节点的值以及添加属性&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;for&lt;/span&gt; node &lt;span&gt;in&lt;/span&gt; root.iter(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;year&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;):
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 把年加一&lt;/span&gt;
    new_year = int(node.text) + 1
    &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 然后重新赋值给当前节点&lt;/span&gt;
    node.text =&lt;span&gt; str(new_year)
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 给节点node设置了两个属性值，updatted='yes', 'version' = 1.0&lt;/span&gt;
    node.set(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;updated&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;yes&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
    node.set(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;1.0&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 把这棵树重新写入文件中&lt;/span&gt;
tree.write(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;b.xml&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方法五：删除节点&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; # rank的值如果大于50，就删除当前country节点&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; # 查找当前层内的所有country节点&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; for country in root.findall('country'):&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt;     # 查抄当前country节点下的rank节点并返回他的值&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt;     rank = int(country.find('rank').text)&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt;     # 如果rank的值大于50， 则删除&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt;     if rank &amp;gt; 50:&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt;         root.remove(country)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方法六：添加节点&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;for&lt;/span&gt; country &lt;span&gt;in&lt;/span&gt; root.findall(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;country&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;):
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; year &lt;span&gt;in&lt;/span&gt; country.findall(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;year&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;):
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 如果大于2000则添加节点&lt;/span&gt;
        &lt;span&gt;if&lt;/span&gt; int(year.text) &amp;gt; 2000&lt;span&gt;:
            &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 创建一个节点，tag = 'year2'&lt;/span&gt;
            year2 = ET.Element(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;year2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
            &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 设置节点的text&lt;/span&gt;
            year2.text = &lt;span&gt;'&lt;/span&gt;&lt;span&gt;新年&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;
            &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 设置节点的属性&lt;/span&gt;
            year2.attrib = {&lt;span&gt;'&lt;/span&gt;&lt;span&gt;updated&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;yes&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;}
            &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 把创建好的节点加入&lt;/span&gt;
&lt;span&gt;            country.append(year2)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 然后写入xml文件中            &lt;/span&gt;
tree.write(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;b.xml&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方法七：创建一个xml文档&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;46&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 通过Element创建一个节点&lt;/span&gt;
new_xml = ET.Element(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;namelist&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 通过SubElement创建子节点&lt;/span&gt;
name = ET.SubElement(new_xml, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, attrib={&lt;span&gt;'&lt;/span&gt;&lt;span&gt;enrolled&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;yes&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;})
age &lt;/span&gt;= ET.SubElement(new_xml, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, attrib={&lt;span&gt;'&lt;/span&gt;&lt;span&gt;checked&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;:&lt;span&gt;'&lt;/span&gt;&lt;span&gt;no&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;})
sex &lt;/span&gt;= ET.SubElement(new_xml, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;sex&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
sex.text &lt;/span&gt;= &lt;span&gt;'&lt;/span&gt;&lt;span&gt;33&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 通过Element创建一个节点&lt;/span&gt;
name2 = ET.SubElement(new_xml, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;name2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, attrib={&lt;span&gt;'&lt;/span&gt;&lt;span&gt;enrolled&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;no&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;})
age &lt;/span&gt;= ET.SubElement(new_xml, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, attrib={&lt;span&gt;'&lt;/span&gt;&lt;span&gt;enrolled&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;no&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;})
age.text &lt;/span&gt;= &lt;span&gt;'&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 生成文档对象&lt;/span&gt;
et =&lt;span&gt; ET.ElementTree(new_xml)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 把生成的文档对象写入到text文件中&lt;/span&gt;
et.write(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;text.xml&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, encoding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;utf-8&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, xml_declaration=&lt;span&gt;True)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 打印生成的格式对象&lt;/span&gt;
ET.dump(new_xml)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;模块五：configparser&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;'''&lt;/span&gt;&lt;span&gt;
配置文件解析模块
配置文件的格式：
    1. 分区section
    2. 选项option
    eg: 下面的格式有两个分区有是三个选项
        [user_list]  # 以[]包含的就是分区
            username = hu   # key=value形式的是选项   
            password = 123
        [db]
            file_path = 'C://user'
&lt;/span&gt;&lt;span&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;'''&lt;/span&gt;&lt;span&gt;
config = configparser.ConfigParser()
config.read('')
查看：
1. 查section
    config.sections()
2. 查options
    config.items()
    config.options()
    config.get('section', 'k1')
    config.getint('section', 'k1')
    config.getfloat('section', 'k1')
    config.getboolean('section', 'k1')

删除：
1. 删除section
    config.remove_section()
2. 删除option
    config.remove_option()

添加：
1. 添加section
    config.add_section()
2. 添加option
    config.set()

写入：
    config.write()
&lt;/span&gt;&lt;span&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;案例：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;配置文件内容：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;31.5&quot;&gt;&lt;img id=&quot;code_img_closed_474abd19-06c0-4c0b-b17f-755de45bc0e4&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_474abd19-06c0-4c0b-b17f-755de45bc0e4&quot; class=&quot;code_img_opened&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_474abd19-06c0-4c0b-b17f-755de45bc0e4&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;58&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 注释1&lt;/span&gt;
&lt;span&gt;; 注释2

[section1]
k1 &lt;/span&gt;=&lt;span&gt; v1
k2:v2
user&lt;/span&gt;=&lt;span&gt;egon
age&lt;/span&gt;=18&lt;span&gt;
is_admin&lt;/span&gt;=&lt;span&gt;true
salary&lt;/span&gt;=31&lt;span&gt;

[section2]
k1 &lt;/span&gt;= v1
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;conf.cfg&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;查看方法&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;48&quot;&gt;
&lt;pre&gt;
# config = configparser.ConfigParser().read(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;conf.cfg&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, encoding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;utf-8&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)

config &lt;/span&gt;=&lt;span&gt; configparser.ConfigParser()
config.read(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;conf.cfg&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, encoding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;utf-8&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)

# 查
print(config.sections())
print(config.items(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
print(config.options(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
print(config.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;k1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
print(config.getint(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
print(config.getfloat(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
# print(config.getboolean(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;is_admin&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))

# 改
# config.remove_section(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)  # 删除的是整个分区
config.remove_option(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;k1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
print(config.has_section(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
print(config.has_option(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;section2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;sje&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
# config.add_section(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;egon&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
config.&lt;/span&gt;&lt;span&gt;set&lt;/span&gt;(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;egon&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;egon&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
config.&lt;/span&gt;&lt;span&gt;set&lt;/span&gt;(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;egon&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
config.write(open(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;conf.cfg&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;w&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;))
&lt;/pre&gt;&lt;/div&gt;

</description>
<pubDate>Wed, 17 Oct 2018 15:29:00 +0000</pubDate>
<dc:creator>沉沦的罚</dc:creator>
<og:description>介绍的模块 人生三问 模块一：pickel 方法1： dumps和loads 方法2： dump和load 模块二：shevel 通用的模块 模块三：json 方法一：dumps, loads 方法二</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/huwentao/p/9803809.html</dc:identifier>
</item>
<item>
<title>详解C#委托和事件（二） - Minotauros</title>
<link>http://www.cnblogs.com/minotauros/p/9806229.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/minotauros/p/9806229.html</guid>
<description>&lt;p&gt;　　一、当我们使用关键字delegate声明一个自定义委托类型时，实际上是声明了一个该名称的类类型，继承自抽象类System.MulticastDelegate，还包含实例方法Invoke、BeginInvoke、EndInvoke：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;　　public&lt;/span&gt; &lt;span&gt;delegate&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; MyDelegate();
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　&lt;img src=&quot;https://img2018.cnblogs.com/blog/839833/201810/839833-20181017182753667-1949993034.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　其中的构造函数中第二个参数是native int类型的，这个是什么呢？我们接着看：&lt;/p&gt;
&lt;p&gt;　　我们知道在C#中任何方法都可以直接赋值给签名一致的委托实例，这个过程看似并不合理，按理来说C#中不支持直接获取函数的指针，其实这里是由编译器进行了取址操作，查看IL代码可知：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
　　MyDelegate myDelegate = myObj.MyFunc;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　&lt;img src=&quot;https://img2018.cnblogs.com/blog/839833/201810/839833-20181017184430357-1715186993.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　可以看到由编译器为我们进行了构建委托实例的过程，而且这里调用了ldftn命令将实例方法MyFunc()的native int类型的非托管指针推到栈中，从而将该方法的指针传到委托的构造函数中；&lt;/p&gt;
&lt;p&gt;　　由于上面的构造函数存在C#中不支持的函数指针类型void()，所以不能在运行时使用Activator类中的方法创建委托实例，但在委托基类Delegate中存在静态方法CreateDelegate()调用非托管代码用于动态创建委托实例，命名空间System.Reflection中的方法信息类MethodInfo的实例方法CreateDelegate()也提供了类似的方式以在运行时动态构建委托实例：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
    Type delegateType = &lt;span&gt;typeof&lt;/span&gt;(MyDelegate);  &lt;span&gt;//&lt;/span&gt;&lt;span&gt;这里以可访问到的委托类型举例&lt;/span&gt;
    Delegate @delegate = Delegate.CreateDelegate(delegateType, myObj, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;MyFunc&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;@delegate = typeof(MyClass).GetMethod(&quot;MyFunc&quot;).CreateDelegate(delegateType, myObj);
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;添加其它委托实例&lt;/span&gt;
    @delegate =&lt;span&gt; Delegate.Combine(@delegate, otherDelegate);
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;调用委托&lt;/span&gt;
&lt;span&gt;    @delegate.DynamicInvoke();
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;当指定的委托类型可访问时，可以将委托实例显式转换为指定的委托类型后使用()或Invoke()正常调用
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;MyDelegate myDelegate = @delegate as MyDelegate;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;myDelegate();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　对委托实例或方法的+、+=操作实际上也是调用基类Delegate中的静态方法Combine()并将合成后的委托强制转换为原类型后返回，-、-=操作则是调用静态方法Remove()；&lt;/p&gt;
&lt;p&gt;　　 &lt;img src=&quot;https://img2018.cnblogs.com/blog/839833/201810/839833-20181017225333874-761076689.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　二、委托的异步调用：通过委托类型的实例方法BeginInvoke开启子线程并在该子线程中执行委托实例中的方法，以此种方式调用的委托实例中有且只能有一个方法，如果包含多个方法，会抛出异常ArgumentException：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
　　myDelegate.BeginInvoke(&lt;span&gt;null&lt;/span&gt;, &lt;span&gt;null&lt;/span&gt;); &lt;span&gt;//&lt;/span&gt;&lt;span&gt;其中第一个参数为AsyncCallback类型的回调函数&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　如果需要异步调用一个委托实例中方法列表中的所有方法，需要先获取方法列表，再依次进行异步调用：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
　　Delegate[] delegates =&lt;span&gt; myDelegate.GetInvocationList();
　　&lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; delegates.Length; i++&lt;span&gt;)
　　{
　　　　(delegates[i] &lt;/span&gt;&lt;span&gt;as&lt;/span&gt; MyDelegate).BeginInvoke(&lt;span&gt;null&lt;/span&gt;, &lt;span&gt;null&lt;/span&gt;&lt;span&gt;);
　　}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　三、当调用委托时，如果方法列表中某个方法内引发异常且未在该方法体内捕获时，该异常将传递给委托的调用方，并且不再调用方法列表中的后面的方法，因此在方法体内捕获异常显得尤为重要；&lt;/p&gt;
&lt;p&gt;　　四、泛型中的委托：自定义泛型委托（Generic Delegate），将类型参数用作参数列表或返回值的类型：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
　　&lt;span&gt;delegate&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; MyDelegate&amp;lt;T&amp;gt;(T obj); &lt;span&gt;//&lt;/span&gt;&lt;span&gt;声明具有一个类型参数的泛型委托，参数列表中有一个参数&lt;/span&gt;
　　&lt;span&gt;void&lt;/span&gt; MyGenericFunc&amp;lt;T&amp;gt;(T obj) &lt;span&gt;//&lt;/span&gt;&lt;span&gt;声明一个泛型方法，参数列表中有一个参数&lt;/span&gt;
&lt;span&gt;　　{
　　　　&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;do…&lt;/span&gt;
&lt;span&gt;　　}
　　&lt;/span&gt;&lt;span&gt;void&lt;/span&gt; MyFunc(&lt;span&gt;string&lt;/span&gt;&lt;span&gt; str)
　　{
　　　　&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;do…&lt;/span&gt;
&lt;span&gt;　　}
　　&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;声明泛型委托的实例，指定类型参数为string类型，此时可匹配的方法签名为void myFunc(string str)&lt;/span&gt;
　　MyDelegate&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt;&lt;span&gt; myDelegate;
　　&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;赋值一个指定类型参数为string的泛型方法&lt;/span&gt;
　　myDelegate = MyGenericFunc&amp;lt;&lt;span&gt;string&lt;/span&gt;&amp;gt;&lt;span&gt;;
　　&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;添加一个参数列表为string类型的具体方法&lt;/span&gt;
　　myDelegate += MyFunc;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　※泛型委托同泛型类一样，需要在实例化时指定类型参数的类型；&lt;/p&gt;
&lt;p&gt;　　※泛型委托的实例同具体委托的实例一样，只需要方法的参数列表和返回值类型相同即可进行匹配，因此不管目标方法是指定了符合要求类型的泛型方法还是具体方法都可以进行匹配；&lt;/p&gt;

&lt;hr/&gt;&lt;p&gt;如果您觉得阅读本文对您有帮助，请点一下“推荐”按钮，您的认可是我写作的最大动力！&lt;/p&gt;
&lt;p&gt;作者：&lt;a title=&quot;Minotauros&quot; href=&quot;https://www.cnblogs.com/minotauros/&quot; target=&quot;_blank&quot;&gt;Minotauros&lt;/a&gt;&lt;br/&gt;出处：&lt;a title=&quot;https://www.cnblogs.com/minotauros/&quot; href=&quot;https://www.cnblogs.com/minotauros/&quot; target=&quot;_blank&quot;&gt;https://www.cnblogs.com/minotauros/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。&lt;/p&gt;

</description>
<pubDate>Wed, 17 Oct 2018 14:57:00 +0000</pubDate>
<dc:creator>Minotauros</dc:creator>
<og:description>一、当我们使用关键字delegate声明一个自定义委托类型时，实际上是声明了一个该名称的类类型，继承自抽象类System.MulticastDelegate，还包含实例方法Invoke、BeginIn</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/minotauros/p/9806229.html</dc:identifier>
</item>
<item>
<title>Spring入门学习笔记（4）——JDBC的使用 - NinWoo</title>
<link>http://www.cnblogs.com/NinWoo/p/9807730.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/NinWoo/p/9807730.html</guid>
<description>&lt;p class=&quot;toc&quot;&gt;目录&lt;/p&gt;
&lt;h2 id=&quot;spring-jdbc框架概览&quot;&gt;Spring JDBC框架概览&lt;/h2&gt;
&lt;p&gt;使用传统的JDBC连接数据库，需要编写不必要的代码来处理异常、打开和关闭数据库连接等变得非常麻烦。然而，Spring JDBC Framework从打开连接、准备和执行SQL语句、处理异常、处理事务以及最后关闭连接开始，负责所有低级别的细节。&lt;/p&gt;
&lt;p&gt;因此，您需要做的就是定义连接参数并指定要执行的SQL语句，并在从数据库获取数据的同时为每个迭代执行所需的工作。&lt;/p&gt;
&lt;p&gt;Spring JDBC提供了几种方法和相应不同的类来与数据库进行接口。我将采用经典且最流行的方法来使用框架的JdbcTemplate类。这是管理所有数据库通信和异常处理的中心框架类。&lt;/p&gt;
&lt;h3 id=&quot;jdbctemplate类&quot;&gt;JdbcTemplate类&lt;/h3&gt;
&lt;p&gt;JDBC模板类执行SQL查询、更新语句、存储过程调用、对结果集执行迭代，并提取返回的参数值。它还捕获JDBC异常，并将其转换为org.springframework.dao中定义的通用的、信息更丰富的包。&lt;/p&gt;
&lt;p&gt;一旦配置好，JdbcTemplate类的实例就是线程安全的。因此，您可以配置JdbcTemplate的一个实例，然后将这个共享引用安全地注入多个DAOs。&lt;/p&gt;
&lt;p&gt;在使用JDBC模板类时，一个常见的做法是在Spring配置文件中配置一个数据源，然后将这个共享数据源bean注入到DAO类中，然后在数据源的setter中创建JdbcTemplate。&lt;/p&gt;
&lt;h3 id=&quot;配置数据源&quot;&gt;配置数据源&lt;/h3&gt;
&lt;p&gt;让我们在数据库测试中创建一个数据库表Student。我们假设您正在使用MySQL数据库，如果您使用任何其他数据库，那么您可以相应地更改DDL和SQL查询。&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;CREATE TABLE Student(
   ID   INT NOT NULL AUTO_INCREMENT,
   NAME VARCHAR(20) NOT NULL,
   AGE  INT NOT NULL,
   PRIMARY KEY (ID)
);&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;现在需要为JDBC模板提供一个DataSource,以便它可以进行配置获取数据库权限：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;bean id = &quot;dataSource&quot; 
   class = &quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&amp;gt;
   &amp;lt;property name = &quot;driverClassName&quot; value = &quot;com.mysql.jdbc.Driver&quot;/&amp;gt;
   &amp;lt;property name = &quot;url&quot; value = &quot;jdbc:mysql://localhost:3306/TEST&quot;/&amp;gt;
   &amp;lt;property name = &quot;username&quot; value = &quot;root&quot;/&amp;gt;
   &amp;lt;property name = &quot;password&quot; value = &quot;password&quot;/&amp;gt;
&amp;lt;/bean&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;h3 id=&quot;数据访问对象data-access-objectdao&quot;&gt;数据访问对象（Data Access Object,DAO)&lt;/h3&gt;
&lt;p&gt;DAO表示数据访问对象，通常用于数据库交互。DAOs的存在是为了提供一种向数据库读写数据的方法，它们应该通过应用程序的其他部分访问它们的接口来公开此功能。&lt;/p&gt;
&lt;p&gt;Spring中的DAO支持使得以一致的方式使用JDBC、Hibernate、JPA或JDO等数据访问技术变得很容易。&lt;/p&gt;
&lt;h3 id=&quot;执行sql命令&quot;&gt;执行SQL命令&lt;/h3&gt;
&lt;p&gt;让我们看看如何使用SQL和JDBCTemplate对象对数据库表执行CRUD(创建、读取、更新和删除)操作。&lt;/p&gt;
&lt;p&gt;org.springframework.jdbc.core.JdbcTemplate是JDBC核心包中的中心类。它简化了JDBC的使用，有助于避免常见错误。它执行核心JDBC工作流，让应用程序代码提供SQL并提取结果。这个类执行SQL查询或更新，在resultset上发起迭代，捕获JDBC异常，并将它们转换为org.springframework.dao中定义的更通用的、更有用的异常。&lt;/p&gt;
&lt;p&gt;注：JdbcTemplate是线程安全的，关于线程安全，将会在后续的文章中加以介绍。&lt;/p&gt;
&lt;p&gt;下面介绍使用到的方法，完整信息见&lt;a href=&quot;https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html&quot;&gt;Spring JdbcTemplate API Reference&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;example&quot;&gt;Example&lt;/h4&gt;
&lt;p&gt;以下项目我使用Maven进行构建，创建Maven项目，更新pom.xml文件为以下内容&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;

    &amp;lt;groupId&amp;gt;top.ninwoo.spring&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;build-demo&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;

    &amp;lt;dependencies&amp;gt;
        &amp;lt;!-- Spring依赖 --&amp;gt;
        &amp;lt;!-- 1.Spring核心依赖 --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.1.7.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-beans&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.1.7.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-context&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.1.7.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!-- 2.Spring dao依赖 --&amp;gt;
        &amp;lt;!-- spring-jdbc包括了一些如jdbcTemplate的工具类 --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-jdbc&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.1.7.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-tx&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.1.7.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!-- 3.Spring web依赖 --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-web&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.1.7.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-webmvc&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;4.1.7.RELEASE&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!-- 4.Spring test依赖：方便做单元测试和集成测试 --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-test&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;mysql&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;mysql-connector-java&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;6.0.6&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;
&amp;lt;/project&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;StudentDAO.java : 定义Student数据接口&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code&gt;public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to create
      * a record in the Student table.
   */
   public void create(String name, Integer age);
   
   /** 
      * This is the method to be used to list down
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public Student getStudent(Integer id);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&amp;lt;Student&amp;gt; listStudents();
   
   /** 
      * This is the method to be used to delete
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public void delete(Integer id);
   
   /** 
      * This is the method to be used to update
      * a record into the Student table.
   */
   public void update(Integer id, Integer age);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;Student.java ： Student类&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code&gt;public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;StudentMapper.java ： 将数据库条目映射到Student对象,关于RowMapper接口的介绍将在文末进行补充。&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code&gt;public class StudentMapper implements RowMapper&amp;lt;Student&amp;gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt(&quot;id&quot;));
      student.setName(rs.getString(&quot;name&quot;));
      student.setAge(rs.getInt(&quot;age&quot;));
      
      return student;
   }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;这是一个函数接口，因此可以用作lambda表达式或方法引用的赋值目标。&lt;/p&gt;
&lt;p&gt;RowMapper必须实现mapRow方法来映射ResultSet中的每一行数据。这个方法不应该调用ResultSet上的next();它只应该映射当前行的值。&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Nullable
T mapRow(java.sql.ResultSet rs,
                   int rowNum)
            throws java.sql.SQLException&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;Parameters:
rs - the ResultSet to map (pre-initialized for the current row)
rowNum - the number of the current row
Returns:
the result object for the current row (may be null)
Throws:
java.sql.SQLException - if a SQLException is encountered getting column values (that is, there's no need to catch SQLException)&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;StudentJDBCTemplate.java ： Student数据接口的具体实现&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code&gt;public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public void create(String name, Integer age) {
      String SQL = &quot;insert into Student (name, age) values (?, ?)&quot;;
      jdbcTemplateObject.update( SQL, name, age);
      System.out.println(&quot;Created Record Name = &quot; + name + &quot; Age = &quot; + age);
      return;
   }
   public Student getStudent(Integer id) {
      String SQL = &quot;select * from Student where id = ?&quot;;
      Student student = jdbcTemplateObject.queryForObject(SQL, 
         new Object[]{id}, new StudentMapper());
      
      return student;
   }
   public List&amp;lt;Student&amp;gt; listStudents() {
      String SQL = &quot;select * from Student&quot;;
      List &amp;lt;Student&amp;gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
   public void delete(Integer id) {
      String SQL = &quot;delete from Student where id = ?&quot;;
      jdbcTemplateObject.update(SQL, id);
      System.out.println(&quot;Deleted Record with ID = &quot; + id );
      return;
   }
   public void update(Integer id, Integer age){
      String SQL = &quot;update Student set age = ? where id = ?&quot;;
      jdbcTemplateObject.update(SQL, age, id);
      System.out.println(&quot;Updated Record with ID = &quot; + id );
      return;
   }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;构造函数：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;JdbcTemplate()&lt;/li&gt;
&lt;li&gt;JdbcTemplate(javax.sql.DataSource dataSource)&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;update:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public int update(java.lang.String sql,
                  @Nullable
                  java.lang.Object... args)
           throws DataAccessException&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;queryForObject&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;T&amp;gt; T queryForObject(java.lang.String sql,
                               java.lang.Object[] args,
                               RowMapper&amp;lt;T&amp;gt; rowMapper)
                        throws DataAccessException&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;MainApp.java ： 主函数&lt;/li&gt;
&lt;/ul&gt;&lt;pre&gt;
&lt;code&gt;import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);

      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean(&quot;studentJDBCTemplate&quot;);
      
      System.out.println(&quot;------Records Creation--------&quot; );
      studentJDBCTemplate.create(&quot;Zara&quot;, 11);
      studentJDBCTemplate.create(&quot;Nuha&quot;, 2);
      studentJDBCTemplate.create(&quot;Ayan&quot;, 15);

      System.out.println(&quot;------Listing Multiple Records--------&quot; );
      List&amp;lt;Student&amp;gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print(&quot;ID : &quot; + record.getId() );
         System.out.print(&quot;, Name : &quot; + record.getName() );
         System.out.println(&quot;, Age : &quot; + record.getAge());
      }

      System.out.println(&quot;----Updating Record with ID = 2 -----&quot; );
      studentJDBCTemplate.update(2, 20);

      System.out.println(&quot;----Listing Record with ID = 2 -----&quot; );
      Student student = studentJDBCTemplate.getStudent(2);
      System.out.print(&quot;ID : &quot; + student.getId() );
      System.out.print(&quot;, Name : &quot; + student.getName() );
      System.out.println(&quot;, Age : &quot; + student.getAge());
   }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns = &quot;http://www.springframework.org/schema/beans&quot;
   xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
   xsi:schemaLocation = &quot;http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd &quot;&amp;gt;

   &amp;lt;!-- Initialization for data source --&amp;gt;
   &amp;lt;bean id=&quot;dataSource&quot; 
      class = &quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&amp;gt;
      &amp;lt;property name = &quot;driverClassName&quot; value = &quot;com.mysql.jdbc.Driver&quot;/&amp;gt;
      &amp;lt;property name = &quot;url&quot; value = &quot;jdbc:mysql://localhost:3306/TEST&quot;/&amp;gt;
      &amp;lt;property name = &quot;username&quot; value = &quot;root&quot;/&amp;gt;
      &amp;lt;property name = &quot;password&quot; value = &quot;password&quot;/&amp;gt;
   &amp;lt;/bean&amp;gt;

   &amp;lt;!-- Definition for studentJDBCTemplate bean --&amp;gt;
   &amp;lt;bean id = &quot;studentJDBCTemplate&quot; 
      class = &quot;com.tutorialspoint.StudentJDBCTemplate&quot;&amp;gt;
      &amp;lt;property name = &quot;dataSource&quot; ref = &quot;dataSource&quot; /&amp;gt;    
   &amp;lt;/bean&amp;gt;
      
&amp;lt;/beans&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;------Records Creation--------
Created Record Name = Zara Age = 11
Created Record Name = Nuha Age = 2
Created Record Name = Ayan Age = 15
------Listing Multiple Records--------
ID : 1, Name : Zara, Age : 11
ID : 2, Name : Nuha, Age : 2
ID : 3, Name : Ayan, Age : 15
----Updating Record with ID = 2 -----
Updated Record with ID = 2
----Listing Record with ID = 2 -----
ID : 2, Name : Nuha, Age : 20&lt;/code&gt;
&lt;/pre&gt;</description>
<pubDate>Wed, 17 Oct 2018 14:53:00 +0000</pubDate>
<dc:creator>NinWoo</dc:creator>
<og:description>[TOC] Spring JDBC框架概览 使用传统的JDBC连接数据库，需要编写不必要的代码来处理异常、打开和关闭数据库连接等变得非常麻烦。然而，Spring JDBC Framework从打开连接</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/NinWoo/p/9807730.html</dc:identifier>
</item>
<item>
<title>Kafka 温故(一)：Kafka背景及架构介绍 - pony1223</title>
<link>http://www.cnblogs.com/pony1223/p/9807585.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/pony1223/p/9807585.html</guid>
<description>&lt;p&gt;Kafka是分布式发布-订阅消息系统。它最初由LinkedIn公司开发，使用Scala语言编写，之后成为Apache项目的一部分。&lt;strong&gt;Kafka是一个分布式的，可划分的，多订阅者，冗余备份的持久性的日志服务。&lt;/strong&gt;它主要用于处理活跃的流式数据（实时性的计算）。&lt;/p&gt;
&lt;p&gt;在大数据系统中，常常会碰到一个问题，整个大数据是由各个子系统组成，数据需要在各个子系统中高性能，低延迟的不停流转。传统的企业消息系统并不是非常适合大规模的数据处理。为了已在同时搞定在线应用（消息）和离线应用（数据文件，日志）Kafka就出现了。Kafka可以起到两个作用：&lt;/p&gt;
&lt;p&gt;1.降低系统组网复杂度。&lt;br/&gt;2.降低编程复杂度，各个子系统不在是相互协商接口，各个子系统类似插口插在插座上，Kafka承担高速数据总线的作用。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.同时为发布和订阅提供高吞吐量。&lt;/strong&gt;据了解，Kafka每秒可以生产约25万消息（50 MB），每秒处理55万消息（110 MB）。&lt;br/&gt;&lt;strong&gt;2.可进行持久化操作。&lt;/strong&gt;将消息持久化到磁盘，因此可用于批量消费，例如ETL，以及实时应用程序。通过将数据持久化到硬盘以及replication防止数据丢失。&lt;br/&gt;&lt;strong&gt;3.分布式系统，易于向外扩展，可以和ZooKeeper结合。&lt;/strong&gt;所有的producer、broker和consumer都会有多个，均为分布式的。无需停机即可扩展机器。&lt;br/&gt;&lt;strong&gt;4.消息被处理的状态是在consumer端维护，而不是由server端维护&lt;/strong&gt;。当失败时能自动平衡。&lt;br/&gt;&lt;strong&gt;5.支持online和offline的场景。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/401339/201810/401339-20181017221901434-1068566842.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;可以通过消息队列做系统之间的通信，即系统之间的相互协调和调用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;注意：使用消息队列和SOA架构的区别？&lt;br/&gt;          1.SOA是直接调用的（可以通过RPC和HTTPClient来直接调用）&lt;br/&gt;          2.使用消息队列是通过消息的传递，来完成两个系统之间的整合和调用&lt;/p&gt;
&lt;p&gt;&lt;span&gt;带来的好处：&lt;/span&gt;&lt;br/&gt;1.解耦合&lt;br/&gt;      使用了消息队列后，两个系统之间没有直接的调用关系，只是通过消息的传递来交互，两个系统之间没有侵入性。&lt;/p&gt;
&lt;p&gt;2.提高系统的响应速度&lt;/p&gt;
&lt;p&gt;       例子：订单处理&lt;br/&gt;      &lt;br/&gt;        订单支付成功的方法(){&lt;br/&gt;                1、修改订单状态&lt;br/&gt;                2、计算会员积分&lt;br/&gt;                3、通知物流进行配送&lt;br/&gt;      }&lt;br/&gt;    注： &lt;br/&gt;           1.原来系统中这个三个步骤要同时处理后再返回，这样比较耗时；&lt;br/&gt;           2.现在可以先处理用户最关心的，最急需看到的修改订单状态成功信息，这样可以先处理&quot;修改订单状态&quot;,然后立刻返回给用户，&lt;br/&gt;              后面的“计算会员积分”，“通知物流进行配送”，放入消息队列中交给后面的系统继续处理。&lt;br/&gt;&lt;strong&gt;冗余&lt;/strong&gt;&lt;br/&gt;      有些情况下，处理数据的过程会失败。除非数据被持久化，否则将造成丢失。消息队列把数据进行持久化直到它们已经被完全处理，通过这一方式规避了数据丢失风险。许多消息队列所采用的&quot;插入-获取-删除&quot;范式中，在把一个消息从队列中删除之前，需要你的处理系统明确的指出该消息已经被处理完毕，从而确保你的数据被安全的保存直到你使用完毕。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;扩展性&lt;/strong&gt;&lt;br/&gt;     因为消息队列解耦了你的处理过程，所以增大消息入队和处理的频率是很容易的，只要另外增加处理过程即可。不需要改变代码、不需要调节参数。扩展就像调大电力按钮一样简单。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;灵活性 &amp;amp; 峰值处理能力&lt;/strong&gt;&lt;br/&gt;      在访问量剧增的情况下，应用仍然需要继续发挥作用，但是这样的突发流量并不常见；如果为以能处理这类峰值访问为标准来投入资源随时待命无疑是巨大的浪费。使用消息队列能够使关键组件顶住突发的访问压力，而不会因为突发的超负荷的请求而完全崩溃。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;可恢复性&lt;/strong&gt;&lt;br/&gt;系统的一部分组件失效时，不会影响到整个系统。消息队列降低了进程间的耦合度，所以即使一个处理消息的进程挂掉，加入队列中的消息仍然可以在系统恢复后被处理。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;顺序保证&lt;/strong&gt;&lt;br/&gt;在大多使用场景下，数据处理的顺序都很重要。大部分消息队列本来就是排序的，并且能保证数据会按照特定的顺序来处理。Kafka保证一个Partition内的消息的有序性。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;缓冲&lt;/strong&gt;&lt;br/&gt;在任何重要的系统中，都会有需要不同的处理时间的元素。例如，加载一张图片比应用过滤器花费更少的时间。消息队列通过一个缓冲层来帮助任务最高效率的执行———写入队列的处理会尽可能的快速。该缓冲有助于控制和优化数据流经过系统的速度。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;异步通信&lt;/strong&gt;&lt;br/&gt;很多时候，用户不想也不需要立即处理消息。消息队列提供了异步处理机制，允许用户把一个消息放入队列，但并不立即处理它。想向队列中放入多少消息就放多少，然后在需要的时候再去处理它们。&lt;/p&gt;

&lt;p&gt; &lt;strong&gt;消息队列的分类：点对点，发布/订阅&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; 1.点对点&lt;br/&gt;       消息生产者生产消息发送到queue中，然后消息消费者从queue中取出并且消费消息&lt;/p&gt;
&lt;p&gt;  注意（缺点）：&lt;/p&gt;
&lt;p&gt;           1.消息被消费以后，queue中不再有存储，所以消费者不可肯消费到已经被消费的消息。&lt;/p&gt;
&lt;p&gt;           2.queue中支持存在多个消费者，但是对一个消息而言，只会有一个消费者可以消费。&lt;br/&gt; &lt;br/&gt;          （当一个系统消费了该个消息后，其他的系统不能再消费了）&lt;/p&gt;
&lt;p&gt; 2.发布/订阅（最常用的）&lt;br/&gt;        &lt;strong&gt; 消息生产者（发布）将消息发布到topic中，同时有多个消息消费者（订阅）消费该消息。和点对点方式不同，发布到topic的消息会被所有订阅的消费者消费。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/401339/201810/401339-20181017222136931-565359623.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;   1.RabbitMQ：支持的协议多，非常重量级消息队列，对路由(Routing)，负载均衡(Load balance)或者数据持久化都有很好的支持。&lt;/p&gt;
&lt;p&gt;    2.ZeroMQ：号称最快的消息队列系统，尤其针对大吞吐量的需求场景，擅长的高级/复杂的队列，但是技术也复杂，并且只提供非持久性的队列。&lt;/p&gt;
&lt;p&gt;    3.ActiveMQ（JMS的实现）：Apache下的一个子项，类似ZeroMQ，能够以代理人和点对点的技术实现队列 。&lt;/p&gt;
&lt;p&gt;    4.Redis：是一个key-Value的NOSql数据库，但也支持MQ功能，数据量较小，性能优于RabbitMQ，数据超过10K就慢的无法忍受。&lt;/p&gt;
&lt;p&gt;        &lt;br/&gt;  &lt;span&gt;  注：消息队列不可能是单点的，也需要集群。这样就涉及到了，负载均衡和消息的持久化&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img-blog.csdn.net/20160314214943602&quot; alt=&quot;&quot; width=&quot;786&quot; height=&quot;750&quot;/&gt;&lt;/p&gt;

&lt;p&gt;参考资料：&lt;/p&gt;
&lt;p&gt;《百知教育》apache kafka&lt;/p&gt;
</description>
<pubDate>Wed, 17 Oct 2018 14:26:00 +0000</pubDate>
<dc:creator>pony1223</dc:creator>
<og:description>一.Kafka简介 Kafka是分布式发布-订阅消息系统。它最初由LinkedIn公司开发，使用Scala语言编写，之后成为Apache项目的一部分。Kafka是一个分布式的，可划分的，多订阅者，冗余</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/pony1223/p/9807585.html</dc:identifier>
</item>
<item>
<title>SpringBoot(三)通过properties实现多个数据库环境自动切换配置 - 请叫我头头哥</title>
<link>http://www.cnblogs.com/toutou/p/9761969.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/toutou/p/9761969.html</guid>
<description>&lt;div class=&quot;bodyCustomClass&quot; readability=&quot;28.671081677704&quot;&gt;
&lt;blockquote readability=&quot;9.2759381898455&quot;&gt;
&lt;p&gt;前面的文章已经介绍了&lt;a href=&quot;https://www.cnblogs.com/toutou/p/9675218.html&quot; target=&quot;_blank&quot;&gt;CentOS部署SpringBoot项目从0到1&lt;/a&gt;的详细过程，包括Linux安装ftp、Tomcat以及Java jdk的全部过程。这篇文章主要介绍关于springboot如何通过多个properties实现数据库环境部署时自动切换配置的两种方式，部署时切换方式和打包时Maven控制方式。&lt;/p&gt;
&lt;p&gt;关于springboot基础矿建搭建有疑问的。可以看我之前的一篇文章。&lt;a href=&quot;https://www.cnblogs.com/toutou/p/9650939.html&quot; target=&quot;_blank&quot;&gt;详解intellij idea搭建SpringBoot&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;h2 id=&quot;_nav_0&quot; class=&quot;blogCustomTitleStyle&quot;&gt;&lt;span class=&quot;blogCustomTitleIco&quot;&gt;v&lt;/span&gt;环境介绍&lt;/h2&gt;
&lt;p&gt;正常来讲，一个软件的开发上线的流程大部分都是分为三个环境，依次是开发、测试、上线。&lt;/p&gt;
&lt;div class=&quot;li_dot_style&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;开发环境（dev)：&lt;/p&gt;
开发环境是指的是咱们本地跑的环境。&lt;/div&gt;
&lt;div class=&quot;li_dot_style&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;测试环境(qa)：&lt;/p&gt;
一般是克隆一份生产环境的配置，qa即test。&lt;/div&gt;
&lt;div class=&quot;li_dot_style&quot; readability=&quot;7&quot;&gt;
&lt;p&gt;生产环境（prod）&lt;/p&gt;
正式提供对外服务的，即是真实环境。&lt;/div&gt;
&lt;p&gt;关于三个环境的切换已然标准化了，这里只是一笔带过一下，因为下文中的配置文件会跟三个环境有关联。相信所有人都不会对这三个环境陌生的。&lt;/p&gt;
&lt;p&gt;今天主要讲讲关于springboot如何通过多个properties实现数据库环境部署时自动切换配置的两种方式，部署时切换方式和打包时Maven控制方式。首先介绍部署时切换的方式。&lt;/p&gt;
&lt;h2 id=&quot;_nav_1&quot; class=&quot;blogCustomTitleStyle&quot;&gt;&lt;span class=&quot;blogCustomTitleIco&quot;&gt;v&lt;/span&gt;部署时切换&lt;/h2&gt;
&lt;p&gt;1.1 配置dev和qa环境数据，以备测试。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103438471-1561385679.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;1.2 新增properties文件&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103444909-765892810.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;如上图：在application.properties文件的同级目录依次创建application-dev.properties，application-qa.properties，application-pro.properties这三个配置文件，dev、qa和prod分别对应上文&quot;环境介绍&quot;中的三个环境。&lt;/p&gt;
&lt;p&gt;1.3 配置各个properties文件&lt;/p&gt;
&lt;p&gt;在application.properties中添加配置切换选项，例如切换到dev环境的配置为：&lt;code&gt;spring.profiles.active=dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;依次在application-dev.properties，application-qa.properties，application-pro.properties配置相关datasource连接信息。&lt;/p&gt;
&lt;p&gt;例如application-dev.properties配置：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;spring.datasource.url=jdbc:mysql://127.0.0.1:3306/mytest
spring.datasource.username=root
spring.datasource.password=***********
spring.datasource.driver-class-name=com.mysql.jdbc.Driver&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103452860-565566032.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;1.4 本地环境&lt;/p&gt;
&lt;p&gt;当设置application.properties中&lt;code&gt;spring.profiles.active=dev&lt;/code&gt;时，则此时启动连接的是dev环境。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103501010-1470198163.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;如上图，此时运行得到的结果与配置文件一致，是dev环境的数据。&lt;/p&gt;
&lt;p&gt;1.5 部署测试环境&lt;/p&gt;
&lt;p&gt;部署测试环境，关于部署有不了解的可以看看&lt;a href=&quot;https://www.cnblogs.com/toutou/p/9675218.html&quot; target=&quot;_blank&quot;&gt;《CentOS部署SpringBoot项目从0到1》&lt;/a&gt;，部署时切换到qa环境。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;java -jar zuche-0.0.1-SNAPSHOT.jar --spring.profiles.active=qa --server.port=2008&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103508610-975650804.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;可以看到日志中显示的内容与预期一致，spring.profiles.active设置为qa, 端口设置为2008。&lt;/p&gt;
&lt;p&gt;运行效果如下图，部署以后连接的qa环境。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103515228-553820550.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;_nav_2&quot; class=&quot;blogCustomTitleStyle&quot;&gt;&lt;span class=&quot;blogCustomTitleIco&quot;&gt;v&lt;/span&gt;Maven控制打包时切换&lt;/h2&gt;
&lt;p&gt;2.1 设置项目对象模型pom.xml&lt;/p&gt;
&lt;p&gt;2.1.1 添加profiles到pom.xml中，profiles节点是和build同级的。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;profiles&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;profile&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;dev&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;env&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;dev&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;env&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;activation&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;activeByDefault&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;true&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;activeByDefault&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;activation&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;profile&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;profile&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;qa&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;env&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;qa&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;env&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;profile&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;profile&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;prod&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;env&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;prod&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;env&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;profile&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;profiles&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;activation&lt;/code&gt;表示的是可以用这样的命令来触发profile，&lt;code&gt;true&lt;/code&gt;表示dev是默认的profile, 这样本地直接ide启动项目的时候就是连接的dev环境。&lt;/p&gt;
&lt;p&gt;2.1.2 添加filters节点。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filters&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;src/main/resources/application-${env}.properties&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filters&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103524045-1467158072.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;2.2 更新application.properties。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;spring.profiles.active=@env@&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;注意@env@中的env可以理解为一个变量,需要与2.1.2中设置的${env}对应上。&lt;/p&gt;
&lt;p&gt;2.3 添加Maven打包命令&lt;/p&gt;
&lt;p&gt;&lt;code&gt;clean package -P qa -D maven.test.skip=true&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103537378-1311279716.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-D maven.test.skip=true&lt;/code&gt;不执行测试用例，也不编译测试用例类。&lt;/p&gt;
&lt;p&gt;2.4 执行Maven命令&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103543593-504563381.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;查看jar包的application.properties文件的spring.profiles.active，看Maven命令是否生效。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103550243-69653470.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;如上图，spring.profiles.active=qa&lt;/p&gt;
&lt;p&gt;2.5 部署Tomcat&lt;/p&gt;
&lt;p&gt;&lt;code&gt;java -jar zuche-0.0.1-SNAPSHOT.jar --server.port=2008&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/506684/201810/506684-20181011103604296-873701854.png&quot; alt=&quot;SpringBoot(三)通过properties实现多个数据库环境自动切换配置&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Maven打包时已经设置了qa环境，部署命令中不需要再指明qa环境。&lt;/p&gt;
&lt;h2 id=&quot;_nav_4&quot; class=&quot;blogCustomTitleStyle&quot;&gt;&lt;span class=&quot;blogCustomTitleIco&quot;&gt;v&lt;/span&gt;博客总结&lt;/h2&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;本文通篇讲的主要是围绕springboot部署jar包的两种方式，至于war包，以后有时间再说说。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id=&quot;MySignature&quot; readability=&quot;9.0030211480363&quot;&gt;
&lt;p id=&quot;PSignature&quot;&gt;&lt;br/&gt;作　　者：&lt;strong&gt;&lt;span&gt;&lt;a href=&quot;http://www.cnblogs.com/toutou/&quot; target=&quot;_blank&quot;&gt;请叫我头头哥&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;出　　处：&lt;a href=&quot;http://www.cnblogs.com/toutou/&quot; target=&quot;_blank&quot;&gt;http://www.cnblogs.com/toutou/&lt;/a&gt;&lt;br/&gt;关于作者：专注于基础平台的项目开发。如有问题或建议，请多多赐教！&lt;br/&gt;版权声明：本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文链接。&lt;br/&gt;特此声明：所有评论和私信都会在第一时间回复。也欢迎园子的大大们指正错误，共同进步。或者&lt;a href=&quot;http://msg.cnblogs.com/msg/send/%E8%AF%B7%E5%8F%AB%E6%88%91%E5%A4%B4%E5%A4%B4%E5%93%A5&quot;&gt;直接私信&lt;/a&gt;我&lt;br/&gt;声援博主：如果您觉得文章对您有帮助，可以点击文章右下角&lt;strong&gt;&lt;span&gt;【&lt;a id=&quot;post-up&quot; href=&quot;javascript:void(0);&quot;&gt;推荐&lt;/a&gt;】&lt;/span&gt;&lt;/strong&gt;一下。您的鼓励是作者坚持原创和持续写作的最大动力！&lt;br/&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Wed, 17 Oct 2018 14:20:00 +0000</pubDate>
<dc:creator>请叫我头头哥</dc:creator>
<og:description>前面的文章已经介绍了CentOS部署SpringBoot项目从0到1的详细过程，包括Linux安装ftp、Tomcat以及Java jdk的全部过程。这篇文章主要介绍关于springboot如何通过多</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/toutou/p/9761969.html</dc:identifier>
</item>
<item>
<title>react系列（五）在React中使用Redux - liuyongjia</title>
<link>http://www.cnblogs.com/liuyongjia/p/9807525.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/liuyongjia/p/9807525.html</guid>
<description>&lt;p&gt;上一篇展示了Redux的基本使用，可以看到Redux非常简单易用，不限于React，也可以在Angular、Vue等框架中使用，只要需要Redux的设计思想的地方，就可以使用它。&lt;br/&gt;这篇主要讲解在React中使用Redux，首先是安装。&lt;/p&gt;
&lt;h2 id=&quot;安装react-redux&quot;&gt;安装React Redux&lt;/h2&gt;
&lt;pre class=&quot;bash&quot;&gt;
&lt;code&gt;yarn add redux
yarn add react-redux&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;有两个概念：&lt;br/&gt;1.容器组件（Container Components）&lt;br/&gt;2.展示组件（Presentational Components）&lt;/p&gt;
&lt;h3 id=&quot;展示组件&quot;&gt;展示组件&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;更关注数据展示，所以会写一些DOM嵌套和CSS&lt;/li&gt;
&lt;li&gt;通常不依赖Redux，直接从props中获取数据&lt;/li&gt;
&lt;li&gt;通常没有state，偶尔会用state来保存一些展示状态，如class等&lt;/li&gt;
&lt;li&gt;交互也通过props回调发起，不直接发起action&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;容器组件&quot;&gt;容器组件&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;通常作为数据源，做数据分发工作&lt;/li&gt;
&lt;li&gt;依赖Redux&lt;/li&gt;
&lt;li&gt;通过和store交互进行数据变更&lt;/li&gt;
&lt;li&gt;通过react-redux生成&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;在我们的项目中，一般来说，会编写很多展示组件，少量的容器组件来包裹这些展示组件。&lt;br/&gt;接下来写一个简单的计数器应用，先来划分容器组件和展示组件。&lt;br/&gt;计数器有三个按钮，加、减、重置；一个展示区。&lt;br/&gt;由于按钮既要触发action，又要负责展示，所以需要做成混合组件。&lt;br/&gt;先来编写展示组件，就是显示一下当前计数。&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;import React from 'react';
const Counter = ({
    count
}) =&amp;gt; (
    &amp;lt;p&amp;gt;当前计数为：&amp;lt;span style={{color: 'red'}}&amp;gt;count&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;
)

export default Counter;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;一般来说，容器组件就是通过store.subscribe传入回调，订阅store的变化，再去把值通过props传入各个组件中。&lt;br/&gt;在react-redux中实现了connect方法，它生成一个高阶组件，就是前面提到的容器组件。这个方法做了性能优化避免不必要的重复渲染，建议使用该方法。&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;connect([mapStateToProps], [mapDispatchToProps], [mergeProps], [options])&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;mapStateToProps是一个Function，用来监听Redux Store的变化，将store的值，映射为对应的props属性。&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const mapStateToProps = ({count}) =&amp;gt; {count};
// 或者
const mapStateToProps2 = (state) =&amp;gt; {
    count: state.count
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;接下来生成一个容器组件。&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;import { connect } from 'react-redux';

const ConnectCounter = connect(
  mapStateToProps
)(Counter);

export default ConnectCounter;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;接下来是按钮组件,按钮组件既需要展示，又有数据交互，做成混合组件。&lt;br/&gt;由于，需要dispatch，所以需要给connect传入第二个参数。&lt;br/&gt;mapDispatchToProps可以是Object或者Function。用来将dispatch映射到props上。&lt;/p&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;const mapDispatchToProps = dispatch =&amp;gt; {
    return {
        plus: () =&amp;gt; dispatch({
            type: 'PLUS'
        })
    }
}
// 或者结合上篇提到的bindActionCreators合成一个对象
function plus() {
  return {
    type: &quot;PLUS&quot;
  };
}

function minus() {
  return {
    type: &quot;MINUS&quot;
  };
}

const mapDispatchToProps2 = dispatch =&amp;gt; {
    return bindActionCreators({ plus, minus }, dispatch)
}&lt;/code&gt;
&lt;/pre&gt;
&lt;pre class=&quot;javascript&quot;&gt;
&lt;code&gt;import React from 'react';

let Button = ({plus, minus}) =&amp;gt; {
    return (
        &amp;lt;&amp;gt;
            &amp;lt;button onClick={plus}&amp;gt;{'plus'}&amp;lt;/button&amp;gt;
            &amp;lt;button onClick={minus}&amp;gt;{'minus'}&amp;lt;/button&amp;gt;
        &amp;lt;/&amp;gt;
    )
};

Button = connect(()=&amp;gt;{}, mapDispatchToProps2)(Button);
export default Button;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;最后，提供一个Provider用来提供全局store。完整例子在&lt;a href=&quot;https://codesandbox.io/s/r46w78292o&quot;&gt;这里-codesandbox&lt;/a&gt;。&lt;br/&gt;感谢阅读。&lt;/p&gt;
</description>
<pubDate>Wed, 17 Oct 2018 14:09:00 +0000</pubDate>
<dc:creator>liuyongjia</dc:creator>
<og:description>上一篇展示了Redux的基本使用，可以看到Redux非常简单易用，不限于React，也可以在Angular、Vue等框架中使用，只要需要Redux的设计思想的地方，就可以使用它。 这篇主要讲解在Rea</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/liuyongjia/p/9807525.html</dc:identifier>
</item>
</channel>
</rss>