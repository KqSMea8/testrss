<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>博客园_首页</title>
<link></link>
<description>代码改变世界</description>
<item>
<title>在找一份相对完整的Webpack项目配置指南么？这里有 - -渔人码头-</title>
<link>http://www.cnblogs.com/imwtr/p/7786204.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/imwtr/p/7786204.html</guid>
<description>
&lt;blockquote readability=&quot;19.866819747417&quot;&gt;
&lt;p&gt;Webpack已经出来很久了，相关的文章也有很多，然而比较完整的例子却不是很多，让很多新手不知如何下脚，下脚了又遍地坑&lt;/p&gt;
&lt;p&gt;说实话，官方文档是蛮乱的，而且有些还是错的错的。。很多配置问题只有爬过坑才知道&lt;/p&gt;
&lt;p&gt;本文首先介绍Webpack的一些基础知识，然后以一个已经完成的小Demo，逐一介绍如何在项目中进行配置&lt;/p&gt;
&lt;p&gt;该Demo主要包含编译Sass/ES6，提取（多个）CSS文件，提取公共文件，模块热更新替换，开发与线上环境区分，使用jQuery插件的方式、页面资源引入路径自动生成，编写一个简单的插件 等基础功能&lt;/p&gt;
&lt;p&gt;应该能帮助大家更好地在项目中使用Webpack3来管理前端资源&lt;/p&gt;
&lt;p&gt;本文比较啰嗦，可以直接看第四部分&lt;span&gt;&lt;span&gt;&lt;a href=&quot;http://www.cnblogs.com/imwtr/p/7786204.html#part-4&quot; target=&quot;_parent&quot;&gt;&lt;span&gt;Webpack3配置在Demo中的应用&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;，或者直接去&lt;span&gt;&lt;span&gt;&lt;a href=&quot;https://github.com/imwtr/webpack-demo&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;Fork这个Demo&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;边看边玩&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;首先，学习Webpack，还是推荐去看官方文档，还是挺全面的，包括&lt;span&gt;&lt;span&gt;&lt;a href=&quot;https://doc.webpack-china.org/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;中文&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;的和&lt;span&gt;&lt;a href=&quot;https://webpack.js.org/&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;英文&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;的，以及GitHub上关于webpack的项目issues，还有就是一些完整了例子，最后就是得自己练手配置，才能在过程中掌握好这枯燥的配置。&lt;/p&gt;


&lt;h2&gt;&lt;span&gt;一 、为什么要用Webpack&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;首先，得知道为什么要用webpack&lt;/p&gt;
&lt;p&gt;前端本可以直接HTML、CSS、Javascript就上了，不过如果要处理文件依赖、文件合并压缩、资源管理、使用新技术改善生活的时候，就得利用工具来辅助了。&lt;/p&gt;
&lt;p&gt;以往有常见的模块化工具RequireJS，SeaJS等，构建工具Grunt、Gulp等，新的技术Sass、React、ES6、Vue等，要在项目中使用这些东西，不用工具的话就略麻烦了。&lt;/p&gt;
&lt;p&gt;其实简单地说要&lt;strong&gt;聚焦两点：模块化以及自动构建。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;模块化可以使用RequireJS来处理依赖，使用Gulp来进行构建；也可以使用ES6新特性来处理模块化依赖，使用webpack来构建&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;两种方式都狠不错，但潮流所驱，后者变得愈来愈强大，当然也不是说后者就替代了前者，只是大部分情况下，后者更好&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;二、什么是Webpack&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;如其名，Web+Pack 即web的打包，主要用于web项目中打包资源进行自动构建。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Webpack将所有资源视为JS的模块来进行构建&lt;/strong&gt;，所以对于CSS，Image等非JS类型的文件，Webpack会使用相应的加载器来加载成其可识别的JS模块资源&lt;/p&gt;
&lt;p&gt;通过配置一些信息，就能将资源进行打包构建，更好地实现前端的工程化&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;三、Webpack的基础配置&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;可以认为Webpack的配置是4+n模式，四个基本的 &lt;strong&gt;entry（入口设置）&lt;/strong&gt;、&lt;strong&gt;output（输出设置）&lt;/strong&gt;、&lt;strong&gt;loader（加载器设置&lt;/strong&gt;）、&lt;strong&gt;plugin（插件设置&lt;/strong&gt;），然后加上一些特殊功能的配置。&lt;/p&gt;
&lt;p&gt;使用Webpack首先需要安装好NodeJS&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
node -&lt;span&gt;v
npm &lt;/span&gt;-v
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;确保已经可以使用node，使用NPM包管理工具来安装相应依赖包（网络环境差可以使用淘宝镜像CNPM来安装）&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
npm install -g cnpm --registry=https:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;registry.npm.taobao.org&lt;/span&gt;
cnpm -v
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;全局安装好webpack包&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
npm i -g webpack&lt;br/&gt;webpack -v
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;1. webpack的配置方式主要有三种&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1. 通过cli命令行传入参数 &lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
webpack ./src.js -o ./dest.js --watch --color 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2. 通过在一个配置文件设置相应配置，导出使用&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ./webpack.config.js文件&lt;/span&gt;
module.exports =&lt;span&gt; {&lt;br/&gt;　　 context: ...
    entry: {

    },
    output: {

    }
};



&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 命令行调用（不指定文件时默认查找webpack.config.js）&lt;/span&gt;
webpack [--config webpack.config.js]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3. 通过使用NodeJS的API配置&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这个和第二点有点类似，区别主要是第二种基本都是使用&lt;span&gt;{key: value}&lt;/span&gt;的形式配置的，API则主要是一些调用&lt;/p&gt;
&lt;p&gt;另外，某些插件的在这两种方式的配置上也有一些区别&lt;/p&gt;

&lt;p&gt;最常用的是第二种，其次第三种，第一种不太建议单独使用（因为相对麻烦，功能相对简单）&lt;/p&gt;

&lt;h3&gt;2. 常见的几个配置属性&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1. context  绝对路径&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;一般当做入口文件（包括但不限于JS、HTML模板等文件）的上下文位置，&lt;/p&gt;
&lt;p&gt;默认使用当前目录，不过建议还是填上一个&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 上下文位置&lt;/span&gt;
context: path.resolve(__dirname, 'static')
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2. entry  模块入口文件设置&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;可以接受字符串表示一个入口文件，不过一般来说是多页应用多，就设置成每页一个入口文件得了&lt;/p&gt;
&lt;p&gt;比如home对应于一个&lt;span&gt;./src/js/home&lt;/span&gt;模块，这里的key会被设置成webpack的一个&lt;span&gt;chunk&lt;/span&gt;，即最终webpack会又&lt;span&gt;三个chunkname：home | detail | common&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;也可以对应于多个模块，用数组形式指定，比如这里把jquery设置在common的chunk中&lt;/p&gt;
&lt;p&gt;也可以设置成匿名函数，用于动态添加的模块&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 文件入口配置&lt;/span&gt;
&lt;span&gt;    entry: {
        home: &lt;/span&gt;'./src/js/home'&lt;span&gt;,
        detail: &lt;/span&gt;'./src/js/detail'&lt;span&gt;,
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 提取jquery入公共文件&lt;/span&gt;
        common: ['jquery'&lt;span&gt;]
    },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3. resolve 处理资源的查找引用方式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如上方其实是省略了后JS缀，又比如想在项目中引入&lt;span&gt;util.js&lt;/span&gt; 可以省略后缀&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
import {showMsg} from './components/util';
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 处理相关文件的检索及引用方式&lt;/span&gt;
&lt;span&gt;    resolve: {
        extensions: [&lt;/span&gt;'.js', '.jsx', '.json'&lt;span&gt;],
        modules: [&lt;/span&gt;'node_modules'&lt;span&gt;],
        alias: {

        }
    },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;4. output 设置文件的输出&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;最基础的就是这三个了&lt;/p&gt;
&lt;p&gt;&lt;span&gt;path&lt;/span&gt;指定输出目录，要注意的是这个目录影响范围是比较大，与该chunk相关的资源生成路径是会基于这个路径的&lt;/p&gt;
&lt;p&gt;&lt;span&gt;filename&lt;/span&gt;指定生成的文件名，可以使用&lt;span&gt;[name]&lt;/span&gt; &lt;span&gt;[id]&lt;/span&gt;来指定相应chunk的名称，如上的home和detail，用&lt;span&gt;[hash]&lt;/span&gt;来指定本次webpack编译的标记来防缓存，不过建议是使用&lt;span&gt;[chunkhash]&lt;/span&gt;来依据每个chunk单独来设置，这样不改变的chunk就不会变了&lt;/p&gt;
&lt;p&gt;hash放在？号之后的好处是，不会生成新的文件（只是文件内容被更改了），同时hash会附在引用该资源的URL后（如script标签中的引用）&lt;/p&gt;
&lt;p&gt;&lt;span&gt;publicPath&lt;/span&gt;指定所引用资源的目录，如在html中的引用方式，建议设置一个&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 文件输出配置&lt;/span&gt;
&lt;span&gt;    output: {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 输出所在目录&lt;/span&gt;
        path: path.resolve(__dirname, 'static/dist/js'&lt;span&gt;),&lt;/span&gt;
        filename: '[name].js?[chunkhash:8]'&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置文件引用主路径&lt;/span&gt;
        publicPath: '/public/static/dist/js/'&lt;span&gt;
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;5.devtool指定sourceMap的配置&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果开启了，就可以在浏览器开发者工具查看源文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 启用sourceMap&lt;/span&gt;
    devtool: 'cheap-module-source-map',
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104212335857-1467871943.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;比如这里就是对应的一个&lt;span&gt;source Map&lt;/span&gt;，建议在开发环境下开启，帮助调试每个模块的代码&lt;/p&gt;
&lt;p&gt;这个配置的选项是满多的，而且还可以各种组合，按照自己的选择来吧&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104212521873-656625713.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. module指定模块如何被加载&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;通过设置一些规则，使用相应的loader来加载&lt;/p&gt;
&lt;p&gt;主要就是配置&lt;span&gt;module&lt;/span&gt;的&lt;span&gt;rules&lt;/span&gt;规则组，通过use字段指定&lt;span&gt;loader&lt;/span&gt;，如果只有一个loader，可以直接用字符串，loader要设置&lt;span&gt;options&lt;/span&gt;的就换成数组的方式吧&lt;/p&gt;
&lt;p&gt;或者使用多个loader的时候，也用数组的形式，规则&lt;span&gt;不要用{ }留空&lt;/span&gt;，在windows下虽然正常，但在Mac下会报错提示找不到loader&lt;/p&gt;
&lt;p&gt;多个loader遵循从右到左的&lt;span&gt;pipe&lt;/span&gt; 的方式，如下 eslint-loader是先于babel-loader执行的&lt;/p&gt;
&lt;p&gt;通过&lt;span&gt;exclude&lt;/span&gt;或&lt;span&gt;include&lt;/span&gt;等属性再确定规则的匹配位置&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 模块的处理配置，匹配规则对应文件，使用相应loader配置成可识别的模块&lt;/span&gt;
&lt;span&gt;    module: {
        rules: [{
           test: &lt;/span&gt;/\.css$/&lt;span&gt;,
           use: &lt;/span&gt;'css-loader'&lt;span&gt;
        }, {
            test: &lt;/span&gt;/\.jsx?$/&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 编译js或jsx文件，使用babel-loader转换es6为es5&lt;/span&gt;
            exclude: /node_modules/&lt;span&gt;,
            use: [{
                loader: &lt;/span&gt;'babel-loader'&lt;span&gt;,
                options: {

                }
            }, {
                loader: &lt;/span&gt;'eslint-loader'&lt;span&gt;
            }]
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;7.  plugins设置webpack配置过程中所用到的插件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;比如下方为使用webpack自带的提取公共JS模块的插件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 插件配置&lt;/span&gt;
&lt;span&gt;    plugins: [
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 提取公共模块文件&lt;/span&gt;
        &lt;span&gt;new&lt;/span&gt;&lt;span&gt; webpack.optimize.CommonsChunkPlugin({
            chunks: [&lt;/span&gt;'home', 'detail'&lt;span&gt;],&lt;/span&gt;
            filename: '[name].js',&lt;span&gt;
            name: &lt;/span&gt;'common'&lt;span&gt;
        }),
       &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; ...

]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这就是webpack最基础的东西了，看起来内容很少，当然还有其他很多，但复杂的地方在于如何真正去使用这些配置&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;四、Webpack配置在Demo中的应用&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;下面以一个相对完整的基础Demo着手，介绍一下几个基本功能该如何配置&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;a href=&quot;https://github.com/imwtr/webpack-demo&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;Demo项目地址&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;   建议拿来练练&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105025817466-992073453.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105030027107-1696192620.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105030414170-1555579329.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h3&gt;1. 搭建个服务器&lt;/h3&gt;
&lt;p&gt;既然是Demo，至少就得有一个服务器，用node来搭建一个简单的服务器，处理各种资源的请求返回&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104214733638-905575049.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;新建一个服务器文件&lt;span&gt;server.js&lt;/span&gt;，以及页面文件目录&lt;span&gt;views&lt;/span&gt;，其他资源文件目录&lt;span&gt;public&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;服务器文件很简单，请求什么就返回什么，外加了一个&lt;span&gt;gzip&lt;/span&gt;的功能&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;52&quot;&gt;
&lt;pre&gt;
let http = require('http'&lt;span&gt;),
    fs &lt;/span&gt;= require('fs'&lt;span&gt;),
    path &lt;/span&gt;= require('path'&lt;span&gt;),
    url &lt;/span&gt;= require('url'&lt;span&gt;),
    zlib &lt;/span&gt;= require('zlib'&lt;span&gt;);

http.createServer((req, res) &lt;/span&gt;=&amp;gt;&lt;span&gt; {
    let {pathname} &lt;/span&gt;=&lt;span&gt; url.parse(req.url),
        acceptEncoding &lt;/span&gt;= req.headers['accept-encoding'] || ''&lt;span&gt;,
        referer &lt;/span&gt;= req.headers['Referer'] || ''&lt;span&gt;,
        raw;

    console.log(&lt;/span&gt;'Request: '&lt;span&gt;, req.url);

    &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
        raw &lt;/span&gt;= fs.createReadStream(path.resolve(__dirname, pathname.replace(/^\//, ''&lt;span&gt;)));

        raw.on(&lt;/span&gt;'error', (err) =&amp;gt;&lt;span&gt; {
            console.log(err);

            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (err.code === 'ENOENT'&lt;span&gt;) {
                res.writeHeader(&lt;/span&gt;404, {'content-type': 'text/html;charset=&quot;utf-8&quot;'&lt;span&gt;});
                res.write(&lt;/span&gt;'&amp;lt;h1&amp;gt;404错误&amp;lt;/h1&amp;gt;&amp;lt;p&amp;gt;你要找的页面不存在&amp;lt;/p&amp;gt;'&lt;span&gt;);
                res.end();
            }
        });

        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (acceptEncoding.match(/\bgzip\b/&lt;span&gt;)) {
            res.writeHead(&lt;/span&gt;200, { 'Content-Encoding': 'gzip'&lt;span&gt; });
            raw.pipe(zlib.createGzip()).pipe(res);
        } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt; &lt;span&gt;if&lt;/span&gt; (acceptEncoding.match(/\bdeflate\b/&lt;span&gt;)) {
            res.writeHead(&lt;/span&gt;200, { 'Content-Encoding': 'deflate'&lt;span&gt; });
            raw.pipe(zlib.createDeflate()).pipe(res);
        } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
            res.writeHead(&lt;/span&gt;200&lt;span&gt;, {});
            raw.pipe(res);
        }
    } &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (e) {
        console.log(e);
    }
}).listen(&lt;/span&gt;8088&lt;span&gt;);

console.log(&lt;/span&gt;'服务器开启成功', 'localhost:8088/');
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2. 设置基础项目目录&lt;/h3&gt;
&lt;p&gt;页面文件假设采用每一类一个目录，目录下的tpl为源文件，另外一个为生成的目标页面文件&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104215400966-1057570212.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;/public&lt;/span&gt;目录下，基本配置文件就放在&lt;span&gt;根目录&lt;/span&gt;下，JS，CSS，Image等资源文件就放在&lt;span&gt;/public/static&lt;/span&gt;目录下&lt;/p&gt;
&lt;p&gt;我们要利用package.json文件来管理编译构建的包依赖，以及设置快捷的脚本启动方式，所以，先在/public目录下执行 &lt;span&gt;npm init&lt;/span&gt; 吧&lt;/p&gt;
&lt;p&gt;&lt;span&gt;public/static/dist&lt;/span&gt;目录用来放置编译后的文件目录，最终页面引用的将是这里的资源&lt;/p&gt;
&lt;p&gt;&lt;span&gt;public/static/imgs&lt;/span&gt;目录用来放置图片源文件，有些图片会生成到dist中&lt;/p&gt;
&lt;p&gt;&lt;span&gt;public/static/libs&lt;/span&gt;目录主要用来放置第三方文件，也包括那些很少改动的文件&lt;/p&gt;
&lt;p&gt;&lt;span&gt;public/static/src&lt;/span&gt; 用来放置js和css的源文件，相应根目录下暴露一个文件出来，公共文件放到相应子目录下（如&lt;span&gt;js/components&lt;/span&gt;和&lt;span&gt;scss/util&lt;/span&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104215813591-2090771269.png&quot; alt=&quot;&quot;/&gt; &lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104220754279-289869621.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;最后文件结构看起来是这样的，那就可以开干了&lt;/p&gt;


&lt;h3&gt;3. 开发和生产环境的Webpack配置文件区分&lt;/h3&gt;
&lt;p&gt;首先在项目目录下安装webpack吧&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
npm i webpack --save-dev
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;用Webpack来构建，在开发环境和生产环境的配置还是有一些区别的，构建是耗时的，比如在开发环境下就不需要压缩文件、计算文件hash、提取css文件、清理文件目录这些辅助功能了，而可以引入热更新替换来加快开发时的模块更新效率。&lt;/p&gt;
&lt;p&gt;所以建议区分一下两个环境，同时将两者的共同部分提取出来便于维护&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104221858732-853694777.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;NODE_ENV&lt;/span&gt;是nodejs在执行时的环境变量，webpack在运行构建期间也可以访问这个变量，所以我们可以在&lt;span&gt;dev&lt;/span&gt;和&lt;span&gt;prod&lt;/span&gt;下配置相应的环境变量&lt;/p&gt;
&lt;p&gt;这个配置写在&lt;span&gt;package.json&lt;/span&gt;里的&lt;span&gt;scripts&lt;/span&gt;字段就好了，比如&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&quot;scripts&quot;&lt;span&gt;: {
    &lt;/span&gt;&quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;amp;&amp;amp; exit 1&quot;&lt;span&gt;,
    &lt;/span&gt;&quot;build:dev&quot;: &quot;export  NODE_ENV=development &amp;amp;&amp;amp; webpack-dev-server --config webpack.config.dev.js&quot;&lt;span&gt;,
    &lt;/span&gt;&quot;build:prod&quot;: &quot;export NODE_ENV=production &amp;amp;&amp;amp; webpack --config webpack.config.prod.js --watch &quot;&lt;span&gt;
  },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样一来，我们就可以直接用 &lt;span&gt;npm run build:prod&lt;/span&gt;来执行生产环境的配置命令（设置了production的环境变量，使用prod.js）&lt;/p&gt;
&lt;p&gt;直接用&lt;span&gt;npm run build:dev&lt;/span&gt;来执行开发环境的配置命令（设置了development的环境变量，使用dev.js，这里还使用了devServer,后面说）&lt;/p&gt;
&lt;p&gt;注意这里是Unix系统配置环境变量的写法，在windows下，记得改成 &lt;span&gt;SET NODE_ENV=development&amp;amp;&amp;amp;&lt;/span&gt; webpack-dev-server.......(&amp;amp;&amp;amp;前不要空格)&lt;/p&gt;

&lt;p&gt;然后就可以在common.js配置文件中获取环境变量&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 是否生产环境&lt;/span&gt;
    isProduction = process.env.NODE_ENV === 'production',
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后可以在plugins中定义一个变量提供个编译中的模块文件使用&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 插件配置&lt;/span&gt;
&lt;span&gt;    plugins: [
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 定义变量，此处定义NODE_ENV环境变量，提供给生成的模块内部使用&lt;/span&gt;
        &lt;span&gt;new&lt;/span&gt;&lt;span&gt; webpack.DefinePlugin({
            &lt;/span&gt;'process.env'&lt;span&gt;: {
                NODE_ENV: JSON.stringify(process.env.NODE_ENV)
            }
        }),&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样一来，我们可以在home.js中判断是否为开发环境来引入一些文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 开发环境时，引入页面文件，方便改变页面文件后及时模块热更新&lt;/span&gt;
&lt;span&gt;if&lt;/span&gt; (process.env.NODE_ENV === 'development'&lt;span&gt;) {
    require(&lt;/span&gt;'../../../../views/home/home.html'&lt;span&gt;);
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后我们使用&lt;span&gt;webpack-merge&lt;/span&gt;工具来合并公共配置文件和开发|生产配置文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
npm i webpack-merge --save-&lt;span&gt;dev


merge &lt;/span&gt;= require('webpack-merge'&lt;span&gt;)

commonConfig &lt;/span&gt;= require('./webpack.config.common.js'&lt;span&gt;)


&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
 * 生产环境Webpack打包配置，整合公共部分
 * @type {[type]}
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
module.exports &lt;/span&gt;=&lt;span&gt; merge(commonConfig, {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 生产环境不开启sourceMap&lt;/span&gt;
    devtool: &lt;span&gt;false&lt;/span&gt;&lt;span&gt;,

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 文件输出配置&lt;/span&gt;
&lt;span&gt;    output: {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置文件引用主路径&lt;/span&gt;
        publicPath: '/public/static/dist/js/'&lt;span&gt;
    },

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 模块的处理配置&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;4. 设置公共模块&lt;/h3&gt;
&lt;p&gt;公共模块其实可以分为JS和CSS两部分（如果有提取CSS文件的话）&lt;/p&gt;
&lt;p&gt;在公共文件的plugin中加入&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 提取公共模块文件&lt;/span&gt;
        &lt;span&gt;new&lt;/span&gt;&lt;span&gt; webpack.optimize.CommonsChunkPlugin({
            chunks: [&lt;/span&gt;'home', 'detail'&lt;span&gt;],
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 开发环境下需要使用热更新替换，而此时common用chunkhash会出错，可以直接不用hash&lt;/span&gt;
            filename: '[name].js' + (isProduction ? '?[chunkhash:8]' : ''&lt;span&gt;),
            name: &lt;/span&gt;'common'&lt;span&gt;
        }),&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;设置公共文件的提取源模块chunks，以及最终的公共文件模块名&lt;/p&gt;
&lt;p&gt;公共模块的文件的提取规则是chunks中的模块公共部分，如果没有公共的就不会提取，所以最好是在entry中就指定common模块初始包含的第三方模块，如jquery，react等&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
 &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 文件入口配置&lt;/span&gt;
&lt;span&gt;    entry: {
        home: &lt;/span&gt;'./src/js/home'&lt;span&gt;,
        detail: &lt;/span&gt;'./src/js/detail'&lt;span&gt;,
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 提取jquery入公共文件&lt;/span&gt;
        common: ['jquery'&lt;span&gt;]
    },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5. 编译ES6成ES5&lt;/h3&gt;
&lt;p&gt;要讲ES6转换为ES5，当然首用&lt;span&gt;babel&lt;/span&gt;了，先安装loader及相关的包&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
npm i babel-core babel-loader babel-preset-env babel-polyfill babel-plugin-transform-runtime --save-dev
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;-env&lt;/span&gt;包主要用来配置语法支持度&lt;/p&gt;
&lt;p&gt;&lt;span&gt;-polyfill&lt;/span&gt;用来支持一些ES6拓展的但babel转换不了的方法（Array.from Generator等）&lt;/p&gt;
&lt;p&gt;&lt;span&gt;-runtime&lt;/span&gt;用来防止重复的ES6编译文件所需生成（可以减小文件大小）&lt;/p&gt;
&lt;p&gt;然后在/public根目录下新建 &lt;span&gt;.babelrc&lt;/span&gt;文件，写入配置&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;{
    &lt;/span&gt;&quot;presets&quot;&lt;span&gt;: [
        &lt;/span&gt;&quot;env&quot;&lt;span&gt;
    ],
    &lt;/span&gt;&quot;plugins&quot;: [&quot;transform-runtime&quot;&lt;span&gt;]
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后在common.js的配置文件中新增一条loader配置就行了，注意使用&lt;span&gt;exclude&lt;/span&gt;排除掉不需要转换的目录，否则可能会出错哦&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;{
            test: &lt;/span&gt;/\.jsx?$/&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 编译js或jsx文件，使用babel-loader转换es6为es5&lt;/span&gt;
            exclude: /node_modules/&lt;span&gt;,
            use: [{
                loader: &lt;/span&gt;'babel-loader'&lt;span&gt;,
                options: {

                }
            }]
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt; 6. 编译Sass成CSS，嵌入到页面&amp;lt;style&amp;gt;标签中，或将其提取出（多个）CSS文件来用&amp;lt;link&amp;gt;引入&lt;/h3&gt;
&lt;p&gt;sass的编译&lt;span&gt;node-sass&lt;/span&gt;需要&lt;span&gt;python2.7&lt;/span&gt;的环境，先确定已经安装并设置了环境变量&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
npm i sass-loader node-sass style-loader css-loader --save-dev
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;类似的，设置一下loader规则&lt;/p&gt;
&lt;p&gt;不过这里要设置成使用提取CSS文件的插件设置了，因为它的&lt;span&gt;disable&lt;/span&gt;属性可以快速切换是否提取CSS（这里设置成生产环境才提取）&lt;/p&gt;
&lt;p&gt;好好看这个栗子，其实&lt;strong&gt;分三步：设置（new）两个实例，loader匹配css和sass两种文件规则，在插件中引入这两个实例&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;提取多个CSS文件其实是比较麻烦的，但也不是不可以，方法就是设置多个实例和对应的几个loader规则&lt;/p&gt;
&lt;p&gt;这里把引入的sass当做是自己写的文件，提取成一个文件&lt;span&gt;[name].css&lt;/span&gt;，把引入的css当做是第三方的文件，提取成一个&lt;span&gt;[name]_vendor.css&lt;/span&gt;，既做到了合并，也做到了拆分，目前还没想到更好的方案&lt;/p&gt;
&lt;p&gt;上面提到过，output的path设置成了/public/static/dist/js ，所以这里的filename 生成是基于上面的路径，可以用../来更换生成的css目录&lt;/p&gt;
&lt;p&gt;&lt;span&gt;[contenthash]&lt;/span&gt;是css文件内容的hash，在引用它的地方有体现&lt;/p&gt;
&lt;p&gt;&lt;span&gt;fallback&lt;/span&gt;表示不可提取时的代替方案，即上述所说的使用style-loader嵌入到&lt;span&gt;&amp;lt;style&amp;gt;标签&lt;/span&gt;中&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;52&quot;&gt;
&lt;pre&gt;
npm i extract-text-webpack-plugin --save-&lt;span&gt;dev


ExtractTextWebpackPlugin &lt;/span&gt;= require('extract-text-webpack-plugin'&lt;span&gt;)

&lt;/span&gt;/&lt;span&gt; 对import 引入css（如第三方css）的提取
    cssExtractor &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ExtractTextWebpackPlugin({
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 开发环境下不需要提取，禁用&lt;/span&gt;
        disable: !&lt;span&gt;isProduction,
        filename: &lt;/span&gt;'../css/[name]_vendor.css?[contenthash:8]'&lt;span&gt;,
        allChunks: &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;
    })

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 对import 引入sass（如自己写的sass）的提取&lt;/span&gt;
    sassExtractor = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ExtractTextWebpackPlugin({
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 开发环境下不需要提取，禁用&lt;/span&gt;
        disable: !&lt;span&gt;isProduction,
        filename: &lt;/span&gt;'../css/[name].css?[contenthash:8]'&lt;span&gt;,
        allChunks: &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;
    });




&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 插件配置&lt;/span&gt;
&lt;span&gt;    plugins: [
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 从模块中提取CSS文件的配置&lt;/span&gt;
&lt;span&gt;        cssExtractor,
        sassExtractor
    ]


    



module: {
        rules: [{
            test: &lt;/span&gt;/\.css$/&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 提取CSS文件&lt;/span&gt;
&lt;span&gt;            use: cssExtractor.extract({
                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 如果配置成不提取，则此类文件使用style-loader插入到&amp;lt;head&amp;gt;标签中&lt;/span&gt;
                fallback: 'style-loader'&lt;span&gt;,
                use: [{
                        loader: &lt;/span&gt;'css-loader'&lt;span&gt;,
                        options: {
                            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; url: false,&lt;/span&gt;
                            minimize: &lt;span&gt;true&lt;/span&gt;&lt;span&gt;
                        }
                    },
                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 'postcss-loader'&lt;/span&gt;
&lt;span&gt;                ]
            })
        }, {
            test: &lt;/span&gt;/\.scss$/&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 编译Sass文件 提取CSS文件&lt;/span&gt;
&lt;span&gt;            use: sassExtractor.extract({
                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 如果配置成不提取，则此类文件使用style-loader插入到&amp;lt;head&amp;gt;标签中&lt;/span&gt;
                fallback: 'style-loader'&lt;span&gt;,
                use: [
                    &lt;/span&gt;'css-loader'&lt;span&gt;,
                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 'postcss-loader',&lt;/span&gt;
&lt;span&gt;                    {
                        loader: &lt;/span&gt;'sass-loader'&lt;span&gt;,
                        options: {
                            sourceMap: &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;,
                            outputStyle: &lt;/span&gt;'compressed'&lt;span&gt;
                        }
                    }
                ]
            })
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样一来，如果在不同文件中引入不同的文件，生成的css可能长这样&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ./home.js&lt;/span&gt;
import '../../libs/bootstrap-datepicker/datepicker3.css'&lt;span&gt;;

import &lt;/span&gt;'../../libs/chosen/chosen.1.0.0.css'&lt;span&gt;;

import &lt;/span&gt;'../../libs/layer/skin/layer.css'&lt;span&gt;;

import &lt;/span&gt;'../../libs/font-awesome/css/font-awesome.min.css'&lt;span&gt;;


import &lt;/span&gt;'../scss/detail.scss'&lt;span&gt;;




&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ./detail.js&lt;/span&gt;
import '../../libs/bootstrap-datepicker/datepicker3.css'&lt;span&gt;;

import &lt;/span&gt;'../../libs/chosen/chosen.1.0.0.css'&lt;span&gt;;

import &lt;/span&gt;'../../libs/layer/skin/layer.css'&lt;span&gt;;

import &lt;/span&gt;'../scss/detail.scss';
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104232455779-246466349.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;// ./home.html
&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/public/static/dist/js/../css/common_vendor.css?66cb1f48&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/public/static/dist/js/../css/common.css?618d2a04&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/public/static/dist/js/../css/home_vendor.css?12a314c8&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/public/static/dist/js/../css/home.css?c196fc33&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;




// ./detail.html
&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/public/static/dist/js/../css/common_vendor.css?66cb1f48&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/public/static/dist/js/../css/common.css?618d2a04&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以看到，公共文件也被提取出来了，利用&lt;span&gt;HtmlWebpackPlugin&lt;/span&gt;就能将其置入了&lt;/p&gt;
&lt;p&gt;另外，可以看到这里的绝对路径，其实就是因为在output中设置了publicPath为/public/static/dist/js/&lt;/p&gt;

&lt;p&gt;当然了，也不是说一定得在js中引入这些css资源文件，你可以直接在页面中手动&lt;span&gt;&amp;lt;link&amp;gt;&lt;/span&gt;引入第三方CSS&lt;/p&gt;
&lt;p&gt;我这里主要是基于模块化文件依赖，以及多CSS文件的合并压缩的考虑才用这种引入方式的&lt;/p&gt;

&lt;h3&gt;7. jQuery插件的引入方式 &lt;/h3&gt;
&lt;p&gt; 目前来说，jQuery及其插件在项目中还是很常用到的，那么就要考虑如何在Webpack中使用它&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;第一种方法&lt;/strong&gt;，就是直接页面中&amp;lt;script&amp;gt;标签引入了，但这种方式不受模块化的管理，好像有些不妥&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;第二种方法&lt;/strong&gt;，就是直接在模块中引入所需要的jQuery插件，而jQuery本身由Webpack插件提供，通过&lt;span&gt;ProvidePlugin&lt;/span&gt;提供模块可使用的变量&lt;span&gt;$|jQuery|window.jQuery&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;不过这种方法好像也有不妥，把所有第三方JS都引入了，可能会降低编译效率，生成的文件也可能比较臃肿&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
npm i jquery --&lt;span&gt;save



&lt;/span&gt;&lt;span&gt;//&lt;/span&gt; 
&lt;span&gt;plugins: [
    &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; webpack.ProvidePlugin({
            $: &lt;/span&gt;'jquery'&lt;span&gt;,
            jQuery: &lt;/span&gt;'jquery'&lt;span&gt;,
            &lt;/span&gt;'window.jQuery': 'jquery'&lt;span&gt;
        }),

]



&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ./home.js&lt;/span&gt;
&lt;span&gt;

import &lt;/span&gt;'../../libs/bootstrap-datepicker/bootstrap-datepicker.js'&lt;span&gt;;
console.log(&lt;/span&gt;'.header__img length', jQuery('.header__img').length);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;第三种办法&lt;/strong&gt;，可以在模块内部直接引入jQuery插件，也可以直接在页面通过&amp;lt;script&amp;gt;标签引入jQuery插件，而jQuery本身由Webpack的loader导出为全局可用&lt;/p&gt;
&lt;p&gt;上述ProvidePlugin定义的变量只能在模块内部使用，我们可以使用&lt;strong&gt;expose-loader&lt;/strong&gt;将jQuery设置为全局可见&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
npm i expose-loader --&lt;span&gt;save



&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 添加一条规则&lt;/span&gt;
&lt;span&gt;{
            test: require.resolve(&lt;/span&gt;'jquery'&lt;span&gt;),
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 将jQuery插件变量导出至全局，提供外部引用jQuery插件使用&lt;/span&gt;
&lt;span&gt;            use: [{
                loader: &lt;/span&gt;'expose-loader'&lt;span&gt;,
                options: &lt;/span&gt;'$'&lt;span&gt;
            }, {
                loader: &lt;/span&gt;'expose-loader'&lt;span&gt;,
                options: &lt;/span&gt;'jQuery'&lt;span&gt;
            }]
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;要注意在Webpack3中不能使用webpack.NamedModulesPlugin()来获取模块名字，它会导致expose 出错失效（bug）&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171104235317748-1815110419.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;不过现在问题又来了，这个应该是属于HtmlWebpackPlugin的不够机智的问题，先说说它怎么用吧&lt;/p&gt;

&lt;h3&gt;8. HtmlWebpackPlugin将页面模板编译成最终的页面文件，包含JS及CSS资源的引用&lt;/h3&gt;
&lt;p&gt;第一个重要的功能就是生成对资源的引入了，第二个就是帮助我们填入资源的&lt;span&gt;chunkhash&lt;/span&gt;值防止浏览器缓存&lt;/p&gt;
&lt;p&gt;这个在生产环境使用就行了，开发环境是不需要的&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;45&quot;&gt;
&lt;pre&gt;
npm i html-webpack-plugin --save-&lt;span&gt;dev


HtmlWebpackPlugin &lt;/span&gt;= require('html-webpack-plugin'&lt;span&gt;)


plugins: [

 &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置编译文件页面文件资源模块的引入&lt;/span&gt;
        &lt;span&gt;new&lt;/span&gt;&lt;span&gt; HtmlWebpackPlugin({
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 模版源文件&lt;/span&gt;
            template: '../../views/home/home_tpl.html'&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 编译后的目标文件&lt;/span&gt;
            filename: '../../../../views/home/home.html'&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 要处理的模块文件&lt;/span&gt;
            chunks: ['common', 'home'&lt;span&gt;],
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 插入到&amp;lt;body&amp;gt;标签底部&lt;/span&gt;
            inject: &lt;span&gt;true&lt;/span&gt;&lt;span&gt;
        }),
        &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; HtmlWebpackPlugin({
            template: &lt;/span&gt;'../../views/detail/detail_tpl.html'&lt;span&gt;,
            filename: &lt;/span&gt;'../../../../views/detail/detail.html'&lt;span&gt;,
            chunks: [&lt;/span&gt;'common', 'detail'&lt;span&gt;],
            inject: &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;
        }),



]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用方式是配置成插件的形式，想对多少个模板进行操作就设置多少个实例&lt;/p&gt;
&lt;p&gt;注意&lt;span&gt;template&lt;/span&gt;是基于&lt;span&gt;context&lt;/span&gt;配置中的上下文的，&lt;span&gt;filename&lt;/span&gt;是基于&lt;span&gt;output&lt;/span&gt;中的&lt;span&gt;path&lt;/span&gt;路径的&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;// ./home_tpl.html

    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;/public/static/libs/magicsearch/jquery.magicsearch2.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;



// ./home.html

&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=/public/static/libs/magicsearch/jquery.magicsearch2.js&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;/public/static/dist/js/common.js?cc867232&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;/public/static/dist/js/home.js?5d4a7836&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;它会编译成这样，然而，然而，要注意到这里是有问题的&lt;/p&gt;
&lt;p&gt;这里有个jQuery插件，而Webpack使用expose是将jQuery导出到了全局中，我们通过entry设置把jQuery提取到了公共文件common中&lt;/p&gt;
&lt;p&gt;所以正确的做法是common.js文件先于jQuery插件加载&lt;/p&gt;
&lt;p&gt;而这个插件只能做到在&amp;lt;head&amp;gt; 或&amp;lt;body&amp;gt;标签尾部插入，我们只好手动挪动一下&amp;lt;script&amp;gt;的位置&lt;/p&gt;

&lt;p&gt;不过，我们还可以基于这个插件，再写一个插件来实现自动提升公共文件 &amp;lt;script&amp;gt;标签到最开始&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HtmlWebpackPlugin运行时有一些事件&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;    html-webpack-plugin-before-html-generation
    html-webpack-plugin-before-html-processing
    html-webpack-plugin-alter-asset-tags
    html-webpack-plugin-after-html-processing
    html-webpack-plugin-after-emit
    html-webpack-plugin-alter-chunks&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在编译完成时，正则匹配到&amp;lt;script&amp;gt;标签，找到所设置的公共模块（可能设置了多个公共模块），按实际顺序提升这些公共模块即可&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;完整代码如下：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;49&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;//&lt;/span&gt;&lt;span&gt; ./webpack.myPlugin.js&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; 
&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt; let extend = require('util'&lt;span&gt;)._extend;
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; 
&lt;span&gt; 6&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;//&lt;/span&gt;&lt;span&gt; HtmlWebpackPlugin 运行后调整公共script文件在html中的位置，主要用于jQuery插件的引入&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;function&lt;/span&gt;&lt;span&gt; HtmlOrderCommonScriptPlugin(options) {
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;this&lt;/span&gt;.options =&lt;span&gt; extend({
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;         commonName: 'common'
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;    }, options);
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; 
&lt;span&gt;14&lt;/span&gt; HtmlOrderCommonScriptPlugin.prototype.apply = &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(compiler) {
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;     compiler.plugin('compilation', compilation =&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;         compilation.plugin('html-webpack-plugin-after-html-processing', (htmlPluginData, callback) =&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; console.log(htmlPluginData.assets);&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt; 
&lt;span&gt;19&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 组装数组，反转保证顺序&lt;/span&gt;
&lt;span&gt;20&lt;/span&gt;             &lt;span&gt;this&lt;/span&gt;.options.commonName = [].concat(&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.options.commonName).reverse();
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; 
&lt;span&gt;22&lt;/span&gt;             let str =&lt;span&gt; htmlPluginData.html,
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;                 scripts =&lt;span&gt; [],
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;                commonScript,
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;                commonIndex,
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt; &lt;span&gt;                commonJS;
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt; 
&lt;span&gt;28&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;获取编译后html的脚本标签，同时在原html中清除&lt;/span&gt;
&lt;span&gt;29&lt;/span&gt;             str = str.replace(/(&amp;lt;script[^&amp;gt;]*&amp;gt;(\s|\S)*?&amp;lt;\/script&amp;gt;)/gi, ($, $1) =&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;                 scripts.push($1&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt;                 &lt;span&gt;return&lt;/span&gt; ''&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt; 
&lt;span&gt;34&lt;/span&gt;             &lt;span&gt;this&lt;/span&gt;.options.commonName.forEach(common =&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;                 &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (htmlPluginData.assets.chunks[common]) {
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;                     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 找到公共JS标签位置&lt;/span&gt;
&lt;span&gt;37&lt;/span&gt;                     commonIndex = scripts.findIndex(item =&amp;gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;                         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; item.includes(htmlPluginData.assets.chunks[common].entry);
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; &lt;span&gt;                    });
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt; 
&lt;span&gt;41&lt;/span&gt;                     &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 提升该公共JS标签至顶部&lt;/span&gt;
&lt;span&gt;42&lt;/span&gt;                     &lt;span&gt;if&lt;/span&gt; (commonIndex !== -1&lt;span&gt;) {
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt;                         commonScript =&lt;span&gt; scripts[commonIndex];
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt;                         scripts.splice(commonIndex, 1&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; &lt;span&gt;                        scripts.unshift(commonScript);
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt; 
&lt;span&gt;50&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 重新插入html中&lt;/span&gt;
&lt;span&gt;51&lt;/span&gt;             htmlPluginData.html = str.replace('&amp;lt;/body&amp;gt;', scripts.join('\r\n') + '\r\n&amp;lt;/body&amp;gt;'&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt; 
&lt;span&gt;53&lt;/span&gt;             callback(&lt;span&gt;null&lt;/span&gt;&lt;span&gt;, htmlPluginData);
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt; &lt;span&gt;        });
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt; &lt;span&gt;    });
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt; &lt;span&gt;};
&lt;/span&gt;&lt;span&gt;57&lt;/span&gt; 
&lt;span&gt;58&lt;/span&gt; 
&lt;span&gt;59&lt;/span&gt; module.exports =&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;60&lt;/span&gt; &lt;span&gt;    HtmlOrderCommonScriptPlugin,
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt; };
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后，就可以在配置中通过插件引入了&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
{HtmlOrderCommonScriptPlugin} = require('./webpack.myPlugin.js'&lt;span&gt;);


&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; HtmlWebpackPlugin 运行后调整公共script文件在html中的位置，主要用于jQuery插件的引入&lt;/span&gt;
        &lt;span&gt;new&lt;/span&gt;&lt;span&gt; HtmlOrderCommonScriptPlugin({
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; commonName: 'vendor'&lt;/span&gt;
        })
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;亲测还是蛮好用的，可以应对简单的需求了&lt;/p&gt;

&lt;h3&gt;9. 使用url-loader和file-loader和html-loader来处理图片、字体等文件的资源引入路径问题&lt;/h3&gt;
&lt;p&gt;这个配置开发环境和生产环境是不同的，先看看生产环境的，主要的特点是有目录结构的设置，设置了一些生成的路径以及名字信息&lt;/p&gt;
&lt;p&gt;开发环境因为是使用了&lt;span&gt;devServer&lt;/span&gt;，不需要控制目录结构&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
npm i url-loader file-loader@0.10.0 html-loader --save-dev
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这里要注意的是&lt;strong&gt;file-loader就不要用0.10版本以上的了&lt;/strong&gt;，会出现奇怪的bug，主要是下面设置的outputPath和publicPath和[path]会不按套路出牌&lt;/p&gt;
&lt;p&gt;导致生成的页面引用资源变成奇怪的相对路径&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;53&quot;&gt;
&lt;pre&gt;
&lt;span&gt;rules: [{
            test: &lt;/span&gt;/\.(png|gif|jpg)$/&lt;span&gt;,
            use: {
                loader: &lt;/span&gt;'url-loader'&lt;span&gt;,
                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 处理图片，当大小在范围之内时，图片转换成Base64编码，否则将使用file-loader引入&lt;/span&gt;
&lt;span&gt;                options: {
                    limit: &lt;/span&gt;8192&lt;span&gt;,
                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置生成图片的路径名字信息 [path]相对context，outputPath输出的路径，publicPath相应引用的路径&lt;/span&gt;
                    name: '[path][name].[ext]?[hash:8]'&lt;span&gt;,
                    outputPath: &lt;/span&gt;'../'&lt;span&gt;,
                    publicPath: &lt;/span&gt;'/public/static/dist/'&lt;span&gt;,
                }
            }
        }, {
            test: &lt;/span&gt;/\.(eot|svg|ttf|otf|woff|woff2)\w*/&lt;span&gt;,
            use: [{
                loader: &lt;/span&gt;'file-loader'&lt;span&gt;,
                options: {
                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置生成字体文件的路径名字信息 [path]相对context，outputPath输出的路径，publicPath相应引用的主路径&lt;/span&gt;
                    name: '[path][name].[ext]?[hash:8]'&lt;span&gt;,
                    outputPath: &lt;/span&gt;'../'&lt;span&gt;,
                    publicPath: &lt;/span&gt;'/public/static/dist/'&lt;span&gt;,
                    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 使用文件的相对路径，这里先不用这种方式&lt;/span&gt;
                    &lt;span&gt;//&lt;/span&gt;&lt;span&gt; useRelativePath: isProduction&lt;/span&gt;
&lt;span&gt;                }
            }],
        }, {
            test: &lt;/span&gt;/\.html$/&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 处理html源文件，包括html中图片路径加载、监听html文件改变重新编译等&lt;/span&gt;
&lt;span&gt;            use: [{
                loader: &lt;/span&gt;'html-loader'&lt;span&gt;,
                options: {
                    minimize: &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;,
                    removeComments: &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;span&gt;,
                    collapseWhitespace: &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;span&gt;
                }
            }]
        }]
    &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;比较生涩难懂，看个栗子吧&lt;/p&gt;
&lt;p&gt;scrat.png是大于8192的，最终页面引入会被替换成绝对路径，并且带有hash防止缓存，而输出的图片所在位置也是用着相应的目录，便于管理&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ./home_tpl.html&lt;/span&gt;

        &amp;lt;img class=&quot;header__img&quot; src=&quot;../../public/static/imgs/kl/scrat.png&quot; width=&quot;200&quot; height=&quot;200&quot;&amp;gt;


&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ./home.html&lt;/span&gt;

        &amp;lt;img class=header__img src=/public/static/dist/imgs/kl/scrat.png?8ad54ef5 width=200 height=200&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105003514216-1830258828.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;如果换个小图，就会替换成base64编码了，在css中的引入也一样&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;img &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=header__img &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAA6CAYAAABrnUYFAAAaVElEQVR4Xu1df3wdVZX/npnkNUlbWn6sFhAELSgibSYtCIhagXXB0vdSsOwu4CKiXbAglk8zAVwloELzwoqIUsFFRXQVaiEvRcAfLD9EfqxtXtqKS239AQoFRUlb+tK+5N2znzNvJp1M34+ZeZOElLn/QPPuPffcc2e+c+75dQlxiyUQSyCWwChJgEaJbkw2lkAsgVg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;再来看看开发环境的 &lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;rules: [{
            test: &lt;/span&gt;/\.(png|gif|jpg)$/&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 处理图片，当大小在范围之内时，图片转换成Base64编码，否则将使用file-loader引入&lt;/span&gt;
&lt;span&gt;            use: [{
                loader: &lt;/span&gt;'url-loader'&lt;span&gt;,
                options: {
                    limit: &lt;/span&gt;8192&lt;span&gt;
                }
            }]
        }, {
            test: &lt;/span&gt;/\.(eot|svg|ttf|otf|woff|woff2)\w*/&lt;span&gt;,
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 引入文件&lt;/span&gt;
            use: 'file-loader'&lt;span&gt;
        }]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt; 10. 模块热更新替换的正确姿势&lt;/h3&gt;
&lt;p&gt;在开发环境下，如果做到模块的热更新替换，效果肯定是棒棒的。生成环境就先不用了&lt;/p&gt;
&lt;p&gt;在最初的时候，只是做到了热更新，并没有做到热替换，其实都是坑在作祟&lt;/p&gt;
&lt;p&gt;热更新，需要一个配置服务器，Webpack集成了devServer的nodejs服务器，配置一下它&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 开发环境设置本地服务器，实现热更新&lt;/span&gt;
&lt;span&gt;    devServer: {
        contentBase: path.resolve(__dirname, &lt;/span&gt;'static'&lt;span&gt;),
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 提供给外部访问&lt;/span&gt;
        host: '0.0.0.0'&lt;span&gt;,
        port: &lt;/span&gt;8188&lt;span&gt;,
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置页面引入&lt;/span&gt;
        inline: &lt;span&gt;true&lt;/span&gt;&lt;span&gt;
    },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;正常的话，启动服务应该就可以了吧&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
webpack-dev-server --config webpack.config.dev.js
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;要记住，devServer编译的模块是输出在服务器上的（默认根目录），不会影响到本地文件，所以要在页面上手动设置一下引用的资源&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;http://localhost:8188/common.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;http://localhost:8188/home.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;浏览器访问，改动一下home.js文件，这时应该可以看到页面自动刷新，这就是热更新了😁&lt;/p&gt;
&lt;p&gt;当然了，热更新还不够，得做到热替换，即页面不刷新替换模块&lt;/p&gt;
&lt;p&gt;可以呀，多配置一下&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 开发环境设置本地服务器，实现热更新&lt;/span&gt;
&lt;span&gt;    devServer: {
        ...
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置热替换&lt;/span&gt;
        hot: &lt;span&gt;true&lt;/span&gt;&lt;span&gt;,
        ...
    },



 &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 插件配置&lt;/span&gt;
&lt;span&gt;    plugins: [
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 热更新替换&lt;/span&gt;
        &lt;span&gt;new&lt;/span&gt;&lt;span&gt; webpack.HotModuleReplacementPlugin(),
]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;再去浏览器试试，改个文件，正常的话应该也能看到&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105010630357-383900507.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;但就是一直停留在App hot update...不动了，惊不惊喜，意不意外&lt;/p&gt;
&lt;p&gt;原因是还没在当前项目中安装&lt;span&gt;webpack-dev-server&lt;/span&gt;，HMR的消息接收不到，命令没报错只是因为在全局安装了webpack有那命令&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
npm i webpack-dev-server --save-dev
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;再试试，然而你发现，才刚开始编译，就不停地重复编译了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105011603279-1671062597.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;你得设置一下publicPath 比如&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;output: {
        publicPath: &lt;/span&gt;'/dist/js/'&lt;span&gt;,
    },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;再试试，更改模块，你又会发现页面还是重新刷新了&lt;/p&gt;
&lt;p&gt;要善于用&lt;span&gt;Preserve log&lt;/span&gt;来看看刷新之前发生了什么&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105012625763-923070277.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;已经有进展了，这时HMR在获取JSON文件时404了，而且访问的域名端口是localhost:8088是我们自己node服务器的端口&lt;/p&gt;
&lt;p&gt;devServer的端口是8188的，看起来这JSON文件时devServer生成的，可能是路径被识别成相对路径了&lt;/p&gt;
&lt;p&gt;那就设置成绝对路径吧&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;output: {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置路径，防止访问本地服务器相关资源时，被开发服务器认为时相对其的路径&lt;/span&gt;
        publicPath: 'http://localhost:8188/dist/js/'&lt;span&gt;,
    },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;再来，恭喜 又错了，跨域访问&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105013326576-68297736.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;那就在devServer再配置一下header让8088可以访问，可以暴力一点设置*&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;devServer: {
       ...
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 允许开发服务器访问本地服务器的包JSON文件，防止跨域&lt;/span&gt;
&lt;span&gt;        headers: {
            &lt;/span&gt;'Access-Control-Allow-Origin': '*'&lt;span&gt;
        },
        ...
    },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;再来，额😆呵呵，又重新刷新了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105013658029-1135821103.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;指明了模块没有被设置成accepted，那它就不知道要热替换哪个模块了，只好整个刷新。&lt;/p&gt;
&lt;p&gt;需要在模块中设置一下，机智是冒泡型的，所以在主入口设置就行了，比如这里的模块入口home.js&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置允许模块热替换&lt;/span&gt;
&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (module.hot) {
    module.hot.accept();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/688270/201711/688270-20171105014306607-892460244.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这就成功了，这里建议的NamedModulesPlugin是用不了了，因为和espose-loader冲突了&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;是不是很啰嗦呢，总结一下&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1. 在本项目总安装webpack-dev-server&lt;/p&gt;
&lt;p&gt;2. devServer配置中设置hot: true&lt;/p&gt;
&lt;p&gt;3. plugins配置中设置new webpack.HotModuleReplacementPlugin() &lt;/p&gt;
&lt;p&gt;4. output配置中设置publicPath: 'http://localhost:8188/dist/js/'&lt;/p&gt;
&lt;p&gt;5. devServer配置中设置header允许跨域访问&lt;/p&gt;
&lt;p&gt;6. 模块中设置接受热替换module.hot.accept()&lt;/p&gt;
&lt;p&gt;7. 不要在命令行加参数 --hot 和 new webpack.HotModuleReplacementPlugin() 同时使用，会栈溢出错误，只用配置文件的就行了&lt;/p&gt;

&lt;p&gt;另外，默认是只能模块热替换，如果也想监听页面文件改变来实现HTML页面的热替换，该怎么做呢&lt;/p&gt;
&lt;p&gt;把HTML也当做模块引入就行了（开发环境下），在之前已经使用了html-loader能处理html后缀资源的情况下&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt; ./home.js&lt;/span&gt;

&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 开发环境时，引入页面文件，方便改变页面文件后及时模块热更新&lt;/span&gt;
&lt;span&gt;if&lt;/span&gt; (process.env.NODE_ENV === 'development'&lt;span&gt;) {
    require(&lt;/span&gt;'../../../../views/home/home_tpl.html'&lt;span&gt;);
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;记得import不能放在if语句块里面，所以这里用require来代替&lt;/p&gt;
&lt;p&gt;有点奇怪，在最开始的时候，这样是能实现热替换的，但这段时间却一直不行了，显示已更新，但内容却没更新&lt;/p&gt;
&lt;p&gt;只好暂时用第二步热更新来替换，接收到改变时页面自动刷新&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;  ./home.js&lt;/span&gt;

&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 开发环境时，引入页面文件，方便改变页面文件后及时模块热更新&lt;/span&gt;
&lt;span&gt;if&lt;/span&gt; (process.env.NODE_ENV === 'development'&lt;span&gt;) {
    require(&lt;/span&gt;'../../../../views/home/home_tpl.html'&lt;span&gt;);
}

&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 设置允许模块热替换&lt;/span&gt;
&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (module.hot) {
    module.hot.accept();

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 页面文件更新 自动刷新页面&lt;/span&gt;
    module.hot.accept('../../../../views/home/home_tpl.html', () =&amp;gt;&lt;span&gt; {
        location.reload();
    });
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;11. 压缩模块代码&lt;/h3&gt;
&lt;p&gt;压缩JS代码就用自带的插件就行了&lt;/p&gt;
&lt;p&gt;压缩CSS代码用相应的loader options&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
//&lt;span&gt; 压缩代码
        &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; webpack.optimize.UglifyJsPlugin({
            sourceMap: &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;,
            compress: {
                warnings: &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;span&gt;
            }
        }),&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;12. 其他配置&lt;/h3&gt;
&lt;p&gt;再来稍微配一下react的环境&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
npm i react react-dom babel-preset-react --save-dev
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在home.js文件中加入&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
let React = require('react'&lt;span&gt;);
let ReactDOM &lt;/span&gt;= require('react-dom'&lt;span&gt;)

class Info extends React.Component {
    constructor(props) {
        super(props);
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.state =&lt;span&gt; {
            name: &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.props.name || 'myName'&lt;span&gt;
        };
    }

    showYear(e) {
        console.log(&lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;);

        let elem &lt;/span&gt;=&lt;span&gt; ReactDOM.findDOMNode(e.target);
        console.log(&lt;/span&gt;'year ' + elem.getAttribute('data-year'&lt;span&gt;));
    }

    render() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &amp;lt;p onClick={&lt;span&gt;this&lt;/span&gt;.showYear} data-year={&lt;span&gt;this&lt;/span&gt;.props.year}&amp;gt;{&lt;span&gt;this&lt;/span&gt;.state.name}&amp;lt;/p&amp;gt;
&lt;span&gt;    }
}

Info.defaultProps &lt;/span&gt;=&lt;span&gt; {
    year: &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Date().getFullYear()
};

ReactDOM.render(&lt;/span&gt;&amp;lt;Info /&amp;gt;, document.querySelector('#box'));
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;修改.bablerc文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;{
    &lt;/span&gt;&quot;presets&quot;&lt;span&gt;: [
        &lt;/span&gt;&quot;env&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;react&quot;&lt;span&gt;
    ],
    &lt;/span&gt;&quot;plugins&quot;: [&quot;transform-runtime&quot;&lt;span&gt;]
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;其他配置，比如eslint代码检查、postcss支持等就不在这说了，用到了就用类似的方式添加进去吧 &lt;/p&gt;



&lt;p&gt; 转载请注明&lt;/p&gt;
</description>
<pubDate>Sat, 04 Nov 2017 19:36:00 +0000</pubDate>
<dc:creator>-渔人码头-</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/imwtr/p/7786204.html</dc:identifier>
</item>
<item>
<title>gops - Go语言程序查看和诊断工具 - snowInPluto</title>
<link>http://www.cnblogs.com/snowInPluto/p/7785651.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/snowInPluto/p/7785651.html</guid>
<description>&lt;p&gt;想必 Java 的开发者没有不知道或者没用过 &lt;strong&gt;jps&lt;/strong&gt; 这个命令的，这个命令是用来在主机上查看有哪些 Java 程序在运行的。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1046505/201711/1046505-20171105012000701-1429175583.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;我刚用 Go 语言程序的时候也很苦恼，我部署在公司服务器上的 Go 程序，其他的同事由于不清楚就经常找不到。&lt;/p&gt;
&lt;p&gt;那么 Go 语言有没有像 jps 这样的工具呢？当然有，不仅有，而且还是 Google 自己出品的，官方认证（这种问题 Google 不可能自己想不到啊）。名称也跟 jps 很像，叫 &lt;strong&gt;&lt;a href=&quot;https://github.com/google/gops&quot;&gt;gops&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;h2 id=&quot;安装&quot;&gt;安装&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;gops&lt;/strong&gt; 并不包含在官方安装包中，不属于标准工具。需要手动获取。&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;
&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;go&lt;/span&gt; get -u github.com/google/gops&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;简单使用&quot;&gt;简单使用&lt;/h2&gt;
&lt;p&gt;goes 的使用方法非常简单，我们看一下 help 文档就可以了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1046505/201711/1046505-20171105012019638-189031428.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;最简单的用法就是 &lt;code&gt;gops&lt;/code&gt;，会直接列出正在运行的 Go 程序&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1046505/201711/1046505-20171105012033826-1265456179.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;会依次列出 PID，PPID，程序名称，编译使用的 Go 版本号，程序路径。信息比 jps 还详细，不错哦。&lt;/p&gt;
&lt;p&gt;不止如此，gops 还能进行程序的诊断。&lt;/p&gt;
&lt;h2 id=&quot;诊断&quot;&gt;诊断&lt;/h2&gt;
&lt;p&gt;可能有人注意到了上面我的 memory-test 程序后面有个 &lt;code&gt;*&lt;/code&gt; 号。这是因为程序中我加入了 gops 用的诊断支持代码：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;sourceCode go&quot;&gt;
&lt;code class=&quot;sourceCode go&quot;&gt;&lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; err := agent.Listen(agent.Options{ShutdownCleanup:&lt;span class=&quot;ot&quot;&gt;true&lt;/span&gt;}); err != &lt;span class=&quot;ot&quot;&gt;nil&lt;/span&gt; {
    log.Fatalln(err)
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;对于这样的程序，我们才能进行 &lt;code&gt;gops pprof-cpu&lt;/code&gt; 和 &lt;code&gt;gops pprof-heap&lt;/code&gt; 等命令。（&lt;code&gt;stack&lt;/code&gt;, &lt;code&gt;gc&lt;/code&gt;, &lt;code&gt;setgc&lt;/code&gt;, &lt;code&gt;memstats&lt;/code&gt;, &lt;code&gt;version&lt;/code&gt;, &lt;code&gt;stats&lt;/code&gt;, &lt;code&gt;trace&lt;/code&gt; 等命令运行同样需要加入上面的代码）。&lt;/p&gt;
&lt;p&gt;使用很简单，就直接贴一点图，不讲了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1046505/201711/1046505-20171105012051107-1312435350.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1046505/201711/1046505-20171105012100826-1606508376.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1046505/201711/1046505-20171105012113076-957283491.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;因为 &lt;code&gt;go pprof&lt;/code&gt; 命令有助于我们分析程序，相对来说更加常用。但是以往用起来相对要麻烦一些（可参照本人另一篇&lt;a href=&quot;http://www.cnblogs.com/snowInPluto/p/7403097.html&quot;&gt;《Go 程序的性能优化及 pprof 的使用》&lt;/a&gt;）。现在有了 gops，分析 cpu 和内存使用就跟方便了。&lt;/p&gt;
&lt;p&gt;gops 不仅支持本地使用，而且支持远程。查看 &lt;code&gt;agent.Options&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1046505/201711/1046505-20171105012125982-514290811.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;可以设置 &lt;code&gt;Addr&lt;/code&gt; 为 &lt;code&gt;host:port&lt;/code&gt; 形式。我这边设置为 &lt;code&gt;&quot;:9779&quot;&lt;/code&gt;。将其部署到远程服务器上，运行命令 &lt;code&gt;gops pprof-heap 192.168.199.210:9779&lt;/code&gt;，可以看到：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1046505/201711/1046505-20171105012139029-1403472278.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;完全可行。（&lt;strong&gt;注意，不仅只有 &lt;code&gt;pprof-heap&lt;/code&gt;，gops 所有命令都支持远程&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;在我们的程序中加入诊断用代码，当部署到远程服务器上，也能很方便地分析程序情况。&lt;/p&gt;
</description>
<pubDate>Sat, 04 Nov 2017 17:25:00 +0000</pubDate>
<dc:creator>snowInPluto</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/snowInPluto/p/7785651.html</dc:identifier>
</item>
<item>
<title>通过对DAO层的封装减少数据库操作的代码量 - Shevo</title>
<link>http://www.cnblogs.com/Shevo/p/7785537.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Shevo/p/7785537.html</guid>
<description>&lt;p&gt;　　 在学框架之前，写项目时总是要花大量的时间去写数据库操作层代码，这样会大大降低我们的效率，为了解决这个问题，我花了两天时间利用反射机制和泛型将DAO层进行了封装，这样我们只需要写sql语句，不需要再写繁琐的数据库操作语句，增强代码的复用性，让我们把主要精力放在业务逻辑上。&lt;/p&gt;
&lt;p&gt;　　以下就是我写的代码（我是用连接池操作，普通的jdbc操作和连接池道理相同，主要思想是将结果集设置到对象的属性中）&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt;     &lt;span&gt;/**&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;     * 预处理通用查询对象集合
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;     *
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; cla 操作类型
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; params 预处理参数
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; sql 要执行的sql语句
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;&lt;span&gt; 返回的对象集合
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; SQLException 抛出异常
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;      &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt;     @SuppressWarnings(&quot;deprecation&quot;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; List&amp;lt;T&amp;gt; commonPreparedQueryList(&lt;span&gt;final&lt;/span&gt; Class&amp;lt;T&amp;gt; cla,Object params[],String sql) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException{
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;                &lt;span&gt;//&lt;/span&gt;&lt;span&gt;获得连接池(这里使用的是阿里巴巴开源的jar包)&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt;         QueryRunner qr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; QueryRunner(DBUtil.getDruid());
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;         &lt;span&gt;/*&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt; &lt;span&gt;         * 声明一个List存放返回对象
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;          &lt;span&gt;*/&lt;/span&gt;    
&lt;span&gt;17&lt;/span&gt;                 List&amp;lt;T&amp;gt; tList = &lt;span&gt;new&lt;/span&gt; ArrayList&amp;lt;T&amp;gt;&lt;span&gt;(); 
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;                 &lt;span&gt;/*&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt; &lt;span&gt;                 * 执行查询操作并返回对应集合，传入sql和预处理参数并进行结果集处理(这里要实现handle方法)
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;                  &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;21&lt;/span&gt;                 tList = qr.query(sql, params,&lt;span&gt;new&lt;/span&gt; ResultSetHandler&amp;lt;List&amp;lt;T&amp;gt;&amp;gt;&lt;span&gt;(){
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; 
&lt;span&gt;23&lt;/span&gt;                 &lt;span&gt;public&lt;/span&gt; List&amp;lt;T&amp;gt; handle(ResultSet rs) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException {
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;                     &lt;span&gt;/*&lt;/span&gt;
&lt;span&gt;25&lt;/span&gt; &lt;span&gt;                     * 这里要用到ResultSetMetaData来获取数据库表的字段名和数量
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;                      &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt;                     ResultSetMetaData ms =&lt;span&gt; rs.getMetaData();
&lt;/span&gt;&lt;span&gt;2 &lt;/span&gt;　　　　　　　　　　　　 T t = &lt;span&gt;null&lt;/span&gt;;&lt;span&gt;//&lt;span&gt;声明一个泛型,此处类型和传入一致&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;29&lt;/span&gt;                     List&amp;lt;T&amp;gt; list = &lt;span&gt;new&lt;/span&gt; ArrayList&amp;lt;T&amp;gt;&lt;span&gt;();
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;                     &lt;span&gt;/*&lt;/span&gt;
&lt;span&gt;31&lt;/span&gt; &lt;span&gt;                     * 通过循环获得表中所有的字段名，并通过反射的方式把字段名内容
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt; &lt;span&gt;                     * 设置到我们要查询的集合中，并将结果返回
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt; &lt;span&gt;                     * 注意：这里需要用到循环的嵌套，我们需要先循环表中所有数据，
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt; &lt;span&gt;                     * 然后再循环表的所有字段名
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;                      &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;36&lt;/span&gt;                     &lt;span&gt;while&lt;/span&gt;&lt;span&gt;(rs.next()){
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt;                         &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;                             t = cla.newInstance();&lt;span&gt;//&lt;/span&gt;&lt;span&gt;创建一个实例化对象
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt;                             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;获得所有字段名，并将其转换为驼峰式命名规则  eg：guest_id转化为guestId&lt;/span&gt;
&lt;span&gt;40&lt;/span&gt;                             &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt;ms.getColumnCount(); i++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt;                                 String columnName = ms.getColumnName(i+1);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;获得字段名&lt;/span&gt;
&lt;span&gt;42&lt;/span&gt;                                 &lt;span&gt;/*&lt;/span&gt;
&lt;span&gt;43&lt;/span&gt; &lt;span&gt;                                 * 以下操作是将下划线形式转化为驼峰式的实现
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt; &lt;span&gt;                                 * 现将字段名以下划线分割到字符串数组中，将第一个数组元素复制到StringBuffer中
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; &lt;span&gt;                                 * 然后将后面的数组元素第一个首字母转化为大写形式，最后将他们拼接到一起，将所得结果转化为字符串
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt;                                  &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;47&lt;/span&gt;                                 String[] strName = columnName.split(&quot;_&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt;                                 StringBuffer sb = &lt;span&gt;new&lt;/span&gt; StringBuffer(strName[0&lt;span&gt;]);
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt;                                 &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i1 = 1;i1&amp;lt;strName.length;i1++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt;                                     strName[i1] = strName[i1].substring(0, 1).toUpperCase().concat(strName[i1].substring(1&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt; &lt;span&gt;                                    sb.append(strName[i1]);
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt; &lt;span&gt;                                }
&lt;/span&gt;&lt;span&gt;53&lt;/span&gt;                                 String property =&lt;span&gt; sb.toString();
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt;                                 &lt;span&gt;/*&lt;/span&gt;
&lt;span&gt;55&lt;/span&gt; &lt;span&gt;                                 * 获得对象的所有属性，并将结果集中的内容通过反射赋值到对象的属性中
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt;                                  &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;57&lt;/span&gt;                                 Field field =&lt;span&gt; cla.getDeclaredField(property);
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt;                                 field.setAccessible(&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt; &lt;span&gt;                                field.set(t, rs.getObject(columnName));
&lt;/span&gt;&lt;span&gt;60&lt;/span&gt; &lt;span&gt;                            }
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt;                         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InstantiationException e) {
&lt;/span&gt;&lt;span&gt;62&lt;/span&gt; &lt;span&gt;                            e.printStackTrace();
&lt;/span&gt;&lt;span&gt;63&lt;/span&gt;                         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (IllegalAccessException e) {
&lt;/span&gt;&lt;span&gt;64&lt;/span&gt; &lt;span&gt;                            e.printStackTrace();
&lt;/span&gt;&lt;span&gt;65&lt;/span&gt;                         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (NoSuchFieldException e) {
&lt;/span&gt;&lt;span&gt;66&lt;/span&gt; &lt;span&gt;                            e.printStackTrace();
&lt;/span&gt;&lt;span&gt;67&lt;/span&gt;                         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (SecurityException e) {
&lt;/span&gt;&lt;span&gt;68&lt;/span&gt; &lt;span&gt;                            e.printStackTrace();
&lt;/span&gt;&lt;span&gt;69&lt;/span&gt; &lt;span&gt;                        }
&lt;/span&gt;&lt;span&gt;70&lt;/span&gt;                         &lt;span&gt;//&lt;/span&gt;&lt;span&gt;将对象添加到List中&lt;/span&gt;
&lt;span&gt;71&lt;/span&gt; &lt;span&gt;                        list.add(t);
&lt;/span&gt;&lt;span&gt;72&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;73&lt;/span&gt;                     &lt;span&gt;//&lt;/span&gt;&lt;span&gt;循环结束后返回对象集合&lt;/span&gt;
&lt;span&gt;74&lt;/span&gt;                     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; list;
&lt;/span&gt;&lt;span&gt;75&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;76&lt;/span&gt;                 
&lt;span&gt;77&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;78&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; tList;
&lt;/span&gt;&lt;span&gt;79&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;测试代码：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Test() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException{
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;         List&amp;lt;Book&amp;gt; bookList = &lt;span&gt;new&lt;/span&gt; LinkedList&amp;lt;Book&amp;gt;&lt;span&gt;();
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;         Object params[] = &lt;span&gt;new&lt;/span&gt; Object[]{&quot;%三%&quot;&lt;span&gt;};
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;         String sql = &quot;select * from book where book_name like ? &quot;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;         bookList = CommonDao.commonPreparedQueryList(Book.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;,params ,sql);
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt; &lt;span&gt;        System.out.println(bookList);
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1134327/201711/1134327-20171105003011154-1684378132.png&quot; alt=&quot;&quot; width=&quot;1002&quot; height=&quot;24&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1134327/201711/1134327-20171105003101341-1732628252.png&quot; alt=&quot;&quot; width=&quot;999&quot; height=&quot;24&quot;/&gt;&lt;/p&gt;
&lt;p&gt;一共两条数据&lt;/p&gt;
&lt;p&gt;查询一条数据（这个和查询集合的区别只有集合需要循环结果集，而这个只需要用if语句判断一下即可，其余代码完全相同）：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;/**&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;     * 通用预处理查询对象
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;     *
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; cla
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; params
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; sql
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;&lt;span&gt; 对象
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; SQLException
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; InstantiationException
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; IllegalAccessException
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;      &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt;     @SuppressWarnings(&quot;deprecation&quot;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; T commonPreparedQuery(&lt;span&gt;final&lt;/span&gt; Class&amp;lt;T&amp;gt; cla,Object params[],String sql) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException, InstantiationException, IllegalAccessException{
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;         QueryRunner qr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; QueryRunner(DBUtil.getDruid());
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;             T m =&lt;span&gt; cla.newInstance();
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;             m = qr.query(sql,params ,&lt;span&gt;new&lt;/span&gt; ResultSetHandler&amp;lt;T&amp;gt;&lt;span&gt;(){
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt; 
&lt;span&gt;18&lt;/span&gt;             &lt;span&gt;public&lt;/span&gt; T handle(ResultSet rs) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException {
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;                 ResultSetMetaData rm =&lt;span&gt; rs.getMetaData();
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;                 T t = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;                 &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;                     &lt;span&gt;if&lt;/span&gt;&lt;span&gt;(rs.next()){             //&lt;span&gt;这里用if，是与查询集合代码的唯一区别&lt;/span&gt;
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;                         t =&lt;span&gt; cla.newInstance();
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;                         &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0; i&amp;lt;rm.getColumnCount(); i++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;                             String columnName = rm.getColumnName(i+1&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;                             String str[] = columnName.split(&quot;_&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;                             StringBuffer sb = &lt;span&gt;new&lt;/span&gt; StringBuffer(str[0&lt;span&gt;]);
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt;                             &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; j = 1; j&amp;lt;str.length; j++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;                                 str[j] = str[j].substring(0, 1).toUpperCase().concat(str[j].substring(1&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt; &lt;span&gt;                                sb.append(str[j]);
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; &lt;span&gt;                            }
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt;                             String property =&lt;span&gt; sb.toString();
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt;                             Field field =&lt;span&gt; cla.getDeclaredField(property);
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;                             field.setAccessible(&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; &lt;span&gt;                            field.set(t, rs.getObject(columnName));
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt; &lt;span&gt;                        }
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt;                     }&lt;span&gt;else&lt;/span&gt;&lt;span&gt;{
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;                         System.out.println(&quot;sql语句错误或对象不存在&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt;                 } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InstantiationException e) {
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; &lt;span&gt;                    e.printStackTrace();
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt;                 } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (IllegalAccessException e) {
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt; &lt;span&gt;                    e.printStackTrace();
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt;                 } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (SecurityException e) {
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; &lt;span&gt;                    e.printStackTrace();
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt;                 } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (NoSuchFieldException e) {
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt; &lt;span&gt;                    e.printStackTrace();
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt;                 &lt;span&gt;return&lt;/span&gt;&lt;span&gt; t;
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt;             
&lt;span&gt;52&lt;/span&gt; &lt;span&gt;        });
&lt;/span&gt;&lt;span&gt;53&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; m;
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt; }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;测试：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Test() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException, InstantiationException, IllegalAccessException{
        Book book &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Book();
        Object params[] &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Object[]{10001&lt;span&gt;};
        String sql &lt;/span&gt;= &quot;select * from book where book_id = ? &quot;&lt;span&gt;;
        book &lt;/span&gt;= CommonDao.commonPreparedQuery(Book.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;, params, sql);
        System.out.println(book);
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1134327/201711/1134327-20171105004627857-1626514627.png&quot; alt=&quot;&quot; width=&quot;995&quot; height=&quot;15&quot;/&gt;&lt;/p&gt;

&lt;p&gt;还有普通查询操作（不通过预处理）&lt;/p&gt;
&lt;p&gt;这种方式和预处理查询的唯一区别只是不需要传递参数params，其余和上面代码完全一致&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;/**&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;     * 通用类查询集合
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;     *
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; cla
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; sql
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt; 
&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; SQLException
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;      &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; List&amp;lt;T&amp;gt; commonQueryList(&lt;span&gt;final&lt;/span&gt; Class&amp;lt;T&amp;gt; cla,String sql) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException{
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;         QueryRunner qr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; QueryRunner(DBUtil.getDruid());
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;                 List&amp;lt;T&amp;gt; tList = &lt;span&gt;new&lt;/span&gt; ArrayList&amp;lt;T&amp;gt;&lt;span&gt;(); 
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;                 tList = qr.query(sql, &lt;span&gt;new&lt;/span&gt; ResultSetHandler&amp;lt;List&amp;lt;T&amp;gt;&amp;gt;&lt;span&gt;(){
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; 
&lt;span&gt;14&lt;/span&gt;                 &lt;span&gt;public&lt;/span&gt; List&amp;lt;T&amp;gt; handle(ResultSet rs) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException {
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;                     ResultSetMetaData ms =&lt;span&gt; rs.getMetaData();
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;                     T t = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;                     List&amp;lt;T&amp;gt; list = &lt;span&gt;new&lt;/span&gt; ArrayList&amp;lt;T&amp;gt;&lt;span&gt;();
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;                     &lt;span&gt;while&lt;/span&gt;&lt;span&gt;(rs.next()){
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;                         &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;                             t =&lt;span&gt; cla.newInstance();
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;                             &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt;ms.getColumnCount(); i++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;                                 String columnName = ms.getColumnName(i+1&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;                                 String[] strName = columnName.split(&quot;_&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;                                 StringBuffer sb = &lt;span&gt;new&lt;/span&gt; StringBuffer(strName[0&lt;span&gt;]);
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;                                 &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i1 = 1;i1&amp;lt;strName.length;i1++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;                                     strName[i1] = strName[i1].substring(0, 1).toUpperCase().concat(strName[i1].substring(1&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt; &lt;span&gt;                                    sb.append(strName[i1]);
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;                                } 
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;                                 String property =&lt;span&gt; sb.toString();
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;                                 Field field =&lt;span&gt; cla.getDeclaredField(property);
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt;                                 field.setAccessible(&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt; &lt;span&gt;                                field.set(t, rs.getObject(columnName));
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt; &lt;span&gt;                            }
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;                         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InstantiationException e) {
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; &lt;span&gt;                            e.printStackTrace();
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;                         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (IllegalAccessException e) {
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt; &lt;span&gt;                            e.printStackTrace();
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;                         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (NoSuchFieldException e) {
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; &lt;span&gt;                            e.printStackTrace();
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt;                         } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (SecurityException e) {
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; &lt;span&gt;                            e.printStackTrace();
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt; &lt;span&gt;                        }
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt; &lt;span&gt;                        list.add(t);
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt;                     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; list;
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt;                 
&lt;span&gt;48&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; tList;
&lt;/span&gt;&lt;span&gt;50&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;测试：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Test() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException{
        List&lt;/span&gt;&amp;lt;Book&amp;gt; bookList = &lt;span&gt;new&lt;/span&gt; LinkedList&amp;lt;Book&amp;gt;&lt;span&gt;();
        String sql &lt;/span&gt;= &quot;select * from book &quot;&lt;span&gt;;
        bookList &lt;/span&gt;= CommonDao.commonQueryList(Book.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;,sql);
        System.out.println(bookList);
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1134327/201711/1134327-20171105004911841-50169465.png&quot; alt=&quot;&quot; width=&quot;878&quot; height=&quot;16&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1134327/201711/1134327-20171105004928060-1453830913.png&quot; alt=&quot;&quot; width=&quot;887&quot; height=&quot;21&quot;/&gt;&lt;/p&gt;
&lt;p&gt;同样有两条数据&lt;/p&gt;

&lt;p&gt;查询一个对象：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;/**&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;     * 查询一个数据库类操作
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;     *
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; cla
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; sql
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;&lt;span&gt; 一个数据库类对象
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; SQLException
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; InstantiationException
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; IllegalAccessException
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;      &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt;     &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; T commonQuery(&lt;span&gt;final&lt;/span&gt; Class&amp;lt;T&amp;gt; cla,String sql) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException, InstantiationException, IllegalAccessException{
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;             QueryRunner qr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; QueryRunner(DBUtil.getDruid());
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;                 T m =&lt;span&gt; cla.newInstance();
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;                 m = qr.query(sql, &lt;span&gt;new&lt;/span&gt; ResultSetHandler&amp;lt;T&amp;gt;&lt;span&gt;(){
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; 
&lt;span&gt;16&lt;/span&gt;                 &lt;span&gt;public&lt;/span&gt; T handle(ResultSet rs) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException {
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;                     ResultSetMetaData rm =&lt;span&gt; rs.getMetaData();
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;                     T t = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;                     &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;                         &lt;span&gt;if&lt;/span&gt;&lt;span&gt;(rs.next()){
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;                             t =&lt;span&gt; cla.newInstance();
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt;                             &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0; i&amp;lt;rm.getColumnCount(); i++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;                                 String columnName = rm.getColumnName(i+1&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;                                 String str[] = columnName.split(&quot;_&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;                                 StringBuffer sb = &lt;span&gt;new&lt;/span&gt; StringBuffer(str[0&lt;span&gt;]);
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;                                 &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; j = 1; j&amp;lt;str.length; j++&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;                                     str[j] = str[j].substring(0, 1).toUpperCase().concat(str[j].substring(1&lt;span&gt;));
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;                                    sb.append(str[j]);
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt; &lt;span&gt;                                }
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;                                 String property =&lt;span&gt; sb.toString();
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt;                                 Field field =&lt;span&gt; cla.getDeclaredField(property);
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt;                                 field.setAccessible(&lt;span&gt;true&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt; &lt;span&gt;                                field.set(t, rs.getObject(columnName));
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt; &lt;span&gt;                            }
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;                         }&lt;span&gt;else&lt;/span&gt;&lt;span&gt;{
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;                             System.out.println(&quot;sql语句错误或对象不存在&quot;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt; &lt;span&gt;                        }
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt;                     } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (InstantiationException e) {
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; &lt;span&gt;                        e.printStackTrace();
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt;                     } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (IllegalAccessException e) {
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; &lt;span&gt;                        e.printStackTrace();
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt;                     } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (SecurityException e) {
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt; &lt;span&gt;                        e.printStackTrace();
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt;                     } &lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (NoSuchFieldException e) {
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; &lt;span&gt;                        e.printStackTrace();
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt;                     &lt;span&gt;return&lt;/span&gt;&lt;span&gt; t;
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;49&lt;/span&gt;                 
&lt;span&gt;50&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; m;
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;测试：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@Test
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; Test() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException, InstantiationException, IllegalAccessException{
        Book book &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Book();
        String sql &lt;/span&gt;= &quot;select * from book where book_id = 10002&quot;&lt;span&gt;;
        book &lt;/span&gt;= CommonDao.commonQuery(Book.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;,sql);
        System.out.println(book);
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1134327/201711/1134327-20171105005235326-608091103.png&quot; alt=&quot;&quot; width=&quot;993&quot; height=&quot;19&quot;/&gt;&lt;/p&gt;

&lt;p&gt;接下来是增删改操作，这个操作比较简单，不需要用到泛型和反射，只需要传入sql语句即可：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; updateSql(String sql) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException{
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;         &lt;span&gt;boolean&lt;/span&gt; flag = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;         QueryRunner qr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; QueryRunner(DBUtil.getDruid());&lt;br/&gt;//执行修改操作    
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;(qr.update(sql)&amp;gt;0&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;             flag = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; flag;
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;还有预处理形式&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; updatePreparedSql(String sql,Object params[]) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException{
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;         &lt;span&gt;boolean&lt;/span&gt; flag = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;         QueryRunner qr = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; QueryRunner(DBUtil.getDruid());
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt;(qr.update(sql,params)&amp;gt;0&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;             flag = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt;&lt;span&gt; flag;
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;还有批量处理形式&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * 通过预处理解决批量增删改操作
     *
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; sql
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; params params[rows][cols],rows代表sql语句执行次数，cols表示替换占位符的参数个数
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;&lt;span&gt; boolean
     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; SQLException
     &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; batchProcessing(String sql,Object params[][]) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; SQLException{
        &lt;/span&gt;&lt;span&gt;boolean&lt;/span&gt; flag = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
        QueryRunner qr &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; QueryRunner(DBUtil.getDruid());
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(qr.batch(sql, params).length ==&lt;span&gt; params.length)
            flag &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; flag;
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

</description>
<pubDate>Sat, 04 Nov 2017 17:10:00 +0000</pubDate>
<dc:creator>Shevo</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/Shevo/p/7785537.html</dc:identifier>
</item>
<item>
<title>Vue.js—快速入门 - chuanbao</title>
<link>http://www.cnblogs.com/lgc-17862800193/p/7783766.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/lgc-17862800193/p/7783766.html</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;strong&gt;Vue.js是什么&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Vue.js &lt;span class=&quot;Apple-converted-space&quot;&gt;是一套构建用户界面的&lt;strong&gt;渐进式框架&lt;/strong&gt;。与其他重量级框架不同的是，Vue 采用自底向上增量开发的设计。Vue 的核心库只关注视图层，它不仅易于上手，还便于与第三方库或既有项目整合。&lt;/span&gt; Vue 的目标是通过尽可能简单的 API 实现响应的数据绑定和组合的视图组件。&lt;/p&gt;
&lt;p&gt;Vue 的一些语法和 AngularJS 的很相似 (例如&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;v-if&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; vs&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;ng-if&lt;/span&gt;&lt;/code&gt;)。因为 AngularJS 是 Vue 早期开发的灵感来源。然而，AngularJS 中存在的许多问题，在 Vue 中已经得到解决。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;AngularJS 使用双向绑定，Vue 在不同组件间强制使用单向数据流，这使应用中的数据流更加清晰易懂。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;相比于Angular.js，Vue.js提供了更加简洁、更易于理解的API，可以让你快速地掌握它的全部特性并投入开发。&lt;/p&gt;


&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;1&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;声明式渲染&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt; Vue.js 的核心是一个允许采用简洁的模板语法来声明式的将数据渲染进 DOM 的系统。&lt;/p&gt;
&lt;p&gt;每个 Vue 应用都是通过&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;Vue&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 函数创建一个新的&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;strong&gt;Vue 实例&lt;/strong&gt;开始的&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;，当创建一个 Vue 实例时，你可以传入一个&lt;strong&gt;选项对象&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;一个 Vue 应用由一个通过&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;new Vue&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 创建的&lt;strong&gt;根 Vue 实例&lt;/strong&gt;，以及可选的嵌套的、可复用的组件树组成。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;组件我们后续会继续讲给大家听的，而现在要明白的是所有的 Vue 组件都是 Vue 实例，并且接受相同的选项对象即可 (一些根实例特有的选项除外)。&lt;/p&gt;
&lt;p&gt;当一个 Vue 实例被创建时，它向 Vue 的&lt;strong&gt;响应式系统&lt;/strong&gt;中加入了其&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;data&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 对象中能找到的所有的属性。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;Vue.js 使用了基于 HTML 的模板语法，允许开发者声明式地将 DOM 绑定至底层 Vue 实例的数据。所有 Vue.js 的模板都是合法的 HTML ，所以能被遵循规范的浏览器和 HTML 解析器解析。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;数据绑定最常见的形式就是使用 —— 双大括号，通过使用&lt;span class=&quot;Apple-converted-space&quot;&gt; v-once指令，也能执行一次性地插值，当数据改变时，插值处的内容不会更新。但这会影响到该节点上所有的数据绑定。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;下边这个小例子就是我们生成的第一个Vue应用，数据和 DOM 已经被绑定在一起，所有的元素都是&lt;strong&gt;响应式的&lt;/strong&gt;。打开你的浏览器的控制台 ，并修改&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;app.message的内容&lt;/span&gt;&lt;/code&gt;，你将看到内容也相应地更新。&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt;             &lt;span&gt;&amp;lt;!--&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt; &lt;span&gt;            Vue.js使用{{}}绑定表达式，用于将表达式的内容输出到页面中。
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; &lt;span&gt;            表达式可以是文字，运算符，变量等，也可以在表达式中进行运算输出结果
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;             &lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt; &lt;span&gt;            {{message}}    
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt;         
&lt;span&gt;16&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;js/vue.js&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;声明式渲染&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt;             &lt;span&gt;var&lt;/span&gt;&lt;span&gt; app &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({   &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;创建Vue对象&lt;/span&gt;
&lt;span&gt;20&lt;/span&gt; &lt;span&gt;                el:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,   &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;把当前Vue对象挂载到div标签上,#app是ID选择器  &lt;/span&gt;
&lt;span&gt;21&lt;/span&gt; &lt;span&gt;                data:{
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;                    message:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Hello Vue!&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;message是自定义的数据&lt;/span&gt;
&lt;span&gt;23&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;             
&lt;span&gt;25&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;28&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171103133813295-1516178978.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;下边这种方式也可以实现同样的效果，当vue.js文件放在页面的下方时，这种方式在页面刷新时不会看到{{ }}表达式的原样。&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;style &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/css&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;             &lt;span&gt;/*&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;            如果vue.js文件放在页面的下方，在页面刷新时会看到{{}}表达式原样，所以使用v-cloak指令代替表达式。
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;            在css中设置[v-cloak]{display:none}
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;             &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;            [v-cloak]&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;display&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;none&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;style&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt; v-cloak v-html&lt;/span&gt;&lt;span&gt;=&quot;message&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;16&lt;/span&gt;             
&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;js/vue.js&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;20&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;21&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;声明式渲染&lt;/span&gt;
&lt;span&gt;22&lt;/span&gt;             &lt;span&gt;var&lt;/span&gt;&lt;span&gt; app &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({   &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;创建Vue对象&lt;/span&gt;
&lt;span&gt;23&lt;/span&gt; &lt;span&gt;                el:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,   &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;把当前Vue对象挂载到div标签上,#app是ID选择器  &lt;/span&gt;
&lt;span&gt;24&lt;/span&gt; &lt;span&gt;                data:{
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;                    message:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Hello Vue!&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;message是自定义的数据&lt;/span&gt;
&lt;span&gt;26&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;             
&lt;span&gt;28&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;30&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;现在我们来简单的说说——Vue的构造函数是什么?&lt;/p&gt;
&lt;p&gt;选项el属性，就是elment缩写，当前Vue对象挂载到哪个标签上的语法，支持CSS选择器或者DOM对象，一般id选择选择当前的标签&lt;br/&gt;data属性是自定义数据。vue会把自定义的数据与HTML模板数据进行绑定&lt;br/&gt;数据的绑定方式就是{{}}，类似于AngularJS&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;2&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;双向数据绑定&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;首先我们先解释一下什么是双向绑定， Vue框架很核心的功能就是双向的数据绑定。双向是指：HTML标签数据绑定到Vue对象，另外反方向数据也是绑定的。&lt;br/&gt;通俗点说，Vue对象会改变会直接影响到HTML标签的变化，而且标签的变化也会反过来影响Vue对象的属性变化。&lt;/p&gt;
&lt;p&gt;Vue中可以使用 &lt;strong&gt;v-model&lt;/strong&gt; 指令在 input 输入框中创建双向数据绑定。它会根据控件类型自动选取正确的方法来更新元素。&lt;/p&gt;
&lt;p&gt;&lt;span&gt;v-model&lt;/span&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 会忽略所有表单元素的&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;value&lt;/span&gt;&lt;/code&gt;、&lt;code&gt;&lt;span&gt;checked&lt;/span&gt;&lt;/code&gt;、&lt;code&gt;&lt;span&gt;selected&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 特性的初始值。因为它会选择 Vue 实例数据来作为具体的值。这个时候就需要通过 JavaScript 在组件的&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;data&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 选项中声明初始值了。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;将message绑定到文本框，当更改文本框的值时，&lt;code&gt;{{ message }}&lt;/code&gt; 中的内容也会被更新。反之，如果改变message的值，文本框的值也会被更新。&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;            {{message}}
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;             &lt;span&gt;&amp;lt;!--&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;                在表单控件元素（input等）上创建双向数据绑定（数据源）；跟Angular中ng-model用法一样。
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;             &lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;v-model&lt;/span&gt;&lt;span&gt;=&quot;message&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;16&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;js/vue.js&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;声明式渲染&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt;             &lt;span&gt;var&lt;/span&gt;&lt;span&gt; app &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({  
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;                el:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,   
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; &lt;span&gt;                data:{
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;                    message:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Hello Vue&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt;             
&lt;span&gt;25&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171103150142154-1067780964.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;在默认情况下，&lt;code&gt;&lt;span&gt;v-model&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 在&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;input&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 事件中同步输入框的值与数据&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;，但你可以添加一个修饰符&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;lazy&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; ，这个时候就需要点击一下浏览器任意地方实现数据的同步。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;2&lt;/span&gt; &lt;span&gt;        {{message}}
&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;v-model.lazy&lt;/span&gt;&lt;span&gt;=&quot;message&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;span&gt;4&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171105004800326-1106044156.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Vue.js中的常用指令&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Vue中的指令是带有 v- 前缀的特殊属性。指令属性的值预期是&lt;strong&gt;单个 JavaScript 表达式&lt;/strong&gt; (&lt;code&gt;&lt;span&gt;v-for&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 是例外情况)。&lt;/span&gt;指令用于在表达式的值改变时，将某些行为应用到 DOM 上。&lt;/p&gt;
&lt;p&gt;一些指令能够接收一个“参数”，在指令名称之后以冒号表示。例如，&lt;code&gt;&lt;span&gt;v-bind&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 指令可以用于响应式地更新 HTML 属性。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;接下来就给大家介绍几个Vue中的常用指令：&lt;/p&gt;


&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;3&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;v-if 指令&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;我们使用v-if来控制切换一个元素的显示。这里， v-if 指令将根据表达式 seen 的值(true 或 false )来决定是否插入 p 元素。&lt;/p&gt;
&lt;p&gt;这个例子演示了我们不仅可以绑定 DOM 文本到数据，也可以绑定 DOM&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;strong&gt;结构&lt;/strong&gt;到数据。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;数据的seen属性为true时，内容会被输出&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;数据的seen属性为false时，内容不会被输出&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;p &lt;/span&gt;&lt;span&gt;v-if&lt;/span&gt;&lt;span&gt;=&quot;seen&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;现在你看到我了&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;p&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt;         
&lt;span&gt;12&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;js/vue.js&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;声明式渲染&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt;             &lt;span&gt;var&lt;/span&gt;&lt;span&gt; app &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({  
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; &lt;span&gt;                el:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,   
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt; &lt;span&gt;                data:{
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt; &lt;span&gt;                    seen:&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;22&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;23&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171103170800123-40903371.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;5&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;v-else 指令&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;可以用 v-else 指令给 v-if 添加一个 &quot;else&quot; 块,条件都不符合时渲染。&lt;span&gt;v-else&lt;/span&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 元素必须紧跟在带&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;v-if&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 或者&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;v-else-if&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 的元素的后面，否则它将不会被识别。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;判断&lt;strong&gt;num&lt;/strong&gt;值是否大于&lt;strong&gt;22&lt;/strong&gt;，大于则输出&lt;strong&gt;apple&lt;/strong&gt;，否则输出&lt;strong&gt;bananer&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;v-if&lt;/span&gt;&lt;span&gt;=&quot;num&amp;gt;22&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt; &lt;span&gt;                {{apple}}
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;             &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;v-else&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt; &lt;span&gt;                {{bananer}}
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;             &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;16&lt;/span&gt;         
&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;js/vue.js&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt;             &lt;span&gt;var&lt;/span&gt;&lt;span&gt; app &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;                el: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; &lt;span&gt;                data:{
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;                    num:&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;                    apple:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;苹果很好吃！&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;                    bananer:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;香蕉也很好吃！&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;
&lt;span&gt;25&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;28&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;29&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171103173900591-164051037.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;6&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;v-show 指令&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;现在我们简单讲讲v-show，v-show指令用于根据条件展示元素的选项，用法也是大致一样的。&lt;/p&gt;
&lt;p&gt;不同的是带有&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;v-show&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 的元素始终会被渲染并保留在 DOM 中。&lt;code&gt;&lt;span&gt;v-show&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 只是简单地切换元素的 CSS 属性&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;display&lt;/span&gt;&lt;/code&gt;。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;值得我们注意的是，&lt;span&gt;v-show&lt;/span&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 不支持&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;&amp;lt;template&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 元素，也不支持&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;v-else&lt;/span&gt;&lt;/code&gt;。&lt;span&gt;所以在下边这个例子中尽管v-show设为false，依然能展示内容。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;综合实例&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;h1 &lt;/span&gt;&lt;span&gt;v-show&lt;/span&gt;&lt;span&gt;=&quot;ok&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;hello!&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;h1&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt;         &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt;v-show 不支持 &amp;lt;template&amp;gt; 元素,所以尽管v-show设为false，依然能展示内容&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;template &lt;/span&gt;&lt;span&gt;v-show&lt;/span&gt;&lt;span&gt;=&quot;false&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt;                 &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1111&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt;                 &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2222&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt;                 &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;3333&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt;             &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;template&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;16&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;js/vue.js&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;20&lt;/span&gt;         &lt;span&gt;var&lt;/span&gt;&lt;span&gt; vm&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; &lt;span&gt;            el:&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;            data:{
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;                ok:&lt;/span&gt;&lt;span&gt;true&lt;/span&gt;
&lt;span&gt;24&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;        })
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171105002713545-1478679257.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;现在我们来对比一下v-if和v-show有何区别吧：&lt;/p&gt;
&lt;p&gt;&lt;span&gt;v-if&lt;/span&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span&gt;v-if&lt;/span&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;  如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;相比之下，&lt;code&gt;&lt;span&gt;v-show&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;因此，如果需要非常频繁地切换，则使用&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;v-show&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 较好；如果在运行时条件很少改变，则使用&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;v-if&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 较好。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;7&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;v-for 指令&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;v-for 指令可以绑定数组的数据来渲染一个项目列表&lt;/span&gt;。&lt;/p&gt;
&lt;p&gt;v-for 指令需要以  &lt;strong&gt;fruit   in   fruits &lt;/strong&gt; 形式的特殊语法， &lt;strong&gt;fruits&lt;/strong&gt; 是源数据数组并且 &lt;strong&gt;fruit&lt;/strong&gt; 是数组元素迭代的别名。&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;ol&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt;                 &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li &lt;/span&gt;&lt;span&gt;v-for&lt;/span&gt;&lt;span&gt;=&quot;fruit in fruits&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;                  {{ fruit.name }}
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;                 &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt;             &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;ol&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt;         
&lt;span&gt;16&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;js/vue.js&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;             &lt;span&gt;var&lt;/span&gt;&lt;span&gt; app &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; &lt;span&gt;                el: &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; &lt;span&gt;                data:{
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; &lt;span&gt;                    fruits: [
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;                      { name: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;苹果&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt; },
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;                      { name: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;香蕉&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt; },
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;                      { name: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;西瓜&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt; }
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; &lt;span&gt;                    ]
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;29&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;30&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171103175125091-1114220309.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;8&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;v-bind 指令&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;HTML 属性中的值应使用 v-bind 指令。主要是用来操作元素的class列表和他的内联样式。和用JS直接操作dom节点功能一样，但是，要比js简单的多。&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &amp;lt;!DOCTYPE html&amp;gt;
&lt;span&gt; 2&lt;/span&gt; &amp;lt;html&amp;gt;
&lt;span&gt; 3&lt;/span&gt;     &amp;lt;head&amp;gt;
&lt;span&gt; 4&lt;/span&gt;         &amp;lt;meta charset=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;UTF-8&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
&lt;span&gt; 5&lt;/span&gt;         &amp;lt;title&amp;gt;&amp;lt;/title&amp;gt;
&lt;span&gt; 6&lt;/span&gt;         &amp;lt;style type=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;text/css&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
&lt;span&gt; 7&lt;/span&gt; &lt;span&gt;            .a{
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;                width: 100px;
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;                height: 100px;
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;                 background-&lt;span&gt;color: red;
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; &lt;span&gt;            .b{
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; &lt;span&gt;                width: 200px;
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; &lt;span&gt;                height: 200px;
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;                 background-&lt;span&gt;color: yellow;
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt;         &amp;lt;/style&amp;gt;
&lt;span&gt;18&lt;/span&gt;     &amp;lt;/head&amp;gt;
&lt;span&gt;19&lt;/span&gt;     &amp;lt;body&amp;gt;
&lt;span&gt;20&lt;/span&gt;         &amp;lt;div id=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
&lt;span&gt;21&lt;/span&gt;             &amp;lt;div v-bind:&lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;myClass1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; onclick=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;app.func()&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;点击变化&amp;lt;/div&amp;gt;
&lt;span&gt;22&lt;/span&gt;         &amp;lt;/div&amp;gt;
&lt;span&gt;23&lt;/span&gt;         
&lt;span&gt;24&lt;/span&gt;         &amp;lt;script type=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;text/javascript&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; src=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;js/vue.js&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &amp;gt;&amp;lt;/script&amp;gt;
&lt;span&gt;25&lt;/span&gt;         &amp;lt;script type=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;text/javascript&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
&lt;span&gt;26&lt;/span&gt;             &lt;span&gt;var&lt;/span&gt; app = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;                 el: &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;                data:{
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;                     myColor:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;red&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt;                     myWidth:&lt;span&gt;200&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt;                     myHeight:&lt;span&gt;200&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt;                     myClass1:&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt; &lt;span&gt;                    func:function(){
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;                         &lt;span&gt;if&lt;/span&gt;(&lt;span&gt;this&lt;/span&gt;.myClass1==&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;                             &lt;span&gt;this&lt;/span&gt;.myClass1=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt;                         }&lt;span&gt;else&lt;/span&gt;&lt;span&gt;{
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt;                             &lt;span&gt;this&lt;/span&gt;.myClass1=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt; &lt;span&gt;                        }
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt; &lt;span&gt;                    }
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;41&lt;/span&gt; &lt;span&gt;            });
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt;         &amp;lt;/script&amp;gt;
&lt;span&gt;43&lt;/span&gt;     &amp;lt;/body&amp;gt;
&lt;span&gt;44&lt;/span&gt; &amp;lt;/html&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt; &lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171103192914998-1342140835.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;9&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;v-on 指令&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;为了能让用户和你的应用进行互动，我们可以用&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;code&gt;&lt;span&gt;v-on&lt;/span&gt;&lt;/code&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 指令绑定一个事件监听器，通过它调用我们 Vue 实例中定义的方法。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; 在&lt;span&gt;reverseMessage&lt;/span&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt; 方法中，当我们更新了应用的状态，但没有触碰 DOM，因为所有的 DOM 操作都由 Vue 来处理。&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &amp;lt;!DOCTYPE html&amp;gt;
&lt;span&gt; 2&lt;/span&gt; &amp;lt;html&amp;gt;
&lt;span&gt; 3&lt;/span&gt;     &amp;lt;head&amp;gt;
&lt;span&gt; 4&lt;/span&gt;         &amp;lt;meta charset=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;UTF-8&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
&lt;span&gt; 5&lt;/span&gt;         &amp;lt;title&amp;gt;&amp;lt;/title&amp;gt;
&lt;span&gt; 6&lt;/span&gt;     &amp;lt;/head&amp;gt;
&lt;span&gt; 7&lt;/span&gt;     &amp;lt;body&amp;gt;
&lt;span&gt; 8&lt;/span&gt;         &amp;lt;!--事件监听可以使用v-on指令--&amp;gt;
&lt;span&gt; 9&lt;/span&gt;         
&lt;span&gt;10&lt;/span&gt;         &amp;lt;div id=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;app&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
&lt;span&gt;11&lt;/span&gt;             &amp;lt;button v-on:click=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;counter+=1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;点击加1&amp;lt;/button&amp;gt;
&lt;span&gt;12&lt;/span&gt;             &amp;lt;p&amp;gt;{{counter}}&amp;lt;/p&amp;gt;
&lt;span&gt;13&lt;/span&gt;             
&lt;span&gt;14&lt;/span&gt;             &amp;lt;p&amp;gt;{{ message }}&amp;lt;/p&amp;gt;
&lt;span&gt;15&lt;/span&gt;               &amp;lt;button v-on:click=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;reverseMessage&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;反转信息&amp;lt;/button&amp;gt;
&lt;span&gt;16&lt;/span&gt;             
&lt;span&gt;17&lt;/span&gt;             &amp;lt;button v-on:click=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;func&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;点击弹出&amp;lt;/button&amp;gt;
&lt;span&gt;18&lt;/span&gt;         &amp;lt;/div&amp;gt;
&lt;span&gt;19&lt;/span&gt;     &amp;lt;/body&amp;gt;
&lt;span&gt;20&lt;/span&gt;     &amp;lt;script type=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;text/javascript&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; src=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;js/vue.js&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &amp;gt;&amp;lt;/script&amp;gt;
&lt;span&gt;21&lt;/span&gt;     &amp;lt;script type=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;text/javascript&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
&lt;span&gt;22&lt;/span&gt;         &lt;span&gt;var&lt;/span&gt; vm=&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;             el:&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;            data:{
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;                 counter:&lt;span&gt;0&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;                 message: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;Hello Vue.js!&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt; &lt;span&gt;            },
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;在methods中定义方法&lt;/span&gt;
&lt;span&gt;29&lt;/span&gt; &lt;span&gt;            methods:{
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt; &lt;span&gt;                reverseMessage: function () {
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt;                   &lt;span&gt;this&lt;/span&gt;.message = &lt;span&gt;this&lt;/span&gt;.message.split(&lt;span&gt;''&lt;/span&gt;).reverse().join(&lt;span&gt;''&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt; &lt;span&gt;                },
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt;                 
&lt;span&gt;34&lt;/span&gt;                 func:function(&lt;span&gt;event&lt;/span&gt;&lt;span&gt;){
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt;                     alert(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;川宝宝&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;38&lt;/span&gt; &lt;span&gt;        })
&lt;/span&gt;&lt;span&gt;39&lt;/span&gt;     &amp;lt;/script&amp;gt;
&lt;span&gt;40&lt;/span&gt; &amp;lt;/html&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171103195814779-1951201698.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;10&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;综合 小Demo&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;现在我们已经介绍了一些Vue.js的基础知识了，结合以上知识我们可以来做个小Demo吧。&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;51&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 4&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;charset&lt;/span&gt;&lt;span&gt;=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;综合实例&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt; href&lt;/span&gt;&lt;span&gt;=&quot;css/bootstrap.css&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;style &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/css&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;            .table&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;                width&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; 500px&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
&lt;span&gt;10&lt;/span&gt;             &lt;span&gt;}&lt;/span&gt;
&lt;span&gt;11&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;style&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;13&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;app&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;15&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;form-group&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;16&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;label &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt;=&quot;group&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;姓名&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;label&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;17&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt;  v-model&lt;/span&gt;&lt;span&gt;=&quot;person1.name&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;18&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;form-group&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;20&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;label &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt;=&quot;author&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;学号&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;label&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;21&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt;  v-model&lt;/span&gt;&lt;span&gt;=&quot;person1.num&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;22&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;23&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;form-group&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;24&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;label &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt;=&quot;price&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;成绩&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;label&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;25&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt;  v-model&lt;/span&gt;&lt;span&gt;=&quot;person1.score&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;26&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-success&quot;&lt;/span&gt;&lt;span&gt; v-on:click&lt;/span&gt;&lt;span&gt;=&quot;addPerson()&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;添加&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;28&lt;/span&gt;         &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;table &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;table table-bordered&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;table&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;29&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;thead&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;30&lt;/span&gt;                 &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;31&lt;/span&gt;                     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;姓名&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;32&lt;/span&gt;                     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;学号&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;33&lt;/span&gt;                     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;成绩&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;34&lt;/span&gt;                     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;删除&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;35&lt;/span&gt;                 &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;36&lt;/span&gt;             &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;thead&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;37&lt;/span&gt;             &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tbody&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;38&lt;/span&gt;                 &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr  &lt;/span&gt;&lt;span&gt;v-for&lt;/span&gt;&lt;span&gt;=&quot;person in people&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;39&lt;/span&gt;                     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{person.name}}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;40&lt;/span&gt;                     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{person.num}}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;41&lt;/span&gt;                     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{person.score}}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;42&lt;/span&gt;                     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button  &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-warning&quot;&lt;/span&gt;&lt;span&gt; @click&lt;/span&gt;&lt;span&gt;=&quot;delPerson(person)&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;删除&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;43&lt;/span&gt;                 &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;44&lt;/span&gt;             &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tbody&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;45&lt;/span&gt;         &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;table&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;46&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;47&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;48&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt; src&lt;/span&gt;&lt;span&gt;=&quot;js/vue.js&quot;&lt;/span&gt; &lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;49&lt;/span&gt;     &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/javascript&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;50&lt;/span&gt;         &lt;span&gt;var&lt;/span&gt;&lt;span&gt; vm&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; Vue({
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt; &lt;span&gt;            el:&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;#app&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt; &lt;span&gt;            data:{
&lt;/span&gt;&lt;span&gt;53&lt;/span&gt; &lt;span&gt;                person1:{
&lt;/span&gt;&lt;span&gt;54&lt;/span&gt; &lt;span&gt;                        name: &lt;/span&gt;&lt;span&gt;''&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt; &lt;span&gt;                        num: &lt;/span&gt;&lt;span&gt;''&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;56&lt;/span&gt; &lt;span&gt;                        score: &lt;/span&gt;&lt;span&gt;''&lt;/span&gt;
&lt;span&gt;57&lt;/span&gt; &lt;span&gt;                },
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt; &lt;span&gt;                people:[{
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt; &lt;span&gt;                    name: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;张三&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;60&lt;/span&gt; &lt;span&gt;                    num: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;123456&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt; &lt;span&gt;                    score: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;8&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;
&lt;span&gt;62&lt;/span&gt; &lt;span&gt;                },
&lt;/span&gt;&lt;span&gt;63&lt;/span&gt; &lt;span&gt;                {
&lt;/span&gt;&lt;span&gt;64&lt;/span&gt; &lt;span&gt;                    name: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;李四&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;65&lt;/span&gt; &lt;span&gt;                    num: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;151515&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;66&lt;/span&gt; &lt;span&gt;                    score: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;
&lt;span&gt;67&lt;/span&gt; &lt;span&gt;                },
&lt;/span&gt;&lt;span&gt;68&lt;/span&gt; &lt;span&gt;                {
&lt;/span&gt;&lt;span&gt;69&lt;/span&gt; &lt;span&gt;                    name: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;王二&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;70&lt;/span&gt; &lt;span&gt;                    num: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;181818&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
&lt;/span&gt;&lt;span&gt;71&lt;/span&gt; &lt;span&gt;                    score: &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;
&lt;span&gt;72&lt;/span&gt; &lt;span&gt;                },
&lt;/span&gt;&lt;span&gt;73&lt;/span&gt; &lt;span&gt;                ]
&lt;/span&gt;&lt;span&gt;74&lt;/span&gt; &lt;span&gt;            },
&lt;/span&gt;&lt;span&gt;75&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt;在methods中定义方法&lt;/span&gt;
&lt;span&gt;76&lt;/span&gt; &lt;span&gt;            methods:{
&lt;/span&gt;&lt;span&gt;77&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;新增成员信息&lt;/span&gt;
&lt;span&gt;78&lt;/span&gt; &lt;span&gt;                addPerson: &lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; () {
&lt;/span&gt;&lt;span&gt;79&lt;/span&gt;                       &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.person1.id&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.people.length&lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;80&lt;/span&gt;                     &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.people.push(&lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.person1);
&lt;/span&gt;&lt;span&gt;81&lt;/span&gt;                     &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.person1&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;{};
&lt;/span&gt;&lt;span&gt;82&lt;/span&gt; &lt;span&gt;                },
&lt;/span&gt;&lt;span&gt;83&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt;删除成员信息&lt;/span&gt;
&lt;span&gt;84&lt;/span&gt; &lt;span&gt;                delPerson: &lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(person){
&lt;/span&gt;&lt;span&gt;85&lt;/span&gt;                     &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.people.splice(&lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;.people.indexOf(person),&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;86&lt;/span&gt; &lt;span&gt;                }
&lt;/span&gt;&lt;span&gt;87&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;88&lt;/span&gt; &lt;span&gt;        })
&lt;/span&gt;&lt;span&gt;89&lt;/span&gt;     &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;90&lt;/span&gt; &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206165/201711/1206165-20171104093207232-1936919292.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;div readability=&quot;10&quot;&gt;
&lt;h4 class=&quot;135brush&quot;&gt;编者按&lt;/h4&gt;
&lt;p&gt;Vue.js是数据驱动的，无需手动操作DOM。它通过一些特殊的HTML语法，将DOM和数据绑定起来。一旦你创建了绑定，DOM将和数据保持同步，当数据变更了，DOM也会相应地更新。如果你之前有过其他框架的使用经验对于学习 Vue.js 是有帮助的，但这不是必需的。最后希望这篇文章能对您学习前端开发有所帮助。&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Sat, 04 Nov 2017 16:55:00 +0000</pubDate>
<dc:creator>chuanbao</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/lgc-17862800193/p/7783766.html</dc:identifier>
</item>
<item>
<title>【20171104中】chrome自动刷新网页 - 黑楼绝</title>
<link>http://www.cnblogs.com/heijuelou/p/7785272.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/heijuelou/p/7785272.html</guid>
<description>&lt;p&gt;target：刷访问量&lt;/p&gt;
&lt;p&gt;tools：chrome / url&lt;/p&gt;
&lt;p&gt;start：&lt;/p&gt;
&lt;p&gt;　　s1：百度知道，https://zhidao.baidu.com/question/750134067096113532.html&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1264732/201711/1264732-20171105001932248-672244963.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　s2：安装chrome的”页面自动刷新“插件&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1264732/201711/1264732-20171105002032482-470494803.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　s3：设置时间间隔&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1264732/201711/1264732-20171105002125357-1562704979.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　s4：看飞镖，呃不是，看效果图&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1264732/201711/1264732-20171105004316857-1107578039.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

</description>
<pubDate>Sat, 04 Nov 2017 16:44:00 +0000</pubDate>
<dc:creator>黑楼绝</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/heijuelou/p/7785272.html</dc:identifier>
</item>
<item>
<title>《Spark Python API 官方文档中文版》 之 pyspark.sql  (二) - 牛仔裤的夏天</title>
<link>http://www.cnblogs.com/wonglu/p/7784825.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wonglu/p/7784825.html</guid>
<description>&lt;p&gt;&lt;strong&gt;摘要：&lt;/strong&gt;在Spark开发中，由于需要用Python实现，发现API与Scala的略有不同，而Python API的中文资料相对很少。每次去查英文版API的说明相对比较慢，还是中文版比较容易get到所需，所以利用闲暇之余将官方文档翻译为中文版，并亲测Demo的代码。在此记录一下，希望对那些对Spark感兴趣和从事大数据开发的人员提供有价值的中文资料，对PySpark开发人员的工作和学习有所帮助。&lt;/p&gt;
&lt;p&gt;官网地址：http://spark.apache.org/docs/1.6.2/api/python/pyspark.sql.html            &lt;/p&gt;

&lt;h2&gt;&lt;span&gt;Module Context&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Spark SQL和DataFrames重要的类有：&lt;br/&gt;pyspark.sql.SQLContext DataFrame和SQL方法的主入口&lt;br/&gt;pyspark.sql.DataFrame 将分布式数据集分组到指定列名的数据框中&lt;br/&gt;pyspark.sql.Column DataFrame中的列&lt;br/&gt;pyspark.sql.Row DataFrame数据的行&lt;br/&gt;pyspark.sql.HiveContext 访问Hive数据的主入口&lt;br/&gt;pyspark.sql.GroupedData 由DataFrame.groupBy()创建的聚合方法集&lt;br/&gt;pyspark.sql.DataFrameNaFunctions 处理丢失数据(空数据)的方法&lt;br/&gt;pyspark.sql.DataFrameStatFunctions 统计功能的方法&lt;br/&gt;pyspark.sql.functions DataFrame可用的内置函数&lt;br/&gt;pyspark.sql.types 可用的数据类型列表&lt;br/&gt;pyspark.sql.Window 用于处理窗口函数&lt;/p&gt;
&lt;h3&gt;3.class pyspark.sql.DataFrame(jdf, sql_ctx)&lt;/h3&gt;
&lt;p&gt;分布式的收集数据分组到命名列中。&lt;br/&gt;一个DataFrame相当于在Spark SQL中一个相关的表,可在SQLContext使用各种方法创建,如:&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
people = sqlContext.read.parquet(&quot;...&quot;)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一旦创建， 可以使用在DataFrame、Column中定义的不同的DSL方法操作。&lt;br/&gt;从data frame中返回一列使用对应的方法：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
ageCol = people.age
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一个更具体的例子：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
# To create DataFrame using SQLContext
people = sqlContext.read.parquet(&quot;...&quot;&lt;span&gt;)
department = sqlContext.read.parquet(&quot;...&quot;&lt;span&gt;)
people.filter(people.age &amp;gt; 30).join(department, people.deptId == department.id)).groupBy(department.name, &quot;gender&quot;).agg({&quot;salary&quot;: &quot;avg&quot;, &quot;age&quot;: &quot;max&quot;})&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.1 agg(*exprs)&lt;/h4&gt;
&lt;p&gt;没有组的情况下聚集整个DataFrame (df.groupBy.agg()的简写)。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; l=[('jack',5),('john',4),('tom',2&lt;span&gt;)]
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,['name','age'&lt;span&gt;])
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.agg({&quot;age&quot;: &quot;max&quot;&lt;span&gt;}).collect()
[Row(max(age)=5&lt;span&gt;)]
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; from pyspark.sql import&lt;span&gt; functions as F
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.agg(F.min(df.age)).collect()
[Row(min(age)=2)]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.2 alias(alias)&lt;/h4&gt;
&lt;p&gt;返回一个设置别名的新的DataFrame。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;49&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[('Alice',2),('Bob',5&lt;span&gt;)]
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; df = sqlContext.createDataFrame(l,['name','age'&lt;span&gt;])
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; from pyspark.sql.functions import *
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; df_as1 = df.alias(&quot;df_as1&quot;&lt;span&gt;)
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; df_as2 = df.alias(&quot;df_as2&quot;&lt;span&gt;)
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; joined_df = df_as1.join(df_as2, col(&quot;df_as1.name&quot;) == col(&quot;df_as2.name&quot;), 'inner'&lt;span&gt;)
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; joined_df.select(col(&quot;df_as1.name&quot;), col(&quot;df_as2.name&quot;), col(&quot;df_as2.age&quot;&lt;span&gt;)).collect()
[Row(name=u'Alice', name=u'Alice', age=2), Row(name=u'Bob', name=u'Bob', age=5)]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.3 cache()&lt;/h4&gt;
&lt;p&gt;用默认的存储级别缓存数据(MEMORY_ONLY_SER).&lt;/p&gt;
&lt;h4&gt;3.4 coalesce(numPartitions)&lt;/h4&gt;
&lt;p&gt;返回一个有确切的分区数的分区的新的DataFrame。&lt;br/&gt;与在一个RDD上定义的合并类似, 这个操作产生一个窄依赖。 如果从1000个分区到100个分区,不会有shuffle过程, 而是每100个新分区会需要当前分区的10个。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; df.coalesce(1&lt;span&gt;).rdd.getNumPartitions()
1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.5 collect()&lt;/h4&gt;
&lt;p&gt;返回所有的记录数为行的列表。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; df.collect()
[Row(age=2, name=u'Alice'), Row(age=5, name=u'Bob')]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.6 columns&lt;/h4&gt;
&lt;p&gt;返回所有列名的列表。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; df.columns
[&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.7 corr(col1, col2, method=None)&lt;/h4&gt;
&lt;p&gt;计算一个DataFrame相关的两列为double值。通常只支持皮尔森相关系数。DataFrame.corr()和DataFrameStatFunctions.corr()类似。&lt;br/&gt;&lt;strong&gt;参数：●  col1&lt;/strong&gt; – 第一列的名称  &lt;br/&gt;　　    &lt;strong&gt;●  col2&lt;/strong&gt; – 第二列的名称&lt;br/&gt;&lt;strong&gt;           ●  method&lt;/strong&gt; – 相关方法.当前只支持皮尔森相关系数&lt;/p&gt;
&lt;h4&gt;3.8 count()&lt;/h4&gt;
&lt;p&gt;返回DataFrame的行数。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.count()
&lt;/span&gt;2
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.9 cov(col1, col2)&lt;/h4&gt;
&lt;p&gt;计算由列名指定列的样本协方差为double值。DataFrame.cov()和DataFrameStatFunctions.cov()类似。&lt;br/&gt;&lt;strong&gt;参数：●  col1&lt;/strong&gt; – 第一列的名称&lt;br/&gt;　　    &lt;strong&gt;●  col2&lt;/strong&gt; – 第二列的名称&lt;/p&gt;
&lt;h4&gt;3.10 crosstab(col1, col2)&lt;/h4&gt;
&lt;p&gt;计算给定列的分组频数表,也称为相关表。每一列的去重值的个数应该小于1e4.最多返回1e6个非零对.每一行的第一列会是col1的去重值，列名称是col2的去重值。第一列的名称是$col1_$col2. 没有出现的配对将以零作为计数。DataFrame.crosstab() and DataFrameStatFunctions.crosstab()类似。&lt;br/&gt;&lt;strong&gt;参数：●  col1&lt;/strong&gt; – 第一列的名称. 去重项作为每行的第一项。&lt;br/&gt;　　    &lt;strong&gt;●  col2&lt;/strong&gt; – 第二列的名称. 去重项作为DataFrame的列名称。&lt;/p&gt;
&lt;h4&gt;3.11 cube(*cols)&lt;/h4&gt;
&lt;p&gt;创建使用指定列的当前DataFrame的多维立方体，这样可以聚合这些数据。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; l=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; df.cube(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, df.age).count().show()
&lt;/span&gt;+-----+----+-----+
| name| age|count|
+-----+----+-----+
| null|   2|    1|
|Alice|null|    1|
|  Bob|   5|    1|
|  Bob|null|    1|
| null|   5|    1|
| null|null|    2|
|Alice|   2|    1|
+-----+----+-----+
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.12 describe(*cols)&lt;/h4&gt;
&lt;p&gt;计算数值列的统计信息。&lt;br/&gt;包括计数，平均，标准差，最小和最大。如果没有指定任何列，这个函数计算统计所有数值列。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; df.describe().show()
&lt;/span&gt;+-------+------------------+
|summary|               age|
+-------+------------------+
|  count|                 2|
|   mean|               3.5|
| stddev|2.1213203435596424|
|    min|                 2|
|    max|                 5|
+-------+------------------+
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.describe([&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;]).show()
&lt;/span&gt;+-------+------------------+-----+
|summary|               age| name|
+-------+------------------+-----+
|  count|                 2|    2|
|   mean|               3.5| null|
| stddev|2.1213203435596424| null|
|    min|                 2|Alice|
|    max|                 5|  Bob|
+-------+------------------+-----+
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.13 distinct()&lt;/h4&gt;
&lt;p&gt;返回行去重的新的DataFrame。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; df.distinct().count()
&lt;/span&gt;2
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.14 drop(col)&lt;/h4&gt;
&lt;p&gt;返回删除指定列的新的DataFrame。&lt;br/&gt;&lt;strong&gt;参数：●  col&lt;/strong&gt; – 要删除列的字符串类型名称,或者要删除的列。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; df.drop(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)] 
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span&gt; df.drop(df.age).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;49&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l1=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l2=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,85&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df2 = sqlContext.createDataFrame(l2,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;height&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.join(df2, df.name == df2.name, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;inner&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).drop(df.name).collect()
[Row(age&lt;/span&gt;=5, height=85, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.join(df2, df.name == df2.name, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;inner&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).drop(df2.name).collect()
[Row(age&lt;/span&gt;=5, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, height=85)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.15 dropDuplicates(subset=None)&lt;/h4&gt;
&lt;p&gt;返回去掉重复行的一个新的DataFrame,通常只考虑某几列。&lt;br/&gt;drop_duplicates()和dropDuplicates()类似。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;from&lt;/span&gt; pyspark.sql &lt;span&gt;import&lt;/span&gt;&lt;span&gt; Row
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sc.parallelize([Row(name=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5, height=80),Row(name=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5, height=80),Row(name=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=10, height=80&lt;span&gt;)]).toDF()
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.dropDuplicates().show()
&lt;/span&gt;+---+------+-----+
|age|height| name|
+---+------+-----+
|  5|    80|Alice|
| 10|    80|Alice|
+---+------+-----+
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; df.dropDuplicates([&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;height&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;]).show()
&lt;/span&gt;+---+------+-----+
|age|height| name|
+---+------+-----+
|  5|    80|Alice|
+---+------+-----+
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.16 drop_duplicates(subset=None)&lt;/h4&gt;
&lt;p&gt;与以上相同。&lt;/p&gt;
&lt;h4&gt;3.17 dropna(how='any', thresh=None, subset=None)&lt;/h4&gt;
&lt;p&gt;返回一个删除null值行的新的DataFrame。dropna()和dataframenafunctions.drop()类似。&lt;br/&gt;&lt;strong&gt;参数：●  how&lt;/strong&gt; – 'any'或者'all'。如果'any',删除包含任何空值的行。如果'all',删除所有值为null的行。&lt;br/&gt;　　　&lt;strong&gt;●&lt;/strong&gt;  &lt;strong&gt;thresh&lt;/strong&gt; – int,默认为None,如果指定这个值，删除小于阈值的非空值的行。这个会重写'how'参数。&lt;br/&gt;　　　&lt;strong&gt;●  subset&lt;/strong&gt; – 选择的列名称列表。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; dfnew = df.cube(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, df.age).count()
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; dfnew.show()
&lt;/span&gt;+-----+----+-----+
| name| age|count|
+-----+----+-----+
| null|   2|    1|
|Alice|null|    1|
|  Bob|   5|    1|
|  Bob|null|    1|
| null|   5|    1|
| null|null|    2|
|Alice|   2|    1|
+-----+----+-----+
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; dfnew.na.drop().show()
&lt;/span&gt;+-----+---+-----+
| name|age|count|
+-----+---+-----+
|  Bob|  5|    1|
|Alice|  2|    1|
+-----+---+-----+
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.18 dtypes&lt;/h4&gt;
&lt;p&gt;返回所有列名及类型的列表。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.dtypes
[(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), (&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.19 explain(extended=False)&lt;/h4&gt;
&lt;p&gt;将（逻辑和物理）计划打印到控制台以进行调试。&lt;br/&gt;&lt;strong&gt;参数：●  extended&lt;/strong&gt; – boolean类型，默认为False。如果为False,只打印物理计划。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; df.explain()
&lt;/span&gt;== Physical Plan ==&lt;span&gt;
Scan ExistingRDD[age&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;0,name#1]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.explain(True)
&lt;/span&gt;== Parsed Logical Plan ==&lt;span&gt;
...
&lt;/span&gt;== Analyzed Logical Plan ==&lt;span&gt;
...
&lt;/span&gt;== Optimized Logical Plan ==&lt;span&gt;
...
&lt;/span&gt;== Physical Plan ==&lt;span&gt;
...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.20 fillna(value, subset=None)&lt;/h4&gt;
&lt;p&gt;替换空值,和na.fill()类似，DataFrame.fillna()和dataframenafunctions.fill()类似。&lt;br/&gt;&lt;strong&gt;参数：●  value&lt;/strong&gt; - 要代替空值的值有int,long,float,string或dict.如果值是字典,subset参数将被忽略。值必须是要替换的列的映射,替换值必须是int,long,float或者string.&lt;br/&gt;&lt;strong&gt;    　　●  subset&lt;/strong&gt; - 要替换的列名列表。在subset指定的列,没有对应数据类型的会被忽略。例如,如果值是字符串,subset包含一个非字符串的列,这个非字符串的值会被忽略。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; dfnew = df.cube(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, df.age).count()
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; dfnew.show()
&lt;/span&gt;+-----+----+-----+
| name| age|count|
+-----+----+-----+
| null|   2|    1|
|Alice|null|    1|
|  Bob|   5|    1|
|  Bob|null|    1|
| null|   5|    1|
| null|null|    2|
|Alice|   2|    1|
+-----+----+-----+
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; dfnew.na.fill(50&lt;span&gt;).show()
&lt;/span&gt;+-----+---+-----+
| name|age|count|
+-----+---+-----+
| null|  2|    1|
|Alice| 50|    1|
|  Bob|  5|    1|
|  Bob| 50|    1|
| null|  5|    1|
| null| 50|    2|
|Alice|  2|    1|
+-----+---+-----+
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; dfnew.na.fill({&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: 50, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;unknown&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;}).show()
&lt;/span&gt;+-------+---+-----+
|   name|age|count|
+-------+---+-----+
|unknown|  2|    1|
|  Alice| 50|    1|
|    Bob|  5|    1|
|    Bob| 50|    1|
|unknown|  5|    1|
|unknown| 50|    2|
|  Alice|  2|    1|
+-------+---+-----+
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.21 filter(condition)&lt;/h4&gt;
&lt;p&gt;用给定的条件过滤行。&lt;br/&gt;where()和filter()类似。&lt;br/&gt;&lt;strong&gt;参数：●  条件&lt;/strong&gt; - 一个列的bool类型或字符串的SQL表达式。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;44&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.filter(df.age &amp;gt; 3&lt;span&gt;).collect()
[Row(age&lt;/span&gt;=5, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.where(df.age == 2&lt;span&gt;).collect()
[Row(age&lt;/span&gt;=2, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.filter(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;age &amp;gt; 3&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).collect()
[Row(age&lt;/span&gt;=5, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.where(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;age = 2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).collect()
[Row(age&lt;/span&gt;=2, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.22 first()&lt;/h4&gt;
&lt;p&gt;返回第一行。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; df.first()
Row(age&lt;/span&gt;=2, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.23 flatMap(f)&lt;/h4&gt;
&lt;p&gt;返回在每行应用F函数后的新的RDD,然后将结果压扁。&lt;br/&gt;是df.rdd.flatMap()的简写。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.flatMap(&lt;span&gt;lambda&lt;/span&gt;&lt;span&gt; p: p.name).collect()
[u&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;A&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;l&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;i&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;c&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;e&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;B&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;o&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.24 foreach(f)&lt;/h4&gt;
&lt;p&gt;应用f函数到DataFrame的所有行。&lt;br/&gt;是df.rdd.foreach()的简写。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;def&lt;/span&gt;&lt;span&gt; f(person):
...     &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(person.name)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.foreach(f)
Alice
Bob&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.25 foreachPartition(f)&lt;/h4&gt;
&lt;p&gt;应用f函数到DataFrame的每一个分区。&lt;br/&gt;是 df.rdd.foreachPartition()的缩写。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; &lt;span&gt;def&lt;/span&gt;&lt;span&gt; f(people):
...     &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; person &lt;span&gt;in&lt;/span&gt;&lt;span&gt; people:
...         &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(person.name)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.foreachPartition(f)
Alice
Bob&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.26 freqItems(cols, support=None)&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;参数：●  cols&lt;/strong&gt; – 要计算重复项的列名，为字符串类型的列表或者元祖。&lt;br/&gt;　　    &lt;strong&gt;●  support&lt;/strong&gt; – 要计算频率项的频率值。默认是1%。参数必须大于1e-4.&lt;/p&gt;
&lt;h4&gt;3.27 groupBy(*cols)&lt;/h4&gt;
&lt;p&gt;使用指定的列分组DataFrame,这样可以聚合计算。可以从GroupedData查看所有可用的聚合方法。&lt;br/&gt;groupby()和groupBy()类似。&lt;br/&gt;&lt;strong&gt;参数：●  cols &lt;/strong&gt;– 分组依据的列。每一项应该是一个字符串的列名或者列的表达式。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;47&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; df.groupBy().avg().collect()
[Row(avg(age)&lt;/span&gt;=3.5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.groupBy(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;).agg({&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;: &lt;span&gt;'&lt;/span&gt;&lt;span&gt;mean&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;}).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, avg(age)=2.0), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, avg(age)=5.0&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.groupBy(df.name).avg().collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, avg(age)=2.0), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, avg(age)=5.0&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.groupBy([&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, df.age]).count().collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5, count=1), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=2, count=1)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.28 groupby(*cols)&lt;/h4&gt;
&lt;p&gt;和以上一致&lt;/p&gt;
&lt;h4&gt;3.29 head(n=None)&lt;/h4&gt;
&lt;p&gt;返回前n行&lt;br/&gt;&lt;strong&gt;参数：●  n&lt;/strong&gt; – int类型，默认为1，要返回的行数。&lt;br/&gt;&lt;strong&gt;返回值&lt;/strong&gt;: 如果n大于1,返回行列表，如果n为1，返回单独的一行。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.head()
Row(age&lt;/span&gt;=2, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.head(1&lt;span&gt;)
[Row(age&lt;/span&gt;=2, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.30 insertInto(tableName, overwrite=False)&lt;/h4&gt;
&lt;p&gt;插入DataFrame内容到指定表。&lt;br/&gt;注：在1.4中已过时,使用DataFrameWriter.insertInto()代替。&lt;/p&gt;
&lt;h4&gt;3.31 intersect(other)&lt;/h4&gt;
&lt;p&gt;返回新的DataFrame,包含仅同时在当前框和另一个框的行。&lt;br/&gt;相当于SQL中的交集。&lt;/p&gt;
&lt;h4&gt;3.32 intersect(other)&lt;/h4&gt;
&lt;p&gt;如果collect()和take()方法可以运行在本地(不需要Spark executors)那么返回True&lt;/p&gt;
&lt;h4&gt;3.33 join(other, on=None, how=None)&lt;/h4&gt;
&lt;p&gt;使用给定的关联表达式，关联另一个DataFrame。&lt;br/&gt;以下执行df1和df2之间完整的外连接。&lt;br/&gt;&lt;strong&gt;参数：● other&lt;/strong&gt; – 连接的右侧&lt;br/&gt;　　　&lt;strong&gt;● on&lt;/strong&gt; – 一个连接的列名称字符串, 列名称列表,一个连接表达式(列)或者列的列表。如果on参数是一个字符串或者字符串列表,表示连接列的名称,这些名称必须同时存在join的两个表中, 这样执行的是一个等价连接。&lt;br/&gt;　　　&lt;strong&gt;● how&lt;/strong&gt; – 字符串,默认'inner'。inner,outer,left_outer,right_outer,leftsemi之一。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l2=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Tom&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,80),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,85&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df2 = sqlContext.createDataFrame(l2,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;height&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;])
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; df.join(df2, df.name == df2.name, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;outer&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).select(df.name, df2.height).collect()
[Row(name&lt;/span&gt;=None, height=80), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, height=None), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, height=85)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; df.join(df2, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;outer&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;).select(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;height&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Tom&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, height=80), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, height=None), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, height=85)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;49&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; l3=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2,60),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5,80&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df3 = sqlContext.createDataFrame(l3,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;height&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; cond = [df.name == df3.name, df.age ==&lt;span&gt; df3.age]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.join(df3, cond, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;outer&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).select(df.name, df3.age).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=2)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.join(df2, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;).select(df.name, df2.height).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, height=85)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l4=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,1),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df4 = sqlContext.createDataFrame(l4,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.join(df4, [&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;]).select(df.name, df.age).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.34 limit(num)&lt;/h4&gt;
&lt;p&gt;将结果计数限制为指定的数字。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.limit(1&lt;span&gt;).collect()
[Row(age&lt;/span&gt;=2, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.limit(0).collect()
[]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.35 map(f)&lt;/h4&gt;
&lt;p&gt;通过每行应用f函数返回新的RDD。&lt;br/&gt;是 df.rdd.map()的缩写。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; df.map(&lt;span&gt;lambda&lt;/span&gt;&lt;span&gt; p: p.name).collect()
[u&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.36 mapPartitions(f, preservesPartitioning=False)&lt;/h4&gt;
&lt;p&gt;通过每个分区应用f函数返回新的RDD&lt;br/&gt;是df.rdd.mapPartitions()的缩写。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; rdd = sc.parallelize([1, 2, 3, 4], 4&lt;span&gt;)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;def&lt;/span&gt; f(iterator): &lt;span&gt;yield&lt;/span&gt; 1&lt;span&gt;
...
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; rdd.mapPartitions(f).sum()
&lt;/span&gt;4
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.37 na&lt;/h4&gt;
&lt;p&gt;返回DataFrameNaFunctions用于处理缺失值。&lt;/p&gt;
&lt;h4&gt;3.38 orderBy(*cols, **kwargs)&lt;/h4&gt;
&lt;p&gt;返回按照指定列排序的新的DataFrame。&lt;br/&gt;&lt;strong&gt;参数：● cols&lt;/strong&gt; – 用来排序的列或列名称的列表。&lt;br/&gt;　　    &lt;strong&gt;● ascending&lt;/strong&gt; – 布尔值或布尔值列表(默认 True). 升序排序与降序排序。指定多个排序顺序的列表。如果指定列表, 列表的长度必须等于列的长度。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;63&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,2),(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.sort(df.age.desc()).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=2&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.sort(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, ascending=&lt;span&gt;False).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=2&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.orderBy(df.age.desc()).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=2&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;from&lt;/span&gt; pyspark.sql.functions &lt;span&gt;import&lt;/span&gt; *
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.sort(asc(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=2), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.orderBy(desc(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;), &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=2&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df.orderBy([&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;], ascending=[0, 1&lt;span&gt;]).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Bob&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=5), Row(name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=2)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3.39 persist(storageLevel=StorageLevel(False, True, False, False, 1))&lt;/h4&gt;
&lt;p&gt;设置存储级别以在第一次操作运行完成后保存其值。这只能用来分配新的存储级别，如果RDD没有设置存储级别的话。如果没有指定存储级别，默认为(memory_only_ser)。&lt;/p&gt;
&lt;h4&gt;3.40 printSchema()&lt;/h4&gt;
&lt;p&gt;打印schema以树的格式&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.printSchema()
root
 &lt;/span&gt;|-- name: string (nullable =&lt;span&gt; true)
 &lt;/span&gt;|-- age: long (nullable =&lt;span&gt; true)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt; &lt;/h3&gt;
</description>
<pubDate>Sat, 04 Nov 2017 14:13:00 +0000</pubDate>
<dc:creator>牛仔裤的夏天</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/wonglu/p/7784825.html</dc:identifier>
</item>
<item>
<title>Matplotlib常用绘图示例入门 - faramita2016</title>
<link>http://www.cnblogs.com/faramita2016/p/7784699.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/faramita2016/p/7784699.html</guid>
<description>&lt;h3&gt;一.Matplotlib介绍&lt;/h3&gt;
&lt;p&gt;Matplotlib 是一个 Python 的 2D绘图库，它以各种硬拷贝格式和跨平台的交互式环境生成出版质量级别的图形。通过 Matplotlib，开发者可以仅需要几行代码，便可以生成绘图，直方图，功率谱，条形图，错误图，散点图等。Matplotlib使用NumPy进行数组运算，并调用一系列其他的Python库来实现硬件交互。&lt;/p&gt;

&lt;h3&gt;二.常用示例&lt;/h3&gt;
&lt;p&gt;环境：Jupyter(1.0.0) &lt;a href=&quot;http://www.cnblogs.com/faramita2016/p/7512471.html&quot; target=&quot;_blank&quot;&gt;Ubuntu安装Jupyter Notebook&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1.折线图&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;45&quot;&gt;
&lt;pre&gt;
%&lt;span&gt;matplotlib inline

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; matplotlib.pyplot as plt
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; numpy as np

x &lt;/span&gt;= np.arange(9&lt;span&gt;)
y &lt;/span&gt;=&lt;span&gt; np.sin(x)
z &lt;/span&gt;=&lt;span&gt; np.cos(x)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; marker数据点样式，linewidth线宽，linestyle线型样式，color颜色&lt;/span&gt;
plt.plot(x, y, marker=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;*&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, linewidth=3, linestyle=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;--&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, color=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;orange&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
plt.plot(x, z)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 设置X轴刻度，rotation旋转&lt;/span&gt;
plt.xticks(x, [str(i) + &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;K&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt; x], rotation=45&lt;span&gt;)
plt.title(u&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;matplotlib&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
plt.xlabel(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;height&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
plt.ylabel(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;width&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 设置图例&lt;/span&gt;
plt.legend([&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Y&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Z&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;], loc=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;upper right&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
plt.grid(True)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1164036/201711/1164036-20171104212303888-1540305076.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;2.散点图&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
x = np.random.rand(10&lt;span&gt;)
y &lt;/span&gt;= np.random.rand(10&lt;span&gt;)
plt.scatter(x,y)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1164036/201711/1164036-20171104212508420-510607736.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;3.柱状图&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
x = np.arange(10&lt;span&gt;)
y &lt;/span&gt;= np.random.randint(0,30,10&lt;span&gt;)
plt.bar(x, y)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1164036/201711/1164036-20171104212731638-1465043138.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;4.饼图&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
x = np.random.rand(3&lt;span&gt;)
plt.pie(x)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1164036/201711/1164036-20171104213140420-1395047548.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;5.直方图&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
mean, sigma = 0, 1&lt;span&gt;
x &lt;/span&gt;= mean + sigma * np.random.randn(10000&lt;span&gt;)
plt.hist(x,&lt;/span&gt;50&lt;span&gt;)
plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt; &lt;img src=&quot;http://images2017.cnblogs.com/blog/1164036/201711/1164036-20171104213227638-1545083312.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;6.子图&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;53&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; figsize绘图对象的宽度和高度，单位为英寸，dpi绘图对象的分辨率，即每英寸多少个像素，缺省值为80&lt;/span&gt;
plt.figure(figsize=(8,6),dpi=100&lt;span&gt;)

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 一个Figure对象可以包含多个子图Axes，subplot将整个绘图区域等分为numRows行*numCols列个子区域，&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; 按照从左到右，从上到下的顺序对每个子区域进行编号&lt;/span&gt;
A = plt.subplot(2,2,1&lt;span&gt;)
plt.plot([0,&lt;/span&gt;1],[0,1], color=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;red&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

plt.subplot(&lt;/span&gt;2,2,2&lt;span&gt;)
plt.title(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;B&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
plt.plot([0,&lt;/span&gt;1],[0,1], color=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;green&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

plt.subplot(&lt;/span&gt;2,1,2&lt;span&gt;)
plt.title(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;C&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
plt.plot(np.arange(&lt;/span&gt;10), np.random.rand(10), color=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;orange&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 选择子图A&lt;/span&gt;
&lt;span&gt;plt.sca(A)
plt.title(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

plt.show()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1164036/201711/1164036-20171104213450513-118781463.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sat, 04 Nov 2017 13:47:00 +0000</pubDate>
<dc:creator>faramita2016</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/faramita2016/p/7784699.html</dc:identifier>
</item>
<item>
<title>移动端二三事【三】：transform的矩阵（matrix）操作及注意事项 - 牙疼哥哥</title>
<link>http://www.cnblogs.com/pomelott/p/7784684.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/pomelott/p/7784684.html</guid>
<description>&lt;p&gt;&lt;strong&gt;*每当在DOM浏览器中增加动态效果时，使用强大的transform和transition，总是很酸爽。抛开css，使用js操作transform还真的有点复杂，涉及到线性代数中的矩阵，但是js操作又不可避免的会用到。俗话说，山水有相逢，早日学会，早日总结，方便以后用到。今天就与大家分享一下，transform的注意事项以及transform矩阵操作的一些技巧。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;*首先说一些小的注意事项，硬菜在后面！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.js操作transition时需使用驼峰命名增加前缀：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
div.style.WebkitTransform = div.style.transform = &quot;rotate(90deg)&quot;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2.多个transition操作的执行顺序：先写的后后执行&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;以下以两个div为例，点击后执行不同的过渡效果：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
    div[0].addEventListener('touchend', &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.style.WebkitTransform = &lt;span&gt;this&lt;/span&gt;.style.transform = &quot;scale(.5) translateX(100px)&quot;&lt;span&gt;;
    });
    div[&lt;/span&gt;1].addEventListener('touchend', &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.style.WebkitTransform = &lt;span&gt;this&lt;/span&gt;.style.transform = &quot;translateX(100px) scale(.5)&quot;&lt;span&gt;;
    });&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;初始 效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104212130998-1033555664.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;点击后的效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104212149201-120807543.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;页面代码如下，可自己拎下来运行：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&quot;en&quot;&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;meta charset=&quot;UTF-8&quot;&amp;gt;
&amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,user-scalable=no&quot; /&amp;gt;
&amp;lt;title&amp;gt;执行顺序&amp;lt;/title&amp;gt;
&amp;lt;style type=&quot;text/css&quot;&amp;gt;&lt;span&gt;
#box {
    width: 100px;
    border: 1px solid #&lt;/span&gt;000&lt;span&gt;;
    padding: 100px;
}
.div {
    width: 100px;
    height: 100px;
    margin: 10px &lt;/span&gt;0&lt;span&gt;;
    background: red;
    transition: 3s;
    &lt;/span&gt;-webkit-transform-origin: 0 0&lt;span&gt;;
    transform&lt;/span&gt;-origin: 0 0&lt;span&gt;;
}
&lt;/span&gt;&amp;lt;/style&amp;gt;
&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&lt;span&gt;
document.addEventListener(&lt;/span&gt;'touchstart', &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
    e.preventDefault();
});
window.onload &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; div = document.querySelectorAll('.div'&lt;span&gt;);
    div[&lt;/span&gt;0].addEventListener('touchend', &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.style.WebkitTransform = &lt;span&gt;this&lt;/span&gt;.style.transform = &quot;scale(.5) translateX(100px)&quot;&lt;span&gt;;
    });
    div[&lt;/span&gt;1].addEventListener('touchend', &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.style.WebkitTransform = &lt;span&gt;this&lt;/span&gt;.style.transform = &quot;translateX(100px) scale(.5)&quot;&lt;span&gt;;
    });
};
&lt;/span&gt;&amp;lt;/script&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;div id=&quot;box&quot;&amp;gt;
    &amp;lt;div class=&quot;div&quot;&amp;gt;&amp;lt;/div&amp;gt;
    &amp;lt;div class=&quot;div&quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;    
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3.移动端在操作结点位置时，尽量使用translate，而操作left或margin等都会引起页面回流（reflow），我们要做的就是尽可能地避免回流，尽可能的减少重绘。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;举个栗子使用translate模拟垂直滚动条：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&quot;en&quot;&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;meta charset=&quot;UTF-8&quot;&amp;gt;
&amp;lt;title&amp;gt;垂直滚动&amp;lt;/title&amp;gt;
&amp;lt;meta name=&quot;viewport&quot; content = &quot;width=device-width,user-scalable=no&quot;&amp;gt;
&amp;lt;style type=&quot;text/css&quot;&amp;gt;&lt;span&gt;
body {
    margin: &lt;/span&gt;0&lt;span&gt;;
}
html,
body {
    overflow: hidden;
    height: &lt;/span&gt;100%&lt;span&gt;;
    position: relative;
}
header{
    height: 40px;
    background: #&lt;/span&gt;000&lt;span&gt;;
    color: #fff;
    text&lt;/span&gt;-&lt;span&gt;align: center;
    font&lt;/span&gt;-&lt;span&gt;size: 20px;
    line&lt;/span&gt;-&lt;span&gt;height: 40px;
}
#wrap {
    position: absolute;
    left: &lt;/span&gt;0&lt;span&gt;;
    right: &lt;/span&gt;0&lt;span&gt;;
    top: 40px;
    bottom: 0px;    
    overflow: hidden;    
}
#list {
    margin: &lt;/span&gt;0&lt;span&gt;;
    padding: &lt;/span&gt;0&lt;span&gt;;
    list&lt;/span&gt;-&lt;span&gt;style: none;
}
#list li {
    height: 30px;
    border&lt;/span&gt;-bottom: 1px solid #000&lt;span&gt;;
    line&lt;/span&gt;-&lt;span&gt;height: 30px;
    text&lt;/span&gt;-&lt;span&gt;indent: 20px;
}
&lt;/span&gt;&amp;lt;/style&amp;gt;
&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&lt;span&gt;
document.addEventListener(&lt;/span&gt;&quot;touchstart&quot;,&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e){
        e.preventDefault();
});
&lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; setListInner(){
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; list = document.querySelector('#list'&lt;span&gt;);
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; inner = &quot;&quot;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;(&lt;span&gt;var&lt;/span&gt; i = 0; i &amp;lt; 100; i++&lt;span&gt;){
        inner &lt;/span&gt;+= &quot;&amp;lt;li&amp;gt;这是第&quot;+i+&quot;个li&amp;lt;/li&amp;gt;&quot;&lt;span&gt;
    }    
    list.innerHTML &lt;/span&gt;=&lt;span&gt; inner;
}
window.onload &lt;/span&gt;= &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
    setListInner();
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; wrap = document.querySelector('#wrap'&lt;span&gt;);
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; list = document.querySelector('#list'&lt;span&gt;);
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; startPoint = 0&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; startEl = 0&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; elTranslateY = 0&lt;span&gt;;
    list.addEventListener(&lt;/span&gt;'touchstart', &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
        startPoint &lt;/span&gt;= e.changedTouches[0&lt;span&gt;].pageY;
        startEl &lt;/span&gt;=&lt;span&gt; elTranslateY;
    });
    list.addEventListener(&lt;/span&gt;'touchmove', &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(e) {
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; nowPoint = e.changedTouches[0&lt;span&gt;].pageY; 
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; dis =  nowPoint -&lt;span&gt; startPoint;
        elTranslateY &lt;/span&gt;= startEl +&lt;span&gt; dis;
        list.style.WebkitTransform &lt;/span&gt;= list.style.transform = &quot;translateY(&quot;+elTranslateY+&quot;px)&quot;&lt;span&gt;;
    });
};
&lt;/span&gt;&amp;lt;/script&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;header&amp;gt;垂直滚动&amp;lt;/header&amp;gt;
&amp;lt;div id=&quot;wrap&quot;&amp;gt;
    &amp;lt;ul id=&quot;list&quot;&amp;gt;&amp;lt;/ul&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt; 4.矩阵操作&lt;/p&gt;
&lt;p&gt;大家都知道当使用js获取transform时获取的是一个矩阵：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
    div[0].style.WebkitTransform = div[0].style.transform = &quot;scale(.5) translateX(100px)&quot;&lt;span&gt;;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;最终样式才能获取到transform的矩阵参数字符串&lt;/span&gt;
    console.log(getComputedStyle(div[0])[&quot;transform&quot;]);                  &lt;span&gt;//&lt;/span&gt;&lt;span&gt;  matrix(0.5, 0, 0, 0.5, 50, 0)&lt;/span&gt;
    console.log( &lt;span&gt;typeof&lt;/span&gt; (getComputedStyle(div[0])[&quot;transform&quot;]));       &lt;span&gt;//&lt;/span&gt;&lt;span&gt;  string&lt;/span&gt;
    console.log(div[0].style.transform);                               &lt;span&gt;//&lt;/span&gt;&lt;span&gt;   scale(0.5) translateX(100px)&lt;/span&gt;
    console.log(&lt;span&gt;typeof&lt;/span&gt; (div[0].style.transform));   &lt;span&gt;                  //&lt;/span&gt;&lt;span&gt;  string&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt; *矩阵参数对应的变量：&lt;br/&gt;   matrix( a, b, c, d, e, f )，基础值为：&lt;/p&gt;
&lt;p&gt;   matrix( 1, 0, 0, 1, 0, 0 )&lt;/p&gt;
&lt;p&gt;基础效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104221930216-733551431.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;1.改变位移：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;位移:&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;x为轴位移量，y为y轴位移量，可使用负数&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;x轴位移 = e + x;&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;y轴位移 = f + y;&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;如下为左移100像素，下移50像素&lt;/span&gt;
div[0].style.transform = &quot;matrix(1, 0, 0, 1, -100, 50)&quot;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;改变位移效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104222032623-517622675.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;2.缩放：&lt;/p&gt;
&lt;p&gt;（1） x轴缩放：操作变量a,c,e&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;x轴:&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;a = a*x;&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;c = c*x;&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;e = e*x;&lt;br/&gt;//x为缩放倍数&lt;br/&gt;&lt;/span&gt;
div[0].style.transform = &quot;matrix(.5, 0, 0, 1, 0, 0)&quot;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;x轴缩放0.5效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104222935466-277076415.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;（2）y轴缩放：操作变量b,d,f&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;y轴:&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;b = b*x;&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;d = d*x;&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;f = f*x;&lt;/span&gt;
div[0].style.transform = &quot;matrix(1, 0, 0, .5, 0, 0)&quot;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;y轴缩放后效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104222844795-1258943257.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;由此就可以解释，在使用css命令时的执行顺序问题：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;54&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;先执行matrix(.5, 0, 0, 1, 0, 0)&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;后执行matrix(.5, 0, 0, 1, 100, 0)&lt;/span&gt;
div[0].style.transform = &quot;scaleX(.5) translateX(100px)&quot;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;先执行matrix(1, 0, 0, 1, 100, 0)&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;后执行matrix(.5, 0, 0, 1, 50, 0)&lt;/span&gt;
div[0].style.transform = &quot;translateX(100px) scaleX(.5)&quot;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.斜切：&lt;/p&gt;
&lt;p&gt;（1）x轴斜切：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;x轴斜切30度：单位(deg)&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;操作参数c，修改参数时需要转化为弧度&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;弧度 = Math.tan(角度/180*Math.PI);&lt;/span&gt;
div[0].style.transform = &quot;matrix(1, 0, &quot;+Math.tan(30/180*Math.PI)+&quot;, 1, 0, 0)&quot;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104225022232-1833403828.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;（2）y轴斜切：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;y轴斜切30度：单位(deg)&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;操作参数b，修改参数时需要转化为弧度&lt;/span&gt;
div[0].style.transform = &quot;matrix(1,&quot;+Math.tan(30/180*Math.PI)+&quot;,0, 1, 0, 0)&quot;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104225250982-672169129.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;4.旋转rotate：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;旋转：&lt;/span&gt;&lt;span&gt;
//&lt;/span&gt;&lt;span&gt;修改a，b，c，d四个参数&lt;/span&gt;
&lt;span&gt;var&lt;/span&gt; a = Math.cos(45/180*Math.PI);
&lt;span&gt;var&lt;/span&gt; b = Math.sin(45/180*Math.PI);
&lt;span&gt;var&lt;/span&gt; c = -Math.sin(45/180*Math.PI);
&lt;span&gt;var&lt;/span&gt; d = Math.cos(45/180*Math.PI);
div[0].style.transform = &quot;matrix(&quot;+ a +&quot;,&quot;+ b +&quot;,&quot;+ c +&quot;,&quot;+ d +&quot;,0,0)&quot;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/849191/201711/849191-20171104230019013-2119082817.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

</description>
<pubDate>Sat, 04 Nov 2017 13:33:00 +0000</pubDate>
<dc:creator>牙疼哥哥</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/pomelott/p/7784684.html</dc:identifier>
</item>
<item>
<title>原生JS实现Ajax及Ajax的跨域请求 - 换个影子</title>
<link>http://www.cnblogs.com/2502778498spw/p/7784390.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/2502778498spw/p/7784390.html</guid>
<description>&lt;blockquote readability=&quot;10&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;  前  言&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;        &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　如今，从事前端方面的程序猿们，如果，不懂一些前后台的数据交互方面的知识的话，估计都不太好意思说自己是程序猿。当然，如今有着许多的框架，都有相对应的前后台数据交互的方法。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;而，其中，用得最多的应该苏算是JQuery的Ajax了。但是，今天，影子向大家介绍的是原生js的Ajax，及跨域请求。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;table border=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;一、 JQuery的Ajax&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;span&gt;首先，先回忆下JQuery的Ajax写法：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;$.ajax({
    url: ,
    type: '',
    dataType: '',
    data: {
          
    },
    success: function(){
         
    },
    error: function(){
          
    }
 })&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;br/&gt;&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;二、原生JS实现Ajax&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;// 第一步： 获得XMLHttpRequest对象
            var ajax = new XMLHttpRequest();
            // 第二步： 设置状态监听函数
            ajax.onreadystatechange = function(){
                console.log(ajax.readyState);
                console.log(ajax.status);
                // 第五步：在监听函数中，判断readyState=4 &amp;amp;&amp;amp; status=200表示请求成功
                if(ajax.readyState==4 &amp;amp;&amp;amp; ajax.status==200){
                    // 第六步： 使用responseText、responseXML接受响应数据，并使用原生JS操作DOM进行显示
                    console.log(ajax.responseText);
                    console.log(ajax.responseXML);// 返回不是XML，显示null
                    console.log(JSON.parse(ajax.responseText));
                    console.log(eval(&quot;(&quot;+ajax.responseText+&quot;)&quot;));
                }
            }
            // 第三步： open一个链接
            ajax.open(&quot;GET&quot;,&quot;h51701.json&quot;,false);//true异步请求，false同步
            
            // 第四步： send一个请求。 可以发送对象和字符串，不需要传递数据发送null
            ajax.send(null);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br/&gt;&lt;span&gt;注释：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1. open(method, url, async) 方法需要三个参数:&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　 method：发送请求所使用的方法（GET或POST）；与POST相比，GET更简单也更快，并且在大部分情况下都能用；然而，在以下情况中，请使用POST请求：&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;span&gt;无法使用缓存文件（更新服务器上的文件或数据库）&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;向服务器发送大量数据（POST 没有数据量限制）&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;span&gt;　url：规定服务器端脚本的 URL(该文件可以是任何类型的文件，比如 .txt 和 .xml，或者服务器脚本文件，比如 .asp 和 .php （在传回响应之前，能够在服务器上执行任务）)；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　async：规定应当对请求进行异步（true）或同步（false）处理；true是在等待服务器响应时执行其他脚本，当响应就绪后对响应进行处理；false是等待服务器响应再执行。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2. send() 方法可将请求送往服务器。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3. onreadystatechange：存有处理服务器响应的函数，每当 readyState 改变时，onreadystatechange 函数就会被执行。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;4. readyState：存有服务器响应的状态信息。&lt;/span&gt;&lt;/p&gt;
&lt;ul class=&quot;listintable&quot;&gt;&lt;li&gt;&lt;span&gt;0: 请求未初始化&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;1: 服务器连接已建立&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;2: 请求已接收&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;3: 请求处理中&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;4: 请求已完成，且响应已就绪&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;span&gt;5. responseText：获得字符串形式的响应数据。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt; &lt;/span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;eval() 和JSON.parse() &lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;另外，给大家介绍两种解析字符串的方法：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;eval() :&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　 &lt;strong&gt; eval函数用于将字符串中的JS代码解析出来并执行！！     &lt;br/&gt;   　  当使用eval函数解析JSON字符串时，需 要在函数内部将JSON字符串用()拼接&lt;br/&gt;   　　   例如：  eval(&quot;(&quot;+json1+&quot;)&quot;)&lt;br/&gt;  　　　　  表示eval函数中的字符串不是用于执行，而是要进行字符串解析&lt;br/&gt;  　　   即：&lt;br/&gt;   　　　　 eval(&quot;(&quot;+json1+&quot;)&quot;) = JSON.parse(json1；&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;JOSN.parse() :&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;　　纯粹的将JSON字符串解析为数组或对象；&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;&lt;tbody readability=&quot;1&quot;&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;四、 Ajax的跨域请求&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt; &lt;br/&gt;首先，我们得知道 为什么会有跨域请求这回事，以及什么情况下会有跨域请求？&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;1 &lt;/span&gt; &lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;同源策略&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;同源策略限制从一个源加载的文档或脚本如何与来自另一个源的资源进行交互。这是一个用于隔离潜在恶意文件的关键的安全机制。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;它的定义是：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　一段脚本向后台请求数据，只能读取属于同一协议名、同一主机名、同一端口号下的数据；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　所以，请求不同协议名、不同端口号、不同主机名下面的文件时，&lt;br/&gt;       将会违背同源策略，无法请求成功，需要进行跨越处理!!&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;&lt;span class=&quot;autonum&quot; title=&quot;&quot; data-original-title=&quot;&quot;&gt;2&lt;/span&gt;&lt;span&gt;&lt;strong class=&quot;135brush&quot; data-brushtype=&quot;text&quot;&gt;解决跨域请求的方法&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;br/&gt; &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;方法一：&lt;strong&gt;&lt;span&gt;后台PHP进行设置&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;span&gt;前台无需任何设置，在后台被请求的&lt;/span&gt;PHP&lt;span&gt;文件中，写入一条&lt;/span&gt;&lt;span&gt;header&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;   header(&quot;Access-Control-Allow-Origin:*&quot;);&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;   --- &lt;span&gt;表示允许哪些域名请求这个&lt;/span&gt;&lt;span&gt;PHP&lt;/span&gt;&lt;span&gt;文件，&lt;/span&gt;&lt;span&gt;*&lt;/span&gt;&lt;span&gt;表示所有域名都允许&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;JS代码：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;　　　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104202603029-1699177757.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;注释：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;　　其中，url为PHP文件的路径;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;PHP代码：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;　　　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104205632779-1059622645.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;结果：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104203310529-263998610.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;方法二 ：&lt;strong&gt;&lt;span&gt;使用SRC属性 + jsonp实现跨域&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;span&gt;&lt;strong&gt;实现步骤：　　　&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;　　　　1、原有src属性的标签子带跨域功能；所以可以使用script标签的src属性请求后台数据&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt; 　　　　　　 &amp;lt;script src=&quot;http://127.0.0.1/json.php&quot;&amp;gt;&amp;lt; /script&amp;gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;  　　　 2、用于src在加载数据成功后，会直接将加载的内容放到script标签中；&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;　　　　　　   所以，后台直接返回JSON字符串将不能在script标签中解析。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;  　　　　　　 因此，后台应该返回给前台一个回调函数名，并将JSON字符串作为参数传入。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;  　　　　　　　　后台PHP文件中返回： echo &quot;callback({$json})&quot;;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;  　　   3、前台接收到返回的回调函数，将直接在script标签中调用。因此，需要声明这样一个回调函数，作为请求成功的回调&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:html;gutter:true;&quot;&gt;
&lt;span&gt;  function callback(data){

  alert(&quot;请求成功!!&quot;);

  console.log(data);

  }
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;JS代码：&lt;/p&gt;
&lt;p&gt;　　　　　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104204359670-1159434907.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;



&lt;p&gt;PHP文件：&lt;/p&gt;
&lt;p&gt;　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104204620545-357175626.png&quot; alt=&quot;&quot;/&gt;　　　　　　&lt;/p&gt;
&lt;p&gt;结果：&lt;/p&gt;
&lt;p&gt;　　　　　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104203747138-8801060.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;&lt;strong&gt;&lt;strong&gt;&lt;span&gt;方法三 ：JQuery的Ajax实现jsonp&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;　　1、在ajax请求时，设置dataType为&quot;jsonp&quot;；&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;       2、后台返回时，依然需要返回回调函数名，但是，ajax在发送请求时，会默认使用get请求将回调函数名发给后台，&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;  　　　　 后台$_GET['callback'] 取出函数名：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;   　　　　　　---   echo &quot;{$_GET['callback']}({$str})&quot;;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;       3、后台返回以后，前台就可以使用ajax的success函数作为成功的回调&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt; 　　　　　　  ---    success : function(data){}&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt; js代码：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104203628591-1068515119.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;PHP文件：　　&lt;/strong&gt;&lt;/span&gt;　　　　　　　&lt;/p&gt;

&lt;p&gt;　　　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104203724795-578907116.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;结果：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104205045310-1140197937.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;当然，后台也可以随便返回一个函数名，前台只要请求成功，就会自动调用这个函数。类似第二条的&lt;/span&gt;②、③步，而不需要本方法的第③步&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; PHP&lt;span&gt;返回：&lt;/span&gt; &lt;span&gt;echo &quot;callback({$str})&quot;;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;  JS&lt;span&gt;代码：  &lt;/span&gt;&lt;span&gt;function callback(data){&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　　　　　　　console.log(data);&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　　　　　}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;js代码：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104205327701-867851017.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;PHP文件：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;　　　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104205407420-1920299817.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;结果：&lt;/p&gt;
&lt;p&gt;　　　　　　　　&lt;img src=&quot;http://images2017.cnblogs.com/blog/1206202/201711/1206202-20171104205441685-177870530.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;虽然，影子是一名web前端工程师，但是，影子中的觉得关于数据交互这一块，对我们这一群人来说，要用的地方还是，比较多的；况且，就算是用不到，多一技傍身也是，不错的；&lt;/p&gt;
&lt;p&gt;好了，今天，影子的分享，就到这里结束了，感谢大家的支持!!!!&lt;/p&gt;
</description>
<pubDate>Sat, 04 Nov 2017 13:01:00 +0000</pubDate>
<dc:creator>换个影子</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/2502778498spw/p/7784390.html</dc:identifier>
</item>
<item>
<title>《Spark Python API 官方文档中文版》 之 pyspark.sql  (一) - 牛仔裤的夏天</title>
<link>http://www.cnblogs.com/wonglu/p/7784556.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wonglu/p/7784556.html</guid>
<description>&lt;p&gt;&lt;strong&gt;摘要：&lt;/strong&gt;在Spark开发中，由于需要用Python实现，发现API与Scala的略有不同，而Python API的中文资料相对很少。每次去查英文版API的说明相对比较慢，还是中文版比较容易get到所需，所以利用闲暇之余将官方文档翻译为中文版，并亲测Demo的代码。在此记录一下，希望对那些对Spark感兴趣和从事大数据开发的人员提供有价值的中文资料，对PySpark开发人员的工作和学习有所帮助。&lt;/p&gt;
&lt;p&gt;官网地址：http://spark.apache.org/docs/1.6.2/api/python/pyspark.sql.html            &lt;/p&gt;

&lt;h2&gt;&lt;span&gt;Module Context&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Spark SQL和DataFrames重要的类有：&lt;br/&gt;pyspark.sql.SQLContext DataFrame和SQL方法的主入口&lt;br/&gt;pyspark.sql.DataFrame 将分布式数据集分组到指定列名的数据框中&lt;br/&gt;pyspark.sql.Column DataFrame中的列&lt;br/&gt;pyspark.sql.Row DataFrame数据的行&lt;br/&gt;pyspark.sql.HiveContext 访问Hive数据的主入口&lt;br/&gt;pyspark.sql.GroupedData 由DataFrame.groupBy()创建的聚合方法集&lt;br/&gt;pyspark.sql.DataFrameNaFunctions 处理丢失数据(空数据)的方法&lt;br/&gt;pyspark.sql.DataFrameStatFunctions 统计功能的方法&lt;br/&gt;pyspark.sql.functions DataFrame可用的内置函数&lt;br/&gt;pyspark.sql.types 可用的数据类型列表&lt;br/&gt;pyspark.sql.Window 用于处理窗口函数&lt;/p&gt;
&lt;h3&gt;1.class pyspark.sql.SQLContext(sparkContext, sqlContext=None)&lt;/h3&gt;
&lt;p&gt;SQLContext可以用来创建DataFrame、注册DataFrame为表、在表上执行SQL、缓存表、读取parquet文件。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;参数&lt;/strong&gt;：●  &lt;strong&gt;sparkContext&lt;/strong&gt; - 支持sqlcontext的sparkcontext&lt;br/&gt;&lt;strong&gt;           &lt;/strong&gt;●  &lt;strong&gt;sqlContext&lt;/strong&gt; - 一个可选的JVM Scala sqlcontext，若设置，我们不需要在JVM实例化一个新的sqlcontext，而是都调用这个对象。&lt;/p&gt;
&lt;h4&gt;1.1 applySchema(rdd, schema)&lt;/h4&gt;
&lt;p&gt;注：在1.3中已过时,使用createDataFrame()代替。&lt;/p&gt;
&lt;h4&gt;1.2 cacheTable(tableName)&lt;/h4&gt;
&lt;p&gt;缓存表到内存中&lt;/p&gt;
&lt;h4&gt;1.3 clearCache()&lt;/h4&gt;
&lt;p&gt;从内存缓存删除所有缓存表。&lt;/p&gt;
&lt;h4&gt;1.4 createDataFrame(data, schema=None, samplingRatio=None)&lt;/h4&gt;
&lt;p&gt;从元组/列表RDD或列表或pandas.DataFrame创建DataFrame&lt;br/&gt;当模式是列名的列表时，每个列的类型会从数据中推断出来。&lt;br/&gt;当模式没有时，将尝试从数据中推断模式（列名和类型）,数据应该是行或命名元组或字典的RDD。&lt;br/&gt;如果模式推理是必要的，samplingRatio用来确定用于模式推理的行比率。如果没有samplingratio，将使用第一行。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;参数&lt;/strong&gt;：●  &lt;strong&gt;data&lt;/strong&gt; - 行或元组或列表或字典的RDD、list、pandas.DataFrame.&lt;br/&gt;　　    ● &lt;strong&gt;schema&lt;/strong&gt; – 一个结构化类型或者列名列表，默认是空。&lt;/p&gt;
&lt;p&gt;samplingRatio – 用于推断的行的样本比率。&lt;br/&gt;&lt;strong&gt;返回&lt;/strong&gt;： DataFrame&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; l=[(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,1&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; sqlContext.createDataFrame(l).collect()
[Row(_1&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, _2=1&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;]).collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=1)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; d=[{&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;:&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;:1&lt;span&gt;}]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; sqlContext.createDataFrame(d).collect()
[Row(age&lt;/span&gt;=1, name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; rdd=&lt;span&gt;sc.parallelize(l)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; sqlContext.createDataFrame(rdd).collect()
[Row(_1&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, _2=1&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df=sqlContext.createDataFrame(rdd,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df.collect()
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=1)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; sqlContext.createDataFrame(df.toPandas()).collect()  
[Row(name&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Alice&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, age=1&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.createDataFrame(pandas.DataFrame([[1, 2&lt;span&gt;]])).collect()  
[Row(0&lt;/span&gt;=1, 1=2)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.5 createExternalTable(tableName, path=None, source=None, schema=None, **options)&lt;/h4&gt;
&lt;p&gt;创建基于数据源中的数据的外部表.&lt;br/&gt;返回与外部表关联的DataFrame&lt;br/&gt;数据源由源和一组选项指定。如果未指定源，那么将使用由spark.sql.sources.default 配置的默认的数据源配置。&lt;br/&gt;通常，一个模式可以被提供作为返回的DataFrame的模式，然后创建外部表。&lt;br/&gt;&lt;strong&gt;返回：&lt;/strong&gt; DataFrame&lt;/p&gt;
&lt;h4&gt;1.6 dropTempTable(tableName)&lt;/h4&gt;
&lt;p&gt;从目录中删除临时表&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; sqlContext.registerDataFrameAsTable(df, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.dropTempTable(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.7 getConf(key, defaultValue)&lt;/h4&gt;
&lt;p&gt;返回指定键的Spark SQL配置属性值。&lt;br/&gt;如果键没有指定返回默认值。&lt;/p&gt;
&lt;h4&gt;1.8 inferSchema(rdd, samplingRatio=None)&lt;/h4&gt;
&lt;p&gt;注：在1.3中已过时,使用createDataFrame()代替。&lt;/p&gt;
&lt;h4&gt;1.9 jsonFile(path, schema=None, samplingRatio=1.0)&lt;/h4&gt;
&lt;p&gt;从一个文本文件中加载数据，这个文件的每一行均为JSON字符串。&lt;br/&gt;注：在1.4中已过时,使用DataFrameReader.json()代替。&lt;/p&gt;
&lt;h4&gt;1.10 jsonRDD(rdd, schema=None, samplingRatio=1.0)&lt;/h4&gt;
&lt;p&gt;从一个已经存在的RDD中加载数据，这个RDD中的每一个元素均为一个JSON字符串。&lt;br/&gt;如果提供了模式，将给定的模式应用到这个JSON数据集。否则，它根据数据集的采样比例来确定模式。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;45&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; json=sc.parallelize([&lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;span&gt;{&quot;name&quot;:&quot;jack&quot;,&quot;addr&quot;:{&quot;city&quot;:&quot;beijing&quot;,&quot;mail&quot;:&quot;10001&quot;}}&lt;/span&gt;&lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;span&gt;{&quot;name&quot;:&quot;john&quot;,&quot;addr&quot;:{&quot;city&quot;:&quot;shanghai&quot;,&quot;mail&quot;:&quot;10002&quot;}}&lt;/span&gt;&lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df1 =&lt;span&gt; sqlContext.jsonRDD(json)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df1.collect()
[Row(addr&lt;/span&gt;=Row(city=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;beijing&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, mail=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;10001&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;jack&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), Row(addr=Row(city=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;shanghai&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, mail=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;10002&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;john&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; df2 =&lt;span&gt; sqlContext.jsonRDD(json,df1.schema)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df2.collect()
[Row(addr&lt;/span&gt;=Row(city=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;beijing&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, mail=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;10001&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;jack&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), Row(addr=Row(city=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;shanghai&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, mail=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;10002&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), name=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;john&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.11 load(path=None, source=None, schema=None, **options)&lt;/h4&gt;
&lt;p&gt;返回数据源中的数据集为DataFrame.&lt;br/&gt;注：在1.4中已过时,使用DataFrameReader.load()代替。&lt;/p&gt;
&lt;h4&gt;1.12 newSession()&lt;/h4&gt;
&lt;p&gt;返回一个新的SQLContext做为一个新的会话,这个会话有单独的SQLConf,注册临时表和UDFs，但共享sparkcontext和缓存表。&lt;/p&gt;
&lt;h4&gt;1.13 parquetFile(*paths)&lt;/h4&gt;
&lt;p&gt;加载Parquet文件，返回结果为DataFrame&lt;br/&gt;注：在1.4中已过时,使用DataFrameReader.parquet()代替。&lt;/p&gt;
&lt;h4&gt;1.14 range(start, end=None, step=1, numPartitions=None)&lt;/h4&gt;
&lt;p&gt;创建只有一个名为id的长类型的列的DataFrame,包含从开始到结束的按照一定步长的独立元素。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;参数&lt;/strong&gt;：●  &lt;strong&gt;start &lt;/strong&gt;- 开始值&lt;br/&gt;　　    ●  &lt;strong&gt;end&lt;/strong&gt; -  结束值&lt;br/&gt;           ●  &lt;strong&gt;step&lt;/strong&gt; - 增量值(默认：1)            &lt;br/&gt;　　　●  &lt;strong&gt;numPartitions&lt;/strong&gt; – DataFrame分区数&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;返回&lt;/strong&gt;: DataFrame&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.range(1, 7, 2&lt;span&gt;).collect()
[Row(id&lt;/span&gt;=1), Row(id=3), Row(id=5)]
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果仅有一个参数，那么这个参数被作为结束值。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.range(3&lt;span&gt;).collect()
[Row(id&lt;/span&gt;=0), Row(id=1), Row(id=2)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.15 read&lt;/h4&gt;
&lt;p&gt;返回一个DataFrameReader，可用于读取数据为DataFrame。&lt;/p&gt;
&lt;h4&gt;1.16 registerDataFrameAsTable(df, tableName)&lt;/h4&gt;
&lt;p&gt;注册给定的DataFrame作为目录中的临时表。&lt;br/&gt;临时表只在当前SQLContext实例有效期间存在。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.registerDataFrameAsTable(df, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.17 registerFunction(name, f, returnType=StringType)&lt;/h4&gt;
&lt;p&gt;注册python方法(包括lambda方法)，作为UDF,这样可以在 SQL statements中使用。&lt;br/&gt;除了名称和函数本身之外，还可以选择性地指定返回类型。当返回类型没有指定时，默认自动转换为字符串。对于任何其他返回类型，所生成的对象必须与指定的类型匹配。&lt;br/&gt;&lt;strong&gt;参数&lt;/strong&gt;：●  &lt;strong&gt;name &lt;/strong&gt;- UDF名称&lt;br/&gt;　　    ● &lt;strong&gt; f&lt;/strong&gt; – python方法&lt;br/&gt;　　    ●  &lt;strong&gt;返回类型&lt;/strong&gt; 数据类型对象&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.registerFunction(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;stringLengthString&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;lambda&lt;/span&gt;&lt;span&gt; x: len(x))
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.sql(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;SELECT stringLengthString('test')&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).collect()
[Row(_c0&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;from&lt;/span&gt; pyspark.sql.types &lt;span&gt;import&lt;/span&gt;&lt;span&gt; IntegerType
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.registerFunction(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;stringLengthInt&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;lambda&lt;/span&gt;&lt;span&gt; x: len(x), IntegerType())
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.sql(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;SELECT stringLengthInt('test')&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).collect()
[Row(_c0&lt;/span&gt;=4)]
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;from&lt;/span&gt; pyspark.sql.types &lt;span&gt;import&lt;/span&gt;&lt;span&gt; IntegerType
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.udf.register(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;stringLengthInt&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;lambda&lt;/span&gt;&lt;span&gt; x: len(x), IntegerType())
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.sql(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;SELECT stringLengthInt('test')&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).collect()
[Row(_c0&lt;/span&gt;=4)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.18 setConf(key, value)&lt;/h4&gt;
&lt;p&gt;设置给定的Spark SQL配置属性&lt;/p&gt;
&lt;h4&gt;1.19 sql(sqlQuery)&lt;/h4&gt;
&lt;p&gt;返回DataFrame代表给定查询的结果&lt;br/&gt;&lt;strong&gt;参数：● sqlQuery&lt;/strong&gt; - sql语句  &lt;br/&gt;&lt;strong&gt;返回&lt;/strong&gt;: DataFrame&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;49&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[(1,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;),(2,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;),(3,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row3&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;field1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;field2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.registerDataFrameAsTable(df, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df2 = sqlContext.sql(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;SELECT field1 AS f1, field2 as f2 from table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; df2.collect()
[Row(f1&lt;/span&gt;=1, f2=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), Row(f1=2, f2=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), Row(f1=3, f2=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row3&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)]
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.20 table(tableName)&lt;/h4&gt;
&lt;p&gt;返回指定的表为DataFrame&lt;br/&gt;&lt;strong&gt;返回&lt;/strong&gt;: DataFrame&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; l=[(1,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;),(2,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;),(3,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row3&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;field1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;field2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; sqlContext.registerDataFrameAsTable(df, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; df2 = sqlContext.table(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; sorted(df.collect()) ==&lt;span&gt; sorted(df2.collect())
True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.21 tableNames(dbName=None)  &lt;/h4&gt;
&lt;p&gt;返回数据库的表名称列表&lt;br/&gt;&lt;strong&gt;参数&lt;/strong&gt;：&lt;strong&gt;dbName&lt;/strong&gt; – 字符串类型的数据库名称.默认为当前的数据库。&lt;br/&gt;&lt;strong&gt;返回&lt;/strong&gt;: 字符串类型的表名称列表&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; l=[(1,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;),(2,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;),(3,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row3&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;field1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;field2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.registerDataFrameAsTable(df, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;in&lt;/span&gt;&lt;span&gt; sqlContext.tableNames()
True
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;in&lt;/span&gt; sqlContext.tableNames(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;db&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.22 tables(dbName=None)&lt;/h4&gt;
&lt;p&gt;返回一个包含表名称的DataFrame从给定的数据库。&lt;br/&gt;如果数据库名没有指定，将使用当前的数据库。&lt;br/&gt;返回的DataFrame包含两列: 表名称和是否临时表 (一个Bool类型的列，标识表是否为临时表)。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;参数&lt;/strong&gt;：● dbName – 字符串类型的使用的数据库名&lt;br/&gt;&lt;strong&gt;返回&lt;/strong&gt;: DataFrame&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;strong&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/strong&gt;&lt;/span&gt; l=[(1,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;),(2,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;),(3,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;row3&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)]
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df = sqlContext.createDataFrame(l,[&lt;span&gt;'&lt;/span&gt;&lt;span&gt;field1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;field2&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;])
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; sqlContext.registerDataFrameAsTable(df, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df2 =&lt;span&gt; sqlContext.tables()
&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;/strong&gt; df2.filter(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;tableName = 'table1'&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).first()
Row(tableName&lt;/span&gt;=u&lt;span&gt;'&lt;/span&gt;&lt;span&gt;table1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, isTemporary=True)
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.23 udf&lt;/h4&gt;
&lt;p&gt;返回一个注册的UDF为UDFRegistration。&lt;br/&gt;返回: UDFRegistration&lt;/p&gt;
&lt;h4&gt;1.24 uncacheTable(tableName)&lt;/h4&gt;
&lt;p&gt;从内存的缓存表中移除指定的表。&lt;/p&gt;
&lt;h3&gt;2.class pyspark.sql.HiveContext(sparkContext, hiveContext=None)&lt;/h3&gt;
&lt;p&gt;Hive此处暂略&lt;/p&gt;
</description>
<pubDate>Sat, 04 Nov 2017 12:59:00 +0000</pubDate>
<dc:creator>牛仔裤的夏天</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/wonglu/p/7784556.html</dc:identifier>
</item>
</channel>
</rss>