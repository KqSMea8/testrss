<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>博客园_首页</title>
<link></link>
<description>代码改变世界</description>
<item>
<title>通过Struts了解MVC框架，兼说如何在面试中利用Struts证明自己 - hsm_computer</title>
<link>http://www.cnblogs.com/JavaArchitect/p/7759769.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/JavaArchitect/p/7759769.html</guid>
<description>&lt;p&gt;    虽然目前Struts MVC框架不怎么用了，但它确是个能帮助大家很好地入门Web MVC框架，而且，一些历史项目可能还用Struts，反正技多不压身，大家如果能在面试中通过项目证明自己Struts这块也很熟，这也是个非常好的加分项。&lt;/p&gt;
&lt;p&gt;    这里我们就从搭建Struts基本框架入手，再深入讲解些面试中常会靠到的Struts知识点，本文的文字和案例根据&lt;a href=&quot;https://baike.baidu.com/item/Java%20Web%E8%BD%BB%E9%87%8F%E7%BA%A7%E5%BC%80%E5%8F%91%E9%9D%A2%E8%AF%95%E6%95%99%E7%A8%8B/22038502&quot;&gt;java web轻量级开发面试教程&lt;/a&gt;改编。&lt;/p&gt;
&lt;p&gt;///////////////////////////////////////////////////////////////////////////////////////&lt;/p&gt;

&lt;h2&gt;1.1 开发前端的JSP代码&lt;/h2&gt;
&lt;p&gt;    创建一个Java Web项目，名为strutsDemo，在其中的WebRoot目录下，创建前端的JSP代码calSum.jsp。    &lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; 1    &amp;lt;%@ page language=&quot;java&quot; pageEncoding=&quot;GBK&quot; %&amp;gt;
&lt;span&gt; 2&lt;/span&gt; 2    &amp;lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&amp;gt;
&lt;span&gt; 3&lt;/span&gt; 3    &amp;lt;html&amp;gt;
&lt;span&gt; 4&lt;/span&gt; 4    &amp;lt;head&amp;gt;
&lt;span&gt; 5&lt;/span&gt; 5    &amp;lt;title&amp;gt;输入操作数&amp;lt;/title&amp;gt;
&lt;span&gt; 6&lt;/span&gt; 6    &amp;lt;/head&amp;gt;
&lt;span&gt; 7&lt;/span&gt; 7    &amp;lt;body&amp;gt;
&lt;span&gt; 8&lt;/span&gt; 8    求和&amp;lt;br/&amp;gt;
&lt;span&gt; 9&lt;/span&gt; 9    &amp;lt;s:form action=&quot;mystruts/calSum&quot; &amp;gt;
&lt;span&gt;10&lt;/span&gt; 10    &amp;lt;s:textfield name=&quot;num1&quot; label=&quot;数1&quot;/&amp;gt;
&lt;span&gt;11&lt;/span&gt; 11    &amp;lt;s:textfield name=&quot;num2&quot;  label=&quot;数2&quot; /&amp;gt;
&lt;span&gt;12&lt;/span&gt; 12    &amp;lt;s:submit value=&quot;求和&quot; /&amp;gt;
&lt;span&gt;13&lt;/span&gt; 13    &amp;lt;/s:form&amp;gt;
&lt;span&gt;14&lt;/span&gt; 14    &amp;lt;/body&amp;gt;
&lt;span&gt;15&lt;/span&gt; 15    &amp;lt;/html&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;    这个页面的效果下图所示。&lt;/p&gt;
&lt;p class=&quot;a0&quot;&gt; &lt;img src=&quot;http://images2017.cnblogs.com/blog/1226172/201710/1226172-20171031070407746-129951468.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;    在第2行里引入了Struts的标签，前缀是s，所以可以用s:form和s:textfield来定义form和文本框。&lt;/p&gt;
&lt;p&gt;    在第9行到第13行的form里，定义了两个输入框和一个提交按钮。当用户输入两个数字后，单击“求和”按钮后，本页面将根据定义在第9行的定义，跳转到mystruts/calSum.action。&lt;/p&gt;
&lt;h2&gt;1.2 在web.xml里声明使用Struts&lt;/h2&gt;
&lt;p&gt;    如果要使用基于Struts的MVC，则必须要在web.xml里声明，否则系统服务器是不会知道在项目里用到了基于Struts的MVC处理器。web.xml的代码如下。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
1    &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
2    &amp;lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;&lt;span&gt;
    xmlns:xsi&lt;/span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&lt;span&gt;
    version&lt;/span&gt;=&quot;2.5&quot;&amp;gt;
3    &amp;lt;filter&amp;gt;
4    &amp;lt;filter-name&amp;gt;struts2&amp;lt;/filter-name&amp;gt;
5    &amp;lt;filter-&lt;span&gt;class&lt;/span&gt;&amp;gt;
6&lt;span&gt;            org.apache.struts2.dispatcher.FilterDispatcher            
&lt;/span&gt;7    &amp;lt;/filter-&lt;span&gt;class&lt;/span&gt;&amp;gt;
8    &amp;lt;/filter&amp;gt;
9    &amp;lt;filter-mapping&amp;gt;
10    &amp;lt;filter-name&amp;gt;struts2&amp;lt;/filter-name&amp;gt;
11    &amp;lt;url-pattern&amp;gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;&amp;lt;/url-pattern&amp;gt;
12    &amp;lt;/filter-mapping&amp;gt;
13    &amp;lt;/web-app&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;    从第2行到第13行之间的web-app元素里，我们声明了两件事：&lt;/p&gt;
&lt;p&gt;    （1）通过第11行的url-pattern，说明/*，也就是任何请求，都将由名为struts2的过滤器来处理。&lt;/p&gt;
&lt;p&gt;    （2）在第3行到第8行之间，指定了struts2这个过滤器它的后台处理类。&lt;/p&gt;
&lt;p&gt;综合上述两点可知，本项目的任何请求，都将由Struts的后台处理类来处理。     &lt;/p&gt;
&lt;h2&gt;1.3 配置struts.xml文件 &lt;/h2&gt;
&lt;p&gt;    在calSum.jsp里指定了form跳转的目的地。&lt;/p&gt;
&lt;p class=&quot;a&quot;&gt;    &amp;lt;s:form action=&quot;mystruts/calSum&quot; &amp;gt;&lt;/p&gt;
&lt;p&gt;    那么这个目的地究竟是哪里？一起来看一下struts.xml这个配置文件。    &lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
1    &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;
2    &amp;lt;!&lt;span&gt;DOCTYPE struts PUBLIC
      &lt;/span&gt;&quot;-//Apache Software Foundation//DTD Struts Configuration2.0//EN&quot;
      &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&amp;gt;
3    &amp;lt;struts&amp;gt;
4    &amp;lt;&lt;span&gt;package&lt;/span&gt; name=&quot;struts2&quot; namespace=&quot;/mystruts&quot;
5       &lt;span&gt;extends&lt;/span&gt;=&quot;struts-default&quot;&amp;gt;
6    &amp;lt;action name=&quot;calSum&quot; &lt;span&gt;class&lt;/span&gt;=&quot;action.myAction&quot;&amp;gt;
7    &amp;lt;result name=&quot;Positive&quot;&amp;gt;/positive.jsp&amp;lt;/result&amp;gt;
8    &amp;lt;result name=&quot;Negative&quot;&amp;gt;/negative.jsp&amp;lt;/result&amp;gt;
9    &amp;lt;/action&amp;gt;
10    &amp;lt;/&lt;span&gt;package&lt;/span&gt;&amp;gt;
11    &amp;lt;/struts&amp;gt;   
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;    在第4和第5行里，能看到名为calSum的action处于/mystruts这个命名空间里，它所对应的是action.myAction这个处理类。也就是说，calSum.jsp的请求最终是由action.myAction接收和处理。&lt;/p&gt;
&lt;h2&gt;1.4 开发Action类&lt;/h2&gt;
&lt;p&gt;     随后开发myAction.java，它是放在action这个package下的。    &lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
1  package action;
2       import com.opensymphony.xwork2.ActionSupport;
3       public class myAction extends ActionSupport
4       {
5           private int num1;
6           private int num2;
7       
8           public String execute() throws Exception
9           {
10              // 如果和大于等于0，则跳到positive.jsp页面
11              if (getSum() &amp;gt;= 0)  
12              {
13                  return &quot;Positive&quot;;
14              }
15              //否则跳到negative.jsp页面
16              else  
17              {
18                  return &quot;Negative&quot;;
19              }
20          }   
21          public int getNum1() {
22                      return num1;
23              }
24              public void setNum1(int num1) {
25                      this.num1 = num1;
26              }
27              public int getNum2() {
28                      return num2;
29              }
30              public void setNum2(int num2) {
31                      this.num2 = num2;
32              }
33              public int getSum()
34          {
35              return num1 + num2;  // 计算两个整数的代码数和
36          }
37      }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;    作为一个Struts的Action，本类继承了ActionSupport类。当一个请求最终到达本Action时，如果没有额外的配置，就会如同本类一样，由execute方法来处理请求。&lt;/p&gt;
&lt;p&gt;    在第8行的execute方法里可能看到，如果两个数的和大于0，则返回Positive字符串，反之则返回Negative。这两个返回是和struts.xml里的配置相对应的。&lt;/p&gt;
&lt;p&gt;    在struts.xml的第6行和第7行里，看到有如下的配置。&lt;/p&gt;
&lt;p class=&quot;a&quot;&gt;    &amp;lt;result name=&quot;Positive&quot;&amp;gt;/positive.jsp&amp;lt;/result&amp;gt;&lt;/p&gt;
&lt;p class=&quot;a&quot;&gt;    &amp;lt;result name=&quot;Negative&quot;&amp;gt;/negative.jsp&amp;lt;/result&amp;gt;&lt;/p&gt;
&lt;p&gt;    这说明根据不同的字符串，Struts处理容器将会跳转到两个不同的jsp里。在这个Action代码里，并没有给num1和num2赋值，这是因为它们和calSum.jsp里form中的两个输入框同名，所以会自动拿到我们输入的值。&lt;/p&gt;
&lt;h2&gt;1.5 开发两个跳转结果页面&lt;/h2&gt;
&lt;p&gt;    上文提到过，Action的execute方法里返回的不同字符串后，Struts MVC处理器会读取struts.xml里的配置，并相应地，跳转到不同的页面。下面就来编写这两个页面的代码。先来看一下positive.jsp。   &lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;34&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
1  &amp;lt;%@ page language=&quot;java&quot; pageEncoding=&quot;GBK&quot;%&amp;gt;
2       &amp;lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&amp;gt;
3       &amp;lt;html&amp;gt;
4       &amp;lt;head&amp;gt;
5       &amp;lt;title&amp;gt;显示和&amp;lt;/title&amp;gt;
6       &amp;lt;/head&amp;gt;
7       &amp;lt;body&amp;gt;
8       结果大于或等于0，&amp;lt;h1&amp;gt;&amp;lt;s:property value=&quot;sum&quot; /&amp;gt;&amp;lt;/h1&amp;gt;
9       &amp;lt;/body&amp;gt;
10      &amp;lt;/html&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;     这里的关键代码是在第8行，通过一个Struts的标签，来获取在Action里名为”sum”的属性对象。在myAction.java里，定义了一个getSum的方法，所以就会自动生成一个sum的属性。结果是两个操作数之和。&lt;/p&gt;
&lt;p&gt;    Negative.jsp代码和positive.jsp很相似。唯一的差别在第8行，这里的叙述文字是“结果小于0”。   &lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;34&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
1  &amp;lt;%@ page language=&quot;java&quot; pageEncoding=&quot;GBK&quot;%&amp;gt;
2       &amp;lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&amp;gt;
3       &amp;lt;html&amp;gt;
4       &amp;lt;head&amp;gt;
5       &amp;lt;title&amp;gt;显示和&amp;lt;/title&amp;gt;
6       &amp;lt;/head&amp;gt;
7       &amp;lt;body&amp;gt;
8       结果小于0，&amp;lt;h1&amp;gt;&amp;lt;s:property value=&quot;sum&quot; /&amp;gt;&amp;lt;/h1&amp;gt;
9       &amp;lt;/body&amp;gt;
10      &amp;lt;/html&amp;gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;   现在来总结一下整个程序的运行和跳转流程。&lt;/p&gt;
&lt;p&gt;    第一，打开Tomcat服务器，并在浏览器里输入&lt;a href=&quot;http://localhost:8080/strutsDemo/calSum.jsp%E5%90%8E%EF%BC%8C%E8%83%BD%E7%9C%8B%E5%88%B0%E5%A6%82%E5%9B%BE4.3&quot;&gt;http://localhost:8080/strutsDemo/calSum.jsp&lt;/a&gt;,能看到如下图所示的页面&lt;/p&gt;
&lt;p&gt;    &lt;img src=&quot;http://images2017.cnblogs.com/blog/1226172/201710/1226172-20171031072717746-6872488.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;    当输入两个数字，并单击“求和”按钮后，根据如下form里的定义，会跳转到mystruts/calSum里。&lt;/p&gt;
&lt;p class=&quot;2&quot;&gt;    &amp;lt;s:form action=&quot;mystruts/calSum&quot; &amp;gt;    &lt;/p&gt;
&lt;p&gt;    第二，根据web.xml的定义，可知这个跳转请求将由struts来处理。再根据struts.xml的定义，得知这个请求最终将由myAction.java来处理。&lt;/p&gt;
&lt;p class=&quot;2&quot;&gt;    &amp;lt;action name=&quot;calSum&quot; class=&quot;action.myAction&quot;&amp;gt;&lt;/p&gt;
&lt;p class=&quot;2&quot;&gt;        &amp;lt;result name=&quot;Positive&quot;&amp;gt;/positive.jsp&amp;lt;/result&amp;gt;&lt;/p&gt;
&lt;p class=&quot;2&quot;&gt;       &amp;lt;result name=&quot;Negative&quot;&amp;gt;/negative.jsp&amp;lt;/result&amp;gt;&lt;/p&gt;
&lt;p class=&quot;2&quot;&gt;    &amp;lt;/action&amp;gt;&lt;/p&gt;
&lt;p class=&quot;2&quot;&gt;    第三，在myAction.java的execute方法里，根据最终sum的值，分别返回两个不同的字符串，从上文struts.xml片段的第3行和第4行得知，根据两个不同的返回值，会跳转到两个不同的页面里。&lt;/p&gt;

&lt;p&gt;    在一个项目里，我们应更关注“业务该怎么处理”这个问题，而不应把大多数精力放在调试JSP到Servlet之类的跳转上。&lt;/p&gt;
&lt;p&gt;    Struts给我们提供了一套跳转机制，我们可以简单地通过编写struts.xml和web.xml，就能比较省心地实现从前端JSP跳转到具体业务处理类的功能。而且，也只需在Action类里编写返回字符串，同时在struts.xml里编写返回字符串和跳转页面的对应关系，就能根据业务执行结果方便地跳转回前端页面。&lt;/p&gt;
&lt;p&gt;    Struts框架是基于MVC的，它的View部分主要由JSP页面实现。Controler部分主要由Action类来承担，而Model部分主要由ActionForm组成。需要说明的是，在Struts2.0以上的版本里，开发者不需要额外定义ActionForm，由用户在前端Form里传入的数据将被自动封装成ActionFrom对象，并被最终转发给Action。&lt;/p&gt;
&lt;p&gt;    通过下表对比一下Struts和前文提到的JSP+Servlet+JavaBean框架，综合各项对比的指标，Struts略优于JSP+Servlet+JavaBean框架。&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;
&lt;table border=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;tbody readability=&quot;15&quot;&gt;&lt;tr&gt;&lt;td width=&quot;113&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;&lt;strong&gt;比较项&lt;/strong&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td width=&quot;170&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;&lt;strong&gt;Struts&lt;/strong&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;142&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;&lt;strong&gt;JSP+Servlet+JavaBean&lt;/strong&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;99&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;&lt;strong&gt;结论&lt;/strong&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;9&quot;&gt;&lt;td width=&quot;113&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;如何在后端接收前端传来的参数&lt;/p&gt;
&lt;/td&gt;
&lt;td width=&quot;170&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;参数组装成ActionForm，并自动发送到Action里&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;142&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;需要在Servlet里编写接收参数的代码&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;99&quot;&gt;
&lt;p class=&quot;a&quot;&gt;Struts比较省心&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;9&quot;&gt;&lt;td width=&quot;113&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;如何把前端的请求发送到合适的处理页面&lt;/p&gt;
&lt;/td&gt;
&lt;td width=&quot;170&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;可以在struts.xml里统一定义请求和处理类的对应关系&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;142&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;可以在web.xml里统一定义请求和处理类的对应关系&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;99&quot;&gt;
&lt;p class=&quot;a&quot;&gt;基本持平&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td width=&quot;113&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;后端处理请求的方式&lt;/p&gt;
&lt;/td&gt;
&lt;td width=&quot;170&quot;&gt;
&lt;p class=&quot;a&quot;&gt;定义在Action里&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;142&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;大多定义在Servlet类的doPost或doGet方法里&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;99&quot;&gt;
&lt;p class=&quot;a&quot;&gt;基本持平&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;9&quot;&gt;&lt;td width=&quot;113&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;如何把后端的处理结果再回传到前端&lt;/p&gt;
&lt;/td&gt;
&lt;td width=&quot;170&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;可以在struts.xml里统一地定义处理结果和返回页面的对应关系&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;142&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;需要在Servlet里手动地跳转&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;99&quot;&gt;
&lt;p class=&quot;a&quot;&gt;Struts略优&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;12&quot;&gt;&lt;td width=&quot;113&quot;&gt;
&lt;p class=&quot;a&quot;&gt;项目的开发方式&lt;/p&gt;
&lt;/td&gt;
&lt;td width=&quot;170&quot; readability=&quot;6&quot;&gt;
&lt;p class=&quot;a&quot;&gt;程序员的工作量比较少，在必要的地方（比如Action类和Struts.xml）里填写必要的代码即可，Struts处理器能方便地实现MVC之间的跳转&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;142&quot; readability=&quot;6&quot;&gt;
&lt;p class=&quot;a&quot;&gt;程序员可能得操心必要的细节，比如Servlet里如何接收参数，如何跳转到前端，等等&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;99&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot;&gt;Struts的开发流程比较省心&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;

&lt;p&gt;    Struts作为一个基于MVC的框架，能很好地处理跳转业务，能让程序员把精力更多地集中到业务开发上，通过它，程序员能很好地了解框架编程的思路和一般方法。&lt;/p&gt;
&lt;p&gt;    不过任何框架都不是十全十美的，当你比较熟悉Struts框架后，一定能感受到它在项目开发里的一些缺陷。对于Struts的局限性，不同的人有不同的观点。但是请大家记住，在面试时，当你结合你的项目自信地说出Struts框架的局限时，即使面试官和你的观点不一致，他也一定会认为你对Struts有足够的认识。这里罗列出一些局限性供大家参考，如表所示。&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;
&lt;table border=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;tbody readability=&quot;11.174123788218&quot;&gt;&lt;tr&gt;&lt;td width=&quot;102&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;&lt;strong&gt;局限性&lt;/strong&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;461&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;&lt;strong&gt;结合项目说明&lt;/strong&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;7.5&quot;&gt;&lt;td width=&quot;102&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;为每个请求创建一个Action&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;461&quot; readability=&quot;6&quot;&gt;
&lt;p class=&quot;a&quot;&gt;Struts2里，会为每个http请求实例化一个Action 对象，这对处理高并发会有些难度&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;9&quot;&gt;&lt;td width=&quot;102&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;对Action 执行前和后的处理支持不大好&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;461&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;a&quot;&gt;比如每次进到Action前我们需要打印内存使用量，执行后需要记录跳转目标URL，这个当然可以直接写到Action里，但大家比较下Spring的AOP处理方式，就会发现单纯把前后处理写到Action里有什么不足&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td width=&quot;102&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;对跳转的支持&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;461&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;a&quot;&gt;如果在一个Action里，根据处理结果可能会跳转到10个页面，那么代码可能会比较烦琐。而且一旦跳转目标页面出现变更，比如换了目录，那么在修改配置文件后，可能要求重新部署和重启Web服务器，无法实现轻量级修改&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6.0890410958904&quot;&gt;&lt;td width=&quot;102&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;安全性上的瑕疵&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;461&quot; readability=&quot;7.7333333333333&quot;&gt;
&lt;p class=&quot;a&quot;&gt;我们可以通过类似方式直接执行Action里的方法：&lt;a href=&quot;http://url:8080/proName/userLogin!list&quot;&gt;http://url:8080/proName/userLogin!list&lt;/a&gt;&lt;/p&gt;
&lt;p class=&quot;a&quot;&gt;但事实上，该系统需要用户先登录才能开放用户列表。虽然我们可以通过定义拦截器来弥补这个缺陷，但毕竟属于额外的工作量&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td width=&quot;102&quot;&gt;
&lt;p class=&quot;a&quot; align=&quot;center&quot;&gt;属于侵入式&lt;/p&gt;
&lt;/td&gt;
&lt;td valign=&quot;top&quot; width=&quot;461&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;a&quot;&gt;在使用Struts时，需要继承struts的类，而且要编写execute方法。这样Struts框架就侵入到项目里了。比如做的是银行业务，如果哪天要把这套业务移植到其他Spring等框架项目里，可能工作量就比较大了&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;

&lt;p&gt;   Struts的地位似乎有些尴尬，一些小型（比如10个页面左右）的商业项目可能直接会用JSP+Servlet+JavaBean+DB的开发模式，一些大型基于企业级的项目往往采用Spring+MyBatis的框架。&lt;/p&gt;
&lt;p&gt;    我们在面试初级程序员时，如果候选人没有在商业项目里用过Struts框架，这很正常，如果他在学校或者培训机构学过Struts，这或许也可以成为一个加分项。但如果我们看到某人在最近的商业项目里用过，那么就会详细问原因，为什么这个公司现在还要用Struts框架？反而有不少人，在这个问题上会弄巧成拙。我们听到的最多的合理回答是，基于某种原因，比如历史原因或者客户要求，这个项目还是得用Struts框架。&lt;/p&gt;
&lt;p&gt;    具体到面试题，大家可以从网上找，在必要的时候，大家也可以多多益善地突击准备。我们给大家推荐回答问题的方式是“结合项目”，请大家看如下的问题点。&lt;/p&gt;
&lt;p&gt;    第一，说明在这个项目里，都用到了Struts的哪些组件，比如拦截器或者验证器，你是怎么用的？&lt;/p&gt;
&lt;p&gt;    第二，结合项目，说明自己做了哪些工作，比如在Action里，你怎么和业务以及数据库代码耦合？&lt;/p&gt;
&lt;p&gt;    第三，能结合项目，告诉考官一些技术细节，比如拦截器是怎么用的，在该项目里结合一个需求，告诉考官拦截器的工作流程和开发方式。或者结合项目说明下验证器的用法。&lt;/p&gt;
&lt;p&gt;    也就是说，任何技术都别停留在纸上，需要结合项目说明。&lt;/p&gt;
&lt;p&gt;    第四，说明使用Struts框架给这个项目带来哪些痛点？&lt;/p&gt;
&lt;p&gt;    第五，和Spring框架相比，你感觉各自有什么优缺点，请结合项目说明，不要空谈。&lt;/p&gt;
&lt;p&gt;    当你学好了Spring框架后就知道该怎么说？&lt;/p&gt;
&lt;p&gt;    第六，你的项目经常会扩展，业务实现方式也经常会变更，结合Struts框架说明一旦出现变更了你需要做哪些事？&lt;/p&gt;
&lt;p&gt;    比如需要更改业务，你该更改哪些文件？一旦更改了代码，如何部署到服务器上？&lt;/p&gt;
&lt;p&gt;    第七，这个项目的访问量是多少？最高的并发访问量能达到多少？Struts框架能否很好地处理高并发的情况？&lt;/p&gt;
&lt;p&gt;    关于常用的技术问题，在本章里都已经提到，我们通过如下问题点来对本章做个总结。&lt;/p&gt;
&lt;p&gt;    ①在Struts2里，如何实现一个Action？&lt;/p&gt;
&lt;p&gt;    ②怎么指定进入Action后该调用哪个方法？&lt;/p&gt;
&lt;p&gt;    ③定义验证器的步骤是什么？&lt;/p&gt;
&lt;p&gt;    ④定义拦截器的步骤是什么？&lt;/p&gt;
&lt;p&gt;    ⑤Struts2中的type类型有哪些？如果不写type，默认是什么？&lt;/p&gt;
&lt;p&gt;    ⑥如何通过配置type类型，实现一个Action往另外一个Action的跳转？&lt;/p&gt;
&lt;p&gt;    ⑦描述下Struts MVC的工作流程和开发模式。&lt;/p&gt;
&lt;p&gt;    ⑧和JSP+Servlet+JavaBean的开发模式相比，Struts MVC有哪些好处，同时，说明下Struts框架有哪些不足。    　&lt;/p&gt;



</description>
<pubDate>Mon, 30 Oct 2017 23:50:00 +0000</pubDate>
<dc:creator>hsm_computer</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/JavaArchitect/p/7759769.html</dc:identifier>
</item>
<item>
<title>.NET Core 使用RSA算法 加密/解密/签名/验证签名 - 晓晨Master</title>
<link>http://www.cnblogs.com/stulzq/p/7757915.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/stulzq/p/7757915.html</guid>
<description>&lt;p&gt;前不久移植了支付宝官方的SDK，以适用ASP.NET Core使用支付宝支付，但是最近有好几位用户反应在Linux下使用会出错，调试发现是RSA加密的错误，下面具体讲一讲。&lt;/p&gt;

&lt;p&gt;以前我们使用RSA加密主要是使用&lt;code&gt;RSACryptoServiceProvider&lt;/code&gt;这个类，在.NET Core中也有这个类，但是这个类并不支持跨平台，所以如果你是用这个类来进行加/解密在windows上运行是完全没有错误的，但是只要你一放到Linux下就会出现异常。&lt;/p&gt;
&lt;p&gt;查阅资料得知，要解决这个问题，需要改用 &lt;code&gt;System.Security.Cryptography.RSA.Create()&lt;/code&gt; 工厂方法，使用它之后，在 Windows 上创建的是 &lt;code&gt;System.Security.Cryptography.RSACng&lt;/code&gt; 的实例，在 Mac 与 Linux 上创建的是 &lt;code&gt;System.Security.Cryptography.RSAOpenSsl&lt;/code&gt; 的实例，它们都继承自 &lt;code&gt;System.Security.Cryptography.RSA&lt;/code&gt; 抽象类。&lt;/p&gt;
&lt;h4 id=&quot;rsacng&quot;&gt;RSACng：&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/668104/201710/668104-20171030205625949-1287653327.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;相关资料：&lt;a href=&quot;https://docs.microsoft.com/zh-cn/dotnet/api/system.security.cryptography.rsacng?view=netcore-2.0&quot; class=&quot;uri&quot;&gt;https://docs.microsoft.com/zh-cn/dotnet/api/system.security.cryptography.rsacng?view=netcore-2.0&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;rsaopenssl&quot;&gt;RSAOpenSsl ：&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/668104/201710/668104-20171030205712090-201516072.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;相关资料：&lt;a href=&quot;https://docs.microsoft.com/zh-cn/dotnet/api/system.security.cryptography.rsaopenssl?view=netcore-2.0&quot; class=&quot;uri&quot;&gt;https://docs.microsoft.com/zh-cn/dotnet/api/system.security.cryptography.rsaopenssl?view=netcore-2.0&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;在windows上的调试截图&quot;&gt;在Windows上的调试截图：&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/668104/201710/668104-20171030205846121-1417881815.png&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;在mac上使用visual-studio-for-mac-调试截图&quot;&gt;在Mac上使用Visual studio For Mac 调试截图：&lt;/h4&gt;

&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;这里的RSA加密/解密主要是针对于由&lt;strong&gt;OpenSSL生成的公钥/私钥字符串&lt;/strong&gt;。ssh-keygen -t rsa 命令生成的公钥私钥是不行的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;公钥示例&quot;&gt;公钥示例：&lt;/h4&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC7PyjMEuniN6BPn8oqzIZ6AO1N
jSTO9R3adCCIwKfKIEoWXXM+tHDpktdPKSaAsWJPTNAGvEvtxOfzXib/EMXKqD0e
Uy5MatfpRjRdf1hJVimmfrb09Qx2j7CsKLy7nD23m4xubdYBwvkjMwt/L3JxB5D6
qryW1wei/j1c+/OCxQIDAQAB
-----END PUBLIC KEY-----&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;私钥示例&quot;&gt;私钥示例：&lt;/h4&gt;
&lt;pre class=&quot;shell&quot;&gt;
&lt;code&gt;-----BEGIN RSA PRIVATE KEY-----
MIICXQIBAAKBgQC7PyjMEuniN6BPn8oqzIZ6AO1NjSTO9R3adCCIwKfKIEoWXXM+
tHDpktdPKSaAsWJPTNAGvEvtxOfzXib/EMXKqD0eUy5MatfpRjRdf1hJVimmfrb0
9Qx2j7CsKLy7nD23m4xubdYBwvkjMwt/L3JxB5D6qryW1wei/j1c+/OCxQIDAQAB
AoGAT7vGYJgRNf4f6qgNS4pKHTu10RcwPFyOOM7IZ9M5380+HyXuBB6MEjowKwpH
1fcy+LepwaR+5KG7b5uBGY4H2ticMtdysBd9gLwnY4Eh4j7LCWE54HvELpeWXkWp
FQdb/NQhcqMAGwYsTnRPdBqkrUmJBTYqEGkIlqCQ5vUJOCECQQDhe0KGmbq1RWp6
TDvgpA2dUmlt2fdP8oNW8O7MvbDaQRduoZnVRTPYCDKfzFqpNXL1hAYgth1N0vzD
nv3VoLcpAkEA1JcY+rLv5js1g5Luv8LaI5/3uOg0CW7fmh/LfGuz8k/OxASN+cAO
UjPHrxtc5xn1zat4/bnV5GEdlOp/DhquPQJBAIV2Fsdi4M+AueiPjPWHRQO0jvDV
jfwFOFZSn5YSRUa6NmtmPY6tumUJXSWWqKb1GwlVTuc3xBqXYsNLLUWwLhkCQQDJ
UJCiD0LohhdGEqUuSKnj5H9kxddJO4pZXFSI7UEJbJQDwcBkyn+FTm2BH+tZGZdQ
fVnlA89OJr0poOpSg+eNAkAKY85SR9KASaTiDBoPpJ8N805XEhd0Kq+ghzSThxL3
fVtKUQLiCh7Yd8oMd/G5S3xWJHUXSioATT8uPRH2bOb/
-----END RSA PRIVATE KEY-----&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;Windows&amp;amp;MAC_OSX可以使用有支付宝开发的RSA密钥生成工具：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/668104/201710/668104-20171030213410308-201865345.png&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;使用此工具生成的时候一定要选择，PKCS1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;下载地址：&lt;a href=&quot;https://doc.open.alipay.com/docs/doc.htm?treeId=291&amp;amp;articleId=105971&amp;amp;docType=1&quot; class=&quot;uri&quot;&gt;https://doc.open.alipay.com/docs/doc.htm?treeId=291&amp;amp;articleId=105971&amp;amp;docType=1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;此外还可以使用OpenSSL工具命令来生成：&lt;a href=&quot;https://doc.open.alipay.com/docs/doc.htm?articleId=106130&amp;amp;docType=1&quot; class=&quot;uri&quot;&gt;https://doc.open.alipay.com/docs/doc.htm?articleId=106130&amp;amp;docType=1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;这里要讲一下RSA2算法。&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;什么是RSA2 ？RSA2 是在原来SHA1WithRSA签名算法的基础上，新增了支持SHA256WithRSA的签名算法。该算法比SHA1WithRSA有更强的安全能力。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;&lt;thead/&gt;&lt;tbody readability=&quot;2&quot;&gt;&lt;tr class=&quot;odd&quot; readability=&quot;2&quot;&gt;&lt;td&gt;RSA2&lt;/td&gt;
&lt;td&gt;SHA256WithRSA&lt;/td&gt;
&lt;td&gt;（强烈推荐使用），强制要求RSA密钥的长度至少为2048&lt;/td&gt;
&lt;/tr&gt;&lt;tr class=&quot;even&quot; readability=&quot;2&quot;&gt;&lt;td&gt;RSA&lt;/td&gt;
&lt;td&gt;SHA1WithRSA&lt;/td&gt;
&lt;td&gt;对RSA密钥的长度不限制，推荐使用2048位以上&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;strong&gt;这里来一发干货，我已经封装好的RSA/RSA2算法，支持加密/解密/签名/验证签名。&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;/// &amp;lt;summary&amp;gt;
/// RSA加解密 使用OpenSSL的公钥加密/私钥解密
/// 作者：李志强
/// 创建时间：2017年10月30日15:50:14
/// QQ:501232752
/// &amp;lt;/summary&amp;gt;
public class RSAHelper
{
    private readonly RSA _privateKeyRsaProvider;
    private readonly RSA _publicKeyRsaProvider;
    private readonly HashAlgorithmName _hashAlgorithmName;
    private readonly Encoding _encoding;

    /// &amp;lt;summary&amp;gt;
    /// 实例化RSAHelper
    /// &amp;lt;/summary&amp;gt;
    /// &amp;lt;param name=&quot;rsaType&quot;&amp;gt;加密算法类型 RSA SHA1;RSA2 SHA256 密钥长度至少为2048&amp;lt;/param&amp;gt;
    /// &amp;lt;param name=&quot;encoding&quot;&amp;gt;编码类型&amp;lt;/param&amp;gt;
    /// &amp;lt;param name=&quot;privateKey&quot;&amp;gt;私钥&amp;lt;/param&amp;gt;
    /// &amp;lt;param name=&quot;publicKey&quot;&amp;gt;公钥&amp;lt;/param&amp;gt;
    public RSAHelper(RSAType rsaType, Encoding encoding, string privateKey, string publicKey = null)
    {
        _encoding = encoding;
        if (!string.IsNullOrEmpty(privateKey))
        {
            _privateKeyRsaProvider = CreateRsaProviderFromPrivateKey(privateKey);
        }

        if (!string.IsNullOrEmpty(publicKey))
        {
            _publicKeyRsaProvider = CreateRsaProviderFromPublicKey(publicKey);
        }

        _hashAlgorithmName = rsaType == RSAType.RSA ? HashAlgorithmName.SHA1 : HashAlgorithmName.SHA256;
    }

    #region 使用私钥签名

    /// &amp;lt;summary&amp;gt;
    /// 使用私钥签名
    /// &amp;lt;/summary&amp;gt;
    /// &amp;lt;param name=&quot;data&quot;&amp;gt;原始数据&amp;lt;/param&amp;gt;
    /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
    public string Sign(string data)
    {
        byte[] dataBytes = _encoding.GetBytes(data);

        var signatureBytes = _privateKeyRsaProvider.SignData(dataBytes, _hashAlgorithmName, RSASignaturePadding.Pkcs1);

        return Convert.ToBase64String(signatureBytes);
    }

    #endregion

    #region 使用公钥验证签名

    /// &amp;lt;summary&amp;gt;
    /// 使用公钥验证签名
    /// &amp;lt;/summary&amp;gt;
    /// &amp;lt;param name=&quot;data&quot;&amp;gt;原始数据&amp;lt;/param&amp;gt;
    /// &amp;lt;param name=&quot;sign&quot;&amp;gt;签名&amp;lt;/param&amp;gt;
    /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
    public bool Verify(string data,string sign)
    {
        byte[] dataBytes = _encoding.GetBytes(data);
        byte[] signBytes = Convert.FromBase64String(sign);

        var verify = _publicKeyRsaProvider.VerifyData(dataBytes, signBytes, _hashAlgorithmName, RSASignaturePadding.Pkcs1);

        return verify;
    }

    #endregion

    #region 解密

    public string Decrypt(string cipherText)
    {
        if (_privateKeyRsaProvider == null)
        {
            throw new Exception(&quot;_privateKeyRsaProvider is null&quot;);
        }
        return Encoding.UTF8.GetString(_privateKeyRsaProvider.Decrypt(Convert.FromBase64String(cipherText), RSAEncryptionPadding.Pkcs1));
    }

    #endregion

    #region 加密

    public string Encrypt(string text)
    {
        if (_publicKeyRsaProvider == null)
        {
            throw new Exception(&quot;_publicKeyRsaProvider is null&quot;);
        }
        return Convert.ToBase64String(_publicKeyRsaProvider.Encrypt(Encoding.UTF8.GetBytes(text), RSAEncryptionPadding.Pkcs1));
    }

    #endregion

    #region 使用私钥创建RSA实例

    public RSA CreateRsaProviderFromPrivateKey(string privateKey)
    {
        var privateKeyBits = Convert.FromBase64String(privateKey);

        var rsa = RSA.Create();
        var rsaParameters = new RSAParameters();

        using (BinaryReader binr = new BinaryReader(new MemoryStream(privateKeyBits)))
        {
            byte bt = 0;
            ushort twobytes = 0;
            twobytes = binr.ReadUInt16();
            if (twobytes == 0x8130)
                binr.ReadByte();
            else if (twobytes == 0x8230)
                binr.ReadInt16();
            else
                throw new Exception(&quot;Unexpected value read binr.ReadUInt16()&quot;);

            twobytes = binr.ReadUInt16();
            if (twobytes != 0x0102)
                throw new Exception(&quot;Unexpected version&quot;);

            bt = binr.ReadByte();
            if (bt != 0x00)
                throw new Exception(&quot;Unexpected value read binr.ReadByte()&quot;);

            rsaParameters.Modulus = binr.ReadBytes(GetIntegerSize(binr));
            rsaParameters.Exponent = binr.ReadBytes(GetIntegerSize(binr));
            rsaParameters.D = binr.ReadBytes(GetIntegerSize(binr));
            rsaParameters.P = binr.ReadBytes(GetIntegerSize(binr));
            rsaParameters.Q = binr.ReadBytes(GetIntegerSize(binr));
            rsaParameters.DP = binr.ReadBytes(GetIntegerSize(binr));
            rsaParameters.DQ = binr.ReadBytes(GetIntegerSize(binr));
            rsaParameters.InverseQ = binr.ReadBytes(GetIntegerSize(binr));
        }

        rsa.ImportParameters(rsaParameters);
        return rsa;
    }

    #endregion

    #region 使用公钥创建RSA实例

    public RSA CreateRsaProviderFromPublicKey(string publicKeyString)
    {
        // encoded OID sequence for  PKCS #1 rsaEncryption szOID_RSA_RSA = &quot;1.2.840.113549.1.1.1&quot;
        byte[] seqOid = { 0x30, 0x0D, 0x06, 0x09, 0x2A, 0x86, 0x48, 0x86, 0xF7, 0x0D, 0x01, 0x01, 0x01, 0x05, 0x00 };
        byte[] seq = new byte[15];

        var x509Key = Convert.FromBase64String(publicKeyString);

        // ---------  Set up stream to read the asn.1 encoded SubjectPublicKeyInfo blob  ------
        using (MemoryStream mem = new MemoryStream(x509Key))
        {
            using (BinaryReader binr = new BinaryReader(mem))  //wrap Memory Stream with BinaryReader for easy reading
            {
                byte bt = 0;
                ushort twobytes = 0;

                twobytes = binr.ReadUInt16();
                if (twobytes == 0x8130) //data read as little endian order (actual data order for Sequence is 30 81)
                    binr.ReadByte();    //advance 1 byte
                else if (twobytes == 0x8230)
                    binr.ReadInt16();   //advance 2 bytes
                else
                    return null;

                seq = binr.ReadBytes(15);       //read the Sequence OID
                if (!CompareBytearrays(seq, seqOid))    //make sure Sequence for OID is correct
                    return null;

                twobytes = binr.ReadUInt16();
                if (twobytes == 0x8103) //data read as little endian order (actual data order for Bit String is 03 81)
                    binr.ReadByte();    //advance 1 byte
                else if (twobytes == 0x8203)
                    binr.ReadInt16();   //advance 2 bytes
                else
                    return null;

                bt = binr.ReadByte();
                if (bt != 0x00)     //expect null byte next
                    return null;

                twobytes = binr.ReadUInt16();
                if (twobytes == 0x8130) //data read as little endian order (actual data order for Sequence is 30 81)
                    binr.ReadByte();    //advance 1 byte
                else if (twobytes == 0x8230)
                    binr.ReadInt16();   //advance 2 bytes
                else
                    return null;

                twobytes = binr.ReadUInt16();
                byte lowbyte = 0x00;
                byte highbyte = 0x00;

                if (twobytes == 0x8102) //data read as little endian order (actual data order for Integer is 02 81)
                    lowbyte = binr.ReadByte();  // read next bytes which is bytes in modulus
                else if (twobytes == 0x8202)
                {
                    highbyte = binr.ReadByte(); //advance 2 bytes
                    lowbyte = binr.ReadByte();
                }
                else
                    return null;
                byte[] modint = { lowbyte, highbyte, 0x00, 0x00 };   //reverse byte order since asn.1 key uses big endian order
                int modsize = BitConverter.ToInt32(modint, 0);

                int firstbyte = binr.PeekChar();
                if (firstbyte == 0x00)
                {   //if first byte (highest order) of modulus is zero, don't include it
                    binr.ReadByte();    //skip this null byte
                    modsize -= 1;   //reduce modulus buffer size by 1
                }

                byte[] modulus = binr.ReadBytes(modsize);   //read the modulus bytes

                if (binr.ReadByte() != 0x02)            //expect an Integer for the exponent data
                    return null;
                int expbytes = (int)binr.ReadByte();        // should only need one byte for actual exponent data (for all useful values)
                byte[] exponent = binr.ReadBytes(expbytes);

                // ------- create RSACryptoServiceProvider instance and initialize with public key -----
                var rsa = RSA.Create();
                RSAParameters rsaKeyInfo = new RSAParameters
                {
                    Modulus = modulus,
                    Exponent = exponent
                };
                rsa.ImportParameters(rsaKeyInfo);

                return rsa;
            }

        }
    }

    #endregion

    #region 导入密钥算法

    private int GetIntegerSize(BinaryReader binr)
    {
        byte bt = 0;
        int count = 0;
        bt = binr.ReadByte();
        if (bt != 0x02)
            return 0;
        bt = binr.ReadByte();

        if (bt == 0x81)
            count = binr.ReadByte();
        else
        if (bt == 0x82)
        {
            var highbyte = binr.ReadByte();
            var lowbyte = binr.ReadByte();
            byte[] modint = { lowbyte, highbyte, 0x00, 0x00 };
            count = BitConverter.ToInt32(modint, 0);
        }
        else
        {
            count = bt;
        }

        while (binr.ReadByte() == 0x00)
        {
            count -= 1;
        }
        binr.BaseStream.Seek(-1, SeekOrigin.Current);
        return count;
    }

    private bool CompareBytearrays(byte[] a, byte[] b)
    {
        if (a.Length != b.Length)
            return false;
        int i = 0;
        foreach (byte c in a)
        {
            if (c != b[i])
                return false;
            i++;
        }
        return true;
    }

    #endregion

}

/// &amp;lt;summary&amp;gt;
/// RSA算法类型
/// &amp;lt;/summary&amp;gt;
public enum RSAType
{
    /// &amp;lt;summary&amp;gt;
    /// SHA1
    /// &amp;lt;/summary&amp;gt;
    RSA = 0,
    /// &amp;lt;summary&amp;gt;
    /// RSA2 密钥长度至少为2048
    /// SHA256
    /// &amp;lt;/summary&amp;gt;
    RSA2
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h4 id=&quot;使用&quot;&gt;使用：&lt;/h4&gt;
&lt;pre class=&quot;csharp&quot;&gt;
&lt;code&gt;static void Main(string[] args)
{
    //2048 公钥
    string publicKey =
        &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoQh0wEqx/R2H1v00IU12Oc30fosRC/frhH89L6G+fzeaqI19MYQhEPMU13wpeqRONCUta+2iC1sgCNQ9qGGf19yGdZUfueaB1Nu9rdueQKXgVurGHJ+5N71UFm+OP1XcnFUCK4wT5d7ZIifXxuqLehP9Ts6sNjhVfa+yU+VjF5HoIe69OJEPo7OxRZcRTe17khc93Ic+PfyqswQJJlY/bgpcLJQnM+QuHmxNtF7/FpAx9YEQsShsGpVo7JaKgLo+s6AFoJ4QldQKir2vbN9vcKRbG3piElPilWDpjXQkOJZhUloh/jd7QrKFimZFldJ1r6Q59QYUyGKZARUe0KZpMQIDAQAB&quot;;
    //2048 私钥
    string privateKey =
        &quot;MIIEpAIBAAKCAQEAoQh0wEqx/R2H1v00IU12Oc30fosRC/frhH89L6G+fzeaqI19MYQhEPMU13wpeqRONCUta+2iC1sgCNQ9qGGf19yGdZUfueaB1Nu9rdueQKXgVurGHJ+5N71UFm+OP1XcnFUCK4wT5d7ZIifXxuqLehP9Ts6sNjhVfa+yU+VjF5HoIe69OJEPo7OxRZcRTe17khc93Ic+PfyqswQJJlY/bgpcLJQnM+QuHmxNtF7/FpAx9YEQsShsGpVo7JaKgLo+s6AFoJ4QldQKir2vbN9vcKRbG3piElPilWDpjXQkOJZhUloh/jd7QrKFimZFldJ1r6Q59QYUyGKZARUe0KZpMQIDAQABAoIBAQCRZLUlOUvjIVqYvhznRK1OG6p45s8JY1r+UnPIId2Bt46oSLeUkZvZVeCnfq9k0Bzb8AVGwVPhtPEDh73z3dEYcT/lwjLXAkyPB6gG5ZfI/vvC/k7JYV01+neFmktw2/FIJWjEMMF2dvLNZ/Pm4bX1Dz9SfD/45Hwr8wqrvRzvFZsj5qqOxv9RPAudOYwCwZskKp/GF+L+3Ycod1Wu98imzMZUH+L5dQuDGg3kvf3ljIAegTPoqYBg0imNPYY/EGoFKnbxlK5S5/5uAFb16dGJqAz3XQCz9Is/IWrOTu0etteqV2Ncs8uqPdjed+b0j8CMsr4U1xjwPQ8WwdaJtTkRAoGBANAndgiGZkCVcc9975/AYdgFp35W6D+hGQAZlL6DmnucUFdXbWa/x2rTSEXlkvgk9X/PxOptUYsLJkzysTgfDywZwuIXLm9B3oNmv3bVgPXsgDsvDfaHYCgz0nHK6NSrX2AeX3yO/dFuoZsuk+J+UyRigMqYj0wjmxUlqj183hinAoGBAMYMOBgF77OXRII7GAuEut/nBeh2sBrgyzR7FmJMs5kvRh6Ck8wp3ysgMvX4lxh1ep8iCw1R2cguqNATr1klOdsCTOE9RrhuvOp3JrYzuIAK6MpH/uBICy4w1rW2+gQySsHcH40r+tNaTFQ7dQ1tef//iy/IW8v8i0t+csztE1JnAoGABdtWYt8FOYP688+jUmdjWWSvVcq0NjYeMfaGTOX/DsNTL2HyXhW/Uq4nNnBDNmAz2CjMbZwt0y+5ICkj+2REVQVUinAEinTcAe5+LKXNPx4sbX3hcrJUbk0m+rSu4G0B/f5cyXBsi9wFCAzDdHgBduCepxSr04Sc9Hde1uQQi7kCgYB0U20HP0Vh+TG2RLuE2HtjVDD2L/CUeQEiXEHzjxXWnhvTg+MIAnggvpLwQwmMxkQ2ACr5sd/3YuCpB0bxV5o594nsqq9FWVYBaecFEjAGlWHSnqMoXWijwu/6X/VOTbP3VjH6G6ECT4GR4DKKpokIQrMgZ9DzaezvdOA9WesFdQKBgQCWfeOQTitRJ0NZACFUn3Fs3Rvgc9eN9YSWj4RtqkmGPMPvguWo+SKhlk3IbYjrRBc5WVOdoX8JXb2/+nAGhPCuUZckWVmZe5pMSr4EkNQdYeY8kOXGSjoTOUH34ZdKeS+e399BkBWIiXUejX/Srln0H4KoHnTWgxwNpTsBCgXu8Q==&quot;;

    var rsa = new RSAHelper(RSAType.RSA2,Encoding.UTF8, privateKey, publicKey);

    string str = &quot;博客园 http://www.cnblogs.com/&quot;;

    Console.WriteLine(&quot;原始字符串：&quot;+str);

    //加密
    string enStr = rsa.Encrypt(str);

    Console.WriteLine(&quot;加密字符串：&quot;+enStr);

    //解密
    string deStr = rsa.Decrypt(enStr);

    Console.WriteLine(&quot;解密字符串：&quot;+deStr);

    //私钥签名
    string signStr = rsa.Sign(str);

    Console.WriteLine(&quot;字符串签名：&quot; + signStr);

    //公钥验证签名
    bool signVerify = rsa.Verify(str,signStr);

    Console.WriteLine(&quot;验证签名：&quot; + signVerify);

    Console.ReadKey();
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;运行：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/668104/201710/668104-20171030221506980-1357631766.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;参考&lt;/h2&gt;
&lt;p&gt;本文Demo：&lt;a href=&quot;https://github.com/stulzq/DotnetCore.RSA&quot; class=&quot;uri&quot;&gt;https://github.com/stulzq/DotnetCore.RSA&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 30 Oct 2017 23:14:00 +0000</pubDate>
<dc:creator>晓晨Master</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/stulzq/p/7757915.html</dc:identifier>
</item>
<item>
<title>扩展Spring切面功能 - atheva</title>
<link>http://www.cnblogs.com/lizo/p/7759469.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/lizo/p/7759469.html</guid>
<description>&lt;p data-source-line=&quot;2&quot;&gt;Spring的切面（Spring动态代理）在Spring中应用十分广泛，例如还有事务管理，重试等等。网上介绍SpringAop源码很多，这里假设你对SpringAop有基本的了解。如果你认为Spring代理类会创建多重代理，那说明你真的没了解。&lt;/p&gt;

&lt;p data-source-line=&quot;4&quot;&gt;假设我现在想提供一个jar包，这个jar包会拦截制定注解方法，并做一些记录。这里要分析一下具体需求&lt;/p&gt;
&lt;h2 id=&quot;拦截的注解是在方法上&quot; data-source-line=&quot;5&quot;&gt;拦截的注解是在方法上&lt;/h2&gt;
&lt;p data-source-line=&quot;6&quot;&gt;如果注解是放在方法上，那么我们完全可以使用SpringAop的方式，通过自己定义一个注解，并对该注解进行拦截即可。这个不是本篇文章的重点，拦截制定注解的很简单。&lt;/p&gt;
&lt;h2 id=&quot;拦截的注解是在类上&quot; data-source-line=&quot;7&quot;&gt;拦截的注解是在类上&lt;/h2&gt;
&lt;p data-source-line=&quot;8&quot;&gt;如果我们需要拦截的注解是类上，这里首先介绍第一个接口&lt;/p&gt;
&lt;h3 id=&quot;advisor&quot; data-source-line=&quot;9&quot;&gt;Advisor&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; Advisor {
    Advice getAdvice();
    &lt;/span&gt;&lt;span&gt;boolean&lt;/span&gt;&lt;span&gt; isPerInstance();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p data-source-line=&quot;16&quot;&gt;这个接口简单来说就是持有一个通知（Advice），但是一般不直接使用这个接口，因为这个对通知没有一个有效的过滤（当然如果你想对所有方法都进行拦截），所以一般是使用PointcutAdvisor，&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; PointcutAdvisor &lt;span&gt;extends&lt;/span&gt;&lt;span&gt; Advisor {
    Pointcut getPointcut();
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p data-source-line=&quot;22&quot;&gt;这个接口就可以通过Pointcut做一些限制。为什么呢？ 直接看AopUtils#findAdvisorsThatCanApply方法，这个方法就是从所有Advisor接口实现Bean选择对某个Class有效。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; List&amp;lt;Advisor&amp;gt; findAdvisorsThatCanApply(List&amp;lt;Advisor&amp;gt; candidateAdvisors, Class&amp;lt;?&amp;gt;&lt;span&gt; clazz) {
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (candidateAdvisors.isEmpty()) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; candidateAdvisors;
    }
    List&lt;/span&gt;&amp;lt;Advisor&amp;gt; eligibleAdvisors = &lt;span&gt;new&lt;/span&gt; LinkedList&amp;lt;Advisor&amp;gt;&lt;span&gt;();
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt; (Advisor candidate : candidateAdvisors) {
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (candidate &lt;span&gt;instanceof&lt;/span&gt; IntroductionAdvisor &amp;amp;&amp;amp;&lt;span&gt; canApply(candidate, clazz)) {
            eligibleAdvisors.add(candidate);
        }
    }
    &lt;/span&gt;&lt;span&gt;boolean&lt;/span&gt; hasIntroductions = !&lt;span&gt;eligibleAdvisors.isEmpty();
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt; (Advisor candidate : candidateAdvisors) {
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (candidate &lt;span&gt;instanceof&lt;/span&gt;&lt;span&gt; IntroductionAdvisor) {
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; already processed&lt;/span&gt;
            &lt;span&gt;continue&lt;/span&gt;&lt;span&gt;;
        }
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;！！！有兴趣的可以重点看一下重点看这里实现，就不大段贴代码了&lt;/span&gt;
        &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (canApply(candidate, clazz, hasIntroductions)) {
            eligibleAdvisors.add(candidate);
        }
    }
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; eligibleAdvisors;
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p data-source-line=&quot;50&quot;&gt;好了，我们知道了，要想让我们的自定义的切面生效，首先，&lt;/p&gt;
&lt;h5 id=&quot;第一步创建一个advisor&quot; data-source-line=&quot;51&quot;&gt;第一步，创建一个Advisor&lt;/h5&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; MyAdvisor &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; PointcutAdvisor {

    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;这个是Spring提供的一个简单的通过注解来获取切点类&lt;/span&gt;
    AnnotationMatchingPointcut annotationMatchingPointcut = &lt;span&gt;new&lt;/span&gt; AnnotationMatchingPointcut(MockBean.&lt;span&gt;class&lt;/span&gt;&lt;span&gt;);
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;这个是我们自己实现的继承于Advice，&lt;/span&gt;
    MyAdvice myAdvice =&lt;span&gt;new&lt;/span&gt;&lt;span&gt; MyAdvice();

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Pointcut getPointcut() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; annotationMatchingPointcut;
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Advice getAdvice() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; myAdvice;
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt;&lt;span&gt; isPerInstance() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
    }
    
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;简单起见，就直接使用MethodInterceptor&lt;/span&gt;
    &lt;span&gt;class&lt;/span&gt; MyAdvice &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; MethodInterceptor{

        @Override
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; Object invoke(MethodInvocation invocation) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; Throwable {
            System.out.println(&lt;/span&gt;&quot;haha&quot;&lt;span&gt;);
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; invocation.proceed();
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;第二步定义一个开关注解让我们的自定义切面生效&quot; data-source-line=&quot;85&quot;&gt;第二步，定义一个开关注解，让我们的自定义切面生效&lt;/h5&gt;
&lt;p data-source-line=&quot;86&quot;&gt;创建一个开关注解，就是一个套路，先创建一个开关注解，@import我们一个Bean注册类&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Import(MyImporter.&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; @&lt;span&gt;interface&lt;/span&gt;&lt;span&gt; EnableMyAop {
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p data-source-line=&quot;94&quot;&gt;在Bean注册类中把我们的MyAdvisor注册进去吧&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; MyImporter &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; ImportBeanDefinitionRegistrar {
    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {
        register(registry,MyAdvisor.&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;);
    }

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; register(BeanDefinitionRegistry registry, Class&amp;lt;?&amp;gt;&lt;span&gt; aopBeanFactoryPostClass) {
        RootBeanDefinition rootBeanDefinition &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt;&lt;span&gt; RootBeanDefinition();
        rootBeanDefinition.setBeanClass(aopBeanFactoryPostClass);
        registry.registerBeanDefinition(aopBeanFactoryPostClass.getSimpleName(),rootBeanDefinition);
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p data-source-line=&quot;111&quot;&gt;本篇文章是简单看了一下Spring Aop源码后，尝试自己进行扩展，因此可能不是最优的方法。不过希望能起到抛砖迎玉作用，在其基础上可以做很多有很意思的事情。如果有兴趣可以进一步研究spring自己的Advice，Pointcut的实现类。&lt;/p&gt;
</description>
<pubDate>Mon, 30 Oct 2017 17:23:00 +0000</pubDate>
<dc:creator>atheva</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/lizo/p/7759469.html</dc:identifier>
</item>
<item>
<title>javascript编写一个简单的编译器(理解抽象语法树AST) - 龙恩0707</title>
<link>http://www.cnblogs.com/tugenhua0707/p/7759414.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/tugenhua0707/p/7759414.html</guid>
<description>&lt;p&gt;javascript编写一个简单的编译器(理解抽象语法树AST)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;编译器 &lt;/strong&gt;是一种接收一段代码，然后把它转成一些其他一种机制。&lt;br/&gt;我们现在来做一个在一张纸上画出一条线，那么我们画出一条线需要定义的条件如下：&lt;br/&gt;使用 Paper定义纸的颜色，Pen定义笔的颜色，Line指画出一条线，100指在颜色参数中代表100%的黑色 或 css中的rgb(0%,0%,0%). 那么生成的线使用灰色来表示，那么就是 50了，纸的面积是 100*100， 线条的宽度是1，线段的起点和终点是相对于左下角的x,y坐标来定义。&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Paper 0 (含义是: 定义纸的颜色是白色)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Pen 100 (含义是: 定义笔的颜色是黑色)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Line 0 50 100 50 (含义是：x轴0到100，说明是横向从起点到终点，y轴是50到50，说明是一张纸的中点是一条直线)。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;那么编译器是如何工作的？&lt;/p&gt;
&lt;p&gt;编译器一般会经过如下几个步骤：&lt;br/&gt;&lt;strong&gt;1. 词法分析&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;2. 语法分析&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;3. 转换&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;4. 代码生成&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1-1 词法分析(也可以叫做标记)&lt;/strong&gt;&lt;br/&gt;词法分析将每个关键字(也可以叫标记)使用空格分开. 比如：&lt;/p&gt;
&lt;p&gt;Paper 0&lt;br/&gt;Pen 100&lt;br/&gt;Line 0 50 100 50&lt;/p&gt;
&lt;p&gt;如上，我们可以把 Paper， Pen，Line 的类型统一可以叫 word, 值就是各个单词了 那么 后面的数字类型我们可以统一叫 number；&lt;br/&gt;比如我们输入 &quot;Paper 0&quot;, 那么我们输出的话就变成如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;[
  {type: &lt;/span&gt;&quot;word&quot;, value: &quot;Paper&quot;&lt;span&gt;},
  {type: &lt;/span&gt;&quot;number&quot;, value: &quot;100&quot;&lt;span&gt;}
]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;代码如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; lexical (code) {
  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; code.split(/\s+/&lt;span&gt;)
          .filter(&lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(t) {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; t.length &amp;gt; 0&lt;span&gt;
          }).map(&lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(t) {
            console.log(t);
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; isNaN(t) ? {type: 'word', value: t} : {type: 'number'&lt;span&gt;, value: t}
          });
}
&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; res = lexical(&quot;Paper 0&quot;&lt;span&gt;);
console.log(res); &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; [{type: &quot;word&quot;, value: &quot;Paper&quot;}, {type: &quot;number&quot;, value: '100'}]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://tugenhua0707.github.io/svgCompile/lexical.html&quot; target=&quot;_blank&quot;&gt;打开控制台查看demo输出&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1-2 语法分析&lt;/strong&gt;&lt;br/&gt;语法分析是遍历每个标记，寻找语法信息，并且构建一个叫做AST(抽象语法树)的对象。&lt;br/&gt;下面我们对上面词法分析生成的标记 [{type: &quot;word&quot;, value: &quot;Paper&quot;}, {type: &quot;number&quot;, value: '100'}] 这样的数据，使用语法分析&lt;br/&gt;构建一个AST(抽象语法树)的对象。代码如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;46&quot;&gt;
&lt;pre&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; parser(tokens) {
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; AST =&lt;span&gt; {
    type: &lt;/span&gt;'Drawing'&lt;span&gt;,
    body: []
  };
  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 循环依次取出第一个元素，然后删除第一个元素&lt;/span&gt;
  &lt;span&gt;while&lt;/span&gt; (tokens.length &amp;gt; 0&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; currentItem =&lt;span&gt; tokens.shift();
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 判断类型，如果是单词的话，我们就分析它的语法&lt;/span&gt;
    &lt;span&gt;if&lt;/span&gt; (currentItem.type === 'word'&lt;span&gt;) {
      &lt;/span&gt;&lt;span&gt;switch&lt;/span&gt;&lt;span&gt;(currentItem.value) {
        &lt;/span&gt;&lt;span&gt;case&lt;/span&gt; 'Paper'&lt;span&gt; :
          &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; expression =&lt;span&gt; {
            type: &lt;/span&gt;'CallExpression'&lt;span&gt;,
            name: &lt;/span&gt;'Paper'&lt;span&gt;,
            arguments: []
          }; 
          &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 继续数组中字段的类型&lt;/span&gt;
          &lt;span&gt;var&lt;/span&gt; nextItem =&lt;span&gt; tokens.shift();
          &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (nextItem.type === 'number'&lt;span&gt;) {
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 在expression对象内部加入参数信息&lt;/span&gt;
&lt;span&gt;            expression.arguments.push({
              type: &lt;/span&gt;'NumberLiteral'&lt;span&gt;,
              value: nextItem.value
            })
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 将expression对象放入我们的AST的body内&lt;/span&gt;
&lt;span&gt;            AST.body.push(expression);
          } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
            &lt;/span&gt;&lt;span&gt;throw&lt;/span&gt; 'Paper command must be followed by a number.'&lt;span&gt;
          }
          &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;case&lt;/span&gt; 'Pen'&lt;span&gt; : 
          &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 更多代码 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
          &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
        &lt;/span&gt;&lt;span&gt;case&lt;/span&gt; 'Line'&lt;span&gt;: 
          &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 更多代码 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
          &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
      }
    }
  }
  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; AST;
}
&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; data =&lt;span&gt; [
  { type: &lt;/span&gt;'word', value: 'Paper'&lt;span&gt;},
  { type: &lt;/span&gt;'number', value: 100&lt;span&gt;}
];
&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; output =&lt;span&gt; parser(data);
console.log(output);  
&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 打印信息如下&lt;/span&gt;&lt;span&gt;
/*&lt;/span&gt;&lt;span&gt;
 var output = {
   'type': 'Drawing',
   'body': [{
      &quot;type&quot;: &quot;CallExpression&quot;,
      &quot;name&quot;: &quot;Paper&quot;,
      &quot;arguments&quot;: [{
        &quot;type&quot;: &quot;NumberLiteral&quot;,
        &quot;value&quot;: &quot;100&quot;
      }]
   }]
 }
&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://tugenhua0707.github.io/svgCompile/parser.html&quot; target=&quot;_blank&quot;&gt;打开控制台查看demo输出&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1-3 转换器函数&lt;/strong&gt;&lt;br/&gt;我们在语法分析上面通过词法分析生成的对象后，在语法分析创建了一个AST(抽象语法树)结构，但是上面的AST结构对我们创建SVG文件没有什么用处，&lt;br/&gt;在SVG中，我们可以使用元素(element)来表示一个Paper。那么转换器函数将AST转换成另一种对SVG友好的AST。代码如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;65&quot;&gt;
&lt;pre&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; transformer(ast) {
  &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; svg_ast =&lt;span&gt; {
    tag: &lt;/span&gt;'svg'&lt;span&gt;,
    attr: {
      width: &lt;/span&gt;100&lt;span&gt;,
      height: &lt;/span&gt;100&lt;span&gt;,
      viewBox: &lt;/span&gt;'0 0 100 100'&lt;span&gt;,
      xmlns: &lt;/span&gt;'http://www.w3.org/2000/svg'&lt;span&gt;,
      version: &lt;/span&gt;'1.1'&lt;span&gt;
    },
    body: []
  };
  &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 循环调用ast表达式&lt;/span&gt;
  &lt;span&gt;while&lt;/span&gt; (ast.body.length &amp;gt; 0&lt;span&gt;) {
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 依次取出数组的第一个元素，然后在数组中删除该元素&lt;/span&gt;
    &lt;span&gt;var&lt;/span&gt; node =&lt;span&gt; ast.body.shift();
    &lt;/span&gt;&lt;span&gt;switch&lt;/span&gt;&lt;span&gt; (node.name) {
      &lt;/span&gt;&lt;span&gt;case&lt;/span&gt; 'Paper'&lt;span&gt; :
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; paper_color = 100 - node.arguments[0&lt;span&gt;].value;
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 在svg_ast的body内加入rect元素信息&lt;/span&gt;
&lt;span&gt;        svg_ast.body.push({
          tag: &lt;/span&gt;'rest'&lt;span&gt;,
          attr: {
            x: &lt;/span&gt;0&lt;span&gt;,
            y: &lt;/span&gt;0&lt;span&gt;,
            width: &lt;/span&gt;100&lt;span&gt;,
            height: &lt;/span&gt;100&lt;span&gt;,
            fill: &lt;/span&gt;'rgb(' + paper_color + '%,' + paper_color + '%,' + paper_color + '%)'&lt;span&gt;
          }
        })
        &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;

      &lt;/span&gt;&lt;span&gt;case&lt;/span&gt; 'Pen'&lt;span&gt; :
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; pen_color = 100 - node.arguments[0&lt;span&gt;].value;
        &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 很多代码 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
        &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;

      &lt;/span&gt;&lt;span&gt;case&lt;/span&gt; 'Line'&lt;span&gt; : 
        &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 很多代码 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
        &lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
    }
  }
  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; svg_ast;
}
&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; inputElem =&lt;span&gt; {
  &lt;/span&gt;'type': 'Drawing'&lt;span&gt;,
   &lt;/span&gt;'body'&lt;span&gt;: [{
      &lt;/span&gt;&quot;type&quot;: &quot;CallExpression&quot;&lt;span&gt;,
      &lt;/span&gt;&quot;name&quot;: &quot;Paper&quot;&lt;span&gt;,
      &lt;/span&gt;&quot;arguments&quot;&lt;span&gt;: [{
        &lt;/span&gt;&quot;type&quot;: &quot;NumberLiteral&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;value&quot;: &quot;100&quot;&lt;span&gt;
      }]
   }]
};
&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; output =&lt;span&gt; transformer(inputElem);
console.log(output);
 &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;
  打印信息如下：
  var output = {
    &quot;tag&quot;: &quot;svg&quot;,
    &quot;attr&quot;: {
      &quot;width&quot;: 100,
      &quot;height&quot;: 100,
      &quot;viewBox&quot;: &quot;0 0 100 100&quot;,
      &quot;xmlns&quot;: &quot;http://www.w3.org/2000/svg&quot;,
      &quot;version&quot;: &quot;1.1&quot;
    },
    &quot;body&quot;: [{
      &quot;tag&quot;: &quot;rect&quot;,
      &quot;attr&quot;: {
        &quot;x&quot;: 0,
        &quot;y&quot;: 0,
        &quot;width&quot;: 100,
        &quot;height&quot;: 100,
        &quot;fill&quot;: &quot;rgb(0%, 0%, 0%)&quot;
      }
    }]
  }
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://tugenhua0707.github.io/svgCompile/transformer.html&quot; target=&quot;_blank&quot;&gt;打开控制台查看效果&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1-4 生成器函数&lt;/strong&gt;&lt;br/&gt;作为编译器的最后一步，生成器函数基于上一步产生的新AST来生成SVG代码。&lt;br/&gt;代码如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;51&quot;&gt;
&lt;pre&gt;
&lt;span&gt;function&lt;/span&gt;&lt;span&gt; generator(svg_ast) {
   &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;
    从attr 对象中创建属性字符串
    {&quot;width&quot;: 100, &quot;height&quot;: 100} =&amp;gt; 'width=&quot;100&quot;  height=&quot;100&quot;'
   &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
   &lt;span&gt;function&lt;/span&gt;&lt;span&gt; createAttrString(attr) {
     &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; Object.keys(attr).map(&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(key) {
       &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; key + '=&quot;'+attr[key]+'&quot;'&lt;span&gt;
     }).join(&lt;/span&gt;' '&lt;span&gt;);
   }
   &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 为svg标签创建属性字符串&lt;/span&gt;
   &lt;span&gt;var&lt;/span&gt; svg_attr =&lt;span&gt; createAttrString(svg_ast.attr);

   &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; width=&quot;100&quot; height=&quot;100&quot; viewBox=&quot;0 0 100 100&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&lt;/span&gt;
   &lt;span&gt;//&lt;/span&gt;&lt;span&gt; console.log(svg_attr);  &lt;/span&gt;

   &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 为每个 svg_ast body中的元素，生成svg标签&lt;/span&gt;
   &lt;span&gt;var&lt;/span&gt; elements = svg_ast.body.map(&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(node) {
     &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; '&amp;lt;' + node.tag + ' ' + createAttrString(node.attr) + '&amp;gt;&amp;lt;/' + node.tag + '&amp;gt;'&lt;span&gt;
   }).join(&lt;/span&gt;'\n\t'&lt;span&gt;);
   &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 使用开和关的svg标签包装来完成svg代码&lt;/span&gt;
   &lt;span&gt;return&lt;/span&gt; '&amp;lt;svg '+ svg_attr +'&amp;gt;\n' + elements + '\n&amp;lt;/svg&amp;gt;'&lt;span&gt;
 }
 &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; svg_ast =&lt;span&gt; {
   &lt;/span&gt;&quot;tag&quot;: &quot;svg&quot;&lt;span&gt;,
   &lt;/span&gt;&quot;attr&quot;&lt;span&gt;: {
     &lt;/span&gt;&quot;width&quot;: 100&lt;span&gt;,
     &lt;/span&gt;&quot;height&quot;: 100&lt;span&gt;,
     &lt;/span&gt;&quot;viewBox&quot;: &quot;0 0 100 100&quot;&lt;span&gt;,
     &lt;/span&gt;&quot;xmlns&quot;: &quot;http://www.w3.org/2000/svg&quot;&lt;span&gt;,
     &lt;/span&gt;&quot;version&quot;: &quot;1.1&quot;&lt;span&gt;
    },
    &lt;/span&gt;&quot;body&quot;&lt;span&gt;: [{
      &lt;/span&gt;&quot;tag&quot;: &quot;rect&quot;&lt;span&gt;,
      &lt;/span&gt;&quot;attr&quot;&lt;span&gt;: {
        &lt;/span&gt;&quot;x&quot;: 0&lt;span&gt;,
        &lt;/span&gt;&quot;y&quot;: 0&lt;span&gt;,
        &lt;/span&gt;&quot;width&quot;: 100&lt;span&gt;,
        &lt;/span&gt;&quot;height&quot;: 100&lt;span&gt;,
        &lt;/span&gt;&quot;fill&quot;: &quot;rgb(0%, 0%, 0%)&quot;&lt;span&gt;
      }
    }]
 }
 &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; g =&lt;span&gt; generator(svg_ast);
 console.log(g);
&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 
  打印输出如下：
  &amp;lt;svg width=&quot;100&quot; height=&quot;100&quot; viewBox=&quot;0 0 100 100&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&amp;gt;
    &amp;lt;rect x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;100&quot; fill=&quot;rgb(0%, 0%, 0%)&quot;&amp;gt;&amp;lt;/rect&amp;gt;
  &amp;lt;/svg&amp;gt;
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://tugenhua0707.github.io/svgCompile/generator.html&quot; target=&quot;_blank&quot;&gt;打开控制台查看效果&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1-5 把上面的 lexical.js , grammar.js, converter.js 和 generator.js 组装在一起，来作为一个编译器。&lt;br/&gt;我们把这个编译器取个名字叫 svgCompile 编译器吧，我们逐步理解了编译器的步骤，先是创建 词法分析器，然后创建 语法分析器，接着是 转换器，最后就是生成器方法，现在我们需要添加一个 compile（编译）方法来链式调用这四个方法。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
 &lt;span&gt;function&lt;/span&gt;&lt;span&gt; svgCompile(code) {
  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; generator(transformer(parser(lexical(code))));
 }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;下面是compile.html代码如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;./js/lexical.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;./js/parser.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;./js/transformer.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;./js/generator.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;./js/compile.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 调用svgCompile编译器&lt;/span&gt;
      &lt;span&gt;var&lt;/span&gt;&lt;span&gt; code &lt;/span&gt;&lt;span&gt;=&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;Paper 0 Pen 100 Line 0 50 100 50&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;;
      &lt;/span&gt;&lt;span&gt;var&lt;/span&gt;&lt;span&gt; svg &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; svgCompile(code);
      console.log(svg);
      document.body.innerHTML &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; svg;
      &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;
       打印信息如下：
       &amp;lt;svg width=&quot;100&quot; height=&quot;100&quot; viewBox=&quot;0 0 100 100&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&amp;gt;
         &amp;lt;rest x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;100&quot; fill=&quot;rgb(100%,100%,100%)&quot;&amp;gt;&amp;lt;/rest&amp;gt;
          &amp;lt;line x1=&quot;0&quot; y1=&quot;50&quot; x2=&quot;100&quot; y2=&quot;50&quot; stroke-linecap=&quot;round&quot; stroke=&quot;rgb(0%,0%,0%)&quot;&amp;gt;&amp;lt;/line&amp;gt;
       &amp;lt;/svg&amp;gt;
       &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;下面就是实现使用svg 画一条线的demo.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://tugenhua0707.github.io/svgCompile/compile.html&quot; target=&quot;_blank&quot;&gt;查看效果：&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tugenhua0707/svgCompile&quot; target=&quot;_blank&quot;&gt;git上的代码&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Tips: 通过网上的资料学习的，关键是想先来理解如何编写一个简单的编译器，及简单的理解AST(抽象语法树)&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Mon, 30 Oct 2017 17:06:00 +0000</pubDate>
<dc:creator>龙恩0707</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/tugenhua0707/p/7759414.html</dc:identifier>
</item>
<item>
<title>关于docker使用的几个小问题（二） - 负赑屃</title>
<link>http://www.cnblogs.com/mar-q/p/7758889.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/mar-q/p/7758889.html</guid>
<description>&lt;p&gt;很久没写博客了，集中写几个比较有意思的小问题。&lt;/p&gt;
&lt;p&gt;一、CentOS容器没有service命令&lt;/p&gt;
&lt;p&gt;这是因为我们从docker官方镜像仓库中pull的最新CentOS镜像都是centos7.4 Redhat-release，Redhat已经通过systemclt命令取代了service命令，所以如果需要运行service命令，可以通过systemctl来替换。如以下这两条关于Apache的命令是等效的。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;service httpd status
systemctl status httpd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;有的同学会说，为什么我本地装的centos可以使用service？ok，如果一定要用service也不是没有解决方案：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;yum&lt;/span&gt; &lt;span&gt;install&lt;/span&gt; -y initscripts.x86_64
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;把它装上就可以用了。&lt;/p&gt;
&lt;p&gt;二、CentOS容器没有pidof命令&lt;/p&gt;
&lt;p&gt;这是因为官方的镜像是精简版的，没有提供pidof所在的指令集，如果需要使用，也是需要安装的：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;yum&lt;/span&gt; &lt;span&gt;install&lt;/span&gt; -y redhat-lsb
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;三、 Failed to get D-Bus connection: Operation not permitted&lt;/p&gt;
&lt;p&gt;当我们在CentOS7上执行systemctl命令就会产生这个错误，上面两个问题其实和这个问题原因产生的是一致的，尤其是关于这个问题，网上给出诸多说法，我来给大家一个官方的说法。首先不要急，我先给性子急的同学几个解决方案：&lt;/p&gt;
&lt;p&gt;方案一：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
docker run -d -e &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;container=docker&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; --privileged=&lt;span&gt;true&lt;/span&gt; -v /sys/fs/cgroup:/sys/fs/cgroup --name centos7 centos /usr/sbin/&lt;span&gt;init
###对安全问题比较关心的同学，建议将&lt;/span&gt;--privileged=true替换为--cap-add=SYS_ADMIN
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方案二：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
docker run -ti --&lt;span&gt;privileged centos init
#或者
docker run &lt;/span&gt;-ti --privileged centos /usr/lib/systemd/&lt;span&gt;systemd
#或者
docker run &lt;/span&gt;-ti --cap-add=SYS_ADMIN cents init
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;大家会说，方案二怎么卡住了，没关系，不用管它，重启一个连接exec到容器中即可，原来的窗口关掉就行。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/png;base64,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&quot; alt=&quot;&quot; name=&quot;en-media:image/png:256bba2a305de4094a11cfae61ca27e6:none:none&quot;/&gt;&lt;/p&gt;
&lt;p&gt;方案三：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;FROM fedora:rawhide
MAINTAINER “Dan Walsh” &lt;/span&gt;&amp;lt;dwalsh@redhat.com&amp;gt;&lt;span&gt;
ENV container docker
RUN &lt;/span&gt;&lt;span&gt;yum&lt;/span&gt; -y update; &lt;span&gt;yum&lt;/span&gt;&lt;span&gt; clean all
RUN &lt;/span&gt;&lt;span&gt;yum&lt;/span&gt; -y &lt;span&gt;install&lt;/span&gt; systemd; &lt;span&gt;yum&lt;/span&gt;&lt;span&gt; clean all; 
(cd &lt;/span&gt;/lib/systemd/system/sysinit.target.wants/; &lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt; *; &lt;span&gt;do&lt;/span&gt; [ $i == systemd-tmpfiles-setup.service ] || &lt;span&gt;rm&lt;/span&gt; -f $i; &lt;span&gt;done&lt;/span&gt;&lt;span&gt;); 
&lt;/span&gt;&lt;span&gt;rm&lt;/span&gt; -f /lib/systemd/system/multi-user.target.wants&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;;
rm -f /etc/systemd/system/*.wants/*;
rm -f /lib/systemd/system/local-fs.target.wants/*; 
rm -f /lib/systemd/system/sockets.target.wants/*udev*; 
rm -f /lib/systemd/system/sockets.target.wants/*initctl*; 
rm -f /lib/systemd/system/basic.target.wants/*;
rm -f /lib/systemd/system/anaconda.target.wants/*;
VOLUME [ “/sys/fs/cgroup” ]
CMD [“/usr/sbin/init”]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;写一个dockerfile，这段dockerfile是有来历的，它的作用就是生成一个可以调用systemctl的CentOS容器，同时删除了一些不必要的系统进程。在上面的指令中，我们经常看到/sbin/init，它是什么东东呢：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/png;base64,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&quot; alt=&quot;&quot; name=&quot;en-media:image/png:8c258498d3c69141e028391d5917191f:none:none&quot; width=&quot;486&quot; height=&quot;31&quot;/&gt;&lt;/p&gt;
&lt;p&gt;之所以报这个d-bus的错误就是因为在容器中，CentOS的镜像是默认不启动systemd的，而且启动需要privileged权限或者--cap-add=SYS_ADMIN权限。 Docker依赖Linux内核的功能：容器和宿主机建立相互隔离的环境(应用程序在里面运行)。而官方的容器很精简，容器之所以和宿主机共享同一内核，却在不同的运行时环境中执行，这归功于控制组(cgroup)和命名空间，它们定义了容器可以使用哪些资源，与此同时，容器本身只能看到某些进程和网络功能。所以我们可以看到前面第一个命令，在privileged的同时还进行了cgroup目录的挂载，这就是定义了该容器获取了系统的完整内核。&lt;/p&gt;
&lt;p&gt;下面我就给大家讲讲Redhat和Docker的那点故事，不喜欢八卦的同学可以不用看了啊：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developers.redhat.com/blog/2014/05/05/running-systemd-within-docker-container/&quot;&gt;https://developers.redhat.com/blog/2014/05/05/running-systemd-within-docker-container/&lt;/a&gt;这篇文章是Daniel Walsh所写，他在Redhat专门从事容器安全工作，前面的那个dockerfile就是他在解决这个问题时的成果之一，文章写作时这个“bug”是以更严重的segment呈现的，而&lt;a href=&quot;https://lwn.net/Articles/676831/&quot;&gt;https://lwn.net/Articles/676831/&lt;/a&gt;和&lt;a href=&quot;https://developers.redhat.com/blog/author/rhatdan/&quot;&gt;https://developers.redhat.com/blog/author/rhatdan/&lt;/a&gt;，Daniel道出了关于systems和docker的冲突（因为这个老头是直接受害人。。。毕竟他的主要工作就是磨合systemd和docker，哈哈）。反正我是看着头大，简单来说大概就是Docker守护进程旨在接管系统还为Linux执行的很多功能，而Redhat担心docker的安全性，所以在内核作出了诸多限制，最直观的一个体现就是在systemd的使用上。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&quot;&quot; name=&quot;en-media:image/png:c779ad9143f311118ce5d3116655f594:none:none&quot; width=&quot;575&quot; height=&quot;321&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这个图是我在Daniel博客上的截图，从中我们可以看到Redhat和docker的开发者在扯皮，挺有意思，更多扯皮欢迎大家围观&lt;a href=&quot;https://lwn.net/Articles/676831/&quot;&gt;https://lwn.net/Articles/676831/&lt;/a&gt;，老头也是挺不容易，夹在中间多难受啊。&lt;/p&gt;
&lt;p&gt;回到一开始，我们知道centos是基于Redhat内核的，所以才会造成这个问题。解决方案我刚开始已经给出了，这里还是一个使用机制的问题，不管是docker开发者还是Redhat的开发者，其实他们都期望用户在&lt;strong&gt;一个docker里只运行一个服务&lt;/strong&gt;，所以最好的解决办法其实还是通过dockerfile，每个服务通过dockerfile来安装并在dockerfile中启动（CMD ）。&lt;/p&gt;

&lt;p&gt; 四、恩，我只是一个想搞深度学习的围观吃瓜群众。。。 &lt;/p&gt;
</description>
<pubDate>Mon, 30 Oct 2017 16:30:00 +0000</pubDate>
<dc:creator>负赑屃</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/mar-q/p/7758889.html</dc:identifier>
</item>
<item>
<title>66、django之模型层（model）--多表相关操作（图书管理小练习） - 布吉岛丶</title>
<link>http://www.cnblogs.com/liluning/p/7745072.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/liluning/p/7745072.html</guid>
<description>&lt;p&gt;&lt;span&gt;前面几篇随笔的数据库增删改查操作都是在单表的操作上的，然而现实中不可能都是单表操作，更多的是多表操作，一对一，一对多，多对多的表结构才是我们经常需要处理的，本篇将带我们了解多表操作的一些相关操作。也会带着大家做一个简单的图书管理的小练习。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;一、建表&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;本篇继续以图书管理的例子。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;模型：书籍有书名、作者、出版日期、价格，出版社，一本书可能会有多个作者，一个作者也可以写多本书，所以作者和书籍的关系就是多对多的关联关系(many-to-many)；一本书只应该由一个出版商出版，所以出版商和书籍是一对多关联关系(one-to-many)。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;1、准备工作&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1）创建一个项目&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2）提前在mysql数据库里建立一个库&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3）修改相关setting配置。（详情可以参考前面63、64、65三篇随笔）&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;2、建表&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;你如果在建表时没有添加主键，django会自动给我们的表添加一个主键id，是不是很棒0.0&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1）语法&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;一对一：
models.OneToOneField() &lt;/span&gt;===&amp;gt;models.ForeignKey(,unique=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;True&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
一对多：
models.ForeignKey()
多对多：
models.ManyToManyField()

属性：
related_name&lt;/span&gt;=&lt;span&gt;&quot;&quot;&lt;/span&gt;&lt;span&gt;    
可选属性用来给此次关联起名，如果不用此属性django会自动给一个名字后面查询的例子会说明（是关联的名字不是字段名）&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;2）建表实例&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('73c4effe-1a92-4e96-a259-de8e1f5de602')&quot; readability=&quot;33&quot;&gt;&lt;img id=&quot;code_img_closed_73c4effe-1a92-4e96-a259-de8e1f5de602&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_73c4effe-1a92-4e96-a259-de8e1f5de602&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('73c4effe-1a92-4e96-a259-de8e1f5de602',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_73c4effe-1a92-4e96-a259-de8e1f5de602&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;61&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt;图书表&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Book(models.Model) :
    title &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    publishDate &lt;/span&gt;=&lt;span&gt; models.DateField()
    prince &lt;/span&gt;= models.DecimalField(max_digits=5,decimal_places=2&lt;span&gt;)
    
    publish &lt;/span&gt;= models.ForeignKey(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Publish&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)  &lt;span&gt;#&lt;/span&gt;&lt;span&gt;一对多&lt;/span&gt;
&lt;span&gt;    
    authorlish &lt;/span&gt;= models.ManyToManyField(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Author&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)   &lt;span&gt;#&lt;/span&gt;&lt;span&gt;多对多&lt;/span&gt;

    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;__str__&lt;/span&gt;&lt;span&gt;(self) :
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; self.title

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;出版社&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Publish(models.Model) :
    name &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    addr &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)

    &lt;/span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;__str__&lt;/span&gt;&lt;span&gt;(self) :
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;  self.name

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;作者表&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Author(models.Model) :
    name &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    sex &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    age &lt;/span&gt;=&lt;span&gt; models.IntegerField()
    tel &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    addr &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    
    &lt;/span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;__str__&lt;/span&gt;&lt;span&gt;(self) :
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;  self.name
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;图书、出版社、作者&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;这个图书的小练习中的表没有一对一关联用法用其他两个关联基本相同&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;3、注意&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;code&gt;1）主键id&lt;/code&gt; 字段是自动添加的&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2）对于外键字段，Django 会在字段名上添加&lt;tt class=&quot;docutils literal&quot;&gt;&lt;span class=&quot;pre&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;/tt&gt; 来创建数据库中的列名&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3）外键字段 ForeignKey 有一个 null=True 的设置(它允许外键接受空值 NULL)，你可以赋给它空值 None 。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;4）在表与表的连接中有related_name属性可以起名用于反向查询，当然不写有默认（表名_set），一对一关联可以直接用表名 &lt;/span&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;二、template模版的设计&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;此次的小练习template是用Bootstrap框架搭建的，因为我们本篇主讲的django模版层所以会贴出代码逮捕做分析，对前端有问题的可以看以前相关随笔哦。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;相关随笔推荐：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Bootstrap使用：&lt;a href=&quot;http://www.cnblogs.com/liluning/p/7643879.html&quot; target=&quot;_blank&quot;&gt;http://www.cnblogs.com/liluning/p/7643879.html&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;静态文件在模版中的使用：&lt;a href=&quot;http://www.cnblogs.com/liluning/p/7724699.html&quot; target=&quot;_blank&quot;&gt;http://www.cnblogs.com/liluning/p/7724699.html&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Bootstrap官网：&lt;a href=&quot;http://v3.bootcss.com/&quot; target=&quot;_blank&quot;&gt;http://v3.bootcss.com/&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;模版使用：&lt;a href=&quot;http://v3.bootcss.com/examples/dashboard/&quot; target=&quot;_blank&quot;&gt;http://v3.bootcss.com/examples/dashboard/&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;三、添加表记录&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;1、&lt;/strong&gt;一对多添加语法&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;方式1:
   publish_obj&lt;/span&gt;=Publish.objects.get(nid=1&lt;span&gt;)
   Book.objects.create(title&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;金瓶眉&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,publishDate=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;2012-12-12&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,publish=&lt;span&gt;publish_obj)
 
方式2:
   Book.objects.create(title&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;金瓶眉&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,publishDate=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;2012-12-12&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,publish_id=1)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;推荐使用第一种方式 第二种方式在你知道外键publish_id确切的值时可以使用&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;2、多对多添加语法&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
book_obj=Book.objects.create(title=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;追风筝的人&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,publishDate=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;2012-11-12&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,prince=69,publish_id=1&lt;span&gt;)
 
author_yuan&lt;/span&gt;=Author.objects.create(name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;yuan&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,age=23...&lt;span&gt;)
author_egon&lt;/span&gt;=Author.objects.create(name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;egon&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,age=32...&lt;span&gt;)
 
book_obj.authorlish.add(author_egon,author_yuan)    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;  将某个特定的 model 对象添加到被关联对象集合中。   =======    book_obj.authors.add(*[])&lt;/span&gt;
&lt;span&gt; 
book_obj.authorlish.create()      &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;创建并保存一个新对象，然后将这个对象加被关联对象的集合中，然后返回这个新对象。&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;当然我们绑定的关联也可以解除：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
book_obj.authorlish.remove()     &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 将某个特定的对象从被关联对象集合中去除。    ======   book_obj.authors.remove(*[])&lt;/span&gt;
book_obj.authorlish.clear()       &lt;span&gt;#&lt;/span&gt;&lt;span&gt;清空被关联对象集合。&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;3&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;、一对多添加和多对多添加实例&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('c5930c58-55bf-448c-ba55-d87bb7b24cc3')&quot; readability=&quot;35.5&quot;&gt;&lt;img id=&quot;code_img_closed_c5930c58-55bf-448c-ba55-d87bb7b24cc3&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_c5930c58-55bf-448c-ba55-d87bb7b24cc3&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('c5930c58-55bf-448c-ba55-d87bb7b24cc3',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_c5930c58-55bf-448c-ba55-d87bb7b24cc3&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;66&quot;&gt;
&lt;pre&gt;
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; addbook(request) :
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 添加图书页面点击提交&lt;/span&gt;
    &lt;span&gt;if&lt;/span&gt; request.method == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;POST&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; :
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 提取添加数据&lt;/span&gt;
        title = request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        author &lt;/span&gt;= request.POST.getlist(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;author&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        publishDate &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publishDate&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        prince &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;prince&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        publish &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publish&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 出版社object&lt;/span&gt;
        publish_obj = models.Publish.objects.filter(name=&lt;span&gt;publish)[0]
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 添加数据到数据库&lt;/span&gt;
        book_obj = models.Book.objects.create(title=title, publishDate=publishDate, prince=prince ,publish=&lt;span&gt;publish_obj)
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 多对多添加&lt;/span&gt;
        &lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt;&lt;span&gt; author :
            obj &lt;/span&gt;= models.Author.objects.filter(name=&lt;span&gt;i)[0]
            book_obj.authorlish.add(obj)
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; redirect(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/index/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 作者与出版社querySet&lt;/span&gt;
    authorList =&lt;span&gt; models.Author.objects.all()
    publishList &lt;/span&gt;=&lt;span&gt; models.Publish.objects.all()
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; render(request,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;addbook.html&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,{&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;authorList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:authorList,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publishList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:publishList})
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;一对一因为没用用到不做演示 用法与其他两个关联相同&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;4、相关方法演示（例子选自官网）&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1）add&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;把指定的模型对象添加到关联对象集中。&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
b = Blog.objects.get(id=1&lt;span&gt;)
e &lt;/span&gt;= Entry.objects.get(id=234&lt;span&gt;)
b.entry_set.add(e)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;2）create&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;创建一个新的对象，保存对象，并将它添加到关联对象集之中。返回新创建的对象。&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
b = Blog.objects.get(id=1&lt;span&gt;)
e &lt;/span&gt;=&lt;span&gt; b.entry_set.create(
    headline&lt;/span&gt;=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Hello&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
    body_text&lt;/span&gt;=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;Hi&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;,
    pub_date&lt;/span&gt;=datetime.date(2005, 1, 1&lt;span&gt;)
)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;3）remove&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;从关联对象集中移除执行的模型对象&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
b = Blog.objects.get(id=1&lt;span&gt;)
e &lt;/span&gt;= Entry.objects.get(id=234&lt;span&gt;)
b.entry_set.remove(e)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;4）clear&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;从关联对象集中移除一切对象。&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
b = Blog.objects.get(id=1&lt;span&gt;)
b.entry_set.clear()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;四、查询表记录&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;brush:python;gutter:true;&quot;&gt;&lt;span&gt;查询相关API前面的随笔已经写到 单表查询还有双下划线查询0.0&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;brush:python;gutter:true;&quot;&gt;&lt;strong&gt;&lt;span&gt;1、双下划线单表查询&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
models.book.objects.filter(id__lt=10, id__gt=1)   &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 获取id大于1 且 小于10的值&lt;/span&gt;
&lt;span&gt; 
models.book.objects.filter(id__in&lt;/span&gt;=[11, 22, 33])   &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 获取id等于11、22、33的数据&lt;/span&gt;
models.book.objects.exclude(id__in=[11, 22, 33])  &lt;span&gt;#&lt;/span&gt;&lt;span&gt; not in&lt;/span&gt;
&lt;span&gt; 
models.book.objects.filter(name__contains&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ven&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)  &lt;span&gt;#&lt;/span&gt;&lt;span&gt;模糊匹配&lt;/span&gt;
models.book.objects.filter(name__icontains=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ven&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;) &lt;span&gt;#&lt;/span&gt;&lt;span&gt; icontains大小写不敏感&lt;/span&gt;
&lt;span&gt; 
models.book.objects.filter(id__range&lt;/span&gt;=[1, 2])      &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 范围bettwen and&lt;/span&gt;
&lt;span&gt; 
startswith，istartswith, endswith, iendswith　&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;2、基于对象的跨表查询&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1）一对多查询&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;正向查询&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 查询id=1的书籍的出版社所在的城市&lt;/span&gt;
book_obj=Book.objects.get(id=1&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(book_obj.publish.city) 
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; book_obj.publish 是id=1的书籍对象关联的出版社对象&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;反向查询&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 查询 人民出版社出版过的所有书籍&lt;/span&gt;
&lt;span&gt; 
publish&lt;/span&gt;=Publish.objects.get(name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;人民出版社&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
book_list&lt;/span&gt;=publish.book_set.all()  &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 与人民出版社关联的所有书籍对象集合&lt;/span&gt;
&lt;span&gt;for&lt;/span&gt; book_obj &lt;span&gt;in&lt;/span&gt;&lt;span&gt; book_list:
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(book_obj.title)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;2）多对多查询&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;正向查询&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 金瓶眉所有作者的名字&lt;/span&gt;
&lt;span&gt; 
book_obj&lt;/span&gt;=Book.objects.filter(title=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;金瓶眉&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).first()
authors&lt;/span&gt;=&lt;span&gt;book_obj.authorlish.all()
 
&lt;/span&gt;&lt;span&gt;for&lt;/span&gt; author_obj &lt;span&gt;in&lt;/span&gt;&lt;span&gt; authors:
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(author_obj.name)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;反向查询&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 查询egon出过的所有书籍的名字&lt;/span&gt;
author_obj=Author.objects.get(name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;egon&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
book_list&lt;/span&gt;=author_obj.book_set.all() &lt;span&gt;#&lt;/span&gt;&lt;span&gt;与egon作者相关的所有书籍&lt;/span&gt;
 
&lt;span&gt;for&lt;/span&gt; book_obj &lt;span&gt;in&lt;/span&gt;&lt;span&gt; book_list:
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(book_obj.title)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;3、查询实例&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1）views&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('e9a0ba1e-0d6a-45a1-a187-d1c19b0a6e0f')&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_e9a0ba1e-0d6a-45a1-a187-d1c19b0a6e0f&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_e9a0ba1e-0d6a-45a1-a187-d1c19b0a6e0f&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('e9a0ba1e-0d6a-45a1-a187-d1c19b0a6e0f',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_e9a0ba1e-0d6a-45a1-a187-d1c19b0a6e0f&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; index(request) :
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 查看主页（图书）&lt;/span&gt;
    bookList =&lt;span&gt; models.Book.objects.all()
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; render(request,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;index.html&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,{&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;bookList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:bookList})
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;2）template——index.html&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('998ddd19-b1e0-4f7d-8018-64d6d5bf7fea')&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_998ddd19-b1e0-4f7d-8018-64d6d5bf7fea&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_998ddd19-b1e0-4f7d-8018-64d6d5bf7fea&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('998ddd19-b1e0-4f7d-8018-64d6d5bf7fea',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_998ddd19-b1e0-4f7d-8018-64d6d5bf7fea&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;table-responsive table-bordered&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;table &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;table table-striped&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;student&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
    {% block content %}
        &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;thead&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;row&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
            {% block th %}
                &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;编号&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;书名&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;作者&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版日期&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;价格&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版社&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;操作&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
            {% endblock th %}
        &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;thead&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tbody&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
            {% block td %}
                {% for book_obj in bookList %}
                    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ forloop.counter}}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.title }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                            {% for author in book_obj.authorlish.all %}
                                {{ author.name }}
                            {% endfor %}
                        &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.publishDate|date:&quot;Y-m-d&quot; }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.prince }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.publish.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                           &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/editbook/{{ book_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-info&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;编辑&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                           &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/delbook/{{ book_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-danger&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;删除&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                {% endfor %}
            {% endblock td %}
        &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tbody&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
    {% endblock content %}
    &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;table&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;4、基于双下划线的跨表查询&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Django 还提供了一种直观而高效的方式在查询中表示关联关系那就是强大的双划线&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 练习1:  查询人民出版社出版过的所有书籍的名字与价格(一对多)&lt;/span&gt;
    &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 正向查询 按字段:publish&lt;/span&gt;
    queryResult=Book.objects.filter(publish__name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;人民出版社&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;price&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 反向查询 按表名:book&lt;/span&gt;
    queryResult=Publish.objects.filter(name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;人民出版社&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book__title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book__price&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 练习2: 查询egon出过的所有书籍的名字(多对多)&lt;/span&gt;
    &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 正向查询 按字段:authors:&lt;/span&gt;
    queryResult=Book.objects.filter(authors__name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;yuan&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 反向查询 按表名:book&lt;/span&gt;
    queryResult=Author.objects.filter(name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;egon&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book__title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book__price&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)


&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 练习3: 查询人民出版社出版过的所有书籍的名字以及作者的姓名&lt;/span&gt;
    &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 正向查询&lt;/span&gt;
    queryResult=Book.objects.filter(publish__name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;人民出版社&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;authors__name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 反向查询&lt;/span&gt;
    queryResult=Publish.objects.filter(name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;人民出版社&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book__title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book__authors__age&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book__authors__name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)


&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 练习4: 手机号以151开头的作者出版过的所有书籍名称以及出版社名称&lt;/span&gt;
queryResult=Book.objects.filter(authors__authorDetail__telephone__regex=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;151&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publish__name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;练习四需要在本建表实例上添加一个authorDetail作者详细信息表将电话号等详细信息放进去与作者表建立一对一关联&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;5、聚合查询与分组查询&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;1）&lt;/span&gt;&lt;tt class=&quot;descname&quot;&gt;聚合：&lt;/tt&gt;aggregate()&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 计算所有图书的平均价格&lt;/span&gt;
&lt;span&gt;from&lt;/span&gt; django.db.models &lt;span&gt;import&lt;/span&gt;&lt;span&gt; Avg
Book.objects.all().aggregate(Avg(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;price&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;{'price__avg': 34.35}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;需要使用什么函数都要通过import导入 例如常用函数：&lt;/span&gt;Avg,Sum,Count,Max,Min&lt;/p&gt;
&lt;p&gt;&lt;span&gt;字典的key默认（字段名__函数名）也可以自己起名字average_price&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
Book.objects.aggregate(average_price=Avg(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;price&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;))
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一次也查询多个可以&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
Book.objects.aggregate(Avg(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;price&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), Max(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;price&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;), Min(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;price&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;))
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;2）分组：annotate()　&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt;统计每一本书的作者个数&lt;/span&gt;
bookList=Book.objects.annotate(authorsNum=Count(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;authors&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;for&lt;/span&gt; book_obj &lt;span&gt;in&lt;/span&gt;&lt;span&gt; bookList:
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(book_obj.title,book_obj.authorsNum)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;annotate的返回值是querySet&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3）练习&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('3ab68453-b8af-4a07-b228-5f218dd50e8f')&quot; readability=&quot;33.5&quot;&gt;&lt;img id=&quot;code_img_closed_3ab68453-b8af-4a07-b228-5f218dd50e8f&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_3ab68453-b8af-4a07-b228-5f218dd50e8f&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('3ab68453-b8af-4a07-b228-5f218dd50e8f',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_3ab68453-b8af-4a07-b228-5f218dd50e8f&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;62&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 统计每一个出版社的最便宜的书&lt;/span&gt;
queryResult=Book.objects.values(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publish__name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).annotate(MinPrice=Min(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;price&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 统计每一本以py开头的书籍的作者个数&lt;/span&gt;
queryResult=Book.objects .filter(title__startswith=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Py&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).annotate(num_authors=Count(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;authors&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;))

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 统计不止一个作者的图书&lt;/span&gt;
queryResult=Book.objects.annotate(num_authors=Count(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;authors&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)).filter(num_authors__gt=1&lt;span&gt;)

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 根据一本图书作者数量的多少对查询集 QuerySet进行排序&lt;/span&gt;
Book.objects.annotate(num_authors=Count(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;authors&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;)).order_by(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;num_authors&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 查询各个作者出的书的总价格&lt;/span&gt;&lt;span&gt;
#&lt;/span&gt;&lt;span&gt; 按author表的所有字段 group by&lt;/span&gt;
    queryResult=Author.objects.annotate(SumPrice=Sum(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book__price&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;SumPrice&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
    
&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;按authors__name group by&lt;/span&gt;
 queryResult2=Book.objects.values(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;authors__name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;).annotate(SumPrice=Sum(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;price&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)).values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;authors__name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;SumPrice&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;五、修改表记录&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;修改和以前的一样还是update比较简单就不做详细解释了直接上实例&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; editbook(request,id) :
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 点击保存POST提交&lt;/span&gt;
    &lt;span&gt;if&lt;/span&gt; request.method == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;POST&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; :
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 提取数据&lt;/span&gt;
        id = request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        title &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        author_name &lt;/span&gt;= request.POST.getlist(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;author&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        publishDate &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publishDate&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        prince &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;prince&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        publish_name &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publish&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 出版社object&lt;/span&gt;
        publish_obj = models.Publish.objects.get(name=&lt;span&gt;publish_name)
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 移除旧关联&lt;/span&gt;
        book_obj = models.Book.objects.filter(id=&lt;span&gt;id)[0]
        book_obj.authorlish.clear()
        

        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 更新图书表&lt;/span&gt;
        models.Book.objects.filter(id=id).update(title=title, publishDate=publishDate, prince=prince,publish_id=&lt;span&gt;publish_obj)


        book_obj &lt;/span&gt;= models.Book.objects.filter(id=&lt;span&gt;id)[0]
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 添加新关联&lt;/span&gt;
        &lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt;&lt;span&gt; author_name :
            &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(i)
            obj &lt;/span&gt;= models.Author.objects.filter(name=&lt;span&gt;i)[0]
            book_obj.authorlish.add(obj)
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; redirect(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/index/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;虽然修改比较简单就一句update搞定，可是因为现在图书表和作者表是多对多连接所以在更新图书表时需要清楚之前的连键和建立新的连接，语法在之前都有讲解在代码中也都标记出来了。&lt;/span&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;六、删除表记录&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;实例：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; delbook(request,id) :
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 删除图书&lt;/span&gt;
    models.Book.objects.filter(id=&lt;span&gt;id).delete()
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; redirect(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/index/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;在 Django 删除对象时，会模仿 SQL 约束 ON DELETE CASCADE 的行为，换句话说，删除一个对象时也会删除与它相关联的外键对象。&lt;/span&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;七、图书管理小练习（只贴上图书的增删改查代码）&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;1、model 建表&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('00555a82-7d7c-411b-b1b6-b2f9f463cc6a')&quot; readability=&quot;33&quot;&gt;&lt;img id=&quot;code_img_closed_00555a82-7d7c-411b-b1b6-b2f9f463cc6a&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_00555a82-7d7c-411b-b1b6-b2f9f463cc6a&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('00555a82-7d7c-411b-b1b6-b2f9f463cc6a',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_00555a82-7d7c-411b-b1b6-b2f9f463cc6a&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;61&quot;&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; django.db &lt;span&gt;import&lt;/span&gt;&lt;span&gt; models

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; Create your models here.&lt;/span&gt;

&lt;span&gt;#&lt;/span&gt;&lt;span&gt;图书表&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Book(models.Model) :
    title &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    publishDate &lt;/span&gt;=&lt;span&gt; models.DateField()
    prince &lt;/span&gt;= models.DecimalField(max_digits=5,decimal_places=2&lt;span&gt;)
    
    publish &lt;/span&gt;= models.ForeignKey(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Publish&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)  &lt;span&gt;#&lt;/span&gt;&lt;span&gt;一对多&lt;/span&gt;
&lt;span&gt;    
    authorlish &lt;/span&gt;= models.ManyToManyField(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Author&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;)   &lt;span&gt;#&lt;/span&gt;&lt;span&gt;多对多&lt;/span&gt;

    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;__str__&lt;/span&gt;&lt;span&gt;(self) :
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; self.title

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;出版社&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Publish(models.Model) :
    name &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    addr &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)

    &lt;/span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;__str__&lt;/span&gt;&lt;span&gt;(self) :
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;  self.name

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;作者表&lt;/span&gt;
&lt;span&gt;class&lt;/span&gt;&lt;span&gt; Author(models.Model) :
    name &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    sex &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    age &lt;/span&gt;=&lt;span&gt; models.IntegerField()
    tel &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    addr &lt;/span&gt;= models.CharField(max_length=32&lt;span&gt;)
    
    &lt;/span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;__str__&lt;/span&gt;&lt;span&gt;(self) :
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;  self.name
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;2、template 模版&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('fdecfa27-df44-4226-9cf1-e2d709546f89')&quot; readability=&quot;33.5&quot;&gt;&lt;img id=&quot;code_img_closed_fdecfa27-df44-4226-9cf1-e2d709546f89&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_fdecfa27-df44-4226-9cf1-e2d709546f89&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('fdecfa27-df44-4226-9cf1-e2d709546f89',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_fdecfa27-df44-4226-9cf1-e2d709546f89&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;62&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; saved from url=(0041)http://v3.bootcss.com/examples/dashboard/ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html &lt;/span&gt;&lt;span&gt;lang&lt;/span&gt;&lt;span&gt;=&quot;zh-CN&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;http-equiv&lt;/span&gt;&lt;span&gt;=&quot;Content-Type&quot;&lt;/span&gt;&lt;span&gt; content&lt;/span&gt;&lt;span&gt;=&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;http-equiv&lt;/span&gt;&lt;span&gt;=&quot;X-UA-Compatible&quot;&lt;/span&gt;&lt;span&gt; content&lt;/span&gt;&lt;span&gt;=&quot;IE=edge&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;viewport&quot;&lt;/span&gt;&lt;span&gt; content&lt;/span&gt;&lt;span&gt;=&quot;width=device-width, initial-scale=1&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;description&quot;&lt;/span&gt;&lt;span&gt; content&lt;/span&gt;&lt;span&gt;=&quot;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;author&quot;&lt;/span&gt;&lt;span&gt; content&lt;/span&gt;&lt;span&gt;=&quot;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;rel&lt;/span&gt;&lt;span&gt;=&quot;icon&quot;&lt;/span&gt;&lt;span&gt; href&lt;/span&gt;&lt;span&gt;=&quot;http://v3.bootcss.com/favicon.ico&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;图书管理系统&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Bootstrap core CSS &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/static/Dashboard_files/bootstrap.min.css&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; IE10 viewport hack for Surface/desktop Windows 8 bug &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/static/Dashboard_files/ie10-viewport-bug-workaround.css&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Custom styles for this template &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;link &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/static/Dashboard_files/dashboard.css&quot;&lt;/span&gt;&lt;span&gt; rel&lt;/span&gt;&lt;span&gt;=&quot;stylesheet&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Just for debugging purposes. Don't actually copy these 2 lines! &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt;[if lt IE 9]&amp;gt;
    &amp;lt;script src=&quot;../../assets/js/ie8-responsive-file-warning.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;![endif]&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;/static/Dashboard_files/ie-emulation-modes-warning.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt;[if lt IE 9]&amp;gt;
    &amp;lt;script src=&quot;https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&quot;https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;![endif]&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;style&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;/*&lt;/span&gt;&lt;span&gt;左侧菜单&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
        .head &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;
            margin&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; 1px -20px&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;span&gt;
            line-height&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; 40px&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;span&gt;
            text-align&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; center&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
        &lt;span&gt;}&lt;/span&gt;
        &lt;span&gt;/*&lt;/span&gt;&lt;span&gt;添加按钮&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
        .search &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;
            padding-bottom&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; 15px&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
        &lt;span&gt;}&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;style&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt;导航栏&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;nav &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;navbar navbar-inverse navbar-fixed-top&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;container-fluid&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;navbar-header&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;navbar-brand&quot;&lt;/span&gt;&lt;span&gt; href&lt;/span&gt;&lt;span&gt;=&quot;/index/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;图书管理系统&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;navbar&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;navbar-collapse collapse&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;ul &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;nav navbar-nav navbar-right&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/index/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;登录&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/index/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;注册&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/index/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;帮助&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/index/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;关于&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;ul&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;nav&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt;左侧菜单 和 学生信息&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;container-fluid&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;row&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt;左侧菜单&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;col-sm-3 col-md-2 sidebar&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;menu&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;head bg-primary&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;图书管理&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;ul &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;nav nav-sidebar&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/index/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt;查看图书&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/addbook/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt;添加图书&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;ul&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;menu&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;head  bg-primary&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;作者管理&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;ul &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;nav nav-sidebar&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/author/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt;查看作者&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/addauthor/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt;添加作者&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;ul&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;menu&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;head  bg-primary&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版社管理&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;ul &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;nav nav-sidebar&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/publish/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt;查看出版社&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/addpublish/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt;添加出版社&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;li&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;ul&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt;学生信息（表格）&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;panel panel-primary&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;panel-heading&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{% block info %}图书信息{% endblock info%}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;panel-body&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 搜索框&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;&lt;span&gt;
                    {% block search %}
                        &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;form &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;form-inline&quot;&lt;/span&gt;&lt;span&gt; action&lt;/span&gt;&lt;span&gt;=&quot;/searchbook/&quot;&lt;/span&gt;&lt;span&gt; method&lt;/span&gt;&lt;span&gt;=&quot;post&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                        {% csrf_token %}
                            &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;form-group search&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;form-control&quot;&lt;/span&gt;&lt;span&gt; placeholder&lt;/span&gt;&lt;span&gt;=&quot;书名&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;book&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-primary&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;搜索&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;form&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                    {% endblock search %}

                    &lt;/span&gt;&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt;内容&lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;table-responsive table-bordered&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;table &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;table table-striped&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;student&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                        {% block content %}
                            &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;thead&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;row&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                {% block th %}
                                    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;编号&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;书名&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;作者&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版日期&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;价格&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版社&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;操作&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                {% endblock th %}
                            &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;thead&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tbody&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                {% block td %}
                                    {% for book_obj in bookList %}
                                        &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ forloop.counter}}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.title }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                                {% for author in book_obj.authorlish.all %}
                                                    {{ author.name }}
                                                {% endfor %}
                                            &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.publishDate|date:&quot;Y-m-d&quot; }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.prince }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.publish.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                               &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/editbook/{{ book_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-info&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;编辑&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                               &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/delbook/{{ book_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-danger&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;删除&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                                        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                    {% endfor %}
                                {% endblock td %}
                            &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tbody&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                        {% endblock content %}
                        &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;table&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Bootstrap core JavaScript
================================================== &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Placed at the end of the document so the pages load faster &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;/static/Dashboard_files/jquery.min.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;window.jQuery &lt;/span&gt;&lt;span&gt;||&lt;/span&gt;&lt;span&gt; document.write(&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;&amp;lt;script src=&quot;../../assets/js/vendor/jquery.min.js&quot;&amp;gt;&amp;lt;\/script&amp;gt;&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;/static/Dashboard_files/bootstrap.min.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Just to make our placeholder images work. Don't actually copy the next line! &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;/static/Dashboard_files/holder.min.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; IE10 viewport hack for Surface/desktop Windows 8 bug &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;=&quot;/static/Dashboard_files/ie10-viewport-bug-workaround.js&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;    左侧菜单&lt;/span&gt;
&lt;span&gt;    $(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.head&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).on(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;click&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; () {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 把自己 紧挨着的ul标签显示  removeClass(&quot;hide&quot;)&lt;/span&gt;
&lt;span&gt;        $(&lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;).next().slideToggle();
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 兄弟标签 紧挨着的ul标签 隐藏  addClass(&quot;hide&quot;)&lt;/span&gt;
&lt;span&gt;        $(&lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;).parent().siblings().children(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ul&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;).slideUp();
    });

&lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;index.html&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('4d8af994-dcec-4805-b506-e27f15723917')&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_4d8af994-dcec-4805-b506-e27f15723917&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_4d8af994-dcec-4805-b506-e27f15723917&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('4d8af994-dcec-4805-b506-e27f15723917',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_4d8af994-dcec-4805-b506-e27f15723917&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&lt;span&gt;{% extends &quot;index.html&quot; %}

{% block info %}
添加图书
{% endblock info %}

{% block search %}
&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;row my-table-tool search&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;col-md-12&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/index/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-primary&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;返回&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
{% endblock search %}

{% block th %}
    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;书名&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;作者&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版日期&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;价格&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版社&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;操作&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
{% endblock th %}

{% block td %}
    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;form &lt;/span&gt;&lt;span&gt;action&lt;/span&gt;&lt;span&gt;=&quot;/addbook/&quot;&lt;/span&gt;&lt;span&gt; method&lt;/span&gt;&lt;span&gt;=&quot;post&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
    {% csrf_token %}
        &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;title&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;select &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;author&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;&quot;&lt;/span&gt;&lt;span&gt; multiple&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                    {% for author in authorList %}
                        &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;option &lt;/span&gt;&lt;span&gt;value&lt;/span&gt;&lt;span&gt;=&quot;{{ author.name }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ author.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;option&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                    {% endfor %}
                &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;select&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;date&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;publishDate&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;prince&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;select &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;publish&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                    {% for publish in publishList %}
                        &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;option &lt;/span&gt;&lt;span&gt;value&lt;/span&gt;&lt;span&gt;=&quot;{{ publish.name }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ publish.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;option&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                    {% endfor %}
                &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;select&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-info&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;提交&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;form&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
{% endblock td %}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;addbook.html&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('035a700a-c475-4739-b67c-33a2ace9583a')&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_035a700a-c475-4739-b67c-33a2ace9583a&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_035a700a-c475-4739-b67c-33a2ace9583a&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('035a700a-c475-4739-b67c-33a2ace9583a',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_035a700a-c475-4739-b67c-33a2ace9583a&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&lt;span&gt;{% extends &quot;index.html&quot; %}

{% block td %}
    {% for edit_obj in bookList %}
        {% if edit_obj.id == id %}
            &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;form &lt;/span&gt;&lt;span&gt;action&lt;/span&gt;&lt;span&gt;=&quot;/editbook/{{ edit_obj.id }}&quot;&lt;/span&gt;&lt;span&gt; method&lt;/span&gt;&lt;span&gt;=&quot;post&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
            {% csrf_token %}
                &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ forloop.counter}}&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;hidden&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;id&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;{{ edit_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;title&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;{{ edit_obj.title }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;select &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;author&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;&quot;&lt;/span&gt;&lt;span&gt; multiple&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                            {% for author in authorList %}
                                {% if author.name in edit_author %}
                                    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;option &lt;/span&gt;&lt;span&gt;selected value&lt;/span&gt;&lt;span&gt;=&quot;{{ author.name }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ author.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;option&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                {% else %}
                                    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;option  &lt;/span&gt;&lt;span&gt;value&lt;/span&gt;&lt;span&gt;=&quot;{{ author.name }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ author.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;option&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                {% endif %}
                            {% endfor %}
                        &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;select&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;date&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;publishDate&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;{{ edit_obj.publishDate|date:&quot;&lt;/span&gt;&lt;span&gt;Y-m-d&quot; }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;prince&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;{{ edit_obj.prince }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;select &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;publish&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                            {% for publish in publishList %}
                                {% if publish.name == edit_obj.publish.name %}
                                    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;option &lt;/span&gt;&lt;span&gt;selected value&lt;/span&gt;&lt;span&gt;=&quot;{{ publish.name }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ publish.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;option&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                {% else %}
                                    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;option  &lt;/span&gt;&lt;span&gt;value&lt;/span&gt;&lt;span&gt;=&quot;{{ publish.name }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ publish.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;option&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                                {% endif %}
                            {% endfor %}
                        &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;select&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/delbook/{{ edit_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;button&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-danger&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;删除&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-success&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;保存&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;form&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
        {% else %}
            &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ forloop.counter}}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ edit_obj.title }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
                    {% for author in edit_obj.authorlish.all %}
                        {{ author.name }}
                    {% endfor %}
                &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ edit_obj.publishDate|date:&quot;Y-m-d&quot; }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ edit_obj.prince }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ edit_obj.publish.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                   &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/editbook/{{ edit_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-info&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;编辑&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                   &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/delbook/{{ edit_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-danger&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;删除&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
        {% endif %}
    {% endfor %}
{% endblock td %}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;editbook.html&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('7dcc59ad-2b43-4784-93ee-eee3c2a90d00')&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_7dcc59ad-2b43-4784-93ee-eee3c2a90d00&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_7dcc59ad-2b43-4784-93ee-eee3c2a90d00&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('7dcc59ad-2b43-4784-93ee-eee3c2a90d00',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_7dcc59ad-2b43-4784-93ee-eee3c2a90d00&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&lt;span&gt;{% extends &quot;index.html&quot; %}

{% block info %}
{{ booklist.first.title }}
{% endblock info %}

{% block search %}
&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;form &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;form-inline&quot;&lt;/span&gt;&lt;span&gt; action&lt;/span&gt;&lt;span&gt;=&quot;/searchbook/&quot;&lt;/span&gt;&lt;span&gt; method&lt;/span&gt;&lt;span&gt;=&quot;post&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
{% csrf_token %}
    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;form-group search&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;input &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;form-control&quot;&lt;/span&gt;&lt;span&gt; placeholder&lt;/span&gt;&lt;span&gt;=&quot;书名&quot;&lt;/span&gt;&lt;span&gt; name&lt;/span&gt;&lt;span&gt;=&quot;book&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-primary&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;搜索&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/index/&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-primary&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;返回&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
{#    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;row my-table-tool search&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;#}
{#        &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;col-md-12&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;#}
{#            #}
{#        &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;#}
{#    &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;#}
&lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;form&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
{% endblock search %}

{% block th %}
    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;编号&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;书名&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;作者&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版日期&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;价格&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;出版社&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;操作&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;th&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
{% endblock th %}

{% block td %}
    {% for book_obj in booklist %}
    &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ forloop.counter}}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.title }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
            {% for author in book_obj.authorlish.all %}
                {{ author.name }}
            {% endfor %}
        &lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.publishDate|date:&quot;Y-m-d&quot; }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.prince }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;{{ book_obj.publish.name }}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
           &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/editbook/{{ book_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-info&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;编辑&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
           &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&quot;/delbook/{{ book_obj.id }}&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span&gt;button &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;btn btn-danger&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;删除&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;button&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tr&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
    {% endfor %}
{% endblock td %}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;searchbook.html&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;3、url 分发&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('c232ca28-b0e9-4d39-bf0f-96a275ceff19')&quot; readability=&quot;46.5&quot;&gt;&lt;img id=&quot;code_img_closed_c232ca28-b0e9-4d39-bf0f-96a275ceff19&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_c232ca28-b0e9-4d39-bf0f-96a275ceff19&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('c232ca28-b0e9-4d39-bf0f-96a275ceff19',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_c232ca28-b0e9-4d39-bf0f-96a275ceff19&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;88&quot;&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; django.conf.urls &lt;span&gt;import&lt;/span&gt;&lt;span&gt; url
&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; django.contrib &lt;span&gt;import&lt;/span&gt;&lt;span&gt; admin

&lt;/span&gt;&lt;span&gt;from&lt;/span&gt; app01 &lt;span&gt;import&lt;/span&gt;&lt;span&gt; views
urlpatterns &lt;/span&gt;=&lt;span&gt; [
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^admin/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, admin.site.urls),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^index/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.index),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^delbook/(\d+)&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.delbook),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^editbook/(\d+)&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.editbook),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^addbook/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.addbook),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^searchbook/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.searchbook),

    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^author/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.author),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^addauthor/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.addauthor),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^delauthor/(\d+)&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.delauthor),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^editauthor/(\d+)&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.editauthor),

    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^publish/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.publish),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^addpublish/&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.addpublish),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^delpublish/(\d+)&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.delpublish),
    url(r&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;^editpublish/(\d+)&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, views.editpublish),
]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;4、views 视图函数&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('f5154be8-e2ee-4997-890e-fe69ecfc91ad')&quot; readability=&quot;44&quot;&gt;&lt;img id=&quot;code_img_closed_f5154be8-e2ee-4997-890e-fe69ecfc91ad&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_f5154be8-e2ee-4997-890e-fe69ecfc91ad&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('f5154be8-e2ee-4997-890e-fe69ecfc91ad',event)&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_f5154be8-e2ee-4997-890e-fe69ecfc91ad&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;83&quot;&gt;
&lt;pre&gt;
&lt;span&gt;from&lt;/span&gt; django.shortcuts &lt;span&gt;import&lt;/span&gt;&lt;span&gt; render,redirect,HttpResponse

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; Create your views here.&lt;/span&gt;

&lt;span&gt;from&lt;/span&gt; app01 &lt;span&gt;import&lt;/span&gt;&lt;span&gt; models

&lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 图书相关操作&lt;/span&gt;
&lt;span&gt;def&lt;/span&gt;&lt;span&gt; index(request) :
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 查看主页（图书）&lt;/span&gt;
    bookList =&lt;span&gt; models.Book.objects.all()
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; render(request,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;index.html&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,{&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;bookList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:bookList})

&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; delbook(request,id) :
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 删除图书&lt;/span&gt;
    models.Book.objects.filter(id=&lt;span&gt;id).delete()
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; redirect(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/index/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; editbook(request,id) :
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 点击保存POST提交&lt;/span&gt;
    &lt;span&gt;if&lt;/span&gt; request.method == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;POST&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; :
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 提取数据&lt;/span&gt;
        id = request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        title &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        author_name &lt;/span&gt;= request.POST.getlist(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;author&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        publishDate &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publishDate&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        prince &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;prince&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        publish_name &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publish&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 出版社object&lt;/span&gt;
        publish_obj = models.Publish.objects.get(name=&lt;span&gt;publish_name)
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 移除旧关联&lt;/span&gt;
        book_obj = models.Book.objects.filter(id=&lt;span&gt;id)[0]
        book_obj.authorlish.clear()
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 更新图书表&lt;/span&gt;
        models.Book.objects.filter(id=id).update(title=title, publishDate=publishDate, prince=prince,publish_id=&lt;span&gt;publish_obj)
        book_obj &lt;/span&gt;= models.Book.objects.filter(id=&lt;span&gt;id)[0]
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 添加新关联&lt;/span&gt;
        &lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt;&lt;span&gt; author_name :
            &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(i)
            obj &lt;/span&gt;= models.Author.objects.filter(name=&lt;span&gt;i)[0]
            book_obj.authorlish.add(obj)
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; redirect(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/index/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
    
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 图书、作者、出版社querySet&lt;/span&gt;
    bookList =&lt;span&gt; models.Book.objects.all()
    authorList &lt;/span&gt;=&lt;span&gt; models.Author.objects.all()
    publishList &lt;/span&gt;=&lt;span&gt; models.Publish.objects.all()
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 查看原作者&lt;/span&gt;
    author_name = models.Book.objects.filter(id=id).first().authorlish.all().values_list(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
    edit_author &lt;/span&gt;=&lt;span&gt; []
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt;&lt;span&gt; author_name :
        edit_author.append(i[0])
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; render(request,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;editbook.html&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,{&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;bookList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:bookList,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;authorList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:authorList,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publishList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:publishList,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;edit_author&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:edit_author,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:int(id)})

&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; addbook(request) :
    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 添加图书页面点击提交&lt;/span&gt;
    &lt;span&gt;if&lt;/span&gt; request.method == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;POST&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; :
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 提取添加数据&lt;/span&gt;
        title = request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        author &lt;/span&gt;= request.POST.getlist(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;author&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        publishDate &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publishDate&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        prince &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;prince&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        publish &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publish&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 出版社object&lt;/span&gt;
        publish_obj = models.Publish.objects.filter(name=&lt;span&gt;publish)[0]
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 添加数据到数据库&lt;/span&gt;
        book_obj = models.Book.objects.create(title=title, publishDate=publishDate, prince=prince ,publish=&lt;span&gt;publish_obj)
        &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 多对多添加&lt;/span&gt;
        &lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt;&lt;span&gt; author :
            obj &lt;/span&gt;= models.Author.objects.filter(name=&lt;span&gt;i)[0]
            book_obj.authorlish.add(obj)
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; redirect(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/index/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)

    &lt;/span&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 作者与出版社querySet&lt;/span&gt;
    authorList =&lt;span&gt; models.Author.objects.all()
    publishList &lt;/span&gt;=&lt;span&gt; models.Publish.objects.all()
    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; render(request,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;addbook.html&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,{&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;authorList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:authorList,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;publishList&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:publishList})

&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; searchbook(request) :
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; request.method == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;POST&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; :
        book &lt;/span&gt;= request.POST.get(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;book&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;&lt;span&gt;(book)
        booklist &lt;/span&gt;= models.Book.objects.filter(title__icontains =&lt;span&gt; book)
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; render(request,&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;searchbook.html&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,{&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;booklist&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;:booklist})
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;5、部分效果图&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1）首页&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1054024/201710/1054024-20171031000338168-1710221082.png&quot; alt=&quot;&quot; width=&quot;738&quot; height=&quot;260&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2）添加图书&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1054024/201710/1054024-20171031000000496-1305367938.png&quot; alt=&quot;&quot; width=&quot;735&quot; height=&quot;281&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3）修改图书信息&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1054024/201710/1054024-20171031000031136-479027109.png&quot; alt=&quot;&quot; width=&quot;720&quot; height=&quot;291&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;4）搜索框搜索图书&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1054024/201710/1054024-20171031000106511-465821149.png&quot; alt=&quot;&quot; width=&quot;758&quot; height=&quot;271&quot;/&gt;&lt;/p&gt;

</description>
<pubDate>Mon, 30 Oct 2017 16:06:00 +0000</pubDate>
<dc:creator>布吉岛丶</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/liluning/p/7745072.html</dc:identifier>
</item>
<item>
<title>2.动手实操Apache ZooKeeper - 林本托</title>
<link>http://www.cnblogs.com/IcanFixIt/p/7758432.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/IcanFixIt/p/7758432.html</guid>
<description>&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;Tips&lt;br/&gt;做一个终身学习的人！&lt;br/&gt;日拱一卒，功不唐捐。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/4366140-f6cb91e947a46eea.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;ZooKeeper&quot;/&gt;&lt;/p&gt;
&lt;p&gt;在本节中，我们将讲解如何下载并安装Apache ZooKeeper，以便我们可以直接开始使用ZooKeeper。 本部分旨在通过提供详细的安装和使用说明，使用ZooKeeper了解其分布式应用程序的需求。 我们将从单节点ZooKeeper安装开始，熟悉基本配置，然后学习ZooKeeper shell。 最后，学习如何设置一个多节点ZooKeeper集群。&lt;/p&gt;

&lt;p&gt;ZooKeeper由各种平台支持。 支持GNU / Linux和Oracle Solaris作为服务器和客户端的开发和生产平台。 Windows和Mac OS X系统仅推荐用作服务器和客户端的开发平台。&lt;/p&gt;
&lt;p&gt;ZooKeeper由Java中实现，需要运行Java 6或更高版本。 虽然推荐使用Oracle的Java版本，但OpenJDK也可以正常运行ZooKeeper。&lt;/p&gt;
&lt;p&gt;ZooKeeper作为一个称为ZooKeeper系列的服务器集合运行。 在生产集群中，三个ZooKeeper服务器是集合的最小建议大小，建议在不同的机器上运行它们。 但是，可以通过在独立模式下将其安装在单台计算机上来学习和练习ZooKeeper。&lt;/p&gt;
&lt;p&gt;打开&lt;a href=&quot;http://zookeeper.apache.org&quot;&gt;Apache ZooKeeper&lt;/a&gt;的官方网站，找到下载页面的链接，根据自己的操作系统，选择不同格式的文件，我用的macOS系统，所以下载了zookeeper-3.4.10.tar.gz，下载后，直接双击解压即可。也可以使用命令：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tar -C /Users/i324779 -zxf zookeeper-3.4.10.tar.gz&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;我放在了当前用户目录下，你也根据自己的喜好放在指定的目录下。&lt;/p&gt;
&lt;p&gt;下载以后，我们需要配置一下环境变量：&lt;br/&gt;以macOS为例，编辑用户目录下的&lt;code&gt;.bash_profile&lt;/code&gt;文件，添加如下：&lt;br/&gt;&lt;code&gt;export ZK_HOME=/Users/i324779/zookeeper-3.4.10 export PATH=$PATH:$ZK_HOME/bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;退出编辑后，在终端执行&lt;code&gt;. .bash_profile&lt;/code&gt;，立即生效。&lt;/p&gt;
&lt;p&gt;接下来是配置， ZooKeeper在提取的ZooKeeper目录下的conf目录中需要一个名为zoo.cfg的配置文件。 在conf目录下，有一个示例配置文件，其中包含一些配置参数供参考。&lt;/p&gt;
&lt;p&gt;让我们创建配置文件，并使用以下最小参数，并将其保存在conf目录中：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tickTime=2000
dataDir=/var/lib/zookeeper
clientPort=2181&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;配置参数的含义如下：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;tickTime：以毫秒为单位；用于会话注册，并通过ZooKeeper服务为客户定期进行心跳。 最小会话超时是tickTime参数的两倍。&lt;/li&gt;
&lt;li&gt;dataDir：存储ZooKeeper内存状态的位置；它包括数据库快照和数据库更新的事务日志。 提取ZooKeeper目录不会默认创建此目录，因此如果系统中不存在此目录，则需要创建该目录并设置可写权限。&lt;/li&gt;
&lt;li&gt;clientPort： 监听客户端连接的端口，因此它是ZooKeeper客户端启动连接的位置。 客户端口可以设置为任意数字，不同的服务器可以配置为在不同端口上进行监听。 默认值为2181。&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;如前所述，ZooKeeper需要一个Java运行时环境才能正常工作。所以，在运行ZooKeeper之前，需要安装1.6版本以上的JDK。&lt;/p&gt;

&lt;p&gt;所有ZooKeeper管理脚本启动/停止服务器并调用ZooKeeper命令shell，并存放在bin目录下：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ pwd
/Users/i324779/zookeeper-3.4.10/bin
$ ls
README.txt  zkCli.cmd   zkEnv.cmd   zkServer.cmd
zkCleanup.sh    zkCli.sh    zkEnv.sh    zkServer.sh&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;扩展名为.sh的脚本适用于Unix平台（GNU / Linux，macOS等），扩展名为.cmd的脚本适用于Microsoft Windows操作系统。&lt;/p&gt;
&lt;p&gt;要在GNU / Linux系统中启动ZooKeeper服务器，需要执行如下的&lt;code&gt;zkServer.s&lt;/code&gt;h脚本。 此脚本提供启动，停止，重新启动并查看ZooKeeper服务器状态的选项：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ ./zkServer.sh
ZooKeeper JMX enabled by default
Using config: /Users/i324779/zookeeper-3.4.10/bin/../conf/zoo.cfg
Usage: ./zkServer.sh {start|start-foreground|stop|restart|status|upgrade|print-cmd}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;执行zkServer.sh并加上&lt;code&gt;start&lt;/code&gt;参数将启动ZooKeeper服务器。 服务器的成功启动显示以下输出：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ ./zkServer.sh start
ZooKeeper JMX enabled by default
Using config: /Users/i324779/zookeeper-3.4.10/bin/../conf/zoo.cfg
Starting zookeeper ... STARTED&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;要验证ZooKeeper服务器是否已启动，可以使用以下&lt;code&gt;ps&lt;/code&gt;命令：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ ps –ef | grep zookeeper | grep –v grep | awk '{print $2}'
56050&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;如果你的系统上安装了jps命令，则可以如下验证ZooKeeper服务器的状态：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;ps
56050 QuorumPeerMain
29942 
53078 
56072 Jps&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ZooKeeper进程列为&lt;code&gt;QuorumPeerMain&lt;/code&gt;。 在这种情况下，执行jps命令显示ZooKeeper服务器正在运行56050进程标识符，与ps命令报告的进程标识相匹配。&lt;/p&gt;
&lt;p&gt;可以使用zkServer.sh脚本检查ZooKeeper服务器的状态，如下所示：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ zkServer.sh status
ZooKeeper JMX enabled by default
Using config: /Users/i32&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;要停止服务器进程，可以使用&lt;code&gt;stop&lt;/code&gt;参数的脚本：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ zkServer.sh stop
ZooKeeper JMX enabled by default
Using config: /Users/i324779/zookeeper-3.4.10/bin/../conf/zoo.cfg
Stopping zookeeper ... STOPPED&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;当ZooKeeper停止或不在运行时检查状态将显示以下结果：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ zkServer.sh stop
ZooKeeper JMX enabled by default
Using config: /Users/i324779/zookeeper-3.4.10/bin/../conf/zoo.cfg
Stopping zookeeper ... STOPPED&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;一旦我们的ZooKeeper实例运行，接下来要做的就是连接到它。 ZooKeeper附带默认的基于Java的命令行shell连接到ZooKeeper实例。 还有一个C语言版客户端。&lt;/p&gt;

&lt;p&gt;要启动基于Java的ZooKeeper命令行shell，我们只需要使用服务器IP和端口号运行ZK_HOME/bin目录下的zkCli.sh，如下所示：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;${ZK_HOME}/bin/zkCli.sh –server zk_server:port&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;在我们的例子中，我们在同一台机器上运行ZooKeeper服务器，所以ZooKeeper服务器是localhost，或者IP地址127.0.0.1。 配置的默认端口是2181：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ zkCli.sh -server localhost:2181&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;当我们连接到运行的ZooKeeper实例时，将看到与终端中的以下输出类似的输出（部分有省略）：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Connecting to localhost:2181
...............
...............
Welcome to ZooKeeper!
JLine support is enabled
...............
WATCHER::
WatchedEvent state:SyncConnected type:None path:null
[zk: localhost:2181(CONNECTED) 0]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;要查看ZooKeeper Java shell支持的命令列表，可以在shell提示符下运行&lt;code&gt;help&lt;/code&gt;命令：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[zk: localhost:2181(CONNECTED) 0] help
ZooKeeper -server host:port cmd args
  connect host:port
  get path [watch]
  ls path [watch]
  set path data [version]
  rmr path
  delquota [-n|-b] path
  quit 
  printwatches on|off
  create [-s] [-e] path data acl
  stat path [watch]
  close 
  ls2 path [watch]
  history 
  listquota path
  setAcl path acl
  getAcl path
  sync path
  redo cmdno
  addauth scheme auth
  delete path [version]
  setquota -n|-b val path&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;我们可以在命令行中执行一些简单的命令，运行&lt;code&gt;ls&lt;/code&gt;命令，与Unix效果一样：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[zk: localhost:2181(CONNECTED) 1] ls /
[zookeeper]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;现在，&lt;code&gt;ls&lt;/code&gt;命令返回一个名为&lt;code&gt;zookeeper&lt;/code&gt;的字符串，它是ZooKeeper术语中的称之为znode。 我们可以通过ZooKeeper shell创建一个znode，如下所示：&lt;/p&gt;
&lt;p&gt;首先，创建一个空数据的&lt;code&gt;HelloWorld&lt;/code&gt;的znode：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[zk: localhost:2181(CONNECTED) 2] create /HelloWorld &quot;&quot;
Created /HelloWorld
[zk: localhost:2181(CONNECTED) 3] ls /
[zookeeper, HelloWorld]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;可以使用&lt;code&gt;delete&lt;/code&gt;命令删除创建的znode，如下所示：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[zk: localhost:2181(CONNECTED) 4] delete /HelloWorld
[zk: localhost:2181(CONNECTED) 5] ls /
[zookeeper]&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;到目前为止，我们已经在单机（standalone）模式下设置了一个ZooKeeper服务器实例。 单机实例存在潜在的单点故障。 如果ZooKeeper服务器出现故障，则使用该实例进行分布式协调的整个应用程序将失败并停止运行。 因此，在实际生产环境中不推荐使用以单机模式运行ZooKeeper，尽管为了开发和测试的目的，是可以满足需求的。&lt;/p&gt;
&lt;p&gt;在生产环境中，ZooKeeper应该以复制模式运行在多台服务器上，也称为ZooKeeper集合。 最低推荐的服务器数量是三个，五个是生产环境中最常见的。 同一应用程序域中的复制服务器组称为quorum。 在此模式下，ZooKeeper服务器实例在多个不同的计算机上运行，quorum中的所有服务器都具有相同配置文件的副本。 在quorum中，ZooKeeper实例以领导者/跟随者模式运行。 其中一个实例被选为领导者，其他成员则成为追随者。 如果领导者失败，就会出现新的领导者选举，另一个正在执行的实例成为领导者。 然而，这些复杂性完全隐藏在使用ZooKeeper和开发人员的应用程序中。&lt;/p&gt;
&lt;p&gt;用于多节点模式的ZooKeeper配置文件类似于我们用于单个实例模式的配置文件， 示例配置文件如下所示：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tickTime=2000
dataDir=/var/lib/zookeeper
clientPort=2181
initLimit=5
syncLimit=2
server.1=zoo1:2888:3888
server.2=zoo2:2888:3888
server.3=zoo3:2888:3888&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;这两个配置参数也在这里说明一下：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;initLimit：这个参数是最初连接到领导者的跟随者的超时时间，以毫秒数表示&lt;/li&gt;
&lt;li&gt;syncLimit：指定追随者与领导者同步的超时时间&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;这两个超时是以心跳时间为单位指定的。 因此，在我们的示例中，initLimit的超时时间为2000毫秒为一个心跳一共五次心跳，或10秒钟。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server.id=host:port:port&lt;/code&gt;格式的上述示例中的其他三个条目是构成quorum的服务器列表。&lt;code&gt;.id&lt;/code&gt;标识符是一个数字，用于具有quorum主机名的服务器。 在我们的示例配置中，为&lt;code&gt;zoo1&lt;/code&gt;仲裁成员主机分配了一个标识符&lt;code&gt;1&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;需要在该服务器的数据目录中&lt;code&gt;myid&lt;/code&gt;的文件中指定标识符。 重要的是，&lt;code&gt;myid&lt;/code&gt;文件应该包含仅包含该服务器ID的文本（ASCII）的单行。 该集合中的id必须是唯一的，并且应该具有介于1到255之间的值。&lt;/p&gt;
&lt;p&gt;还有，我们在每个服务器主机名后面有两个端口号：2888和3888，这里解释说明：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;端口号2888，主要用于quorum中的对等通信，例如将追随者与领导者联系起来。一个追随者使用这个端口打开一个到领导者的TCP连接。&lt;/li&gt;
&lt;li&gt;端口号3888，用于领导者选举，以防新领导者出现在仲裁中。由于所有的通信都发生在TCP上，因此需要第二个端口来响应仲裁内部的领导选举。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在为quorum中的每个服务器设置配置文件后，我们需要启动ZooKeeper服务器实例。 该过程与单机模式相同。 我们必须连接到每个机器并执行以下命令：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;${ZK_HOME}/bin/zkServer.sh start&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;一旦实例成功启动，我们在每个机器上执行以下命令来检查实例状态：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;${ZK_HOME}/bin/zkServer.sh status&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;例如，检查下一个quorum：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[zoo1] # ${ZK_HOME}/bin/zkServer.sh status
JMX enabled by default
Using config: /usr/share/zookeeper-3.4.6/bin/../conf/zoo.cfg
Mode: follower
[zoo2] # ${ZK_HOME}/bin/zkServer.sh status
JMX enabled by default
Using config: /usr/share/zookeeper-3.4.6/bin/../conf/zoo.cfg
Mode: leader
[zoo3] # ${ZK_HOME}/bin/zkServer.sh status
JMX enabled by default
Using config: /usr/share/zookeeper-3.4.6/bin/../conf/zoo.cfg
Mode: follower&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;如前面的例子所示，zoo2是quorum的领导者，而zoo1和zoo3是追随者。 通过命令行shell连接到ZooKeeper的quorum与单机模式相同，除了在&lt;code&gt;${ZK_HOME}/bin/zkCli.sh&lt;/code&gt;命令中指定&lt;code&gt;host1:port2, host2:port2 …&lt;/code&gt;格式的连接字符串作为服务器的参数：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ zkCli.sh -server zoo1:2181,zoo2:2181,zoo3:2181
Connecting to zoo1:2181, zoo2:2181, zoo3:2181
… … … …
Welcome to ZooKeeper!
… … … …
[zk: zoo1:2181,zoo2:2181,zoo3:2181 (CONNECTED) 0]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;一旦ZooKeeper集群启动并运行，就可以使用Java管理扩展（JMX）和通过客户端口发送一些命令来监控它。&lt;/p&gt;

&lt;p&gt;也可以在单台机器上以多节点模式运行ZooKeeper。 这对于测试目的很有用。 要在同一台机器上运行多节点模式，我们需要调整一下配置；例如，我们可以将服务器名称设置为localhost，并指定唯一的quorum和领导者选举端口。&lt;/p&gt;
&lt;p&gt;我们使用以下配置文件，使用单台机器设置多节点ZooKeeper集群：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tickTime=2000
initLimit=5
syncLimit=2
dataDir=/var/lib/zookeeper
clientPort=2181
server.1=localhost:2666:3666
server.2=localhost:2667:3667
server.3=localhost:2668:3668&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;如上一节所述，服务器『X』的每个条目都指定『X』 ZooKeeper服务器使用的地址和端口号。 第一个字段是服务器『X』的主机名或IP地址。第二个和第三个字段分别是用于quorum通信和领导选举的TCP端口号。 当我们在同一台机器上启动三个ZooKeeper服务器实例时，我们需要为每个服务器条目使用不同的端口号。&lt;/p&gt;
&lt;p&gt;其次，当我们在同一台机器上运行多个ZooKeeper服务器进程时，需要为每个实例提供不同的客户端口。&lt;/p&gt;
&lt;p&gt;还有，还要为每个正在运行的实例自定义&lt;code&gt;dataDir&lt;/code&gt;参数。&lt;/p&gt;
&lt;p&gt;将所有这些参数放在一起，对于三个实例ZooKeeper集群，创建三个不同的配置文件。 将这些zoo1.cfg，zoo2.cfg和zoo3.cfg调用并保存在&lt;code&gt;${ZK_HOME}&lt;/code&gt;的conf目录中。 为&lt;code&gt;/var/lib/zookeeper&lt;/code&gt;中的实例（例如zoo1，zoo2和zoo3）创建三个不同的数据目录。 下面显示三个配置文件。&lt;/p&gt;
&lt;p&gt;以下是第一个实例的配置文件：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tickTime=2000
initLimit=5
syncLimit=2
dataDir=/var/lib/zookeeper/zoo1
clientPort=2181
server.1=localhost:2666:3666
server.2=localhost:2667:3667
server.3=localhost:2668:3668&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;第二个实例的配置文件：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tickTime=2000
initLimit=5
syncLimit=2
dataDir=/var/lib/zookeeper/zoo2
clientPort=2182
server.1=localhost:2666:3666
server.2=localhost:2667:3667
server.3=localhost:2668:3668&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;第三个也是最后一个配置文件：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tickTime=2000
initLimit=5
syncLimit=2
dataDir=/var/lib/zookeeper/zoo3
clientPort=2183
server.1=localhost:2666:3666
server.2=localhost:2667:3667
server.3=localhost:2668:3668&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;还需要在每个实例的myid文件中修复正确的服务ID参数。 可以使用以下三个命令完成：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ echo 1 &amp;gt; /var/lib/zookeeper/zoo1/myid
$ echo 2 &amp;gt; /var/lib/zookeeper/zoo2/myid
$ echo 3 &amp;gt; /var/lib/zookeeper/zoo3/myid&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;现在，都设置为启动ZooKeeper实例。 并开始运行以下实例：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ ${ZK_HOME}/bin/zkServer.sh start ${ZK_HOME}/conf/zoo1.cfg
$ ${ZK_HOME}/bin/zkServer.sh start ${ZK_HOME}/conf/zoo2.cfg
$ ${ZK_HOME}/bin/zkServer.sh start ${ZK_HOME}/conf/zoo3.cfg&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;一旦所有的实例启动完成，我们可以使用zkCli.sh脚本连接到多节点ZooKeeper集群，就像我们之前所做的那样：&lt;br/&gt;&lt;code&gt;$ ${ZK_HOME}/bin/zkCli.sh –server \ localhost:2181, localhost:2182, localhost:2183&lt;/code&gt;&lt;br/&gt;现在，我们有了运行在同一台机器上的三个节点ZooKeeper集群！&lt;/p&gt;
</description>
<pubDate>Mon, 30 Oct 2017 16:00:00 +0000</pubDate>
<dc:creator>林本托</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/IcanFixIt/p/7758432.html</dc:identifier>
</item>
<item>
<title>基于 webpack 的 chrome 扩展开发探索 - 韩子迟</title>
<link>http://www.cnblogs.com/zichi/p/7758146.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zichi/p/7758146.html</guid>
<description>&lt;p&gt;最近利用闲暇时间在进行一款 chrome 扩展 &lt;a href=&quot;https://github.com/hanzichi/v2ex-helper&quot;&gt;V2EX-HELPER&lt;/a&gt; 的开发（如果巧遇 V 友欢迎试用），今天把它彻底改成了用 webpack 打包依赖的模式，不由得感概 webpack 的强大，记录一二。&lt;/p&gt;

&lt;p&gt;之前的项目开发是非常传统的 chrome 扩展开发方式，代码可以猛戳 &lt;a href=&quot;https://github.com/hanzichi/v2ex-helper/tree/d7f0e688f84898a307f5279fbcac3f92206337f6&quot;&gt;这里&lt;/a&gt;。截止目前，该扩展主要由三部分组成，background-scripts，content-scripts 以及 option 页面。一开始做这个扩展的时候，只是为了实现一个功能，所以就一个 background.js 文件，一个 content.js 文件，甚至都不需要 option 页面，但是随着集成的功能越来越多，js 的依赖也越来越复杂。&lt;/p&gt;
&lt;p&gt;比如有一个查看对话详情的功能，manifest.json 文件中的 content_scripts 项是这样配置的：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;17&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt; &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;co&quot;&gt;// 对话详情&lt;/span&gt;
  &lt;span class=&quot;st&quot;&gt;&quot;matches&quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; [&lt;span class=&quot;st&quot;&gt;&quot;*://www.v2ex.com/t/*&quot;&lt;/span&gt;]&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;st&quot;&gt;&quot;js&quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; [
    &lt;span class=&quot;st&quot;&gt;&quot;content-scripts/lib/jquery.min.js&quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;st&quot;&gt;&quot;content-scripts/lib/jquery.modal.min.js&quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;st&quot;&gt;&quot;content-scripts/checkConversation/checkConversation.js&quot;&lt;/span&gt;
  ]&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;st&quot;&gt;&quot;css&quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; [
    &lt;span class=&quot;st&quot;&gt;&quot;styles/all.css&quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;st&quot;&gt;&quot;styles/lib/css-loader.css&quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;st&quot;&gt;&quot;styles/lib/jquery.modal.min.css&quot;&lt;/span&gt;
  ]&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;st&quot;&gt;&quot;run_at&quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;document_end&quot;&lt;/span&gt;
&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;也就是说，这个功能的实现，页面中插入了三个 js 文件和三个 css 文件。&lt;/p&gt;
&lt;p&gt;我们来看下当时主要文件结构：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;├── background-scripts
│   ├── background.js
│   ├── getCfg.js
│   ├── lib
│   └── notifications.js
├── content-scripts
│   ├── checkConversation
│   ├── checkReply
│   ├── lib
│   ├── signin
│   ├── uploadImg
│   └── zoom
├── manifest.json
├── option
│   ├── option.html
│   └── option.js
└── styles
    ├── all.css
    └── lib&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;在 content-scripts 目录下，我为每个功能新增了一个文件夹，然后相应的 js 文件放里面，因为可能会有文件的复用（比如多次复用 jquery），我把这类文件放到一个叫 lib 的目录下。其实理想的想法是，跟组件化思路类似，将一个功能的文件放到一个文件夹下，但是这样的话，可能 checkConversation 文件夹下会有个 jquery 文件，checkReply 文件夹下也有个 jquery 文件，有代码洁癖的人完全不能忍。而且，content_scripts 其实还配置了 css，我将它放在了独立的 styles 文件夹下，文件如此分散实际上相当难以维护。&lt;/p&gt;
&lt;p&gt;理想的目录结构可能会是这样：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;├── content-scripts
│   ├── checkConversation
│   │   └── checkConversation.js
│   │   └── jquery.min.js
│   │   └── A.css
│   ├── checkReply
│   │   ├── insertCheckBtn.js
│   │   └── jump.js
│   │   └── B.css&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;之后，background-scripts 中的文件也越来越多，因为逻辑放在一个文件实在是难以维护。&lt;/p&gt;

&lt;p&gt;决定采用 webpack 做打包工具后，问题迎刃而解。&lt;/p&gt;
&lt;p&gt;来看目前的主要文件结构：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;├── app
│   ├── background-scripts
│   │   ├── background.js
│   │   ├── checkConversation.js
│   │   ├── setNotifications.js
│   │   └── uploadImg.js
│   ├── content-scripts
│   │   ├── checkConversation
│   │   │   ├── checkConversation.js
│   │   │   └── sass
│   │   ├── checkReply
│   │   │   ├── insertCheckBtn.js
│   │   │   └── jump.js
│   │   ├── signin
│   │   │   └── signin.js
│   │   ├── uploadImg
│   │   │   ├── sass
│   │   │   └── uploadImg.js
│   │   └── zoom
│   │       └── zoom.js
│   ├── option
│   │   ├── option.html
│   │   └── option.js
│   ├── popup
│   │   ├── popup.html
│   │   └── popup.js
│   └── settings
│       └── settings.js
├── extension
│   ├── background-scripts
│   │   └── background.js
│   ├── content-scripts
│   │   ├── checkConversation
│   │   │   └── checkConversation.js
│   │   ├── checkReply
│   │   │   ├── insertCheckBtn.js
│   │   │   └── jump.js
│   │   ├── signin
│   │   │   └── signin.js
│   │   ├── uploadImg
│   │   │   └── uploadImg.js
│   │   └── zoom
│   │       └── zoom.js
│   ├── manifest.json
│   ├── option
│   │   ├── option.html
│   │   └── option.js
├── package.json
└── webpack.config.js&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;extension 文件夹內为最终的扩展打包文件，而 app 文件夹为原始开发文件，可以看到，一个独立的功能最终都被打包成了一个 js 文件，用了 npm 当作包管理工具，也不用怕文件多次复制的问题。而 webpack 一切皆为模块的思想，配合 ES6 的模块，成功将多个 js 以及 css 依赖，打包入一个文件，同时也简化了 manifest.json 文件中的 content_scripts 配置，不得不说这正是我期望的效果。&lt;/p&gt;
&lt;p&gt;webpack 的配置（webpack.config.js），多入口不用多说，jquery + jquery 插件的使用遇到了一点问题，记录如下。&lt;/p&gt;
&lt;p&gt;plugins 选项配置如下：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;11&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt;plugins&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; [
  &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;webpack&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;ProvidePlugin&lt;/span&gt;(&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;dt&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'jquery'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dt&quot;&gt;jQuery&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'jquery'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;st&quot;&gt;'window.jQuery'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'jquery'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;st&quot;&gt;'window.$'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'jquery'&lt;/span&gt;
  &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;)
]&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;module 中增加一条 rules（先 npm i expose-loader）：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;12&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt;&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;dt&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;require&lt;/span&gt;.&lt;span class=&quot;at&quot;&gt;resolve&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;'jquery'&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;dt&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; [&lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;dt&quot;&gt;loader&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'expose-loader'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dt&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'jQuery'&lt;/span&gt;
  &lt;span class=&quot;op&quot;&gt;},{&lt;/span&gt;
    &lt;span class=&quot;dt&quot;&gt;loader&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'expose-loader'&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dt&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'$'&lt;/span&gt;
  &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;]
&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后就可以全局使用 jQuery 了（无需另写代码引入），也可以在文件中使用 jquery 插件了。&lt;/p&gt;
&lt;p&gt;比如在查看对话功能中，使用了 jquery 以及 jquery.modal 这个 jquery 插件，js 文件中这样写（当然首先 npm i jquery-modal）：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;sourceCode js&quot;&gt;
&lt;code class=&quot;sourceCode javascript&quot;&gt;&lt;span class=&quot;im&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'jquery-modal/jquery.modal.min.css'&lt;/span&gt;
&lt;span class=&quot;im&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;'jquery-modal/jquery.modal.min.js'&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;随着对于 webpack 的了解逐渐加深，真心觉得真的是开发利器（当然 npm 也是不逞多让，两者配合开发真是爽歪歪）。&lt;/p&gt;
&lt;p&gt;其实现实工作开发中，webpack 甚至 react、vue 等框架我都还没用过，非常遗憾，有实际的开发需求肯定才有更大动力去探索和填坑，希望自己早日能接触到基于这类的开发吧。&lt;/p&gt;
</description>
<pubDate>Mon, 30 Oct 2017 15:08:00 +0000</pubDate>
<dc:creator>韩子迟</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/zichi/p/7758146.html</dc:identifier>
</item>
<item>
<title>JavaWeb之Eclipse中使用Maven构建SpringMVC项目 - 社会主义接班人</title>
<link>http://www.cnblogs.com/5ishare/p/7703513.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/5ishare/p/7703513.html</guid>
<description>&lt;p&gt;为了学习spring和maven我这也是拼了老命了,光使用maven配置springmvc我花了上周一周的时间，下班回来就搞，一直有bug，一个bug接着一个，昨天一整天都在解决配置的问题，让大学同学亲自出马，这里先谢谢蒙了，今天又专门跑去新天下，找之前公司的小伙伴来帮忙。我也是参考的网上的博客，不过根据参考的自己在配置过程中也出现了好多的坑。想着使用Maven配置springmvc主要是先大致的了解下maven和spring,然后再慢慢的深入的了解maven和spring。&lt;/p&gt;
&lt;p&gt;1.Eclipse创建Maven Project&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171024224245019-1212678227.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;2.选择Archetype，这里是创建web的项目，所以选择的是webapp&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171024230046566-296638837.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;3.输入GroupId,Artifact Id和Viesion,这样算是输入了坐标，方便以后查找。关于坐标是maven的概念，这个以后会经常用到。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171024230140769-1378806343.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;4.选中项目点右键找到属性，在build path中可以看到有几个文件不存在，可以按照缺失的增加上。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171024230317207-1979878450.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030212512058-721617523.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;5.配置仓库&lt;/p&gt;
&lt;p&gt;上面创建完成之后引入spring开始就bug一个接着一个，我现在pom.xml中配置了spring的几个部分，但是发现下面的错误，问了下同学告诉我说的仓库的问题，访问不了。建议使用阿里的国内的，于是我就重新设置了下仓库。需要在maven的安装目录下的conf/下的settings.xml中设置。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
   &amp;lt;localRepository&amp;gt;D:\Maven\repository&amp;lt;/localRepository&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&amp;lt;mirrors&amp;gt;节点中增加mirror.&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
     &amp;lt;mirror&amp;gt;
        &amp;lt;id&amp;gt;nexus-aliyun&amp;lt;/id&amp;gt;
        &amp;lt;mirrorOf&amp;gt;*&amp;lt;/mirrorOf&amp;gt;
        &amp;lt;name&amp;gt;Nexus aliyun&amp;lt;/name&amp;gt;
        &amp;lt;url&amp;gt;http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;maven.aliyun.com/nexus/content/groups/public&amp;lt;/url&amp;gt;&lt;/span&gt;
    &amp;lt;/mirror&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030213545761-119433357.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;然后cmd中mvn help:system下载仓库jar包。其中这里要重点说一下，还有一个地方也要设置。昨天找同学搞了半天一个地方就是这个原因导致的。这里也要注意下，昨天发现这里没有配置正确，导致可以访问jsp文件，但访问Controller时就报404的错误。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030214924418-307587422.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030214632605-1639062472.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;6.引入springmvc&lt;/p&gt;
&lt;p&gt;在pom.xml中引入jar包，下面的代码是正确的，但在这过程中也出现了好多坑，例如下面的错误&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030215653090-176349099.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这个bug是因为版本不一致导致的，在web.xml中设置的是3.0的，所以需要在下图选择比较新的，但直接修改又修改不了，需要在项目的.settings文件下的org.eclipse.wst.common.project.facet.core.xml中修改。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030220625246-207774656.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030220431168-1178242915.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030215808433-1177249056.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;上面的bug解决之后又出现了下面的一个bug。这个也是spring配置的问题，我在spring-mvc.xml中配置了了几个bean，因为引入的是spring5.0,所以我在每个xsd上加了个5.0.0的版本，导致报错。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030221122605-42781355.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;下面的地方我也配置错误了，因为项目的结构在上面有，我又在classpath:加了spring/:spring-mvc.xml导致获取不到。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030221309324-1071768758.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030220840527-438960205.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;上面的几个不过解决之后又报404的错误，仔细检查发现是一个点应该是英文，失误写成了中文，这些可是都通过了，以为可是能跑成功了，谁知又报500的错误。查看错误信息，看着像是关于jstl的，又找同事看了下，同事让加jstl和standard，于是我就在pom.xml中增加了两个依赖，可这次tomcat都启动不起来的，一直报java.lang.IndexOutOfBoundsException的错误，这也正是我今晚又去新天下找前同事的原因，我们开始觉得是tomcat的问题，于是又下载了tomcat7，还好我的流量多，直接用手机分享热点给电脑下载，可是还是出现这样的问题，于是就排除了tomcat的问题，因为在他电脑上就是可以运行的，我昨天找了一个QQ群的网友帮我看也是可以运行的，我们就怀疑上了是不是我的eclipse的问题，想着总不能还要重新下载eclipse吧，到最后实在是不知道哪出问题了，此时我也是头大，因为这个配置搞了一星期了，哎，同事说回办公室看看在他机子上运行的，我突然觉得不会又是仓库的问题吧，因为他报的错误就是关于jstl和standard的。于是我把pom.xml的依赖删除，把仓库中的jar删除，让它重新下载，当再次启动tomcat时，奇迹发生了，没有报错，输入url没想到成功了。哈哈哈。&lt;/p&gt;
&lt;p&gt;7.代码&lt;/p&gt;
&lt;p&gt;1.pom.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_57a6f084-c5b7-4b3e-95d0-8a533d9760fd&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_57a6f084-c5b7-4b3e-95d0-8a533d9760fd&quot; class=&quot;code_img_opened&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_57a6f084-c5b7-4b3e-95d0-8a533d9760fd&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&amp;lt;project xmlns=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://maven.apache.org/POM/4.0.0&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; xmlns:xsi=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
  xsi:schemaLocation&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;modelVersion&amp;gt;&lt;span&gt;4.0&lt;/span&gt;.&lt;span&gt;0&lt;/span&gt;&amp;lt;/modelVersion&amp;gt;
  &amp;lt;groupId&amp;gt;com.cuiyw&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;CywWebApp&amp;lt;/artifactId&amp;gt;
  &amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;
  &amp;lt;version&amp;gt;&lt;span&gt;0.0&lt;/span&gt;.&lt;span&gt;1&lt;/span&gt;-SNAPSHOT&amp;lt;/version&amp;gt;
  &amp;lt;name&amp;gt;CywWebApp Maven Webapp&amp;lt;/name&amp;gt;
  &amp;lt;url&amp;gt;http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;maven.apache.org&amp;lt;/url&amp;gt;&lt;/span&gt;
  
      &amp;lt;!-- 定义maven变量 --&amp;gt;
    &amp;lt;properties&amp;gt;
        &amp;lt;!-- spring --&amp;gt;
        &amp;lt;spring.version&amp;gt;&lt;span&gt;5.0&lt;/span&gt;.&lt;span&gt;0&lt;/span&gt;.RELEASE&amp;lt;/spring.version&amp;gt;
        &amp;lt;!-- log --&amp;gt;
        &amp;lt;commons-logging.version&amp;gt;&lt;span&gt;1.1&lt;/span&gt;.&lt;span&gt;3&lt;/span&gt;&amp;lt;/commons-logging.version&amp;gt;
        &amp;lt;!-- Servlet --&amp;gt;
        &amp;lt;servlet.version&amp;gt;&lt;span&gt;3.0&lt;/span&gt;.&lt;span&gt;1&lt;/span&gt;&amp;lt;/servlet.version&amp;gt;
        &amp;lt;jsp-api.version&amp;gt;&lt;span&gt;2.2&lt;/span&gt;&amp;lt;/jsp-api.version&amp;gt;
        &amp;lt;!-- test --&amp;gt;
        &amp;lt;junit.version&amp;gt;&lt;span&gt;3.8&lt;/span&gt;.&lt;span&gt;1&lt;/span&gt;&amp;lt;/junit.version&amp;gt;
        &amp;lt;!-- jdk --&amp;gt;
        &amp;lt;jdk.version&amp;gt;&lt;span&gt;1.8&lt;/span&gt;&amp;lt;/jdk.version&amp;gt;
        &amp;lt;jstl.version&amp;gt;&lt;span&gt;1.2&lt;/span&gt;&amp;lt;/jstl.version&amp;gt;
        &amp;lt;standard.version&amp;gt;&lt;span&gt;1.1&lt;/span&gt;.&lt;span&gt;2&lt;/span&gt;&amp;lt;/standard.version&amp;gt;
        &amp;lt;maven.compiler.plugin.version&amp;gt;&lt;span&gt;2.3&lt;/span&gt;.&lt;span&gt;2&lt;/span&gt;&amp;lt;/maven.compiler.plugin.version&amp;gt;
    &amp;lt;/properties&amp;gt;
    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-core&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-beans&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-context&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-jdbc&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;


        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-expression&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-web&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-webmvc&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;

        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-tx&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${spring.version}&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt; 
            &amp;lt;groupId&amp;gt;javax.servlet&amp;lt;/groupId&amp;gt; 
             &amp;lt;artifactId&amp;gt;jstl&amp;lt;/artifactId&amp;gt;
             &amp;lt;version&amp;gt;${jstl.version}&amp;lt;/version&amp;gt; 
        &amp;lt;/dependency&amp;gt; 

        &amp;lt;dependency&amp;gt; 
             &amp;lt;groupId&amp;gt;taglibs&amp;lt;/groupId&amp;gt; 
           &amp;lt;artifactId&amp;gt;standard&amp;lt;/artifactId&amp;gt;
           &amp;lt;version&amp;gt;${standard.version}&amp;lt;/version&amp;gt; 
        &amp;lt;/dependency&amp;gt; 

        &amp;lt;!-- Servlet --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;javax.servlet&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;javax.servlet-api&amp;lt;/artifactId&amp;gt;
             &amp;lt;version&amp;gt;${servlet.version}&amp;lt;/version&amp;gt;
            &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;javax.servlet.jsp&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;jsp-api&amp;lt;/artifactId&amp;gt;
             &amp;lt;version&amp;gt;${jsp-api.version}&amp;lt;/version&amp;gt;
            &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
        

        &amp;lt;!-- test --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${junit.version}&amp;lt;/version&amp;gt;
            &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
        
    &amp;lt;/dependencies&amp;gt;
  &amp;lt;build&amp;gt;
          &amp;lt;plugins&amp;gt;
            &amp;lt;!-- define the project compile level --&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;${maven.compiler.plugin.version}&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;source&amp;gt;${jdk.version}&amp;lt;/source&amp;gt;
                    &amp;lt;target&amp;gt;${jdk.version}&amp;lt;/target&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;finalName&amp;gt;CywWebApp&amp;lt;/finalName&amp;gt;
    
  &amp;lt;/build&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;2.web.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_64b45042-2e31-47d1-9c6f-24819c716966&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_64b45042-2e31-47d1-9c6f-24819c716966&quot; class=&quot;code_img_opened&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_64b45042-2e31-47d1-9c6f-24819c716966&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&amp;lt;?xml version=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1.0&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; encoding=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;UTF-8&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;web-app xmlns:xsi=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xmlns&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://java.sun.com/xml/ns/javaee&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    id&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;WebApp_ID&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; version=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;3.0&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;display-name&amp;gt;test-spring&amp;lt;/display-name&amp;gt;

    &amp;lt;!-- 指定Spring Bean的配置文件所在目录。默认配置在WEB-INF目录下 --&amp;gt;
    &amp;lt;context-param&amp;gt;
        &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
        &amp;lt;param-value&amp;gt;classpath:spring-content.xml&amp;lt;/param-value&amp;gt;
    &amp;lt;/context-param&amp;gt;

    &amp;lt;!-- Spring配置 --&amp;gt;
    &amp;lt;listener&amp;gt;
        &amp;lt;listener-&lt;span&gt;class&lt;/span&gt;&amp;gt;org.springframework.web.context.ContextLoaderListener&amp;lt;/listener-&lt;span&gt;class&lt;/span&gt;&amp;gt;
    &amp;lt;/listener&amp;gt;

    &amp;lt;!-- Spring MVC配置 --&amp;gt;
    &amp;lt;servlet&amp;gt;
        &amp;lt;servlet-name&amp;gt;spring&amp;lt;/servlet-name&amp;gt;
        &amp;lt;servlet-&lt;span&gt;class&lt;/span&gt;&amp;gt;org.springframework.web.servlet.DispatcherServlet&amp;lt;/servlet-&lt;span&gt;class&lt;/span&gt;&amp;gt;
        &amp;lt;!-- 可以自定义servlet.xml配置文件的位置和名称，默认为WEB-INF目录下，名称为[&amp;lt;servlet-name&amp;gt;]-servlet.xml，如spring-servlet.xml --&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;classpath:spring-mvc.xml&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
        &amp;lt;load-on-startup&amp;gt;&lt;span&gt;1&lt;/span&gt;&amp;lt;/load-on-startup&amp;gt;
    &amp;lt;/servlet&amp;gt;

    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;servlet-name&amp;gt;spring&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;*.&lt;span&gt;do&lt;/span&gt;&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;

    &amp;lt;!-- 中文过滤器 --&amp;gt;
    &amp;lt;filter&amp;gt;
        &amp;lt;filter-name&amp;gt;CharacterEncodingFilter&amp;lt;/filter-name&amp;gt;
        &amp;lt;filter-&lt;span&gt;class&lt;/span&gt;&amp;gt;org.springframework.web.filter.CharacterEncodingFilter&amp;lt;/filter-&lt;span&gt;class&lt;/span&gt;&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;encoding&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;UTF-&lt;span&gt;8&lt;/span&gt;&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;forceEncoding&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;&lt;span&gt;true&lt;/span&gt;&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
    &amp;lt;/filter&amp;gt;
    &amp;lt;filter-mapping&amp;gt;
        &amp;lt;filter-name&amp;gt;CharacterEncodingFilter&amp;lt;/filter-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/filter-mapping&amp;gt;

    &amp;lt;welcome-file-list&amp;gt;
        &amp;lt;welcome-file&amp;gt;index.jsp&amp;lt;/welcome-file&amp;gt;
    &amp;lt;/welcome-file-list&amp;gt;
&amp;lt;/web-app&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;3.spring-mvc.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;&lt;img id=&quot;code_img_closed_31d31489-5e03-496b-ac29-0fbcbed2b013&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_31d31489-5e03-496b-ac29-0fbcbed2b013&quot; class=&quot;code_img_opened&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_31d31489-5e03-496b-ac29-0fbcbed2b013&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;61&quot;&gt;
&lt;pre&gt;
&amp;lt;?xml version=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1.0&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; encoding=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;UTF-8&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; standalone=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;no&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;beans xmlns=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/beans&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:context&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/context&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:aop&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/aop&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; xmlns:mvc=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/mvc&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:p&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/p&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; xmlns:xsi=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/beans  http://www.springframework.org/schema/beans/spring-beans.xsd &lt;/span&gt;
        http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.springframework.org/schema/context &lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/context/spring-context.xsd&lt;/span&gt;
        http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.springframework.org/schema/mvc &lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/mvc/spring-mvc.xsd&lt;/span&gt;
        http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.springframework.org/schema/aop &lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/aop/spring-aop.xsd&lt;/span&gt;&lt;span&gt;&quot;&amp;gt;&lt;/span&gt;

    &amp;lt;!-- 自动扫描的包名 --&amp;gt;
    &amp;lt;context:component-scan &lt;span&gt;base&lt;/span&gt;-package=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;com.cyw.web.Controller&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt;

    &amp;lt;!-- 默认的注解映射的支持 --&amp;gt;
    
    &amp;lt;mvc:annotation-driven&amp;gt;
    
       &amp;lt;mvc:message-converters&amp;gt;
            &amp;lt;bean &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;org.springframework.http.converter.StringHttpMessageConverter&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt;
            &amp;lt;&lt;span&gt;bean
                &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;org.springframework.http.converter.ResourceHttpMessageConverter&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;/mvc:message-converters&amp;gt;
    &amp;lt;/mvc:annotation-driven&amp;gt;
    
    
    &amp;lt;!-- 视图解释类,定义跳转的文件的前后缀 --&amp;gt;
    &amp;lt;!-- &amp;lt;bean &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;org.springframework.web.servlet.view.InternalResourceViewResolver&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt; 
        &amp;lt;property name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;viewClass&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; value=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;org.springframework.web.servlet.view.JstlView&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; 
        /&amp;gt; &amp;lt;property name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;prefix&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; value=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/views/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt; &amp;lt;property name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;suffix&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; value=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.jsp&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; 
        /&amp;gt; &amp;lt;property name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;requestContextAttribute&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; value=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;rc&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt; &amp;lt;/bean&amp;gt; --&amp;gt;
    &amp;lt;bean id=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;viewResolver&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;
        &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;org.springframework.web.servlet.view.InternalResourceViewResolver&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;property name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;viewClass&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
            value&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;org.springframework.web.servlet.view.JstlView&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;property name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;prefix&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; value=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/view/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;property name=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;suffix&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; value=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.jsp&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt;
    &amp;lt;/bean&amp;gt;


    &amp;lt;!-- 拦截器 --&amp;gt;
    &amp;lt;!-- &amp;lt;mvc:interceptors&amp;gt; &amp;lt;bean &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;com.fpx.ce.foundation.preference.PreferenceChangeInterceptor&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; 
        /&amp;gt; &amp;lt;mvc:interceptor&amp;gt; &amp;lt;mvc:mapping path=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/page/home&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt; &amp;lt;bean &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;com.fpx.ce.foundation.user.UserInterceptor&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; 
        /&amp;gt; &amp;lt;/mvc:interceptor&amp;gt; &amp;lt;mvc:interceptor&amp;gt; &amp;lt;mvc:mapping path=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/service/**&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt; 
        &amp;lt;bean &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;com.fpx.ce.foundation.log.LogHandlerInterceptor&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt; &amp;lt;/mvc:interceptor&amp;gt; 
        &amp;lt;mvc:interceptor&amp;gt; &amp;lt;mvc:mapping path=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/test/**&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt; &amp;lt;mvc:mapping path=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/service/**&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; 
        /&amp;gt; &amp;lt;bean &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;com.lemon.finder.web.SharedRenderVariableInterceptor&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt; 
        &amp;lt;/mvc:interceptor&amp;gt; &amp;lt;/mvc:interceptors&amp;gt; --&amp;gt;


    &amp;lt;!-- 对静态资源文件的访问 方案一 （二选一） --&amp;gt;
    &amp;lt;mvc:&lt;span&gt;default&lt;/span&gt;-servlet-handler /&amp;gt;

    &amp;lt;!-- 对静态资源文件的访问 方案二 （二选一） --&amp;gt;
    &amp;lt;!-- &amp;lt;mvc:resources mapping=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/images/**&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; location=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/images/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; cache-period=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;31556926&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt; 
        &amp;lt;mvc:resources mapping=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/js/**&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; location=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/js/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; cache-period=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;31556926&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt; 
        &amp;lt;mvc:resources mapping=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/css/**&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; location=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/css/&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; cache-period=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;31556926&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;/&amp;gt; --&amp;gt;
&amp;lt;/beans&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;4.spring-content.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_1dc0dcf2-7670-459c-a1a8-8bd900a96aa7&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_1dc0dcf2-7670-459c-a1a8-8bd900a96aa7&quot; class=&quot;code_img_opened&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_1dc0dcf2-7670-459c-a1a8-8bd900a96aa7&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&amp;lt;?xml version=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1.0&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; encoding=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;UTF-8&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;beans xmlns=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/beans&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; xmlns:xsi=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; xmlns:mvc=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/mvc&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:context&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/context&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; xmlns:tx=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/tx&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; xmlns:util=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/util&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:aop&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/aop&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/span&gt;
        http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.springframework.org/schema/mvc &lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/mvc/spring-mvc.xsd&lt;/span&gt;    
        http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.springframework.org/schema/context &lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/context/spring-context.xsd&lt;/span&gt;
        http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.springframework.org/schema/util &lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/util/spring-util.xsd&lt;/span&gt;
        http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.springframework.org/schema/tx &lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/tx/spring-tx.xsd&lt;/span&gt;
        http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;www.springframework.org/schema/aop &lt;/span&gt;&lt;span&gt;http://www.springframework.org/schema/aop/spring-aop.xsd&lt;/span&gt;&lt;span&gt;&quot;&amp;gt;&lt;/span&gt;

    
    &amp;lt;!-- 注解注册 --&amp;gt;
      
    &amp;lt;context:annotation-config /&amp;gt;
    
    &amp;lt;context:component-scan &lt;span&gt;base&lt;/span&gt;-package=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;com.cyw.web.Controller&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; /&amp;gt;
    
&amp;lt;/beans&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;5.创建Controller，添加注解，在上面的配置文件中也有注册注解。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32.5&quot;&gt;&lt;img id=&quot;code_img_closed_8fb92080-e860-4ec6-97eb-ab5dfd7f6e0e&quot; class=&quot;code_img_closed&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_8fb92080-e860-4ec6-97eb-ab5dfd7f6e0e&quot; class=&quot;code_img_opened&quot; src=&quot;http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_8fb92080-e860-4ec6-97eb-ab5dfd7f6e0e&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;60&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package com.cyw.web.Controller;

import javax.servlet.http.HttpServletRequest;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;

@Controller
@RequestMapping(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/index&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; IndexController {

    @RequestMapping(value&lt;/span&gt;=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;/hello.do&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
   
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; ModelAndView getTest(HttpServletRequest request){
        ModelAndView modelAndView &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; ModelAndView(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;HelloWorld&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; modelAndView;
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;6.在webapp下创建view文件夹，然后在view下创建HelloWorld.jsp&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030223426199-1037750588.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;7.整个的项目结构&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030223523152-1604376332.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/733213/201710/733213-20171030224219480-1992387405.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;最后要吐槽下，学习java真时麻烦，各种坑。&lt;/p&gt;

</description>
<pubDate>Mon, 30 Oct 2017 14:38:00 +0000</pubDate>
<dc:creator>社会主义接班人</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/5ishare/p/7703513.html</dc:identifier>
</item>
<item>
<title>SpringMVC的流程分析（一）—— 整体流程概括 - 周小小儿java</title>
<link>http://www.cnblogs.com/zcmzex/p/7738027.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zcmzex/p/7738027.html</guid>
<description>&lt;p&gt;之前也写过springmvc的流程分析，只是当时理解的还不透彻所以那篇文章就放弃了，现在比之前好了些，想着写下来分享下，也能增强记忆，也希望可以帮助到别人，如果文章中有什么错误的地方欢迎各位指出。（本文针对有一定的springmvc使用经验的it人员）。&lt;/p&gt;
&lt;h2&gt;1.springmvc存在的意义&lt;/h2&gt;
&lt;p&gt;　　任何一个框架都有其存在的价值，可以或多或少帮助我们解决一个繁琐的问题，springmvc也不例外，说白了其实他也没啥了不起，他就是个彻头彻尾的Servlet，&lt;/p&gt;
&lt;p&gt;一个封装许多任务的servlet，正是这些封装我们才感觉不到他单单是个servlet，因为他太厉害了，每个人在使用的时候应该都有过配置web.xml的经验，其中可以清晰的看到springmvc的配置，如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
 &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;springmvc&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.web.servlet.DispatcherServlet&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;contextConfigLocation&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
      &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;/WEB-INF/classes/spring/spring-servlet.xml&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
 &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;springmvc&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;/&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　我们可以看到springmvc的配置就是一个servlet的配置，对所有的url进行拦截。所以我们可以总结springmvc的作用：作为一个总的servlet对客户端的请求进行分发，然后对不同的请求处理，并返回相应的数据。&lt;/p&gt;
&lt;h2&gt;2.springmvc的设计类图&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;http://images2017.cnblogs.com/blog/1016414/201710/1016414-20171030212139058-1684200808.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;3.springmvc的入口&lt;/h2&gt;
&lt;p&gt;　　上图中黄色标识的DispatcherServlet就是sprigmvc请求的核心入口类，可以看到这类通过FrameworkServelt间接继承了HttpServletBean，FrameworkServelt实现了ApplicationContextAware，用来设置springmvc的全局上下文，当客户发送请求时会先进入DispatcherServlet的doService方法：&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;span&gt;protected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception {
  
       //省略不重要代码。。。
        try {
            this.doDispatch(request, response);
        } finally {
            if (!WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted() &amp;amp;&amp;amp; attributesSnapshot1 != null) {
                this.restoreAttributesAfterInclude(request, attributesSnapshot1);
            }
        }

    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; 　　其实是调用了&lt;em&gt;&lt;strong&gt;doDispatch&lt;/strong&gt;&lt;/em&gt;方法，这个方法十分重要，基本上对请求的所有处理都是在这个方法中完成的：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;56&quot;&gt;
&lt;pre&gt;
&lt;span&gt;protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {
        HttpServletRequest processedRequest = request;
        HandlerExecutionChain mappedHandler = null;
        boolean multipartRequestParsed = false;
        WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);

        try {
            try {
                ModelAndView err = null;
                Exception dispatchException = null;

                try {
                    processedRequest = this.checkMultipart(request);
                    multipartRequestParsed = processedRequest != request;
                    mappedHandler = this.getHandler(processedRequest);
                    if (mappedHandler == null || mappedHandler.getHandler() == null) {
                        this.noHandlerFound(processedRequest, response);
                        return;
                    }

                    HandlerAdapter ex = this.getHandlerAdapter(mappedHandler.getHandler());
                    String method = request.getMethod();
                    boolean isGet = &quot;GET&quot;.equals(method);
                    if (isGet || &quot;HEAD&quot;.equals(method)) {
                        long lastModified = ex.getLastModified(request, mappedHandler.getHandler());
                        if (this.logger.isDebugEnabled()) {
                            this.logger.debug(
                                    &quot;Last-Modified value for [&quot; + getRequestUri(request) + &quot;] is: &quot; + lastModified);
                        }

                        if ((new ServletWebRequest(request, response)).checkNotModified(lastModified) &amp;amp;&amp;amp; isGet) {
                            return;
                        }
                    }

                    if (!mappedHandler.applyPreHandle(processedRequest, response)) {
                        return;
                    }

                    err = ex.handle(processedRequest, response, mappedHandler.getHandler());
                    if (asyncManager.isConcurrentHandlingStarted()) {
                        return;
                    }

                    this.applyDefaultViewName(request, err);
                    mappedHandler.applyPostHandle(processedRequest, response, err);
                } catch (Exception arg18) {
                    dispatchException = arg18;
                }

                this.processDispatchResult(processedRequest, response, mappedHandler, err, dispatchException);
            } catch (Exception arg19) {
                this.triggerAfterCompletion(processedRequest, response, mappedHandler, arg19);
            } catch (Error arg20) {
                this.triggerAfterCompletionWithError(processedRequest, response, mappedHandler, arg20);
            }

        } finally {
            if (asyncManager.isConcurrentHandlingStarted()) {
                if (mappedHandler != null) {
                    mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response);
                }
            } else if (multipartRequestParsed) {
                this.cleanupMultipart(processedRequest);
            }
　　　　　　　
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;首先一上来是检查是否是文件上传请求，（这个检查的目的是为了在finally中清除文件上传相应的信息），然后就是获取handler&lt;/p&gt;
&lt;pre&gt;
&lt;span&gt;  mappedHandler = this.getHandler(processedRequest);&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;　　什么是handler呢？其实handler是springmvc自己定义的一个处理具体请求的不同类的总称，我们知道客户端的请求有很多类型，例如静态资源的请求，动态资源的请求，restful风格的请求，也可能有原始servlet类型的请求，这些处理类的总称就是handler,具体如何得到handler我会另起一个章节讲解。好了，得到了hander（处理请求类）后我们是不是可以直接来处理请求了呢，就像这样：&lt;br/&gt;　　handler.methodname(request,response);&lt;br/&gt;其实还真是这样，哈哈，肯定是这样的呀，不过人家springmvc的设计者比咱们高明多了，才不会这么lou的写，好了，我们看看他们是怎么高明的吧：&lt;/p&gt;
&lt;pre&gt;
&lt;span&gt;  HandlerAdapter ex = this.getHandlerAdapter(mappedHandler.getHandler());&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;　　HandlerAdapter？这是什么鬼呀，怎么得到了handler怎么还在得到HandlerAdapter呢，其实这就是人家的高明之处了，这里使用了适配器设计模式，每一种handler都会有一个对应的适配器，这样子我们就不用每次都判断handler的类型，然后调用不同的方法了，举个例子：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
class Handler1{&lt;br/&gt;　　Object handle1(HttpRequest request,HttpResponse response){&lt;br/&gt;　　　　&lt;br/&gt;　　}&lt;br/&gt;}
&lt;/pre&gt;
&lt;pre&gt;
class Handler2{&lt;br/&gt;　　Object handle2(HttpRequest request,HttpResponse response){&lt;br/&gt;　　　　&lt;br/&gt;　　}&lt;br/&gt;}
&lt;/pre&gt;
&lt;pre&gt;
class Handler3{&lt;br/&gt;　　Object handle3(HttpRequest request,HttpResponse response){&lt;br/&gt;　　　　&lt;br/&gt;　　}&lt;br/&gt;}
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这里有3个处理类，正常我们的调用是这样的：　　&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
if (handle instanceof Handler1) {&lt;br/&gt;　　handle.handle1();&lt;br/&gt;}
&lt;/pre&gt;
&lt;pre&gt;
if (handle instanceof Handler2) {&lt;br/&gt;　　handle.handle2();&lt;br/&gt;}
&lt;/pre&gt;
&lt;pre&gt;
if (handle instanceof Handler3) {&lt;br/&gt;　　handle.handle3();&lt;br/&gt;}
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;　　如果我们此时又多了一个Handler4怎么办，难道们需要更改Springmvc的源代码吗，这显然不符合代码设计的开闭原则，适配器模式就是解决这个问题的最好方式每一个处理器都要有一个对应的适配器，这样我们就可以不用更改源代码也能添加handler了。&lt;br/&gt;　　接下来我们看到&lt;/p&gt;
&lt;pre&gt;
&lt;span&gt; err = ex.handle(processedRequest, response, mappedHandler.getHandler());&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;　　这个方法是请求的最终执行，不同类型的handler会有不同的实现，当处理器处理完各自的逻辑后都会放回一个ModelAndView参数，ModelAndView是springmvc对处理器返回的结果的抽象，不论处理器实际返回的是什么，Springmvc都会讲他包装成为ModelAndView，然后对ModelAndView进行处理，这里很有意思，也给我们一种启发，如果我们会得到很多不同的结果，我们可以将它抽象为一个统一的类型数据，然后针对这个类型的数据进行统一的处理，这样我们就可以不用针对每种情况后处理了。&lt;br/&gt;　　最后，Spingmvc会对ModelAndView进行处理，然后返回给浏览器。&lt;/p&gt;
&lt;pre readability=&quot;6&quot;&gt;
&lt;span readability=&quot;6&quot;&gt; this.processDispatchResult(processedRequest, response, mappedHandler, err, dispatchException);&lt;p&gt;上面这个方法就是对ModelAndView的处理。至此，springmvc的大体流程就结束了。以上只是我对springmvc的一个整体概述，之后我还会讲解Springmvc的Handler,HandlerAdapter,视图处理，拦截器，异常处理等内容。&lt;/p&gt;&lt;/span&gt;
&lt;/pre&gt;

</description>
<pubDate>Mon, 30 Oct 2017 14:25:00 +0000</pubDate>
<dc:creator>周小小儿java</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/zcmzex/p/7738027.html</dc:identifier>
</item>
</channel>
</rss>