<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>博客园_首页</title>
<link></link>
<description>代码改变世界</description>
<item>
<title>Django-Filter源码解析一 - banananana</title>
<link>http://www.cnblogs.com/George1994/p/9739042.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/George1994/p/9739042.html</guid>
<description>&lt;p&gt;&lt;span&gt;最近在看Django-FIlter项目的源码，学习一下别人的开发思想；&lt;/span&gt;&lt;/p&gt;

&lt;h2&gt;&lt;span&gt;整体介绍&lt;/span&gt;&lt;/h2&gt;

&lt;p&gt;&lt;span&gt;首先，我从其中一个测试用例作为入口，开始了debug之路，一点一点的断点，分析它的执行顺序，如图：&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span data-src=&quot;http://odwv9d2u8.bkt.clouddn.com/18-10-3/85959557.jpg&quot; contenteditable=&quot;false&quot;&gt;&lt;img src=&quot;http://odwv9d2u8.bkt.clouddn.com/18-10-3/85959557.jpg&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span&gt;ok，下面从代码的层面进行分析：&lt;/span&gt;&lt;/p&gt;

&lt;ol readability=&quot;4.8730964467005&quot;&gt;&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;span&gt;url&lt;/span&gt;&lt;/p&gt;
&lt;pre contenteditable=&quot;false&quot; spellcheck=&quot;false&quot;&gt;
&lt;span&gt;&lt;span&gt;url&lt;/span&gt;(&lt;span&gt;r'^books/$'&lt;/span&gt;, &lt;span&gt;FilterView&lt;/span&gt;.&lt;span&gt;as_view&lt;/span&gt;(&lt;span&gt;model&lt;/span&gt;=&lt;span&gt;Book&lt;/span&gt;)),&lt;/span&gt;
&lt;/pre&gt;

&lt;/li&gt;
&lt;li readability=&quot;8.7486033519553&quot;&gt;
&lt;p&gt;&lt;span&gt;view函数，这里的实现方式应该是借鉴了Django中自带的ListView，其同样的继承了MultipleObjectTemplateResponseMixin, BaseListView，继承的好处在于可以复用其已经封装好的方法，最终可以简单的实现展示，&lt;/span&gt;&lt;span&gt;&lt;a spellcheck=&quot;false&quot; href=&quot;https://www.cnblogs.com/yukityan/p/8039041.html&quot;&gt;&lt;span&gt;详情可以看&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre spellcheck=&quot;false&quot; contenteditable=&quot;false&quot;&gt;
&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;FilterView&lt;/span&gt;(&lt;span&gt;MultipleObjectTemplateResponseMixin&lt;/span&gt;, &lt;span&gt;BaseFilterView&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    Render some list of objects with filter, set by `self.model` or&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    `self.queryset`.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    `self.queryset` can actually be any iterable of items, not just a queryset.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;template_name_suffix&lt;/span&gt; = &lt;span&gt;'_filter'&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;

&lt;/li&gt;
&lt;/ol&gt;&lt;ol start=&quot;3&quot; readability=&quot;14.5&quot;&gt;&lt;li readability=&quot;11&quot;&gt;
&lt;p&gt;&lt;span&gt;基础过滤view，这里做的就是类似BaseListView的功能，获取计算出来的查询集，将结果渲染后返回；&lt;/span&gt;&lt;/p&gt;
&lt;pre spellcheck=&quot;false&quot; contenteditable=&quot;false&quot;&gt;
&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;BaseFilterView&lt;/span&gt;(&lt;span&gt;FilterMixin&lt;/span&gt;, &lt;span&gt;MultipleObjectMixin&lt;/span&gt;, &lt;span&gt;View&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    显示对象的过滤功能的基view，实现的方式类似BaseListView&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;get&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;, &lt;span&gt;request&lt;/span&gt;, &lt;span&gt;*&lt;/span&gt;&lt;span&gt;args&lt;/span&gt;, &lt;span&gt;**&lt;/span&gt;&lt;span&gt;kwargs&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# 获取过滤的类&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;filterset_class&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;get_filterset_class&lt;/span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# 传入类，构造参数，返回类的对象&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filterset&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;get_filterset&lt;/span&gt;(&lt;span&gt;filterset_class&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# 重新赋值MultipleObjectMixin中的object_list&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filterset&lt;/span&gt;.&lt;span&gt;is_valid&lt;/span&gt;() &lt;span&gt;or&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;get_strict&lt;/span&gt;():&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;object_list&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filterset&lt;/span&gt;.&lt;span&gt;qs&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;object_list&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filterset&lt;/span&gt;.&lt;span&gt;queryset&lt;/span&gt;.&lt;span&gt;none&lt;/span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;context&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;get_context_data&lt;/span&gt;(&lt;span&gt;filter&lt;/span&gt;=&lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filterset&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                                        &lt;span&gt;object_list&lt;/span&gt;=&lt;span&gt;self&lt;/span&gt;.&lt;span&gt;object_list&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;render_to_response&lt;/span&gt;(&lt;span&gt;context&lt;/span&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;li readability=&quot;15&quot;&gt;
&lt;p&gt;&lt;span&gt;接下来就分成三件事：a.获取过滤类，b.根据过滤类获取过滤对象，c.过滤，下面的代码就做到了前面两步；&lt;/span&gt;&lt;/p&gt;
&lt;pre spellcheck=&quot;false&quot; contenteditable=&quot;false&quot;&gt;
&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;FilterMixin&lt;/span&gt;(&lt;span&gt;metaclass&lt;/span&gt;=&lt;span&gt;FilterMixinRenames&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    A mixin that provides a way to show and handle a FilterSet in a request.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    提供控制过滤的方法&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;    &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;get_filterset_class&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        Returns the filterset class to use in this view&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        返回过滤类&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filterset_class&lt;/span&gt;:  &lt;span&gt;# 避免重复创建&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filterset_class&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;elif&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;model&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;# 使用了工厂模式&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;filterset_factory&lt;/span&gt;(&lt;span&gt;model&lt;/span&gt;=&lt;span&gt;self&lt;/span&gt;.&lt;span&gt;model&lt;/span&gt;, &lt;span&gt;fields&lt;/span&gt;=&lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filterset_fields&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;msg&lt;/span&gt; = &lt;span&gt;&quot;'%s' must define 'filtserset_class' or 'model'&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;raise&lt;/span&gt; &lt;span&gt;ImproperlyConfigured&lt;/span&gt;(&lt;span&gt;msg&lt;/span&gt; &lt;span&gt;%&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;__class__&lt;/span&gt;.&lt;span&gt;__name__&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;get_filterset&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;, &lt;span&gt;filterset_class&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        Returns an instance of the filterset to be used in this view.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;kwargs&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;get_filterset_kwargs&lt;/span&gt;(&lt;span&gt;filterset_class&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;filterset_class&lt;/span&gt;(&lt;span&gt;**&lt;/span&gt;&lt;span&gt;kwargs&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;filterset_factory&lt;/span&gt;(&lt;span&gt;model&lt;/span&gt;, &lt;span&gt;fields&lt;/span&gt;=&lt;span&gt;ALL_FIELDS&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;# 根据model生成相对应的FilterSet，比如model是Book，那么就会生成BookFilterSet的实例&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;meta&lt;/span&gt; = &lt;span&gt;type&lt;/span&gt;(&lt;span&gt;str&lt;/span&gt;(&lt;span&gt;'Meta'&lt;/span&gt;), (&lt;span&gt;object&lt;/span&gt;,), {&lt;span&gt;'model'&lt;/span&gt;: &lt;span&gt;model&lt;/span&gt;, &lt;span&gt;'fields'&lt;/span&gt;: &lt;span&gt;fields&lt;/span&gt;})&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;# 使用type进行创建类，并且继承了FilterSet类&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;filterset&lt;/span&gt; = &lt;span&gt;type&lt;/span&gt;(&lt;span&gt;str&lt;/span&gt;(&lt;span&gt;'%sFilterSet'&lt;/span&gt; &lt;span&gt;%&lt;/span&gt; &lt;span&gt;model&lt;/span&gt;.&lt;span&gt;_meta&lt;/span&gt;.&lt;span&gt;object_name&lt;/span&gt;),&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                     (&lt;span&gt;FilterSet&lt;/span&gt;,), {&lt;span&gt;'Meta'&lt;/span&gt;: &lt;span&gt;meta&lt;/span&gt;})&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;return&lt;/span&gt; &lt;span&gt;filterset&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;span&gt;接下来就是重头戏，开始过滤了！下面会被调用是因为调用了FilterSet中的qs方法；&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;pre contenteditable=&quot;false&quot; spellcheck=&quot;false&quot;&gt;
&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;BaseFilterSet&lt;/span&gt;(&lt;span&gt;object&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;# ...&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;__init__&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;, &lt;span&gt;data&lt;/span&gt;=&lt;span&gt;None&lt;/span&gt;, &lt;span&gt;queryset&lt;/span&gt;=&lt;span&gt;None&lt;/span&gt;, &lt;span&gt;*&lt;/span&gt;, &lt;span&gt;request&lt;/span&gt;=&lt;span&gt;None&lt;/span&gt;, &lt;span&gt;prefix&lt;/span&gt;=&lt;span&gt;None&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# 如果没传进来则在全部的基础进行过滤&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;queryset&lt;/span&gt; &lt;span&gt;is&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;queryset&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;_meta&lt;/span&gt;.&lt;span&gt;model&lt;/span&gt;.&lt;span&gt;_default_manager&lt;/span&gt;.&lt;span&gt;all&lt;/span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;model&lt;/span&gt; = &lt;span&gt;queryset&lt;/span&gt;.&lt;span&gt;model&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;  &lt;span&gt;# ...&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filters&lt;/span&gt; = &lt;span&gt;copy&lt;/span&gt;.&lt;span&gt;deepcopy&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;.&lt;span&gt;base_filters&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# propagate the model and filterset to the filters&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;for&lt;/span&gt; &lt;span&gt;filter_&lt;/span&gt; &lt;span&gt;in&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filters&lt;/span&gt;.&lt;span&gt;values&lt;/span&gt;():&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;filter_&lt;/span&gt;.&lt;span&gt;model&lt;/span&gt; = &lt;span&gt;model&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;filter_&lt;/span&gt;.&lt;span&gt;parent&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt; &lt;span&gt;def&lt;/span&gt; &lt;span&gt;filter_queryset&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;, &lt;span&gt;queryset&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        Filter the queryset with the underlying form's `cleaned_data`. You must&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        call `is_valid()` or `errors` before calling this method.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        This method should be overridden if additional filtering needs to be&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        applied to the queryset before it is cached.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;for&lt;/span&gt; &lt;span&gt;name&lt;/span&gt;, &lt;span&gt;value&lt;/span&gt; &lt;span&gt;in&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;form&lt;/span&gt;.&lt;span&gt;cleaned_data&lt;/span&gt;.&lt;span&gt;items&lt;/span&gt;():&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;# 重复执行，queryset会在每次执行后的queryset上继续执行，达到过滤的效果&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;queryset&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filters&lt;/span&gt;[&lt;span&gt;name&lt;/span&gt;].&lt;span&gt;filter&lt;/span&gt;(&lt;span&gt;queryset&lt;/span&gt;, &lt;span&gt;value&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;assert&lt;/span&gt; &lt;span&gt;isinstance&lt;/span&gt;(&lt;span&gt;queryset&lt;/span&gt;, &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;QuerySet&lt;/span&gt;), &lt;span&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;&quot;Expected '%s.%s' to return a QuerySet, but got a %s instead.&quot;&lt;/span&gt; &lt;span&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;%&lt;/span&gt; (&lt;span&gt;type&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;).&lt;span&gt;__name__&lt;/span&gt;, &lt;span&gt;name&lt;/span&gt;, &lt;span&gt;type&lt;/span&gt;(&lt;span&gt;queryset&lt;/span&gt;).&lt;span&gt;__name__&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;queryset&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;@property&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;qs&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; &lt;span&gt;hasattr&lt;/span&gt;(&lt;span&gt;self&lt;/span&gt;, &lt;span&gt;'_qs'&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;qs&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;queryset&lt;/span&gt;.&lt;span&gt;all&lt;/span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;if&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;is_bound&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;# ensure form validation before filtering&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;errors&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;qs&lt;/span&gt; = &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;filter_queryset&lt;/span&gt;(&lt;span&gt;qs&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;_qs&lt;/span&gt; = &lt;span&gt;qs&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;self&lt;/span&gt;.&lt;span&gt;_qs&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span&gt;或许你会疑惑&lt;/span&gt;&lt;span spellcheck=&quot;false&quot;&gt;&lt;code&gt;self.filters&lt;/code&gt;&lt;/span&gt;&lt;span&gt;（&lt;/span&gt;&lt;span spellcheck=&quot;false&quot;&gt;&lt;code&gt;self.base_filters&lt;/code&gt;&lt;/span&gt;&lt;span&gt;）里面的内容是什么，其实就是每个需要过滤的数据库字段到具体的Filter的映射，那这个是哪里进行计算赋值的呢？其实是被元类给拦截了，下面则会把该的内容是从类的get_filters方法中获取得到的，&lt;/span&gt;&lt;/p&gt;
&lt;pre contenteditable=&quot;false&quot; spellcheck=&quot;false&quot;&gt;
&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;FilterSet&lt;/span&gt;(&lt;span&gt;BaseFilterSet&lt;/span&gt;, &lt;span&gt;metaclass&lt;/span&gt;=&lt;span&gt;FilterSetMetaclass&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;pass&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;FilterSetMetaclass&lt;/span&gt;(&lt;span&gt;type&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;# 元类，FilterSet创建时最终会创建FilterSetMetaclass的实例&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;__new__&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;, &lt;span&gt;name&lt;/span&gt;, &lt;span&gt;bases&lt;/span&gt;, &lt;span&gt;attrs&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;  ...&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;new_class&lt;/span&gt; = &lt;span&gt;super&lt;/span&gt;().&lt;span&gt;__new__&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;, &lt;span&gt;name&lt;/span&gt;, &lt;span&gt;bases&lt;/span&gt;, &lt;span&gt;attrs&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;new_class&lt;/span&gt;.&lt;span&gt;_meta&lt;/span&gt; = &lt;span&gt;FilterSetOptions&lt;/span&gt;(&lt;span&gt;getattr&lt;/span&gt;(&lt;span&gt;new_class&lt;/span&gt;, &lt;span&gt;'Meta'&lt;/span&gt;, &lt;span&gt;None&lt;/span&gt;))&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;new_class&lt;/span&gt;.&lt;span&gt;base_filters&lt;/span&gt; = &lt;span&gt;new_class&lt;/span&gt;.&lt;span&gt;get_filters&lt;/span&gt;()  &lt;span&gt;# 会被&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;BaseFilterSet&lt;/span&gt;(&lt;span&gt;object&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;# ...&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;/span&gt;&lt;br/&gt;&lt;span&gt; &lt;span&gt;@classmethod&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;get_filters&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        Get all filters for the filterset. This is the combination of declared and&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        generated filters.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        获取到每个需要过滤的数据库字段到Filter的映射&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        比如：{title: CharFilter}&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# No model specified - skip filter generation&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;_meta&lt;/span&gt;.&lt;span&gt;model&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;declared_filters&lt;/span&gt;.&lt;span&gt;copy&lt;/span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# Determine the filters that should be included on the filterset.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;filters&lt;/span&gt; = &lt;span&gt;OrderedDict&lt;/span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;fields&lt;/span&gt; = &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;get_fields&lt;/span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;undefined&lt;/span&gt; = []&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;for&lt;/span&gt; &lt;span&gt;field_name&lt;/span&gt;, &lt;span&gt;lookups&lt;/span&gt; &lt;span&gt;in&lt;/span&gt; &lt;span&gt;fields&lt;/span&gt;.&lt;span&gt;items&lt;/span&gt;():&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;field&lt;/span&gt; = &lt;span&gt;get_model_field&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;_meta&lt;/span&gt;.&lt;span&gt;model&lt;/span&gt;, &lt;span&gt;field_name&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;# warn if the field doesn't exist.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;if&lt;/span&gt; &lt;span&gt;field&lt;/span&gt; &lt;span&gt;is&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;undefined&lt;/span&gt;.&lt;span&gt;append&lt;/span&gt;(&lt;span&gt;field_name&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;for&lt;/span&gt; &lt;span&gt;lookup_expr&lt;/span&gt; &lt;span&gt;in&lt;/span&gt; &lt;span&gt;lookups&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;filter_name&lt;/span&gt; = &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;get_filter_name&lt;/span&gt;(&lt;span&gt;field_name&lt;/span&gt;, &lt;span&gt;lookup_expr&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;# If the filter is explicitly declared on the class, skip generation&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;if&lt;/span&gt; &lt;span&gt;filter_name&lt;/span&gt; &lt;span&gt;in&lt;/span&gt; &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;declared_filters&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                    &lt;span&gt;filters&lt;/span&gt;[&lt;span&gt;filter_name&lt;/span&gt;] = &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;declared_filters&lt;/span&gt;[&lt;span&gt;filter_name&lt;/span&gt;]&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                    &lt;span&gt;continue&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;if&lt;/span&gt; &lt;span&gt;field&lt;/span&gt; &lt;span&gt;is&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                    &lt;span&gt;filters&lt;/span&gt;[&lt;span&gt;filter_name&lt;/span&gt;] = &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;filter_for_field&lt;/span&gt;(&lt;span&gt;field&lt;/span&gt;, &lt;span&gt;field_name&lt;/span&gt;, &lt;span&gt;lookup_expr&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# filter out declared filters&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;undefined&lt;/span&gt; = [&lt;span&gt;f&lt;/span&gt; &lt;span&gt;for&lt;/span&gt; &lt;span&gt;f&lt;/span&gt; &lt;span&gt;in&lt;/span&gt; &lt;span&gt;undefined&lt;/span&gt; &lt;span&gt;if&lt;/span&gt; &lt;span&gt;f&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; &lt;span&gt;in&lt;/span&gt; &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;declared_filters&lt;/span&gt;]&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;undefined&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;raise&lt;/span&gt; &lt;span&gt;TypeError&lt;/span&gt;(&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;&quot;'Meta.fields' contains fields that are not defined on this FilterSet: &quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;&quot;%s&quot;&lt;/span&gt; &lt;span&gt;%&lt;/span&gt; &lt;span&gt;', '&lt;/span&gt;.&lt;span&gt;join&lt;/span&gt;(&lt;span&gt;undefined&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            )&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# Add in declared filters. This is necessary since we don't enforce adding&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# declared filters to the 'Meta.fields' option&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;filters&lt;/span&gt;.&lt;span&gt;update&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;declared_filters&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;filters&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;@classmethod&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;filter_for_field&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;, &lt;span&gt;field&lt;/span&gt;, &lt;span&gt;field_name&lt;/span&gt;, &lt;span&gt;lookup_expr&lt;/span&gt;=&lt;span&gt;'exact'&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;field&lt;/span&gt;, &lt;span&gt;lookup_type&lt;/span&gt; = &lt;span&gt;resolve_field&lt;/span&gt;(&lt;span&gt;field&lt;/span&gt;, &lt;span&gt;lookup_expr&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;default&lt;/span&gt; = {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'field_name'&lt;/span&gt;: &lt;span&gt;field_name&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'lookup_expr'&lt;/span&gt;: &lt;span&gt;lookup_expr&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;filter_class&lt;/span&gt;, &lt;span&gt;params&lt;/span&gt; = &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;filter_for_lookup&lt;/span&gt;(&lt;span&gt;field&lt;/span&gt;, &lt;span&gt;lookup_type&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;default&lt;/span&gt;.&lt;span&gt;update&lt;/span&gt;(&lt;span&gt;params&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;assert&lt;/span&gt; &lt;span&gt;filter_class&lt;/span&gt; &lt;span&gt;is&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;, (&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;&quot;%s resolved field '%s' with '%s' lookup to an unrecognized field &quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;&quot;type %s. Try adding an override to 'Meta.filter_overrides'. See: &quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;&quot;https://django-filter.readthedocs.io/en/master/ref/filterset.html&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;&quot;#customise-filter-generation-with-filter-overrides&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        ) &lt;span&gt;%&lt;/span&gt; (&lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;__name__&lt;/span&gt;, &lt;span&gt;field_name&lt;/span&gt;, &lt;span&gt;lookup_expr&lt;/span&gt;, &lt;span&gt;field&lt;/span&gt;.&lt;span&gt;__class__&lt;/span&gt;.&lt;span&gt;__name__&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;filter_class&lt;/span&gt;(&lt;span&gt;**&lt;/span&gt;&lt;span&gt;default&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;@classmethod&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;def&lt;/span&gt; &lt;span&gt;filter_for_lookup&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;, &lt;span&gt;field&lt;/span&gt;, &lt;span&gt;lookup_type&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        过滤&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        :param field:&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        :param lookup_type:&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        :return:&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;        &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;DEFAULTS&lt;/span&gt; = &lt;span&gt;dict&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;FILTER_DEFAULTS&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;hasattr&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;, &lt;span&gt;'_meta'&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;DEFAULTS&lt;/span&gt;.&lt;span&gt;update&lt;/span&gt;(&lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;_meta&lt;/span&gt;.&lt;span&gt;filter_overrides&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;data&lt;/span&gt; = &lt;span&gt;try_dbfield&lt;/span&gt;(&lt;span&gt;DEFAULTS&lt;/span&gt;.&lt;span&gt;get&lt;/span&gt;, &lt;span&gt;field&lt;/span&gt;.&lt;span&gt;__class__&lt;/span&gt;) &lt;span&gt;or&lt;/span&gt; {}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;filter_class&lt;/span&gt; = &lt;span&gt;data&lt;/span&gt;.&lt;span&gt;get&lt;/span&gt;(&lt;span&gt;'filter_class'&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;params&lt;/span&gt; = &lt;span&gt;data&lt;/span&gt;.&lt;span&gt;get&lt;/span&gt;(&lt;span&gt;'extra'&lt;/span&gt;, &lt;span&gt;lambda&lt;/span&gt; &lt;span&gt;field&lt;/span&gt;: {})(&lt;span&gt;field&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# if there is no filter class, exit early&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; &lt;span&gt;filter_class&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;, {}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;# perform lookup specific checks&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;lookup_type&lt;/span&gt; == &lt;span&gt;'exact'&lt;/span&gt; &lt;span&gt;and&lt;/span&gt; &lt;span&gt;getattr&lt;/span&gt;(&lt;span&gt;field&lt;/span&gt;, &lt;span&gt;'choices'&lt;/span&gt;, &lt;span&gt;None&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;ChoiceFilter&lt;/span&gt;, {&lt;span&gt;'choices'&lt;/span&gt;: &lt;span&gt;field&lt;/span&gt;.&lt;span&gt;choices&lt;/span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;lookup_type&lt;/span&gt; == &lt;span&gt;'isnull'&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;data&lt;/span&gt; = &lt;span&gt;try_dbfield&lt;/span&gt;(&lt;span&gt;DEFAULTS&lt;/span&gt;.&lt;span&gt;get&lt;/span&gt;, &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;BooleanField&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;filter_class&lt;/span&gt; = &lt;span&gt;data&lt;/span&gt;.&lt;span&gt;get&lt;/span&gt;(&lt;span&gt;'filter_class'&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;params&lt;/span&gt; = &lt;span&gt;data&lt;/span&gt;.&lt;span&gt;get&lt;/span&gt;(&lt;span&gt;'extra'&lt;/span&gt;, &lt;span&gt;lambda&lt;/span&gt; &lt;span&gt;field&lt;/span&gt;: {})(&lt;span&gt;field&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;filter_class&lt;/span&gt;, &lt;span&gt;params&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;lookup_type&lt;/span&gt; == &lt;span&gt;'in'&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;class&lt;/span&gt; &lt;span&gt;ConcreteInFilter&lt;/span&gt;(&lt;span&gt;BaseInFilter&lt;/span&gt;, &lt;span&gt;filter_class&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;pass&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;ConcreteInFilter&lt;/span&gt;.&lt;span&gt;__name__&lt;/span&gt; = &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;_csv_filter_class_name&lt;/span&gt;(&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;filter_class&lt;/span&gt;, &lt;span&gt;lookup_type&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            )&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;ConcreteInFilter&lt;/span&gt;, &lt;span&gt;params&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;if&lt;/span&gt; &lt;span&gt;lookup_type&lt;/span&gt; == &lt;span&gt;'range'&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;class&lt;/span&gt; &lt;span&gt;ConcreteRangeFilter&lt;/span&gt;(&lt;span&gt;BaseRangeFilter&lt;/span&gt;, &lt;span&gt;filter_class&lt;/span&gt;):&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;pass&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;ConcreteRangeFilter&lt;/span&gt;.&lt;span&gt;__name__&lt;/span&gt; = &lt;span&gt;cls&lt;/span&gt;.&lt;span&gt;_csv_filter_class_name&lt;/span&gt;(&lt;/span&gt;&lt;br/&gt;&lt;span&gt;                &lt;span&gt;filter_class&lt;/span&gt;, &lt;span&gt;lookup_type&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            )&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;ConcreteRangeFilter&lt;/span&gt;, &lt;span&gt;params&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;filter_class&lt;/span&gt;, &lt;span&gt;params&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;span&gt;具体的数据库字段类型对应的Filter如下，上面也就是根据这些来找到对应的Filter，发现没，是BaseFilterSet类的FILTER_DEFAULTS变量&lt;/span&gt;&lt;/p&gt;
&lt;pre contenteditable=&quot;false&quot; spellcheck=&quot;false&quot;&gt;
&lt;span&gt;&lt;span&gt;FILTER_FOR_DBFIELD_DEFAULTS&lt;/span&gt; = {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;AutoField&lt;/span&gt;:                   {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;NumberFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;CharField&lt;/span&gt;:                   {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;CharFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;TextField&lt;/span&gt;:                   {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;CharFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;BooleanField&lt;/span&gt;:                {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;BooleanFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;DateField&lt;/span&gt;:                   {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;DateFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;DateTimeField&lt;/span&gt;:               {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;DateTimeFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;TimeField&lt;/span&gt;:                   {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;TimeFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;DurationField&lt;/span&gt;:               {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;DurationFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;DecimalField&lt;/span&gt;:                {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;NumberFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;SmallIntegerField&lt;/span&gt;:           {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;NumberFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;IntegerField&lt;/span&gt;:                {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;NumberFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;PositiveIntegerField&lt;/span&gt;:        {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;NumberFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;PositiveSmallIntegerField&lt;/span&gt;:   {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;NumberFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;FloatField&lt;/span&gt;:                  {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;NumberFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;NullBooleanField&lt;/span&gt;:            {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;BooleanFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;SlugField&lt;/span&gt;:                   {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;CharFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;EmailField&lt;/span&gt;:                  {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;CharFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;FilePathField&lt;/span&gt;:               {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;CharFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;URLField&lt;/span&gt;:                    {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;CharFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;GenericIPAddressField&lt;/span&gt;:       {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;CharFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;CommaSeparatedIntegerField&lt;/span&gt;:  {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;CharFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;UUIDField&lt;/span&gt;:                   {&lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;UUIDFilter&lt;/span&gt;},&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;# Forward relationships&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;OneToOneField&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;ModelChoiceFilter&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'extra'&lt;/span&gt;: &lt;span&gt;lambda&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'queryset'&lt;/span&gt;: &lt;span&gt;remote_queryset&lt;/span&gt;(&lt;span&gt;f&lt;/span&gt;),&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'to_field_name'&lt;/span&gt;: &lt;span&gt;f&lt;/span&gt;.&lt;span&gt;remote_field&lt;/span&gt;.&lt;span&gt;field_name&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'null_label'&lt;/span&gt;: &lt;span&gt;settings&lt;/span&gt;.&lt;span&gt;NULL_CHOICE_LABEL&lt;/span&gt; &lt;span&gt;if&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;.&lt;span&gt;null&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    },&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;ForeignKey&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;ModelChoiceFilter&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'extra'&lt;/span&gt;: &lt;span&gt;lambda&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'queryset'&lt;/span&gt;: &lt;span&gt;remote_queryset&lt;/span&gt;(&lt;span&gt;f&lt;/span&gt;),&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'to_field_name'&lt;/span&gt;: &lt;span&gt;f&lt;/span&gt;.&lt;span&gt;remote_field&lt;/span&gt;.&lt;span&gt;field_name&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'null_label'&lt;/span&gt;: &lt;span&gt;settings&lt;/span&gt;.&lt;span&gt;NULL_CHOICE_LABEL&lt;/span&gt; &lt;span&gt;if&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;.&lt;span&gt;null&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    },&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;models&lt;/span&gt;.&lt;span&gt;ManyToManyField&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;ModelMultipleChoiceFilter&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'extra'&lt;/span&gt;: &lt;span&gt;lambda&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'queryset'&lt;/span&gt;: &lt;span&gt;remote_queryset&lt;/span&gt;(&lt;span&gt;f&lt;/span&gt;),&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    },&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;# Reverse relationships&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;OneToOneRel&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;ModelChoiceFilter&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'extra'&lt;/span&gt;: &lt;span&gt;lambda&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'queryset'&lt;/span&gt;: &lt;span&gt;remote_queryset&lt;/span&gt;(&lt;span&gt;f&lt;/span&gt;),&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'null_label'&lt;/span&gt;: &lt;span&gt;settings&lt;/span&gt;.&lt;span&gt;NULL_CHOICE_LABEL&lt;/span&gt; &lt;span&gt;if&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;.&lt;span&gt;null&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    },&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;ManyToOneRel&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;ModelMultipleChoiceFilter&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'extra'&lt;/span&gt;: &lt;span&gt;lambda&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'queryset'&lt;/span&gt;: &lt;span&gt;remote_queryset&lt;/span&gt;(&lt;span&gt;f&lt;/span&gt;),&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    },&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    &lt;span&gt;ManyToManyRel&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'filter_class'&lt;/span&gt;: &lt;span&gt;ModelMultipleChoiceFilter&lt;/span&gt;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        &lt;span&gt;'extra'&lt;/span&gt;: &lt;span&gt;lambda&lt;/span&gt; &lt;span&gt;f&lt;/span&gt;: {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;            &lt;span&gt;'queryset'&lt;/span&gt;: &lt;span&gt;remote_queryset&lt;/span&gt;(&lt;span&gt;f&lt;/span&gt;),&lt;/span&gt;&lt;br/&gt;&lt;span&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    },&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span&gt;ok，到这里就简单的介绍完毕了。&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 02 Oct 2018 18:48:00 +0000</pubDate>
<dc:creator>banananana</dc:creator>
<og:description>Django Filter源码解析 最近在看Django-FIlter项目的源码，学习一下别人的开发思想； 整体介绍 首先，我从其中一个测试用例作为入口，开始了debug之路，一点一点的断点，分析它的</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/George1994/p/9739042.html</dc:identifier>
</item>
<item>
<title>Python线程同步 - Harvard_Fly</title>
<link>http://www.cnblogs.com/FG123/p/9704158.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/FG123/p/9704158.html</guid>
<description>&lt;p&gt;&lt;strong&gt;&lt;span&gt;线程执行&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;join与setDaemon&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;子线程在主线程运行结束后，会继续执行完，如果给子线程设置为守护线程(setDaemon=True)，主线程运行结束子线程即结束；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;如果join()线程，那么主线程会等待子线程执行完再执行。&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; threading
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; time
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; 
&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;def&lt;/span&gt;&lt;span&gt; get_thread_a():
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;     &lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;get thread A started&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt;     time.sleep(3&lt;span&gt;)
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;     &lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;get thread A end&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; 
&lt;span&gt;10&lt;/span&gt; 
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;def&lt;/span&gt;&lt;span&gt; get_thread_b():
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;     &lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;get thread B started&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;     time.sleep(5&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;     &lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;get thread B end&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; 
&lt;span&gt;16&lt;/span&gt; 
&lt;span&gt;17&lt;/span&gt; &lt;span&gt;if&lt;/span&gt;  &lt;span&gt;__name__&lt;/span&gt; == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;__main__&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;     thread_a = threading.Thread(target=&lt;span&gt;get_thread_a)
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt;     thread_b = threading.Thread(target=&lt;span&gt;get_thread_b)
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt;     start_time =&lt;span&gt; time.time()
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt; &lt;span&gt;    thread_b.setDaemon(True)
&lt;/span&gt;&lt;span&gt;22&lt;/span&gt; &lt;span&gt;    thread_a.start()
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;    thread_b.start()
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;    thread_a.join()
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;     
&lt;span&gt;26&lt;/span&gt;     end_time =&lt;span&gt; time.time()
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt;     &lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;execution time: {}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;.format(end_time - start_time))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;pre&gt;
&lt;span&gt;thread_a是join，首先子线程thread_a执行，thread_b是守护线程，当主线程执行完后，thread_b不会再执行&lt;/span&gt;&lt;br/&gt;&lt;span&gt;执行结果如下：&lt;/span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;get thread A started
get thread B started
get thread A end
execution time: &lt;/span&gt;3.003199815750122&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;线程同步&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;当线程间共享全局变量，多个线程对该变量执行不同的操作时，该变量最终的结果可能是不确定的(每次线程执行后的结果不同)，如：&lt;a href=&quot;https://www.cnblogs.com/FG123/p/9703952.html&quot; target=&quot;_blank&quot;&gt;对count变量执行加减操作&lt;/a&gt; ，count的值是不确定的，要想count的值是一个确定的需对线程执行的代码段加锁。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;python对线程加锁主要有Lock和Rlock模块&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;Lock：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:python;gutter:true;&quot;&gt;
&lt;span&gt;from threading import Lock

lock = Lock()
lock.acquire()
lock.release()
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;Lock有acquire()和release()方法，这两个方法必须是成对出现的，acquire()后面必须release()后才能再acquire()，否则会造成死锁&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;Rlock：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;鉴于Lock可能会造成死锁的情况，RLock(可重入锁)对Lock进行了改进，RLock可以在同一个线程里面连续调用多次acquire()，但必须&lt;/span&gt;&lt;span&gt;再执行相同次数的release()&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;from&lt;/span&gt; threading &lt;span&gt;import&lt;/span&gt;&lt;span&gt; RLock

lock &lt;/span&gt;=&lt;span&gt; RLock()
lock.acquire()
lock.acquire()
lock.release()
lock.release()&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;condition(条件变量)，&lt;/span&gt;&lt;span&gt;线程在执行时，当满足了特定的条件后，才可以访问相关的数据&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;44&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; threading


&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; get_thread_a(condition):
    with condition:
        condition.wait()
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A : Hello B,that's ok&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        condition.notify()
        condition.wait()
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A : I'm fine,and you?&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        condition.notify()
        condition.wait()
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A : Nice to meet you&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        condition.notify()
        condition.wait()
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;A : That's all for today&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        condition.notify()


&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; get_thread_b(condition):
    with condition:
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;B : Hi A, Let's start the conversation&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        condition.notify()
        condition.wait()
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;B : How are you&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        condition.notify()
        condition.wait()
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;B : I'm fine too&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        condition.notify()
        condition.wait()
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;B : Nice to meet you,too&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        condition.notify()
        condition.wait()
        &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;B : Oh,goodbye&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)


&lt;/span&gt;&lt;span&gt;if&lt;/span&gt; &lt;span&gt;__name__&lt;/span&gt; == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;__main__&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:
    condition &lt;/span&gt;=&lt;span&gt; threading.Condition()
    thread_a &lt;/span&gt;= threading.Thread(target=get_thread_a, args=&lt;span&gt;(condition,))
    thread_b &lt;/span&gt;= threading.Thread(target=get_thread_b, args=&lt;span&gt;(condition,))
    thread_a.start()
    thread_b.start()&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;Condition内部有一把锁，默认是RLock，在调用wait()和notify()之前必须先调用acquire()获取这个锁，才能继续执行；当wait()和notify()执行完后，需调用release()释放这个锁，在执行&lt;/span&gt;&lt;span&gt;with condition时，会先执行acquire()，with结束时，执行了release()；所以condition有两层锁，最底层锁在调用wait()时会释放，同时会加一把锁到等待队列，等待notify()唤醒释放锁&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;wait() ：允许等待某个条件变量的通知，notify()可唤醒&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;notify()： 唤醒等待队列wait()&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;执行结果：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;B : Hi A, Let&lt;span&gt;'&lt;/span&gt;&lt;span&gt;s start the conversation&lt;/span&gt;
A : Hello B,that&lt;span&gt;'&lt;/span&gt;&lt;span&gt;s ok&lt;/span&gt;
&lt;span&gt;B : How are you
A : I&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;m fine,and you?&lt;/span&gt;
B : I&lt;span&gt;'&lt;/span&gt;&lt;span&gt;m fine too&lt;/span&gt;
&lt;span&gt;A : Nice to meet you
B : Nice to meet you,too
A : That&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;s all for today&lt;/span&gt;
B : Oh,goodbye&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;&lt;span&gt;Semaphore(信号量)&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; 用于控制线程的并发数，如爬虫中请求次数过于频繁会被禁止ip，每次控制爬取网页的线程数量可在一定程度上防止ip被禁；文件读写中，控制写线程每次只有一个，读线程可多个。&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; time
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; threading


&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; get_thread_a(semaphore,i):
    time.sleep(&lt;/span&gt;1&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;get thread : {}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.format(i))
    semaphore.release()


&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; get_thread_b(semaphore):
    &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt; range(10&lt;span&gt;):
        semaphore.acquire()
        thread_a &lt;/span&gt;= threading.Thread(target=get_thread_a, args=&lt;span&gt;(semaphore,i))
        thread_a.start()


&lt;/span&gt;&lt;span&gt;if&lt;/span&gt; &lt;span&gt;__name__&lt;/span&gt; == &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;__main__&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:
    semaphore &lt;/span&gt;= threading.Semaphore(2&lt;span&gt;)
    thread_b &lt;/span&gt;= threading.Thread(target=get_thread_b, args=&lt;span&gt;(semaphore,))
    thread_b.start()&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;上述示例了每隔1秒并发两个线程执行的情况，当调用一次semaphore.acquire()时，Semaphore的数量就减1，直至Semaphore数量为0时被锁上，当release()后Semaphore数量加1。Semaphore在本质上是调用的Condition，semaphore.acquire()在Semaphore的值为0的条件下会调用Condition.wait(), 否则将值减1，semaphore.release()会将Semaphore的值加1，并调用Condition.notify()&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Semaphore源码&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;def&lt;/span&gt; acquire(self, blocking=True, timeout=&lt;span&gt;None):
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; blocking &lt;span&gt;and&lt;/span&gt; timeout &lt;span&gt;is&lt;/span&gt; &lt;span&gt;not&lt;/span&gt;&lt;span&gt; None:
            &lt;/span&gt;&lt;span&gt;raise&lt;/span&gt; ValueError(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;can't specify timeout for non-blocking acquire&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
        rc &lt;/span&gt;=&lt;span&gt; False
        endtime &lt;/span&gt;=&lt;span&gt; None
        with self._cond:
            &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; self._value ==&lt;span&gt; 0:
                &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt;&lt;span&gt; blocking:
                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;
                &lt;span&gt;if&lt;/span&gt; timeout &lt;span&gt;is&lt;/span&gt; &lt;span&gt;not&lt;/span&gt;&lt;span&gt; None:
                    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; endtime &lt;span&gt;is&lt;/span&gt;&lt;span&gt; None:
                        endtime &lt;/span&gt;= _time() +&lt;span&gt; timeout
                    &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt;:
                        timeout &lt;/span&gt;= endtime -&lt;span&gt; _time()
                        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; timeout &amp;lt;=&lt;span&gt; 0:
                            &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;
                self._cond.wait(timeout)
            &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt;:
                self._value &lt;/span&gt;-= 1&lt;span&gt;
                rc &lt;/span&gt;=&lt;span&gt; True
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; rc

&lt;/span&gt;&lt;span&gt;def&lt;/span&gt;&lt;span&gt; release(self):
        with self._cond:
            self._value &lt;/span&gt;+= 1&lt;span&gt;
            self._cond.notify()&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

</description>
<pubDate>Tue, 02 Oct 2018 16:07:00 +0000</pubDate>
<dc:creator>Harvard_Fly</dc:creator>
<og:description>线程执行 join与setDaemon 子线程在主线程运行结束后，会继续执行完，如果给子线程设置为守护线程(setDaemon=True)，主线程运行结束子线程即结束； 如果join()线程，那么主线</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/FG123/p/9704158.html</dc:identifier>
</item>
<item>
<title>TensorFlow训练MNIST数据集（3） —— 卷积神经网络 - (•̀ω•́)y</title>
<link>http://www.cnblogs.com/laishenghao/p/9738912.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/laishenghao/p/9738912.html</guid>
<description>&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; tensorflow as tf
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; tensorflow.examples.tutorials.mnist &lt;span&gt;import&lt;/span&gt;&lt;span&gt; input_data
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;import&lt;/span&gt;&lt;span&gt; time
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 读取数据&lt;/span&gt;
&lt;span&gt; 6&lt;/span&gt; mnist = input_data.read_data_sets(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;./data/mnist&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, one_hot=&lt;span&gt;True)
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; 
&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 输入层&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt; inputLayer = tf.placeholder(tf.float32, shape=[None, 28, 28, 1&lt;span&gt;])
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; 
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 卷积层(1)&lt;/span&gt;
&lt;span&gt;12&lt;/span&gt; convFilter1 = tf.Variable(tf.truncated_normal([5, 5, 1, 32], mean=0, stddev=0.1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt; convBias1   = tf.Variable(tf.truncated_normal([32], mean=0, stddev=0.1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt; convLayer1  = tf.nn.conv2d(input=inputLayer, filter=convFilter1, strides=[1, 1, 1, 1], padding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;SAME&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; convLayer1  =&lt;span&gt; tf.add(convLayer1, convBias1)
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; convLayer1  =&lt;span&gt; tf.nn.relu(convLayer1)
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt; 
&lt;span&gt;18&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 池化层(1)&lt;/span&gt;
&lt;span&gt;19&lt;/span&gt; poolLayer1 = tf.nn.max_pool(value=convLayer1, ksize=[1, 2, 2, 1], strides=[1, 2, 2, 1], padding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;SAME&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;20&lt;/span&gt; 
&lt;span&gt;21&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 卷积层(2)&lt;/span&gt;
&lt;span&gt;22&lt;/span&gt; convFilter2 = tf.Variable(tf.truncated_normal([5, 5, 32, 64], mean=0, stddev=0.1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; convBias2   = tf.Variable(tf.truncated_normal([64], mean=0, stddev=0.1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; convLayer2  = tf.nn.conv2d(input=poolLayer1, filter=convFilter2, strides=[1, 1, 1, 1], padding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;SAME&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt; convLayer2  =&lt;span&gt; tf.add(convLayer2, convBias2)
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt; convLayer2  =&lt;span&gt; tf.nn.relu(convLayer2)
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt; 
&lt;span&gt;28&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 池化层(2)&lt;/span&gt;
&lt;span&gt;29&lt;/span&gt; poolLayer2 = tf.nn.max_pool(value=convLayer2, ksize=[1, 2, 2, 1], strides=[1, 2, 2, 1], padding=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;SAME&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;30&lt;/span&gt; 
&lt;span&gt;31&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 全连接层&lt;/span&gt;
&lt;span&gt;32&lt;/span&gt; fullWeight = tf.Variable(tf.truncated_normal(shape=[7 * 7 * 64, 1024], mean=0, stddev=0.1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt; fullBias   = tf.Variable(tf.truncated_normal(shape=[1024], mean=0.0, stddev=0.1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt; fullInput  = tf.reshape(poolLayer2, [-1, 7 * 7 * 64&lt;span&gt;])
&lt;/span&gt;&lt;span&gt;35&lt;/span&gt; fullLayer  =&lt;span&gt; tf.add(tf.matmul(fullInput, fullWeight), fullBias)
&lt;/span&gt;&lt;span&gt;36&lt;/span&gt; fullLayer  =&lt;span&gt; tf.nn.relu(fullLayer)
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt; 
&lt;span&gt;38&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; dropout层&lt;/span&gt;
&lt;span&gt;39&lt;/span&gt; dropLayer = tf.nn.dropout(fullLayer, keep_prob=0.8&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;40&lt;/span&gt; 
&lt;span&gt;41&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 输出层&lt;/span&gt;
&lt;span&gt;42&lt;/span&gt; outputWeight = tf.Variable(tf.truncated_normal(shape=[1024, 10], mean=0.0, stddev=0.1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;43&lt;/span&gt; outputBias   = tf.Variable(tf.truncated_normal(shape=[10], mean=0, stddev=0.1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt; outputLayer  =&lt;span&gt; tf.add(tf.matmul(dropLayer, outputWeight), outputBias)
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; 
&lt;span&gt;46&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 标签&lt;/span&gt;
&lt;span&gt;47&lt;/span&gt; outputLabel = tf.placeholder(tf.float32, shape=[None, 10&lt;span&gt;])
&lt;/span&gt;&lt;span&gt;48&lt;/span&gt; 
&lt;span&gt;49&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 损失函数及目标函数&lt;/span&gt;
&lt;span&gt;50&lt;/span&gt; loss   = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits_v2(labels=outputLabel, logits=&lt;span&gt;outputLayer))
&lt;/span&gt;&lt;span&gt;51&lt;/span&gt; target =&lt;span&gt; tf.train.AdamOptimizer().minimize(loss)
&lt;/span&gt;&lt;span&gt;52&lt;/span&gt; 
&lt;span&gt;53&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 记录起始训练时间&lt;/span&gt;
&lt;span&gt;54&lt;/span&gt; startTime =&lt;span&gt; time.time()
&lt;/span&gt;&lt;span&gt;55&lt;/span&gt; 
&lt;span&gt;56&lt;/span&gt; &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 训练&lt;/span&gt;
&lt;span&gt;57&lt;/span&gt; &lt;span&gt;with tf.Session() as sess:
&lt;/span&gt;&lt;span&gt;58&lt;/span&gt; &lt;span&gt;    sess.run(tf.global_variables_initializer())
&lt;/span&gt;&lt;span&gt;59&lt;/span&gt;     batchSize = 64
&lt;span&gt;60&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt; range(1000&lt;span&gt;):
&lt;/span&gt;&lt;span&gt;61&lt;/span&gt;         batch =&lt;span&gt; mnist.train.next_batch(batchSize)
&lt;/span&gt;&lt;span&gt;62&lt;/span&gt;         inputData = batch[0].reshape([batchSize, 28, 28, 1&lt;span&gt;])
&lt;/span&gt;&lt;span&gt;63&lt;/span&gt;         labelData = batch[1&lt;span&gt;]
&lt;/span&gt;&lt;span&gt;64&lt;/span&gt;         sess.run([target, loss], feed_dict=&lt;span&gt;{inputLayer: inputData, outputLabel: labelData})
&lt;/span&gt;&lt;span&gt;65&lt;/span&gt; 
&lt;span&gt;66&lt;/span&gt;         corrected = tf.equal(tf.argmax(outputLabel, 1), tf.argmax(outputLayer, 1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;67&lt;/span&gt;         accuracy =&lt;span&gt; tf.reduce_mean(tf.cast(corrected, tf.float32))
&lt;/span&gt;&lt;span&gt;68&lt;/span&gt;         accuracyValue = sess.run(accuracy, feed_dict=&lt;span&gt;{inputLayer: inputData, outputLabel: labelData})
&lt;/span&gt;&lt;span&gt;69&lt;/span&gt;         &lt;span&gt;print&lt;/span&gt;(i, &lt;span&gt;'&lt;/span&gt;&lt;span&gt;train set accuracy:&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;, accuracyValue)
&lt;/span&gt;&lt;span&gt;70&lt;/span&gt; 
&lt;span&gt;71&lt;/span&gt;     &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 打印结束时间&lt;/span&gt;
&lt;span&gt;72&lt;/span&gt;     endTime =&lt;span&gt; time.time()
&lt;/span&gt;&lt;span&gt;73&lt;/span&gt;     &lt;span&gt;print&lt;/span&gt;(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;train time:&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;, endTime -&lt;span&gt; startTime)
&lt;/span&gt;&lt;span&gt;74&lt;/span&gt; 
&lt;span&gt;75&lt;/span&gt;     &lt;span&gt;#&lt;/span&gt;&lt;span&gt; 测试&lt;/span&gt;
&lt;span&gt;76&lt;/span&gt;     corrected  = tf.equal(tf.argmax(outputLabel, 1), tf.argmax(outputLayer, 1&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;77&lt;/span&gt;     accuracy   =&lt;span&gt; tf.reduce_mean(tf.cast(corrected, tf.float32))
&lt;/span&gt;&lt;span&gt;78&lt;/span&gt;     testImages = mnist.test.images.reshape([-1, 28, 28, 1&lt;span&gt;])
&lt;/span&gt;&lt;span&gt;79&lt;/span&gt;     testLabels =&lt;span&gt; mnist.test.labels
&lt;/span&gt;&lt;span&gt;80&lt;/span&gt;     accuracyValue = sess.run(accuracy, feed_dict=&lt;span&gt;{inputLayer: testImages, outputLabel: testLabels})
&lt;/span&gt;&lt;span&gt;81&lt;/span&gt;     &lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;accuracy on test set:&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, accuracyValue)
&lt;/span&gt;&lt;span&gt;82&lt;/span&gt; 
&lt;span&gt;83&lt;/span&gt;     sess.close()
&lt;/pre&gt;</description>
<pubDate>Tue, 02 Oct 2018 16:05:00 +0000</pubDate>
<dc:creator>(•̀ω•́)y</dc:creator>
<og:description>前面两篇随笔实现的单层神经网络 和多层神经网络， 在MNIST测试集上的正确率分别约为90%和96%。在换用多层神经网络后，正确率已有很大的提升。这次将采用卷积神经网络继续进行测试</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/laishenghao/p/9738912.html</dc:identifier>
</item>
<item>
<title>设计模式（四）：代理模式 - JaJian</title>
<link>http://www.cnblogs.com/jajian/p/9691221.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/jajian/p/9691221.html</guid>
<description>&lt;p&gt;国内程序员好像普遍对百度都没好感，而且百度近些年产生了不少负面的新闻，像16年的魏则西事件，近期的导演吴京黑白照事件，以及最近作家六六斥百度李彦宏：“你是做搜索引擎还是骗子首领”，还有一件就是与程序员有关的：搜索Julia语言，在百度和Google得出首条搜索结果的差异性而被吐槽。Google虽然受欢迎，但是在国内因内容审查问题未解决而不能使用，如果我们要使用它就必须使用代理服务器，由于放置代理服务器的地区区域可以访问google，所以我们可以先访问代理服务器，通过代理服务器转发我们的请求。这是现实生活中的一种代理模式的实例，当然现实生活中这种实例很不少，像明星都有助理，打官司有代理律师等等，这种思想也可以用到我们程序设计中。&lt;/p&gt;

&lt;p&gt;在设计模式中代理模式可以分为&lt;strong&gt;静态代理&lt;/strong&gt;和&lt;strong&gt;动态代理&lt;/strong&gt;，而动态代理根据代理的对象类型不同又可以分为&lt;strong&gt;Jdk动态代理&lt;/strong&gt;和&lt;strong&gt;Cglib动态代理&lt;/strong&gt;。&lt;br/&gt;&lt;strong&gt;意图&lt;/strong&gt;：为其他对象提供一种代理以控制对这个对象的访问。&lt;br/&gt;&lt;strong&gt;主要解决&lt;/strong&gt;：在直接访问对象时带来的问题，比如说：要访问的对象在远程的机器上。在面向对象系统中，有些对象由于某些原因（比如对象创建开销很大，或者某些操作需要安全控制，或者需要进程外的访问），直接访问会给使用者或者系统结构带来很多麻烦，我们可以在访问此对象时加上一个对此对象的访问层。&lt;br/&gt;&lt;strong&gt;何时使用&lt;/strong&gt;：想在访问一个类时做一些控制。&lt;br/&gt;&lt;strong&gt;如何解决&lt;/strong&gt;：增加中间层。&lt;br/&gt;&lt;strong&gt;关键代码&lt;/strong&gt;：实现与被代理类组合。&lt;/p&gt;

&lt;p&gt;近几年中国电影行业蓬勃发展，电影摄制需要的一种特殊演员-&amp;gt;替身，主要任务是代替影片中原演员表演某些特殊的、高难度的动作和技能或原演员所不能胜任的惊险动作，如武打、骑术、驾车等。拍摄的时候虽然是替身在拍摄，但是呈现在荧幕前我们观众却不知道是替身而认为是明星的真实拍摄，代理模式也有这种特点，虽然是代理类在完成任务，但是呈现出来的却是真实类的实现。接下来我们以这种生活中的实例来作示例：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;公共表演接口的定义&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/** 表演 */
public interface Performance {
    void act();
}&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;一.静态代理&quot;&gt;一.静态代理&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;明星的实体类&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/** 明星 */
public class Actor implements Performance {
    @Override
    public void act() {
        System.out.println(&quot;明星上场拍功夫电影&quot;);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;替身演员的实体类&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;/**
 * 替身演员
 */
public class Stuntman implements Performance {

    private Actor actor;

    @Override
    public void act() {
        if (actor == null) {
            actor = new Actor();
        }
        System.out.println(&quot;替身演员表演跳火车.&quot;);
        actor.act();
        System.out.println(&quot;替身演员表演空中360°旋转飞踢.&quot;);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;执行Demo&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public class ProxyPatternDemo {
    public static void main(String[] args) {
        System.out.println(&quot;------电影拍摄开始------&quot;);
        Performance perform = new Stuntman();
        perform.act();
        System.out.println(&quot;------电影拍摄结束------&quot;);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;执行程序，输出结果：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;------电影拍摄开始------
替身演员表演跳火车.
明星上场拍功夫电影
替身演员表演空中360°旋转飞踢.
------电影拍摄结束------&lt;/code&gt;
&lt;/pre&gt;
&lt;h2 id=&quot;二.jdk动态代理&quot;&gt;二.Jdk动态代理&lt;/h2&gt;
&lt;p&gt;1、Jdk动态代理是由Java内部的反射机制来实现的，目标类基于统一的接口&lt;strong&gt;InvocationHandler&lt;/strong&gt;。&lt;br/&gt;2、代理对象是在程序运行时产生的，而不是编译期；&lt;br/&gt;3、对代理对象的所有接口方法调用都会转发到InvocationHandler.invoke()方法，在invoke()方法里我们可以加入任何逻辑，比如修改方法参数，加入日志功能、安全检查功能等；之后我们通过某种方式执行真正的方法体，&lt;br/&gt;4、对于从Object中继承的方法，JDK动态代理会把hashCode()、equals()、toString()这三个非接口方法转发给InvocationHandler，其余的Object方法则不会转发。&lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html&quot;&gt;详见JDK Proxy官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;jdk动态代理实现&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public class JdkDynamicProxy implements InvocationHandler {

    private Object target;

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println(&quot;替身演员表演跳火车.&quot;);
        Object o = method.invoke(target, args);
        System.out.println(&quot;替身演员表演空中360°旋转飞踢.&quot;);
        return o;
    }

    public Object bind(Object target) {
        //取得代理对象
        this.target = target;
        return Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), this);
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;执行Demo&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public static void main(String[] args) {
     //创建JDK动态代理类
     JdkDynamicProxy proxy = new JdkDynamicProxy();
     //绑定对象
     Performance performProxy = (Performance) proxy.bind(new Actor());
     System.out.println(&quot;------电影拍摄开始------&quot;);
     performProxy.act();
     System.out.println(&quot;------电影拍摄结束------&quot;);
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;执行结果&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;------电影拍摄开始------
替身演员表演跳火车.
明星上场拍功夫电影
替身演员表演空中360°旋转飞踢.
------电影拍摄结束------&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Java动态代理为我们提供了非常灵活的代理机制，但Jdk动态代理是基于接口的，如果对象没有实现接口我们该如何代理呢？答案是Cglib动态代理。&lt;/p&gt;
&lt;h2 id=&quot;三.cglib动态代理&quot;&gt;三.Cglib动态代理&lt;/h2&gt;
&lt;p&gt;cglib动态代理底层则是借助asm来实现的，它允许我们在运行时对字节码进行修改和动态生成，cglib这种第三方类库实现的动态代理应用更加广泛，且在效率上更有优势。&lt;br/&gt;目标类基于统一的接口&lt;strong&gt;MethodInterceptor&lt;/strong&gt;。&lt;/p&gt;
&lt;blockquote readability=&quot;8&quot;&gt;
&lt;p&gt;&lt;strong&gt;CGLIB的核心类&lt;/strong&gt;：&lt;br/&gt;net.sf.cglib.proxy.Enhancer – 主要的增强类。&lt;br/&gt;net.sf.cglib.proxy.MethodInterceptor – 主要的方法拦截类，它是Callback接口的子接口，需要用户实现。&lt;br/&gt;net.sf.cglib.proxy.MethodProxy – JDK的java.lang.reflect.Method类的代理类，可以方便的实现对源对象方法的调用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我们要使用cglib代理必须引入cglib的jar包(package net.sf.cglib.proxy;)，我在这里使用的是spring包中cglib，其实和单独的引cglib包是一样的，只不过spring为了版本不冲突，将cglib包含在自己的包中。&lt;/p&gt;
&lt;p&gt;cglib动态代理实现：&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;import org.springframework.cglib.proxy.Enhancer;
import org.springframework.cglib.proxy.MethodInterceptor;
import org.springframework.cglib.proxy.MethodProxy;
import java.lang.reflect.Method;

public class CglibDynamicProxy implements MethodInterceptor {

    private Object target;

    //创建代理对象
    public Object getInstance(Object target) {
        this.target = target;
        Enhancer enhancer = new Enhancer();
        enhancer.setSuperclass(this.target.getClass());
        // 回调方法
        enhancer.setCallback(this);
        // 创建代理对象
        return enhancer.create();
    }

    @Override
    public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {
        System.out.println(&quot;替身演员表演跳火车.&quot;);
        Object result = methodProxy.invokeSuper(o, objects);
        System.out.println(&quot;替身演员表演空中360°旋转飞踢.&quot;);
        return result;
    }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;执行Demo&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public static void main(String[] args) {
       CglibDynamicProxy cglibProxy = new CglibDynamicProxy();
        Performance userService = (Performance) cglibProxy.getInstance(new Actor());
        System.out.println(&quot;------电影拍摄开始------&quot;);
        userService.act();
        System.out.println(&quot;------电影拍摄结束------&quot;);
    }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;执行结果&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;------电影拍摄开始------
替身演员表演跳火车.
明星上场拍功夫电影
替身演员表演空中360°旋转飞踢.
------电影拍摄结束------&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;1、通过以上的例子我们可以发现代理模式的特点：&lt;br/&gt;优点： 1、职责清晰。 2、高扩展性。 3、智能化。&lt;br/&gt;缺点： 1、由于在客户端和真实主题之间增加了代理对象，因此有些类型的代理模式可能会造成请求的处理速度变慢。 2、实现代理模式需要额外的工作，有些代理模式的实现非常复杂。&lt;/p&gt;
&lt;p&gt;2、Jdk动态代理和Cglib动态代理的区别：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;JDK的动态代理机制只能代理实现了接口的类，而不能实现接口的类就不能实现JDK的动态代理。&lt;/li&gt;
&lt;li&gt;cglib是针对类来实现代理的，他的原理是对指定的目标类生成一个子类，并覆盖其中方法实现增强，但因为采用的是继承，所以不能对final修饰的类进行代理。同样的，final方法是不能重载的，所以也不能通过CGLIB代理，遇到这种情况不会抛异常，而是会跳过final方法只代理其他方法。&lt;/li&gt;
&lt;li&gt;JDK动态代理是Java原生支持的，不需要任何外部依赖，但是它只能基于接口进行代理；CGLIB通过继承的方式进行代理，无论目标对象有没有实现接口都可以代理，但是无法处理final的情况。&lt;/li&gt;
&lt;li&gt;和适配器模式的区别：适配器模式主要改变所考虑对象的接口，而代理模式不能改变所代理类的接口。&lt;/li&gt;
&lt;li&gt;和装饰器模式的区别：装饰器模式为了增强功能，而代理模式是为了加以控制。&lt;/li&gt;
&lt;/ul&gt;</description>
<pubDate>Tue, 02 Oct 2018 16:04:00 +0000</pubDate>
<dc:creator>JaJian</dc:creator>
<og:description>前言 国内程序员好像普遍对百度都没好感，而且百度近些年产生了不少负面的新闻，像16年的魏则西事件，近期的导演吴京黑白照事件，以及最近作家六六斥百度李彦宏：“你是做搜索引擎还是骗子首领”，还有一件就是与</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/jajian/p/9691221.html</dc:identifier>
</item>
<item>
<title>nginx实现动态/静态文件缓存-技术流ken - 技术流ken</title>
<link>http://www.cnblogs.com/kenken2018/p/9738901.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kenken2018/p/9738901.html</guid>
<description>&lt;p&gt;本系列博文将分为三大部分，这是第一部分。分别介绍nginx的动态以及静态文件的缓存，使用nginx实现反向代理，以及nginx实现负载均衡。相信在读完本篇博文之后，你会对nginx强大的应用功能惊叹不已，并且深深的爱上这款轻量级web服务程序。&lt;/p&gt;

&lt;h2&gt;1.nginx静态文件缓存&lt;/h2&gt;
&lt;p&gt;如果要熟练使用nginx来实现文件的缓存，那下面的几个指令你必须要牢记于心&lt;/p&gt;
&lt;h3&gt;指令1：proxy_cache_path&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;作用：设置缓存数据的相关信息

    Syntax:     proxy_cache_path path [levels&lt;/span&gt;=levels] [use_temp_path=on|off] keys_zone=name:size [inactive=time] [max_size=size] [manager_files=number] [manager_sleep=time] [manager_threshold=time] [loader_files=number] [loader_sleep=time] [loader_threshold=time] [purger=on|off] [purger_files=number] [purger_sleep=time] [purger_threshold=&lt;span&gt;time];
    Default:     —
    Context:     http

    值：
        path：缓存目录的位置
        levels：指定使用几级缓存目录
        keys_zone：指定缓存区域的名称和缓存空间的大小

    例子：
        proxy_cache_path &lt;/span&gt;/data/nginx/cache levels=&lt;span&gt;1&lt;/span&gt;:&lt;span&gt;4&lt;/span&gt; keys_zone=&lt;span&gt;mycache:10m;
    说明
        &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;：表示一级目录可以由1个字符来构成
        &lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&lt;span&gt;：表示二级目录可以由4个字符来构成
        mycache：是这个缓存区域的名称
        10m：可以缓存10M大小的数据

    缓存结果
        &lt;/span&gt;/data/nginx/cache/c/29ad/&lt;span&gt;b7f54b2df7773722d382f4809d65029c

    说明
        &lt;/span&gt;/data/nginx/cache/&lt;span&gt;：这里是缓存目录
        c：因为一级目录可以由1个字符构成，所有这里随机出现一个c
        29ad：二级目录由4个随机字符构成
        b7f54b2df7773722d382f4809d65029c：缓存的数据&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;指令2：proxy_cache&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;    作用：调用缓存

    Syntax:     proxy_cache zone &lt;/span&gt;|&lt;span&gt; off;
    Default:     proxy_cache off;
    Context:     http, server, location
    注意：      该指令写在不同的位置，缓存数据对象也不同&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;指令3：proxy_cache_min_uses&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;作用：指定一个文件至少需要被用户访问多少次以后，才会被缓存，默认1

    Syntax:     proxy_cache_min_uses number;
    Default:     proxy_cache_min_uses &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;;
    Context:     http, server, location&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;指令4：proxy_cache_purge&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
Syntax:     proxy_cache_purge &lt;span&gt;string&lt;/span&gt;&lt;span&gt; ...;
    Default:     —
    Context:     http, server, location

    使用场景：上游服务器中的资源发生了更改，但是缓存中的数据尚未过去，这个时候就需要手动执行purge让缓存中的数据过去
    使用举例：
        http {
            proxy_cache_path &lt;/span&gt;/data/nginx/cache levels=&lt;span&gt;1&lt;/span&gt;:&lt;span&gt;4&lt;/span&gt; keys_zone=&lt;span&gt;mycache:10m;

            server {
                listen &lt;/span&gt;&lt;span&gt;10.220&lt;/span&gt;.&lt;span&gt;5.196&lt;/span&gt;:&lt;span&gt;80&lt;/span&gt;&lt;span&gt;;
                location &lt;/span&gt;/&lt;span&gt; {
                    proxy_pass http:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;10.220.5.180:80:&lt;/span&gt;
&lt;span&gt;                    proxy_cache mycache;
                    ....
                    ....
                }

                location &lt;/span&gt;= /&lt;span&gt;cleanCache {
                    allow&lt;/span&gt;=&lt;span&gt;
                    deny&lt;/span&gt;=&lt;span&gt;
                    proxy_cache_purge mycache;  #这里需要指定上面定义的缓存名称
                    ...
                    ...
                    ...
                }
            }
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;指令5：proxy_cache_valid&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;    作用：定义缓存数据的有效期

    Syntax:     proxy_cache_valid [code ...] time;
    Default:     —
    Context:     http, server, location

    例子：
        proxy_cache_valid &lt;/span&gt;&lt;span&gt;200&lt;/span&gt; &lt;span&gt;302&lt;/span&gt;&lt;span&gt; 10m;
        proxy_cache_valid &lt;/span&gt;&lt;span&gt;301&lt;/span&gt;&lt;span&gt;      1h;
        proxy_cache_valid any      1m;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;指令6：proxy_cache_key&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;作用：指定缓存的key的名称

    Syntax:     proxy_cache_key &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;;
    Default:     proxy_cache_key $scheme$proxy_host$request_uri;
    Context:     http, server, location

    例子：
        proxy_cache_key &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;$host$request_uri $cookie_user&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
        proxy_cache_key &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;$uri&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2.nginx实现缓存配置&lt;/h2&gt;
&lt;h3&gt;1.环境准备&lt;/h3&gt;
&lt;p&gt;centos7.5&lt;/p&gt;
&lt;p&gt;NGINX服务器端IP:172.20.10.8/28&lt;/p&gt;
&lt;p&gt;HTTPD服务器端IP:172.20.10.7/28&lt;/p&gt;
&lt;p&gt;HTTPD服务器端IP:172.20.10.9/28&lt;/p&gt;
&lt;p&gt;客户端IP:172.20.10.4/28&lt;/p&gt;
&lt;h3&gt;2.nginx服务器端&lt;/h3&gt;
&lt;p&gt;使用yum下载nginx需要使用网络yum源，复制下面的代码到你的yum仓库即可下载&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;[ken]
name&lt;/span&gt;=&lt;span&gt;ken
enabled&lt;/span&gt;=&lt;span&gt;1&lt;/span&gt;&lt;span&gt;
gpgcheck&lt;/span&gt;=&lt;span&gt;0&lt;/span&gt;&lt;span&gt;
baseurl&lt;/span&gt;=https:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;mirrors.aliyun.com/epel/7Server/x86_64/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;下载nginx&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# yum install nginx -y
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;配置nginx文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;# For more information on configuration, see:
#   &lt;/span&gt;* Official English Documentation: http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;nginx.org/en/docs/&lt;/span&gt;
#   * Official Russian Documentation: http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;nginx.org/ru/docs/&lt;/span&gt;
&lt;span&gt;
user nginx;
worker_processes auto;
error_log &lt;/span&gt;/&lt;span&gt;var&lt;/span&gt;/log/nginx/&lt;span&gt;error.log;
pid &lt;/span&gt;/run/&lt;span&gt;nginx.pid;

# Load &lt;/span&gt;&lt;span&gt;dynamic&lt;/span&gt; modules. See /usr/share/nginx/README.&lt;span&gt;dynamic&lt;/span&gt;&lt;span&gt;.
include &lt;/span&gt;/usr/share/nginx/modules&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;.conf;

events {
    worker_connections 1024;
}

http {
    log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
                      '$status $body_bytes_sent &quot;$http_referer&quot; '
                      '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';
 access_log  /var/log/nginx/access.log  main;

    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   65;
    types_hash_max_size 2048;

    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;

    # Load modular configuration files from the /etc/nginx/conf.d directory.
    # See &lt;/span&gt;&lt;span&gt;http://nginx.org/en/docs/ngx_core_module.html&lt;/span&gt;&lt;span&gt;#include
    # for more information.
    #include /etc/nginx/conf.d/*.conf;
proxy_cache_path /ken levels=1:2 keys_zone=kenken:100m;
add_header host $server_addr;
add_header cachestatus $upstream_cache_status;
    server {
        listen       80 default_server;
 listen       [::]:80 default_server;
        server_name  _;
        root         /var/www/html;

        # Load configuration files for the default server block.
        # include /etc/nginx/default.d/*.conf;

        location / {
        proxy_pass &lt;/span&gt;&lt;span&gt;http://172.20.10.7&lt;/span&gt;&lt;span&gt;:80;
        proxy_set_header host $host;
        proxy_set_header realip $remote_addr;

        proxy_cache kenken;
        proxy_cache_min_uses 3;
        proxy_cache_valid any 10m;
        }
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;创建缓存目录&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
[root@ken ~]# mkdir /ken
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;更改缓存目录的属主和属组&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# chown -R nginx.nginx /ken
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;启动nignx&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
[root@ken ~&lt;span&gt;]# systemctl start nginx
[root@ken &lt;/span&gt;~]# ss -tnl | grep &lt;span&gt;80&lt;/span&gt;&lt;span&gt;
LISTEN     &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;      &lt;span&gt;128&lt;/span&gt;          *:&lt;span&gt;80&lt;/span&gt;                       *:*&lt;span&gt;                  
LISTEN     &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;      &lt;span&gt;128&lt;/span&gt;         :::&lt;span&gt;80&lt;/span&gt;                      :::*      
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3.配置web服务端&lt;/h3&gt;
&lt;p&gt;下载httpd&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# yum install httpd -y
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;准备测试文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# echo &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;this is 172.20.10.7 for test&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&amp;gt;&amp;gt;/&lt;span&gt;var&lt;/span&gt;/www/html/index.html
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;启动httpd&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# systemctl restart httpd
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;4.浏览器测试&lt;/h3&gt;
&lt;p&gt;输入nginx服务器端的IP地址&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1499615/201810/1499615-20181002223859808-35616716.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;输入172.20.10.8的地址成功访问172.20.10.7的页面&lt;/p&gt;
&lt;p&gt;查看web服务器端的访问日志&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
[root@ken ~]# tail -f /&lt;span&gt;var&lt;/span&gt;/log/httpd/&lt;span&gt;access_log

&lt;/span&gt;&lt;span&gt;172.20&lt;/span&gt;.&lt;span&gt;10.8&lt;/span&gt; - - [&lt;span&gt;02&lt;/span&gt;/Oct/&lt;span&gt;2018&lt;/span&gt;:&lt;span&gt;22&lt;/span&gt;:&lt;span&gt;40&lt;/span&gt;:&lt;span&gt;43&lt;/span&gt; +&lt;span&gt;0800&lt;/span&gt;] &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;GET / HTTP/1.0&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;200&lt;/span&gt; &lt;span&gt;29&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.92 Safari/537.36&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;成功捕捉到来自172.20.10.8的访问请求&lt;/p&gt;
&lt;p&gt;我们去查看nginx服务端是否已经有缓存产生&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken /]# ls /ken/e/&lt;span&gt;55&lt;/span&gt;/58be92261b4ffa2c4fe7e92be2f0255e 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;测试成功！&lt;/p&gt;
&lt;p&gt;在nginx服务器端已经产生了缓存，再次刷新浏览器界面，在web服务器端都不会再产生访问日志，因为现在客户请求是直接从缓存提取的，没有再往后方节点来访问文件，这样可以大大提高网站的负载和并发能力。&lt;/p&gt;

&lt;p&gt;在完成了上面的静态文件缓存之后，相信动态文件的缓存对你来说也是轻而易举了，下面我们一鼓作气完成对动态文件的缓存吧。&lt;/p&gt;
&lt;h2&gt;1.环境准备&lt;/h2&gt;
&lt;p&gt;centos7.5&lt;/p&gt;
&lt;p&gt;NGINX服务器端IP:172.20.10.8/28&lt;/p&gt;
&lt;p&gt;WEB服务器端IP:172.20.10.9/28&lt;/p&gt;
&lt;h2&gt;2.配置nginx服务器端&lt;/h2&gt;
&lt;p&gt;下载php&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# yum install php php-fpm -y
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;配置nginx文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;# For more information on configuration, see:
#   &lt;/span&gt;* Official English Documentation: http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;nginx.org/en/docs/&lt;/span&gt;
#   * Official Russian Documentation: http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;nginx.org/ru/docs/&lt;/span&gt;
&lt;span&gt;
user nginx;
worker_processes auto;
error_log &lt;/span&gt;/&lt;span&gt;var&lt;/span&gt;/log/nginx/&lt;span&gt;error.log;
pid &lt;/span&gt;/run/&lt;span&gt;nginx.pid;

# Load &lt;/span&gt;&lt;span&gt;dynamic&lt;/span&gt; modules. See /usr/share/nginx/README.&lt;span&gt;dynamic&lt;/span&gt;&lt;span&gt;.
include &lt;/span&gt;/usr/share/nginx/modules&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;.conf;

events {
    worker_connections 1024;
}

http {
    log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
                      '$status $body_bytes_sent &quot;$http_referer&quot; '
                      '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';
 access_log  /var/log/nginx/access.log  main;

    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   65;
    types_hash_max_size 2048;

    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;

    # Load modular configuration files from the /etc/nginx/conf.d directory.
    # See &lt;/span&gt;&lt;span&gt;http://nginx.org/en/docs/ngx_core_module.html&lt;/span&gt;&lt;span&gt;#include
    # for more information.
    #include /etc/nginx/conf.d/*.conf;
fastcgi_cache_path /kenken levels=1:2 keys_zone=kenken:100m;
add_header host $server_addr;
add_header cachestatus $upstream_cache_status;
    server {
        listen       80 default_server;
 listen       [::]:80 default_server;
        server_name  _;
        root         /var/www/html;
        index index.php;
        # Load configuration files for the default server block.
        # include /etc/nginx/default.d/*.conf;

        location ~^/.*(\.php)$ {
        fastcgi_pass 172.20.10.9:9000;
        fastcgi_index index.php;
        include fastcgi.conf;

        fastcgi_cache kenken;
        fastcgi_cache_valid any 10m;
        fastcgi_cache_key $request_uri;
        }
}
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;创建缓存目录，并修改权限&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# mkdir /&lt;span&gt;kenken
[root@ken &lt;/span&gt;~]# chown -R nginx.nginx /kenken
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;nginx语法检测&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
[root@ken ~]# nginx -&lt;span&gt;t
nginx: the configuration file &lt;/span&gt;/etc/nginx/nginx.conf syntax &lt;span&gt;is&lt;/span&gt;&lt;span&gt; ok
nginx: configuration file &lt;/span&gt;/etc/nginx/nginx.conf test &lt;span&gt;is&lt;/span&gt; successful
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;启动nginx&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# systemctl restart nginx
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;3.配置web服务器端&lt;/h2&gt;
&lt;p&gt;下载所需服务程序&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# yum install httpd php-fpm php -y
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;配置php-fpm&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
[root@ken ~]# vim /etc/php-fpm.d/&lt;span&gt;www.conf
...
 &lt;/span&gt;&lt;span&gt;10&lt;/span&gt; ;   &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/path/to/unix/socket&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; -&lt;span&gt; to listen on a unix socket.
 &lt;/span&gt;&lt;span&gt;11&lt;/span&gt; ; Note: This value &lt;span&gt;is&lt;/span&gt;&lt;span&gt; mandatory.
 &lt;/span&gt;&lt;span&gt;12&lt;/span&gt; listen = &lt;span&gt;172.20&lt;/span&gt;.&lt;span&gt;10.9&lt;/span&gt;:&lt;span&gt;9000   #修改为本机ip地址&lt;/span&gt;
 &lt;span&gt;13&lt;/span&gt; 
 &lt;span&gt;14&lt;/span&gt; ; Set listen(&lt;span&gt;2&lt;/span&gt;) backlog. A value of &lt;span&gt;'&lt;/span&gt;&lt;span&gt;-1&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt; means unlimited.
 &lt;/span&gt;&lt;span&gt;15&lt;/span&gt; ; Default Value: -&lt;span&gt;1&lt;/span&gt;
 &lt;span&gt;16&lt;/span&gt; ;listen.backlog = -&lt;span&gt;1&lt;/span&gt;
 &lt;span&gt;17&lt;/span&gt; 
 &lt;span&gt;18&lt;/span&gt;&lt;span&gt; ; List of ipv4 addresses of FastCGI clients which are allowed to connect.
 &lt;/span&gt;&lt;span&gt;19&lt;/span&gt; ; Equivalent to the FCGI_WEB_SERVER_ADDRS environment variable &lt;span&gt;in&lt;/span&gt;&lt;span&gt; the original
 &lt;/span&gt;&lt;span&gt;20&lt;/span&gt; ; PHP FCGI (&lt;span&gt;5.2&lt;/span&gt;.&lt;span&gt;2&lt;/span&gt;+&lt;span&gt;). Makes sense only with a tcp listening socket. Each address
 &lt;/span&gt;&lt;span&gt;21&lt;/span&gt; ; must be separated by a comma. If &lt;span&gt;this&lt;/span&gt; value &lt;span&gt;is&lt;/span&gt;&lt;span&gt; left blank, connections will be
 &lt;/span&gt;&lt;span&gt;22&lt;/span&gt; ; accepted &lt;span&gt;from&lt;/span&gt;&lt;span&gt; any ip address.
 &lt;/span&gt;&lt;span&gt;23&lt;/span&gt;&lt;span&gt; ; Default Value: any
 &lt;/span&gt;&lt;span&gt;24&lt;/span&gt; listen.allowed_clients = &lt;span&gt;172.20&lt;/span&gt;.&lt;span&gt;10.8  #修改为nginx服务端地址&lt;/span&gt;&lt;span&gt;
...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;启动php-fpm&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
[root@ken ~]# systemctl restart php-&lt;span&gt;fpm
[root@ken &lt;/span&gt;~]# ss -&lt;span&gt;tnl
State       Recv&lt;/span&gt;-Q Send-&lt;span&gt;Q               Local Address:Port                              Peer Address:Port              
LISTEN      &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;      &lt;span&gt;128&lt;/span&gt;                    &lt;span&gt;172.20&lt;/span&gt;.&lt;span&gt;10.9&lt;/span&gt;:&lt;span&gt;9000&lt;/span&gt;                                         *:*   
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;准备动态测试文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
[root@ken ~]# cd /&lt;span&gt;var&lt;/span&gt;/www/html/&lt;span&gt;
[root@ken html]# ls
index.html
[root@ken html]# vim index.php
&lt;/span&gt;&amp;lt;?&lt;span&gt;php
phpinfo();
&lt;/span&gt;?&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;重启nginx&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# systemctl restart nginx 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;浏览器输入nginx服务端ip地址进行测试&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1499615/201810/1499615-20181002234406592-1044088225.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;访问成功，刷新几次查看nginx是否已经产生缓存&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
[root@ken ~]# ls /kenken/
&lt;span&gt;1&lt;/span&gt;/ b/ e/&lt;span&gt; 
[root@ken &lt;/span&gt;~]# ls /kenken/b/fe/c86156f7dcfecf44876ca30d1bac7feb 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;动态文件缓存成功！&lt;/p&gt;
</description>
<pubDate>Tue, 02 Oct 2018 15:46:00 +0000</pubDate>
<dc:creator>技术流ken</dc:creator>
<og:description>1.简介 本系列博文将分为三大部分，这是第一部分。分别介绍nginx的动态以及静态文件的缓存，使用nginx实现反向代理，以及nginx实现负载均衡。相信在读完本篇博文之后，你会对nginx强大的应用</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/kenken2018/p/9738901.html</dc:identifier>
</item>
<item>
<title>(C/C++学习心得)7.数组及其访问方式 - 退後。</title>
<link>http://www.cnblogs.com/tuihou/p/9738885.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/tuihou/p/9738885.html</guid>
<description>&lt;p&gt;&lt;strong&gt;&lt;span&gt;说明&lt;/span&gt;：数组的数据类型是一种构造类型,而存储数组的内存是一段连续的存储区域。数组的数据类型决定了连续内存的访问方式,它包括数组的三要素：起始地址、步长以及元素个数。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;一.一维数组&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.形式：type 数组名[N],type为该一维数组中元素的类型(即步长),N表示该数组中的元素个数,而数组名则是数组元素的起始地址,例如：int arr[10];&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.数组的大小：sizeof(数组名)=元素类型所含字节数*元素个数;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.初始化：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;  1&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; arr1[10] = {1,2,3};
&lt;span&gt;  2&lt;/span&gt;     &lt;span&gt;//部分初始化(前三个元素)&lt;/span&gt;
&lt;span&gt;  3&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; arr3[10] = {0};
&lt;span&gt;  4&lt;/span&gt;     &lt;span&gt;//数组清零&lt;/span&gt;&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;4.访问：数组名是数组的唯一标识符,数组名具有两重含义。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;   a.就作为数组名时,表示一种构造类型,此时可以用来打印数组的大小(包含的字节数),例如：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;  1&lt;/span&gt; printf(&quot;&lt;span&gt;%d&lt;/span&gt;&quot;,&lt;span&gt;sizeof&lt;/span&gt;(数组名));&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;   b.数组名用来访问成员时,它表示的是首元素的地址,而对数组名取地址的时候,它表示的是整个数组的首地址,因此,以下代码的输出结果是不一样的,这个非常重要！&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;38&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;  1&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; arr[8] = {1,2,3};
&lt;span&gt;  2&lt;/span&gt;     printf(&quot;&lt;span&gt;%p\t%p\n&lt;/span&gt;&quot;,arr,arr+1);
&lt;span&gt;  3&lt;/span&gt;     printf(&quot;&lt;span&gt;%p\t%p\n&lt;/span&gt;&quot;,&amp;amp;arr,&amp;amp;arr+1);&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;程序输出结果：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/1397244/201810/1397244-20181002233340557-1446519086.png&quot;&gt;&lt;strong&gt;&lt;img title=&quot;1捕获&quot; src=&quot;https://img2018.cnblogs.com/blog/1397244/201810/1397244-20181002233341477-1904678181.png&quot; alt=&quot;1捕获&quot; width=&quot;244&quot; height=&quot;36&quot; border=&quot;0&quot;/&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;二.二维数组&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.形式：type name[M][N],二维数组其实也可以看成是一个一维数组(任何多维数组都可以看成是一个一维数组),只是数据成员的的类型由基本类型(如：int、char等)变成了构造类型：一维数组(多维数组)。例如int arr[3][4]可以看成是int[4] arr[3],这是一个一维数组,数组名为arr,数组成员的类型为int[4](一维数组),数组中的元素个数为3,其它多维数组也可按此方式理解。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.二维数组在逻辑和内存上的理解：二维数组在逻辑上可以理解为二维的,例如int arr[3][4],可以想成其含有3行4列,共3*4个元素,当然也可按上述方式去理解,则理解为该二维数组中含有3个一维数组,其中每个一维数组中又含有四个int类型的元素,这两种方式其实是一致的。但是计算机的内存是线性的,这意味着内存对数据的存储方式都是一维线性的,因此,二维数组的访问方式可以有以下两种：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;  1&lt;/span&gt;     &lt;span&gt;//方式一&lt;/span&gt;
&lt;span&gt;  2&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0;i&amp;lt;3;i++)
&lt;span&gt;  3&lt;/span&gt;     {
&lt;span&gt;  4&lt;/span&gt;         &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; j = 0;j&amp;lt;4;j++)
&lt;span&gt;  5&lt;/span&gt;             printf(&quot;&lt;span&gt;%d  &lt;/span&gt;&quot;,arr[i][j]);
&lt;span&gt;  6&lt;/span&gt;     }
&lt;span&gt;  7&lt;/span&gt;     &lt;span&gt;//方式二&lt;/span&gt;
&lt;span&gt;  8&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; *p = (&lt;span&gt;int&lt;/span&gt;*)arr;
&lt;span&gt;  9&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0;i&amp;lt;&lt;span&gt;sizeof&lt;/span&gt;(arr)/&lt;span&gt;sizeof&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt;);i++)
&lt;span&gt; 10&lt;/span&gt;         printf(&quot;&lt;span&gt;%d &lt;/span&gt;&quot;,*p++);&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3.就像是一维数组一样,二维数组名也代表其第一个元素的地址,只不过这里的第一个元素的类型变成了一个一维数组,如int arr[3][4],执行arr+1实际上相当于是在二维数组的行间跳转,因为arr代表的是第一个元素(一维数组),因此执行加一操作时,加的是该一维数组的大小。而执行&amp;amp;arr+1时,就像上面提到的一样,加的是整个数组的大小,因为&amp;amp;arr+1代表的是整个数组的起始地址。&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;  1&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; arr[3][4];
&lt;span&gt;  2&lt;/span&gt;     printf(&quot;&lt;span&gt;%p  %p\n&lt;/span&gt;&quot;,arr,arr+1);
&lt;span&gt;  3&lt;/span&gt;     printf(&quot;&lt;span&gt;%p  %p\n&lt;/span&gt;&quot;,&amp;amp;arr,&amp;amp;arr+1);&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;程序运行结果：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://img2018.cnblogs.com/blog/1397244/201810/1397244-20181002233342445-33945669.png&quot;&gt;&lt;strong&gt;&lt;img title=&quot;32获&quot; src=&quot;https://img2018.cnblogs.com/blog/1397244/201810/1397244-20181002233342965-1506534708.png&quot; alt=&quot;32获&quot; width=&quot;244&quot; height=&quot;36&quot; border=&quot;0&quot;/&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;&lt;strong&gt;4.二维数组的访问方式,如对于int arr[3][4],arr[i][j]表示二维数组第i行第j列的元素(第i个一维数组里面的第j个元素),也可以这样来访问：*(*(arr+i)+j),同样表示第i行第j列的元素。对于第二种方式,可以这样理解：首先,arr是一个二维数组,arr+i表示指向二维数组的第i行,对其*一次则从arr这个二维数组的二维数组模式降到了这个二维数组的第i行(即降维,从二维降到了第i个一维数组),同样的道理,对该一维数组加j再*,则又从一维数组模式降维到了单个元素模式,这就取出了该二维数组的第i行第j列的元素。二维数组的两种访问方式如下：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;  1&lt;/span&gt;     &lt;span&gt;//方式1&lt;/span&gt;
&lt;span&gt;  2&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0;i&amp;lt;3;i++)
&lt;span&gt;  3&lt;/span&gt;     {
&lt;span&gt;  4&lt;/span&gt;         &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; j = 0;j&amp;lt;4;j++)
&lt;span&gt;  5&lt;/span&gt;             printf(&quot;&lt;span&gt;%d  &lt;/span&gt;&quot;,arr[i][j]);
&lt;span&gt;  6&lt;/span&gt;     }
&lt;span&gt;  7&lt;/span&gt;     &lt;span&gt;//方式2&lt;/span&gt;
&lt;span&gt;  8&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0;i&amp;lt;3;i++)
&lt;span&gt;  9&lt;/span&gt;     {
&lt;span&gt; 10&lt;/span&gt;         &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; j = 0;j&amp;lt;4;j++)
&lt;span&gt; 11&lt;/span&gt;             printf(&quot;&lt;span&gt;%d  &lt;/span&gt;&quot;,*(*(arr+i)+j));
&lt;span&gt; 12&lt;/span&gt;     }&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;三.多维数组&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.形式：type name[x][y][z],同样的道理,也可以理解为是这样一个一维数组：type [y][z] name[x],这里不再赘述。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;四.拓展&lt;/span&gt;：申请一个堆上的动态二维数组,数组的行列采用输入方式确定,并且将数组初始化为0&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.C++模式(输入行和列以空格或回车键分隔)&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34.5&quot;&gt;&lt;strong&gt;&lt;img id=&quot;code_img_closed_518475a9-c44c-4f31-b2ac-6f9e7a3f196d&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_518475a9-c44c-4f31-b2ac-6f9e7a3f196d&quot; class=&quot;code_img_opened&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;
&lt;div id=&quot;cnblogs_code_open_518475a9-c44c-4f31-b2ac-6f9e7a3f196d&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;64&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;  1&lt;/span&gt; #include &amp;lt;iostream&amp;gt;
&lt;span&gt;  2&lt;/span&gt; &lt;span&gt;using&lt;/span&gt; &lt;span&gt;namespace&lt;/span&gt; std;
&lt;span&gt;  3&lt;/span&gt; 
&lt;span&gt;  4&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; **getDoubleArray(&lt;span&gt;int&lt;/span&gt; row,&lt;span&gt;int&lt;/span&gt; col)
&lt;span&gt;  5&lt;/span&gt; {
&lt;span&gt;  6&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; **p = &lt;span&gt;new&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;*[row];
&lt;span&gt;  7&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0;i&amp;lt;row;i++)
&lt;span&gt;  8&lt;/span&gt;         p[i] = &lt;span&gt;new&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;[col];
&lt;span&gt;  9&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt; p;
&lt;span&gt; 10&lt;/span&gt;     &lt;span&gt;//返回对上的二维空间&lt;/span&gt;
&lt;span&gt; 11&lt;/span&gt; }
&lt;span&gt; 12&lt;/span&gt; 
&lt;span&gt; 13&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; main()
&lt;span&gt; 14&lt;/span&gt; {
&lt;span&gt; 15&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; i = 0,j = 0;
&lt;span&gt; 16&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; row ,col;
&lt;span&gt; 17&lt;/span&gt;     cin&amp;gt;&amp;gt;row&amp;gt;&amp;gt;col;
&lt;span&gt; 18&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; **arr = getDoubleArray(row,col);
&lt;span&gt; 19&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(i = 0;i&amp;lt;row;i++)
&lt;span&gt; 20&lt;/span&gt;         &lt;span&gt;for&lt;/span&gt;(j = 0;j &amp;lt; col;j++)
&lt;span&gt; 21&lt;/span&gt;             arr[i][j] = 0;
&lt;span&gt; 22&lt;/span&gt; 
&lt;span&gt; 23&lt;/span&gt;     &lt;span&gt;//这里可完成对二维数组的初始化的操作&lt;/span&gt;
&lt;span&gt; 24&lt;/span&gt; 
&lt;span&gt; 25&lt;/span&gt;     &lt;span&gt;//释放申请的空间&lt;/span&gt;
&lt;span&gt; 26&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(i = 0;i&amp;lt;row;i++)
&lt;span&gt; 27&lt;/span&gt;         &lt;span&gt;delete&lt;/span&gt; [] arr[i];
&lt;span&gt; 28&lt;/span&gt;     &lt;span&gt;delete&lt;/span&gt; [] arr;
&lt;span&gt; 29&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt; 0;
&lt;span&gt; 30&lt;/span&gt; }&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;strong&gt;&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;查看代码&lt;/span&gt;&lt;/strong&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2.c语言模式(输入行和列以空格或回车键分隔)&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35.5&quot;&gt;&lt;strong&gt;&lt;img id=&quot;code_img_closed_54fadb58-1e6f-4164-99aa-d3ded62a8d19&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_54fadb58-1e6f-4164-99aa-d3ded62a8d19&quot; class=&quot;code_img_opened&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;
&lt;div id=&quot;cnblogs_code_open_54fadb58-1e6f-4164-99aa-d3ded62a8d19&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;66&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;  1&lt;/span&gt; #include&amp;lt;stdio.h&amp;gt;
&lt;span&gt;  2&lt;/span&gt; #include&amp;lt;stdlib.h&amp;gt;
&lt;span&gt;  3&lt;/span&gt; 
&lt;span&gt;  4&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; **getarray(&lt;span&gt;int&lt;/span&gt; rowl, &lt;span&gt;int&lt;/span&gt; col)
&lt;span&gt;  5&lt;/span&gt; {
&lt;span&gt;  6&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; **p = (&lt;span&gt;int&lt;/span&gt;**)malloc(rowl * &lt;span&gt;sizeof&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt;*));
&lt;span&gt;  7&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; rowl; i++)
&lt;span&gt;  8&lt;/span&gt;         p[i] = (&lt;span&gt;int&lt;/span&gt;*)malloc(col*&lt;span&gt;sizeof&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt;));
&lt;span&gt;  9&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt;  p;
&lt;span&gt; 10&lt;/span&gt; }
&lt;span&gt; 11&lt;/span&gt; 
&lt;span&gt; 12&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; main()
&lt;span&gt; 13&lt;/span&gt; {
&lt;span&gt; 14&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; a, b;
&lt;span&gt; 15&lt;/span&gt;     scanf(&quot;&lt;span&gt;%d %d&lt;/span&gt;&quot;,&amp;amp;a,&amp;amp;b);
&lt;span&gt; 16&lt;/span&gt;     &lt;span&gt;int&lt;/span&gt; **p = getarray(a, b);
&lt;span&gt; 17&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; a; i++)
&lt;span&gt; 18&lt;/span&gt;     {
&lt;span&gt; 19&lt;/span&gt;         &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; j = 0; j &amp;lt; b; j++)
&lt;span&gt; 20&lt;/span&gt;             p[i][j] = 0;
&lt;span&gt; 21&lt;/span&gt;     }
&lt;span&gt; 22&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = 0; i &amp;lt; a; i++)
&lt;span&gt; 23&lt;/span&gt;     {
&lt;span&gt; 24&lt;/span&gt;         &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; j = 0; j &amp;lt; b; j++)
&lt;span&gt; 25&lt;/span&gt;             printf(&quot;&lt;span&gt;%d &lt;/span&gt;&quot;,p[i][j]) ;
&lt;span&gt; 26&lt;/span&gt;     }
&lt;span&gt; 27&lt;/span&gt;     &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i = 0;i&amp;lt;a;i++)
&lt;span&gt; 28&lt;/span&gt;         free (p[i]);
&lt;span&gt; 29&lt;/span&gt;     free (p);
&lt;span&gt; 30&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt; 0;
&lt;span&gt; 31&lt;/span&gt; }&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;strong&gt;&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;查看代码&lt;/span&gt;&lt;/strong&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;注意&lt;/span&gt;：返回堆上的二维空间还有其它方式,这里暂时以以上两种为例。&lt;/strong&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 02 Oct 2018 15:41:00 +0000</pubDate>
<dc:creator>退後。</dc:creator>
<og:description>说明：数组的数据类型是一种构造类型,而存储数组的内存是一段连续的存储区域。数组的数据类型决定了连续内存的访问方式,它包括数组的三要素：起始地址、步长以及元素个数。 一.一维数组 1.形式：type 数</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/tuihou/p/9738885.html</dc:identifier>
</item>
<item>
<title>客户端传入数据的校验-RestController进阶 - 一飞要上天</title>
<link>http://www.cnblogs.com/yifeiyaoshangtian/p/9738889.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yifeiyaoshangtian/p/9738889.html</guid>
<description>&lt;p&gt; &lt;span&gt;&lt;strong&gt;使用Hibernate Validator进行数据校验&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;Bean Validation注解（需要加入相关依赖，在SpringBoot中可以直接使用，SpringBoot会帮我们直接加入）&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;@Null 验证对象是否为空（属性必须为空，客户不能传入此属性，否则会报错）&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;@NotNull 验证对象是否为非空（属性不为空，客户必须传入此属性，否则会报错）&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;@Min 验证Number和String对象是否大于等于指定的值&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;@Max 验证Number和String对象是否小于等于指定的值&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;@Size 验证对象（Array，Collection，Map，String）长度是否在给定的范围之内&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;@Past 验证Date和Calendar对象是否在当前时间之前&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;@Future 验证Date和Calendar对象是否在当前时间之后&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;@AssertTrue 验证Boolean对象是否为true&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;@AssertFalse 验证Boolean对象是否为false&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;@Valid 级联验证注解&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;注解可以用在成员变量上：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package com.example.demo;

import java.util.Date;
import java.util.List;

import javax.validation.Valid;
import javax.validation.constraints.DecimalMin;
import javax.validation.constraints.NotNull;
import javax.validation.constraints.Null;
import javax.validation.constraints.Past;
import javax.validation.constraints.Size;

import com.fasterxml.jackson.annotation.JsonFormat;


&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; TvSeriesDto {
    @Null &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; id;
    @NotNull &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; String name;
    @DecimalMin(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;) &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; seasonCount;
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;@Valid表示要级联校验；@Size(min=2)表示这个列表至少要有2项内容，否则通不过校验&lt;/span&gt;
    @Valid @NotNull @Size(min=&lt;span&gt;2&lt;/span&gt;) &lt;span&gt;private&lt;/span&gt; List&amp;lt;TvCharacterDto&amp;gt;&lt;span&gt; tvCharacters; 
    
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;如果想用long型的timestamp表示日期，可用：@JsonFormat(shape = JsonFormat.Shape.NUMBER)&lt;/span&gt;
    @JsonFormat(timezone=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;GMT+8&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,pattern=&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;yyyy-MM-dd&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;@Past表示只接受过去的时间，比当前时间还晚的被认为不合格&lt;/span&gt;
    @Past &lt;span&gt;private&lt;/span&gt;&lt;span&gt; Date originRelease;
    
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; TvSeriesDto() {
        
    }
    
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; TvSeriesDto(&lt;span&gt;int&lt;/span&gt; id, String name, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; seasonCount, Date originRelease) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.id =&lt;span&gt; id;
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.name =&lt;span&gt; name;
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.seasonCount =&lt;span&gt; seasonCount;
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.originRelease =&lt;span&gt; originRelease;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; getId() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; id;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; setId(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; id) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.id =&lt;span&gt; id;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String getName() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; name;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setName(String name) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.name =&lt;span&gt; name;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; getSeasonCount() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; seasonCount;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; setSeasonCount(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; seasonCount) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.seasonCount =&lt;span&gt; seasonCount;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Date getOriginRelease() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; originRelease;
    }
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setOriginRelease(Date originRelease) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.originRelease =&lt;span&gt; originRelease;
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String toString() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;TvSeriesDto [id=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; + id + &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, name=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; + name + &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, seasonCount=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; + seasonCount + &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;, originRelease=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;
                + originRelease + &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
    }
    
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002232503785-836262574.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002232527624-1629948044.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;可以用在方法上：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002232652843-35076599.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002232207418-1149061482.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002232936880-1767443575.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002232957120-2027177669.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;我们发现，如果传入参数不符合验证要求就会被退回去；通过BindingResult，无论传入参数是否符合要求，&lt;/p&gt;
&lt;p&gt;都可以通过BindingResult传入程序中，交由程序进行作判断。如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002233100710-1425631315.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002233441951-908394760.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;客户端同意使用postman来发送请求~~&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002233949217-805609902.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002234037455-1105513077.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002234117807-2133566217.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1457568/201810/1457568-20181002234152528-806317074.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

</description>
<pubDate>Tue, 02 Oct 2018 15:38:00 +0000</pubDate>
<dc:creator>一飞要上天</dc:creator>
<og:description>使用Hibernate Validator进行数据校验 Bean Validation注解（需要加入相关依赖，在SpringBoot中可以直接使用，SpringBoot会帮我们直接加入） @Null</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/yifeiyaoshangtian/p/9738889.html</dc:identifier>
</item>
<item>
<title>性能测试系列-java gc调优 - 张永清</title>
<link>http://www.cnblogs.com/laoqing/p/9738872.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/laoqing/p/9738872.html</guid>
<description>&lt;p&gt;性能测试中除了需要做好性能测试外，我们还需要做性能测试后的，性能调优，需要发现性能问题，也需要做性能调优，在做性能调优中，jvm的性能调优是经常遇到的一个。&lt;/p&gt;
&lt;p&gt;随着jdk版本的迅速变化，jdk里面的GC算法也是发生了很多变化，新版的jdk中，G1的已经成了jdk的默认算法了，性能测试中，我们经常关注的比较多的就是tps，吞吐率，内存占用，CPU占用，响应时间，其中GC&lt;/p&gt;
&lt;p&gt;的回收对响应时间有非常大的影响，早期的GC回收，基本都会造成很长时间的Stop-The-World 的暂停，新GC算法很多都是围绕降低Stop-The-World 的暂停时间，使得平均响应时间尽量变短，TPS提升的更高。&lt;/p&gt;
&lt;p&gt;从内存区域的角度，G1 同样存在着年代的概念，但是与我前面介绍的内存结构很不一样，其内部是类似棋盘状的一个个 region 组成，请参考下面的示意图。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;备注：摘选自：Java GC调优怎么做？杨晓峰 出处 | 极客时间《Java 核心技术 36 讲》专栏&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1200756/201810/1200756-20181002230208862-386014049.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;region 的大小是一致的，数值是在 1M 到 32M 字节之间的一个 2 的幂值数，JVM 会尽量划分 2048 个左右、同等大小的 region，这点可以从源码 heapRegionBounds.hpp 中看到。当然这个数字既可以手动调整，G1 也会根据堆大小自动进行调整。&lt;/p&gt;
&lt;p&gt;在 G1 实现中，年代是个逻辑概念，具体体现在，一部分 region 是作为 Eden，一部分作为 Survivor，除了意料之中的 Old region，G1 会将超过 region 50% 大小的对象（在应用中，通常是 byte 或 char 数组）归类为 Humongous 对象，并放置在相应的 region 中。逻辑上，Humongous region 算是老年代的一部分，因为复制这样的大对象是很昂贵的操作，并不适合新生代 GC 的复制算法。&lt;/p&gt;
&lt;p&gt;region 设计本身可能存储在的不足：&lt;/p&gt;
&lt;p&gt;region 大小和大对象很难保证一致，这会导致空间的浪费。不知道你有没有注意到，我的示意图中有的区域是 Humongous 颜色，但没有用名称标记，这是为了表示，特别大的对象是可能占用超过一个 region 的。并且，region 太小不合适，会令你在分配大对象时更难找到连续空间，这是一个长久存在的情况，请参考 OpenJDK 社区的讨论。这本质也可以看作是 JVM 的 bug，尽管解决办法也非常简单，直接设置较大的 region 大小，参数如下：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;-XX:G1HeapRegionSize=&amp;lt;N, 例如 16&amp;gt;M&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从 GC 算法的角度，G1 选择的是复合算法，可以简化理解为：&lt;/p&gt;
&lt;ul class=&quot;list-paddingleft-2&quot; readability=&quot;0&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;在新生代，G1 采用的仍然是并行的复制算法，所以同样会发生 Stop-The-World 的暂停。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;在老年代，大部分情况下都是并发标记，而整理（Compact）则是和新生代 GC 时捎带进行，并且不是整体性的整理，而是增量进行的。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;在过去，我们一般将年轻代（新生代）的GC称为Minor GC，老年代 GC 叫作 Major GC，全局整体性的GC叫做full GC，但是新版jdk版本中，已经和过去有了很大的不同了，对于我们讲的G1算法来说：&lt;/p&gt;
&lt;ul class=&quot;list-paddingleft-2&quot; readability=&quot;1&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;Minor GC 仍然存在，虽然具体过程会有区别，会涉及 Remembered Set 等相关处理。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;老年代回收，则是依靠 Mixed GC。并发标记结束后，JVM 就有足够的信息进行垃圾收集，Mixed GC 不仅同时会清理 Eden、Survivor 区域，而且还会清理部分 Old 区域。可以通过设置下面的参数，指定触发阈值，并且设定最多被包含在一次 Mixed GC 中的 region 比例。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;pre readability=&quot;6&quot;&gt;
&lt;code&gt;–XX:G1MixedGCLiveThresholdPercent
–XX:G1OldCSetRegionThresholdPercent&lt;/code&gt;&lt;p&gt;从 G1 内部运行的角度，下面的示意图描述了 G1 正常运行时的状态流转变化，当然，在发生逃逸失败等情况下，就会触发 Full GC。&lt;/p&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1200756/201810/1200756-20181002230903665-1917167914.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;在G1中出现了很多的新概念，比如Remembered Set，用于记录和维护 region 之间对象的引用关系。为什么需要这么做呢？试想，新生代 GC 是复制算法，也就是说，类似对象从 Eden 或者 Survivor 到 to 区域的“移动”，其实是“复制”，本质上是一个新的对象。在这个过程中，需要必须保证老年代到新生代的跨区引用仍然有效。下面的示意图说明了相关设计。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;备注：摘选自：Java GC调优怎么做？杨晓峰 出处 | 极客时间《Java 核心技术 36 讲》专栏&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1200756/201810/1200756-20181002231025825-1575443044.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;G1 的很多开销都是源自 Remembered Set，例如，它通常约占用 Heap 大小的 20% 或更高，这可是非常可观的比例。并且，我们进行对象复制的时候，因为需要扫描和更改 Card Table 的信息，这个速度影响了复制的速度，进而影响暂停时间。&lt;/p&gt;
&lt;p&gt; 在G1 算法中记录了老年代 region 间对象引用，Humongous 对象数量有限，所以能够快速的知道是否有老年代对象引用它。如果没有，能够阻止它被回收的唯一可能，就是新生代是否有对象引用了它，但这个信息是可以在 Young GC 时就知道的，所以完全可以在 Young GC 中就进行 Humongous 对象的回收，不用像其他老年代对象那样，等待并发标记结束。&lt;/p&gt;
&lt;ul class=&quot;list-paddingleft-2&quot; readability=&quot;-0.5&quot;&gt;&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;8u20 以后字符串排重的特性，在垃圾收集过程中，G1 会把新创建的字符串对象放入队列中，然后在 Young GC 之后，并发地（不会 STW）将内部数据（char 数组，JDK 9 以后是 byte 数组）一致的字符串进行排重，也就是将其引用同一个数组。你可以使用下面参数激活：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;pre readability=&quot;6&quot;&gt;
&lt;code&gt;-XX:+UseStringDeduplication&lt;/code&gt;&lt;p&gt;这种排重虽然可以节省不少内存空间，但这种并发操作会占用一些 CPU 资源，也会导致 Young GC 稍微变慢。&lt;/p&gt;&lt;p&gt;通过
&lt;/p&gt;&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;-XX:+TraceClassUnloading&lt;/code&gt;&lt;br/&gt;可以查看到G1 算法的类型卸载方式，8u40 以后的jdk版本中，G1 增加并默认开启下面的选项：
&lt;/pre&gt;
&lt;pre readability=&quot;11&quot;&gt;
&lt;code&gt;-XX:+ClassUnloadingWithConcurrentMark&lt;/code&gt;&lt;p&gt;在并发标记阶段结束后，JVM 即进行类型卸载，并不会在发生了full GC才进行类型卸载。&lt;/p&gt;&lt;p&gt;在之前的jdk版本中，老年代对象回收，基本要等待并发标记结束。这意味着，如果并发标记结束不及时，导致堆已满，但老年代空间还没完成回收，就会触发 Full GC，所以触发并发标记的时机很重要。早期的 G1 调优中，通常会设置下面参数，但是很难给出一个普适的数值，往往要根据实际运行结果调整.
&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;7&quot;&gt;
&lt;code&gt;-XX:InitiatingHeapOccupancyPercent&lt;/code&gt;&lt;p&gt;在 JDK 9 之后的 G1 实现中，这种调整需求会少很多，因为 JVM 只会将该参数作为初始值，会在运行时进行采样，获取统计数据，然后据此动态调整并发标记启动时机。对应的 JVM 参数如下，默认已经开启：&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;11&quot;&gt;
&lt;code&gt;-XX:+G1UseAdaptiveIHOP&lt;/code&gt;&lt;br/&gt;在新的jdk中，full gc已经从单线程串行 GC 变更为了并行进行了，在通用场景中的表现还优于 Parallel GC 的 Full GC 实现。&lt;p&gt;性能GC调优一些建议如下：（&lt;strong&gt;摘选自：Java GC调优怎么做？杨晓峰 出处 | 极客时间《Java 核心技术 36 讲》&lt;/strong&gt;）&lt;/p&gt;&lt;p&gt;1、首先，建议尽量升级到较新的 JDK 版本，从上面介绍的改进就可以看到，很多人们常常讨论的问题，其实升级 JDK 就可以解决了。&lt;br/&gt;2、掌握 GC 调优信息收集途径。掌握尽量全面、详细、准确的信息，是各种调优的基础，不仅仅是 GC 调优。我们来看看打开 GC 日志，这似乎是很简单的事情，可是你确定真的掌握了吗？&lt;br/&gt;除了常用的两个选项，
&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;5&quot;&gt;
&lt;code&gt;-XX:+PrintGCDetails
-XX:+PrintGCDateStamps&lt;/code&gt;&lt;p&gt;还有一些非常有用的日志选项，很多特定问题的诊断都是要依赖这些选项：&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;11&quot;&gt;
&lt;code&gt;-XX:+PrintAdaptiveSizePolicy   // 打印 G1 Ergonomics 相关信息&lt;/code&gt;&lt;p&gt;我们知道 GC 内部一些行为是适应性的触发的，利用 PrintAdaptiveSizePolicy，我们就可以知道为什么 JVM 做出了一些可能我们不希望发生的动作。例如，G1 调优的一个基本建议就是避免进行大量的 Humongous 对象分配，如果 Ergonomics 信息说明发生了这一点，那么就可以考虑要么增大堆的大小，要么直接将 region 大小提高。&lt;/p&gt;&lt;p&gt;如果是怀疑出现引用清理不及时的情况，则可以打开下面选项，掌握到底是哪里出现了堆积。&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;5&quot;&gt;
&lt;code&gt;-XX:+PrintReferenceGC&lt;/code&gt;&lt;p&gt;另外，建议开启选项下面的选项进行并行引用处理。&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;9&quot;&gt;
&lt;code&gt;-XX:+ParallelRefProcEnabled&lt;/code&gt;&lt;p&gt;需要注意的一点是，JDK 9 中 JVM 和 GC 日志机构进行了重构，其实我前面提到的&lt;/p&gt;&lt;p&gt;PrintGCDetails 已经被标记为废弃，而 PrintGCDateStamps 已经被移除，指定它会导致 JVM 无法启动。可以使用下面的命令查询新的配置参数。&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;6&quot;&gt;
&lt;code&gt;java -Xlog:help&lt;/code&gt;&lt;p&gt;最后，来看一些通用实践，理解了我前面介绍的内部结构和机制，很多结论就一目了然了，例如&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;5&quot;&gt;
&lt;code&gt;-XX:G1NewSizePercent&lt;/code&gt;&lt;p&gt;降低其最大值同样对降低 Young GC 延迟有帮助。&lt;/p&gt;&lt;/pre&gt;
&lt;pre readability=&quot;6&quot;&gt;
&lt;code&gt;-XX:G1MaxNewSizePercent&lt;/code&gt;&lt;p&gt;如果我们直接为 G1 设置较小的延迟目标值，也会起到减小新生代的效果，虽然会影响吞吐量。&lt;/p&gt;&lt;/pre&gt;
&lt;p&gt;还记得前面说的，部分 Old region 会被包含进 Mixed GC，减少一次处理的 region 个数，就是个直接的选择之一。&lt;/p&gt;
&lt;p&gt;我在上面已经介绍了 G1OldCSetRegionThresholdPercent 控制其最大值，还可以利用下面参数提高 Mixed GC 的个数，当前默认值是 8，Mixed GC 数量增多，意味着每次被包含的 region 减少。&lt;/p&gt;

&lt;pre readability=&quot;6&quot;&gt;
&lt;code&gt;-XX:G1MixedGCCountTarget&lt;/code&gt;&lt;p&gt;需要注意的是，要避免过度调优，G1 对大堆非常友好，其运行机制也需要浪费一定的空间，有时候稍微多给堆一些空间，比进行苛刻的调优更加实用。&lt;/p&gt;&lt;/pre&gt;
&lt;pre&gt;
&lt;/pre&gt;</description>
<pubDate>Tue, 02 Oct 2018 15:29:00 +0000</pubDate>
<dc:creator>张永清</dc:creator>
<og:description>性能测试中除了需要做好性能测试外，我们还需要做性能测试后的，性能调优，需要发现性能问题，也需要做性能调优，在做性能调优中，jvm的性能调优是经常遇到的一个。 随着jdk版本的迅速变化，jdk里面的GC</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/laoqing/p/9738872.html</dc:identifier>
</item>
<item>
<title>SSM商城项目（一） - 火中魂</title>
<link>http://www.cnblogs.com/huozhonghun/p/9738004.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/huozhonghun/p/9738004.html</guid>
<description>&lt;p&gt;1、电商行业的背景。&lt;/p&gt;
&lt;p&gt;2、宜立方商城介绍&lt;/p&gt;
&lt;p&gt;3、宜立方商城的系统架构&lt;/p&gt;
&lt;p&gt;a) 功能介绍&lt;/p&gt;
&lt;p&gt;b) 架构讲解&lt;/p&gt;
&lt;p&gt;4、&lt;span&gt;工程搭建&lt;/span&gt;-&lt;span&gt;后台工程&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;a) &lt;span&gt;使用&lt;/span&gt;maven&lt;span&gt;搭建工程&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;b) &lt;span&gt;使用&lt;/span&gt;maven&lt;span&gt;的&lt;/span&gt;&lt;span&gt;tomcat&lt;/span&gt;&lt;span&gt;插件启动工程&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;5、SSM&lt;span&gt;框架整合&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;6、svn的使用。&lt;/p&gt;

&lt;p&gt;&lt;span&gt;  近年来，中国的电子商务快速发展，交易额连创新高，电子商务在各领域的应用不断拓展和深化、相关服务业蓬勃发展、支撑体系不断健全完善、创新的动力和能力&lt;/span&gt; &lt;span&gt;不断增强。电子商务正在与实体经济深度融合，进入规模性发展阶段，对经济社会生活的影响不断增大，正成为我国经济发展的新引擎。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;中国电子商务研究中心数据显示，截止到&lt;/span&gt;2012&lt;span&gt;年底，中国电子商务市场交易规模达&lt;/span&gt;&lt;span&gt;7.85&lt;/span&gt;&lt;span&gt;万亿人民币，同比增长&lt;/span&gt;&lt;span&gt;30.83%&lt;/span&gt;&lt;span&gt;。其中，&lt;/span&gt;&lt;span&gt;B2B&lt;/span&gt;&lt;span&gt;电子商务交易额 达&lt;/span&gt;&lt;span&gt;6.25&lt;/span&gt;&lt;span&gt;万亿，同比增长&lt;/span&gt;&lt;span&gt;27%&lt;/span&gt;&lt;span&gt;。而&lt;/span&gt;&lt;span&gt;2011&lt;/span&gt;&lt;span&gt;年全年，中国电子商务市场交易额达&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;&lt;span&gt;万亿人民币，同比增长&lt;/span&gt;&lt;span&gt;33%&lt;/span&gt;&lt;span&gt;，占&lt;/span&gt;&lt;span&gt;GDP&lt;/span&gt;&lt;span&gt;比重上升到&lt;/span&gt;&lt;span&gt;13%&lt;/span&gt;&lt;span&gt;；&lt;/span&gt;&lt;span&gt;2012&lt;/span&gt;&lt;span&gt;年，电 子商务占&lt;/span&gt;&lt;span&gt;GDP&lt;/span&gt;&lt;span&gt;的比重已经高达&lt;/span&gt;&lt;span&gt;15%&lt;/span&gt;&lt;span&gt;。预计&lt;/span&gt;&lt;span&gt;2013&lt;/span&gt;&lt;span&gt;年我国电子商务规模将突破十万亿大关。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002180550646-726258418.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;009-2015&lt;span&gt;年中国电子商务市场交易规模（万亿元）&lt;/span&gt; &lt;/p&gt;
&lt;h2&gt;2.1.&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002180657614-1627099591.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;结论：&lt;/p&gt;
&lt;p&gt;1、电商行业很挣钱，找互联网相关的工作。&lt;/p&gt;
&lt;p&gt;2、电商行业技术要求很高、高可用、海量数据的存储。&lt;/p&gt;
&lt;h2&gt;2.2. 电商行业技术特点&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;技术新&lt;/li&gt;
&lt;li&gt;技术范围广&lt;/li&gt;
&lt;li&gt;分布式&lt;/li&gt;
&lt;li&gt;高并发、集群、负载均衡、高可用&lt;/li&gt;
&lt;li&gt;海量数据&lt;/li&gt;
&lt;li&gt;业务复杂&lt;/li&gt;
&lt;li&gt;系统安全&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;    宜立方&lt;span&gt;网上商城是一个综合性的&lt;/span&gt;B2C&lt;span&gt;平台，类似京东商城、天猫商城。会员可以在商城浏览商品、下订单，以及参加各种活动。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;管理员、运营可以在平台后台管理系统中管理商品、订单、会员等。&lt;/p&gt;
&lt;p&gt;客服可以在后台管理系统中处理用户的询问以及投诉。&lt;/p&gt;
&lt;p&gt;电商模式：&lt;/p&gt;
&lt;p&gt;B2B&lt;span&gt;：商家到商家。阿里巴巴，慧聪网、铭万网。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;B2C&lt;span&gt;：商家到用户。京东。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;C2C&lt;span&gt;：用户到用户。淘宝。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;B2B2C&lt;span&gt;：商家到商家到用户。天猫。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;O2O&lt;span&gt;：线上到线下。百度外卖、美团、饿了么。&lt;/span&gt;&lt;/p&gt;

&lt;h2&gt;4.1. 功能列表&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002181136438-918559771.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;后台管理系统：管理商品、订单、类目、商品规格属性、用户管理以及内容发布等功能。&lt;/p&gt;
&lt;p&gt;前台系统：用户可以在前台系统中进行注册、登录、浏览商品、首页、下单等操作。&lt;/p&gt;
&lt;p&gt;会员系统：用户可以在该系统中查询已下的订单、收藏的商品、我的优惠券、团购等信息。&lt;/p&gt;
&lt;p&gt;订单系统：提供下单、查询订单、修改订单状态、定时处理订单。&lt;/p&gt;
&lt;p&gt;搜索系统：提供商品的搜索功能。&lt;/p&gt;
&lt;p&gt;单点登录系统：为多个系统之间提供用户登录凭证以及查询登录用户的信息。&lt;/p&gt;
&lt;h2&gt;4.2. 系统架构&lt;/h2&gt;
&lt;h3&gt;4.2.1. 传统架构&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002181315516-653200120.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;4.2.2. 1000&lt;span&gt;并发&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002181403212-1729206904.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;需要&lt;/span&gt;20&lt;span&gt;台服务器做&lt;/span&gt;&lt;span&gt;tomcat&lt;/span&gt;&lt;span&gt;集群。当&lt;/span&gt;&lt;span&gt;tomcat&lt;/span&gt;&lt;span&gt;集群中节点数量增加，服务能力先增加后下降。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;所以集群中节点数量不能太多，一般也就&lt;/span&gt;5&lt;span&gt;个左右。&lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;4.2.3. 10000并发&lt;/h3&gt;
&lt;p&gt;需要按照功能点把系统拆分，拆分成独立的功能。单独为某一个节点添加服务器。需要系统之间配合才能完成整个业务逻辑。叫做分布式。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002181701810-916287497.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;分布式架构：多个子系统相互协作才能完成业务流程。系统之间需要进行通信。&lt;/p&gt;
&lt;p&gt;集群：同一个工程部署到多台服务器上。&lt;/p&gt;
&lt;p&gt;分布式架构：&lt;/p&gt;
&lt;p&gt;把系统按照模块拆分成多个子系统。&lt;/p&gt;
&lt;p&gt;优点：&lt;/p&gt;
&lt;p&gt;1、把模块拆分，使用接口通信，降低模块之间的耦合度。&lt;/p&gt;
&lt;p&gt;2、把项目拆分成若干个子项目，不同的团队负责不同的子项目。&lt;/p&gt;
&lt;p&gt;3、增加功能时只需要再增加一个子项目，调用其他系统的接口就可以。&lt;/p&gt;
&lt;p&gt;4、可以灵活的进行分布式部署。&lt;/p&gt;
&lt;p&gt;缺点：&lt;/p&gt;
&lt;p&gt;1&lt;span&gt;、系统之间交互需要使用远程通信，接口开发增加工作量。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;2&lt;span&gt;、各个模块有一些通用的业务逻辑无法共用。&lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;4.2.4. &lt;span&gt;基于&lt;/span&gt;soa&lt;span&gt;的架构&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;SOA&lt;span&gt;：&lt;/span&gt;&lt;span&gt;Service Oriented Architecture&lt;/span&gt;&lt;span&gt;面向服务的架构。也就是把工程拆分成服务层、表现层两个工程。服务层中包含业务逻辑，只需要对外提供服务即可。表现层只需要处理和页面的交互，业务逻辑都是调用服务层的服务来实现。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002181952883-1093957834.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;4.2.5. 宜立方商城系统架构&lt;/h3&gt;
&lt;h3&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002182024763-1756422747.png&quot; alt=&quot;&quot;/&gt;&lt;/h3&gt;

&lt;h2&gt;5.1. &lt;span&gt;使用&lt;/span&gt;maven&lt;span&gt;的好处&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;使用&lt;/span&gt;maven&lt;span&gt;管理工程。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Jar&lt;span&gt;包的管理&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;工程之间的依赖管理&lt;/p&gt;
&lt;p&gt;自动打包&lt;/p&gt;
&lt;h2&gt;5.2. 后台工程搭建分析&lt;/h2&gt;
&lt;p&gt;Maven&lt;span&gt;的常见打包方式：&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;span&gt;、&lt;/span&gt;&lt;span&gt;war&lt;/span&gt;&lt;span&gt;、&lt;/span&gt;&lt;span&gt;pom&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Pom&lt;span&gt;工程一般都是父工程，管理&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;span&gt;包的版本、&lt;/span&gt;&lt;span&gt;maven&lt;/span&gt;&lt;span&gt;插件的版本、统一的依赖管理。聚合工程。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;e3-parent&lt;span&gt;：父工程，打包方式&lt;/span&gt;&lt;span&gt;pom&lt;/span&gt;&lt;span&gt;，管理&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;span&gt;包的版本号。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    |&lt;span&gt;项目中所有工程都应该继承父工程。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    |--e3-common&lt;span&gt;：通用的工具类通用的&lt;/span&gt;&lt;span&gt;pojo&lt;/span&gt;&lt;span&gt;。打包方式&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    |--e3-manager&lt;span&gt;：服务层工程。聚合工程。&lt;/span&gt;&lt;span&gt;Pom&lt;/span&gt;&lt;span&gt;工程&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;        |--e3-manager-dao&lt;span&gt;：打包方式&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;        |--e3-manager-pojo&lt;span&gt;：打包方式&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;        |--e3-manager-interface&lt;span&gt;：打包方式&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;        |--e3-manager-service&lt;span&gt;：打包方式：&lt;/span&gt;jar&lt;/p&gt;
&lt;p&gt;        |--e3-manager-web&lt;span&gt;：表现层工程。打包方式&lt;/span&gt;&lt;span&gt;war&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;5.3. 后台工程搭建分析&lt;/h2&gt;
&lt;h3&gt;5.3.1. 配置maven&lt;/h3&gt;
&lt;p&gt;版本：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002183029377-2029941615.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;本地仓库：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002183112511-115781260.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;5.3.2. e3-parent&lt;/h3&gt;
&lt;p&gt;Pom&lt;span&gt;工程。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002183347541-1183166109.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002183459183-1349170262.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002183539808-1828579009.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;配置pom.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-parent&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;packaging&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;pom&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;packaging&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 集中定义依赖版本号 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;junit.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.12&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;junit.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;spring.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.2.4.RELEASE&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;spring.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;mybatis.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;3.2.8&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;mybatis.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;mybatis.spring.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.2.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;mybatis.spring.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;mybatis.paginator.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.2.15&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;mybatis.paginator.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;mysql.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;5.1.32&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;mysql.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;slf4j.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.6.4&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;slf4j.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;jackson.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.4.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;jackson.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;druid.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.0.9&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;druid.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;httpclient.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.3.5&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;httpclient.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;jstl.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;jstl.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-api.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.5&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-api.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;jsp-api.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;jsp-api.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;joda-time.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.5&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;joda-time.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;commons-lang3.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;3.3.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;commons-lang3.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;commons-io.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.3.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;commons-io.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;commons-net.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;3.3&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;commons-net.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;pagehelper.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;3.4.2-fix&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;pagehelper.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;jsqlparser.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.9.1&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;jsqlparser.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;commons-fileupload.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.3.1&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;commons-fileupload.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;jedis.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.7.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;jedis.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;solrj.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.10.3&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;solrj.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dubbo.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.5.3&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dubbo.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;zookeeper.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;3.4.7&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;zookeeper.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;zkclient.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.1&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;zkclient.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;activemq.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;5.11.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;activemq.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;freemarker.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.3.23&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;freemarker.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;quartz.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.2.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;quartz.version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencyManagement&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 时间操作组件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;joda-time&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;joda-time&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${joda-time.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Apache工具组件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.commons&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-lang3&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${commons-lang3.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.commons&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-io&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${commons-io.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-net&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-net&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${commons-net.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Jackson Json处理工具包 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.fasterxml.jackson.core&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jackson-databind&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${jackson.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; httpclient &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.httpcomponents&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;httpclient&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${httpclient.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; quartz任务调度框架 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.quartz-scheduler&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;quartz&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${quartz.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 单元测试 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;junit&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;junit&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${junit.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;test&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 日志处理 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.slf4j&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;slf4j-log4j12&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${slf4j.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Mybatis &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.mybatis&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mybatis&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${mybatis.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.mybatis&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mybatis-spring&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${mybatis.spring.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.github.miemiedev&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mybatis-paginator&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${mybatis.paginator.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.github.pagehelper&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;pagehelper&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${pagehelper.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; MySql &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mysql&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mysql-connector-java&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${mysql.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 连接池 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.alibaba&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;druid&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${druid.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Spring &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-context&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${spring.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-beans&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${spring.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-webmvc&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${spring.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-jdbc&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${spring.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-aspects&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${spring.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-jms&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${spring.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-context-support&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${spring.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; JSP相关 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jstl&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jstl&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${jstl.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;javax.servlet&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;servlet-api&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${servlet-api.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;provided&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;javax.servlet&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jsp-api&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${jsp-api.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;provided&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 文件上传组件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-fileupload&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-fileupload&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${commons-fileupload.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Redis客户端 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;redis.clients&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jedis&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${jedis.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; solr客户端 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.solr&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;solr-solrj&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${solrj.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; dubbo相关 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.alibaba&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;dubbo&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${dubbo.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.zookeeper&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;zookeeper&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${zookeeper.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.github.sgroschupf&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;zkclient&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${zkclient.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.activemq&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;activemq-all&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${activemq.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.freemarker&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;freemarker&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${freemarker.version}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencyManagement&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;build&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;finalName&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;${project.artifactId}&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;finalName&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;plugins&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 资源文件拷贝插件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;plugin&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;maven-resources-plugin&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.7&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;configuration&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;encoding&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;UTF-8&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;encoding&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;configuration&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;plugin&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; java编译插件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;plugin&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;maven-compiler-plugin&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;3.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;configuration&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;source&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.7&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;source&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1.7&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;encoding&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;UTF-8&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;encoding&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;configuration&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;plugin&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;plugins&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;pluginManagement&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;plugins&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 配置Tomcat插件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;plugin&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.tomcat.maven&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;tomcat7-maven-plugin&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;2.2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;plugin&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;plugins&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;pluginManagement&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;build&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5.3.3. e3-common&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;通用的工具类、通用的&lt;/span&gt;pojo&lt;span&gt;。打包方式&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;span&gt;。需要继承父工程。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002184001475-575903355.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;配置pom.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-parent&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-common&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 时间操作组件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;joda-time&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;joda-time&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Apache工具组件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.commons&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-lang3&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.commons&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-io&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-net&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;commons-net&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Jackson Json处理工具包 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.fasterxml.jackson.core&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jackson-databind&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; httpclient &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.httpcomponents&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;httpclient&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; quartz任务调度框架 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.quartz-scheduler&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;quartz&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 单元测试 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;junit&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;junit&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;test&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 日志处理 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.slf4j&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;slf4j-log4j12&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5.3.4. e3-manager&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;聚合工程。打包方式&lt;/span&gt;pom&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002184338404-1077438198.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;pom.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-parent&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;packaging&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;pom&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;packaging&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-common&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5.3.5. e3-manager-pojo&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;是一个&lt;/span&gt;maven&lt;span&gt;模块，打包方式&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002184612298-973083353.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002184728508-118325703.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002184734869-66766362.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002184738542-231242925.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-pojo&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5.3.6. e3-manager-dao&lt;/h3&gt;
&lt;p&gt;Maven&lt;span&gt;模块，打包方式&lt;/span&gt;&lt;span&gt;jar&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002184936777-342926406.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002184941402-1123191724.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-dao&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-pojo&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 添加对mybatis的依赖 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.mybatis&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mybatis&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.mybatis&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mybatis-spring&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.github.miemiedev&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mybatis-paginator&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.github.pagehelper&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;pagehelper&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; MySql &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mysql&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;mysql-connector-java&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 连接池 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.alibaba&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;druid&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5.3.7. e3-manager-interface&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002185136798-848290295.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002185144139-2071147551.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-interface&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-pojo&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5.3.8. e3-manager-service&lt;/h3&gt;
&lt;p&gt;打包方式jar&lt;span&gt;包。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002185411155-242330425.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002185502183-1056407445.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-service&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-dao&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-interface&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; spring的依赖 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; Spring &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-context&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-beans&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-webmvc&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-jdbc&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-aspects&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-jms&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-context-support&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5.3.9. e3-manager-web&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;表现层，打包方式&lt;/span&gt;war&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002185652199-420092539.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002185658484-209641108.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;pm.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;project &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;&lt;span&gt; xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;modelVersion&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;parent&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-web&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;packaging&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;war&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;packaging&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;cn.e3mall&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-service&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;version&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; JSP相关 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jstl&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jstl&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;javax.servlet&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;servlet-api&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;provided&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;javax.servlet&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;jsp-api&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;provided&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;project&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;strong&gt;补全目录结构&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;由于打包方式为war&lt;span&gt;需要补全目录结构，需要在&lt;/span&gt;&lt;span&gt;webapp&lt;/span&gt;&lt;span&gt;目录下添加&lt;/span&gt;&lt;span&gt;WEB-INF&lt;/span&gt;&lt;span&gt;目录，和&lt;/span&gt;&lt;span&gt;web.xml&lt;/span&gt;&lt;span&gt;文件。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002185942555-1421171068.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;web.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;web-app &lt;/span&gt;&lt;span&gt;xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt; 
         xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://java.sun.com/xml/ns/javaee&quot;&lt;/span&gt;&lt;span&gt; 
         xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://java.sun.com/xml/ns/javaee 
         http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&lt;/span&gt;&lt;span&gt; version&lt;/span&gt;&lt;span&gt;=&quot;2.5&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;display-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager-web&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;display-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;welcome-file-list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;welcome-file&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;index.jsp&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;welcome-file&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;welcome-file-list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;web-app&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;index.jsp&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;%@ page &lt;/span&gt;&lt;span&gt;language&lt;/span&gt;&lt;span&gt;=&quot;java&quot;&lt;/span&gt;&lt;span&gt; contentType&lt;/span&gt;&lt;span&gt;=&quot;text/html; charset=utf-8&quot;&lt;/span&gt;&lt;span&gt;
    pageEncoding&lt;/span&gt;&lt;span&gt;=&quot;utf-8&quot;&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;meta &lt;/span&gt;&lt;span&gt;http-equiv&lt;/span&gt;&lt;span&gt;=&quot;Content-Type&quot;&lt;/span&gt;&lt;span&gt; content&lt;/span&gt;&lt;span&gt;=&quot;text/html; charset=ISO-8859-1&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;Insert title here&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;head&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
       &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;h1&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;欢迎来到商城！&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;h1&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;body&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;html&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;5.4. 启动工程&lt;/h2&gt;
&lt;p&gt;启动e3-manager&lt;span&gt;工程。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;需要在e3-manager &lt;span&gt;的&lt;/span&gt;&lt;span&gt;pom&lt;/span&gt;&lt;span&gt;工程中，配置&lt;/span&gt;&lt;span&gt;tomcat&lt;/span&gt;&lt;span&gt;插件。启动的端口号，和工程名称。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;在e3-manager&lt;span&gt;的&lt;/span&gt;&lt;span&gt;pom&lt;/span&gt;&lt;span&gt;文件中添加如下配置：&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 配置tomcat插件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;build&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;plugins&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;plugin&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.apache.tomcat.maven&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;tomcat7-maven-plugin&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;configuration&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;port&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;8080&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;port&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;path&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;/&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;path&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
                &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;configuration&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;plugin&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;plugins&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;build&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;先把e3-parent&lt;span&gt;、&lt;/span&gt;e3-common&lt;span&gt;安装到本地仓库。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002194308517-1155510501.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;启动tomcat插件（&lt;span&gt;这里不是直接启动我们的tomcat&lt;/span&gt;），浏览器访问&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002192933275-777988847.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002194016998-113233578.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002194608112-946031303.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;6. &lt;/span&gt;&lt;strong&gt;SSM&lt;span&gt;框架整合&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;6.1. 数据库&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;数据库使用&lt;/span&gt;mysql&lt;span&gt;数据库，要求&lt;/span&gt;&lt;span&gt;5.5&lt;/span&gt;&lt;span&gt;以上版本。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1&lt;span&gt;、在&lt;/span&gt;&lt;span&gt;mysql&lt;/span&gt;&lt;span&gt;数据库中创建数据库&lt;/span&gt;e3mall&lt;/p&gt;
&lt;p&gt;2&lt;span&gt;、将创建数据库的脚本导入到&lt;/span&gt;e3mall中。&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002194857117-63350713.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002195011486-1036532087.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2&gt;6.2. Mybatis&lt;span&gt;逆向工程&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;使用&lt;/span&gt;mybatis&lt;span&gt;官方提供的&lt;/span&gt;&lt;span&gt;mybatis-generator&lt;/span&gt;&lt;span&gt;生成&lt;/span&gt;&lt;span&gt;pojo&lt;/span&gt;&lt;span&gt;、&lt;/span&gt;&lt;span&gt;mapper&lt;/span&gt;&lt;span&gt;接口及映射文件。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;并且将&lt;/span&gt;pojo&lt;span&gt;放到&lt;/span&gt;e3-manager-pojo&lt;span&gt;工程中。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;将&lt;/span&gt;mapper&lt;span&gt;接口及映射文件放到&lt;/span&gt;e3-manager-dao&lt;span&gt;工程中。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;a.导入逆向工程&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002195520432-67252900.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;b.修改xml配置&lt;/p&gt;
&lt;p&gt;l&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002200011664-675705399.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;c.运行GeneratorSqlmap.java，然后刷新（&lt;span&gt;如果不刷新，生成文件不会显示出来，避免我们运行多遍，生成的有些东西不会覆盖，比如配置文件里面的表单字段，这样我们运行项目的时候可能会卡着不动&lt;/span&gt;&lt;span&gt;），把生成的&lt;/span&gt;pojo和mapper导入对应的工程&lt;/p&gt;
&lt;h2&gt;6.3. 整合思路&lt;/h2&gt;
&lt;p&gt;1、Dao&lt;span&gt;层：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Mybatis&lt;span&gt;的配置文件：&lt;/span&gt;&lt;span&gt;SqlMapConfig.xml，&lt;/span&gt;不需要配置任何内容，需要有文件头。文件必须存在。&lt;/p&gt;
&lt;p&gt;Spring：applicationContext-dao.xml&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;mybatis&lt;span&gt;整合&lt;/span&gt;&lt;span&gt;spring&lt;/span&gt;&lt;span&gt;，通过由&lt;/span&gt;&lt;span&gt;spring&lt;/span&gt;&lt;span&gt;创建数据库连接池&lt;/span&gt;，spring&lt;span&gt;管理&lt;/span&gt;&lt;span&gt;SqlSessionFactory&lt;/span&gt;&lt;span&gt;、&lt;/span&gt;&lt;span&gt;mapper&lt;/span&gt;&lt;span&gt;代理对象。需要&lt;/span&gt;&lt;span&gt;mybatis&lt;/span&gt;&lt;span&gt;和&lt;/span&gt;&lt;span&gt;spring&lt;/span&gt;&lt;span&gt;的整合包。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;2、Service&lt;span&gt;层：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Spring：applicationContext-service.xml&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;所有的&lt;/span&gt;service&lt;span&gt;实现类都放到&lt;/span&gt;&lt;span&gt;spring&lt;/span&gt;&lt;span&gt;容器中管理。并&lt;/span&gt;由spring&lt;span&gt;管理&lt;/span&gt;事务。&lt;/p&gt;
&lt;p&gt;3、表现层：&lt;/p&gt;
&lt;p&gt;Springmvc&lt;span&gt;框架，由&lt;/span&gt;&lt;span&gt;springmvc&lt;/span&gt;&lt;span&gt;管理&lt;/span&gt;&lt;span&gt;controller&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Springmvc&lt;span&gt;的三大组件。&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;6.4. Dao&lt;span&gt;整合&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;6.4.1. &lt;span&gt;创建&lt;/span&gt;SqlMapConfig.xml&lt;span&gt;配置文件&lt;/span&gt;&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; &lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;!&lt;/span&gt;&lt;span&gt;DOCTYPE configuration
        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;configuration&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;configuration&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;6.4.2. Spring&lt;span&gt;整合&lt;/span&gt;&lt;span&gt;mybatis&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;创建&lt;/span&gt;applicationContext-dao.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;beans &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:context&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/context&quot;&lt;/span&gt;&lt;span&gt; xmlns:p&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/p&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:aop&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/aop&quot;&lt;/span&gt;&lt;span&gt; xmlns:tx&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/tx&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd
    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd
    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.2.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 数据库连接池 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 加载配置文件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;context:property-placeholder &lt;/span&gt;&lt;span&gt;location&lt;/span&gt;&lt;span&gt;=&quot;classpath:conf/db.properties&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 数据库连接池 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;dataSource&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&lt;/span&gt;&lt;span&gt;
        destroy-method&lt;/span&gt;&lt;span&gt;=&quot;close&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;url&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;${jdbc.url}&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;username&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;${jdbc.username}&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;password&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;${jdbc.password}&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;driverClassName&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;${jdbc.driver}&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;maxActive&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;10&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;minIdle&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;5&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 让spring管理sqlsessionfactory 使用mybatis和spring整合包中的 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;sqlSessionFactory&quot;&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;&lt;span&gt;=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 数据库连接池 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;dataSource&quot;&lt;/span&gt;&lt;span&gt; ref&lt;/span&gt;&lt;span&gt;=&quot;dataSource&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 加载mybatis的全局配置文件 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;configLocation&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;classpath:mybatis/SqlMapConfig.xml&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;basePackage&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;cn.e3mall.mapper&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;beans&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;db.properties&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;jdbc.driver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/e3mall?characterEncoding=utf-8
jdbc.username=root
jdbc.password=123&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;备注：&lt;/p&gt;
&lt;p&gt;Druid&lt;span&gt;是目前最好的数据库连接池，在功能、性能、扩展性方面，都超过其他数据库连接池，包括&lt;/span&gt;&lt;span&gt;DBCP&lt;/span&gt;&lt;span&gt;、&lt;/span&gt;&lt;span&gt;C3P0&lt;/span&gt;&lt;span&gt;、&lt;/span&gt;&lt;span&gt;BoneCP&lt;/span&gt;&lt;span&gt;、&lt;/span&gt;&lt;span&gt;Proxool&lt;/span&gt;&lt;span&gt;、&lt;/span&gt;&lt;span&gt;JBoss DataSource&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Druid&lt;span&gt;已经在阿里巴巴部署了超过&lt;/span&gt;&lt;span&gt;600&lt;/span&gt;&lt;span&gt;个应用，经过多年多生产环境大规模部署的严苛考验。&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;6.5. Service&lt;span&gt;整合&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;6.5.1. &lt;span&gt;管理&lt;/span&gt;Service&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;beans &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:context&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/context&quot;&lt;/span&gt;&lt;span&gt; xmlns:p&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/p&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:aop&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/aop&quot;&lt;/span&gt;&lt;span&gt; xmlns:tx&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/tx&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd
    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd
    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.2.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;context:component-scan &lt;/span&gt;&lt;span&gt;base-package&lt;/span&gt;&lt;span&gt;=&quot;cn.e3mall.service&quot;&lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;beans&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;6.5.2. 事务管理&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;创建&lt;/span&gt;applicationContext-trans.xml&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;beans &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:context&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/context&quot;&lt;/span&gt;&lt;span&gt; xmlns:p&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/p&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:aop&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/aop&quot;&lt;/span&gt;&lt;span&gt; xmlns:tx&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/tx&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd
    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd
    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.2.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 事务管理器 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;transactionManager&quot;&lt;/span&gt;&lt;span&gt;
        class&lt;/span&gt;&lt;span&gt;=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 数据源 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;dataSource&quot;&lt;/span&gt;&lt;span&gt; ref&lt;/span&gt;&lt;span&gt;=&quot;dataSource&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 通知 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:advice &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;=&quot;txAdvice&quot;&lt;/span&gt;&lt;span&gt; transaction-manager&lt;/span&gt;&lt;span&gt;=&quot;transactionManager&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:attributes&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 传播行为 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;save*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;REQUIRED&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;insert*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;REQUIRED&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;add*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;REQUIRED&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;create*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;REQUIRED&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;delete*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;REQUIRED&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;update*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;REQUIRED&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;find*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;SUPPORTS&quot;&lt;/span&gt;&lt;span&gt; read-only&lt;/span&gt;&lt;span&gt;=&quot;true&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;select*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;SUPPORTS&quot;&lt;/span&gt;&lt;span&gt; read-only&lt;/span&gt;&lt;span&gt;=&quot;true&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;tx:method &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;get*&quot;&lt;/span&gt;&lt;span&gt; propagation&lt;/span&gt;&lt;span&gt;=&quot;SUPPORTS&quot;&lt;/span&gt;&lt;span&gt; read-only&lt;/span&gt;&lt;span&gt;=&quot;true&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tx:attributes&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;tx:advice&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 切面 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;aop:config&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;aop:advisor &lt;/span&gt;&lt;span&gt;advice-ref&lt;/span&gt;&lt;span&gt;=&quot;txAdvice&quot;&lt;/span&gt;&lt;span&gt;
            pointcut&lt;/span&gt;&lt;span&gt;=&quot;execution(* cn.e3mall.service.*.*(..))&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;aop:config&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;beans&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;6.6. 表现层整合&lt;/h2&gt;
&lt;h3&gt;6.6.1. Springmvc.xml&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;beans &lt;/span&gt;&lt;span&gt;xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt; xmlns:p&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/p&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:context&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/context&quot;&lt;/span&gt;&lt;span&gt;
    xmlns:mvc&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/mvc&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;context:component-scan &lt;/span&gt;&lt;span&gt;base-package&lt;/span&gt;&lt;span&gt;=&quot;cn.e3mall.controller&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;mvc:annotation-driven &lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;bean
        &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;prefix&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;/WEB-INF/jsp/&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;property &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&quot;suffix&quot;&lt;/span&gt;&lt;span&gt; value&lt;/span&gt;&lt;span&gt;=&quot;.jsp&quot;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;beans&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;6.6.2. web.xml&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;?&lt;/span&gt;&lt;span&gt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&lt;/span&gt;&lt;span&gt;?&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;web-app &lt;/span&gt;&lt;span&gt;xmlns:xsi&lt;/span&gt;&lt;span&gt;=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;span&gt;
    xmlns&lt;/span&gt;&lt;span&gt;=&quot;http://java.sun.com/xml/ns/javaee&quot;&lt;/span&gt;&lt;span&gt;
    xsi:schemaLocation&lt;/span&gt;&lt;span&gt;=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&lt;/span&gt;&lt;span&gt;
    id&lt;/span&gt;&lt;span&gt;=&quot;WebApp_ID&quot;&lt;/span&gt;&lt;span&gt; version&lt;/span&gt;&lt;span&gt;=&quot;2.5&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;display-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;display-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;welcome-file-list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;welcome-file&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;index.jsp&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;welcome-file&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;welcome-file-list&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 加载spring容器 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;context-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;contextConfigLocation&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;classpath:spring/applicationContext*.xml&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;context-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;listener&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;listener-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.web.context.ContextLoaderListener&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;listener-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;listener&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    
    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 解决post乱码 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;CharacterEncodingFilter&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;encoding&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;utf-8&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;filter-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;CharacterEncodingFilter&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;/*&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;filter-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;


    &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; springmvc的前端控制器 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.web.servlet.DispatcherServlet&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-class&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; contextConfigLocation不是必须的， 如果不配置contextConfigLocation， springmvc的配置文件默认在：WEB-INF/servlet的name+&quot;-servlet.xml&quot; &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;contextConfigLocation&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;classpath:spring/springmvc.xml&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;param-value&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;init-param&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;load-on-startup&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;1&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;load-on-startup&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;e3-manager&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-name&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;/&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;url-pattern&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;servlet-mapping&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;web-app&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;6.7. 整合测试&lt;/h2&gt;
&lt;h3&gt;6.7.1. 需求&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;根据商品&lt;/span&gt;id&lt;span&gt;查询商品信息，返回&lt;/span&gt;&lt;span&gt;json&lt;/span&gt;&lt;span&gt;数据。&lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;6.7.2. Dao&lt;span&gt;层&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;由于是单表查询可以使用逆向工程生成的代码。&lt;/p&gt;
&lt;h3&gt;6.7.3. Service&lt;span&gt;层&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;参数：商品&lt;/span&gt;id&lt;/p&gt;
&lt;p&gt;&lt;span&gt;返回值：&lt;/span&gt;TbItem&lt;/p&gt;
&lt;p&gt;&lt;span&gt;业务逻辑：根据商品&lt;/span&gt;id&lt;span&gt;查询商品信息。&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; cn.e3mall.service.impl;


&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.beans.factory.annotation.Autowired;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.stereotype.Service;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; cn.e3mall.mapper.TbItemMapper;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; cn.e3mall.pojo.TbItem;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; cn.e3mall.service.itemService;

@Service
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; itemServiceImpl &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; itemService{
    
    @Autowired
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; TbItemMapper itemMapper;
    
     &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; TbItem getItemById(&lt;span&gt;long&lt;/span&gt;&lt;span&gt; id){
        
         TbItem ti&lt;/span&gt;=&lt;span&gt;itemMapper.selectByPrimaryKey(id);
         &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(ti!=&lt;span&gt;null&lt;/span&gt;&lt;span&gt;){
             &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; ti;
         }
         &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
     }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;6.7.4. Controller&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; cn.e3mall.controller;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.beans.factory.annotation.Autowired;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.stereotype.Controller;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.PathVariable;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.RequestMapping;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.ResponseBody;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; cn.e3mall.pojo.TbItem;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; cn.e3mall.service.itemService;


@Controller
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; ItemController {
    
    @Autowired
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; itemService service;
    
    @RequestMapping(&lt;/span&gt;&quot;/item/{itemId}&quot;&lt;span&gt;)
    @ResponseBody
     &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; TbItem getItemById(@PathVariable &lt;span&gt;long&lt;/span&gt;&lt;span&gt; itemId){
        TbItem tbitem&lt;/span&gt;=&lt;span&gt;service.getItemById(itemId);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; tbitem;         
     }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;6.7.5. &lt;span&gt;解决&lt;/span&gt;mapper&lt;span&gt;绑定异常&lt;/span&gt;&lt;/h3&gt;
&lt;h4&gt;&lt;strong&gt;&lt;span&gt;原因&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002220118229-1087813013.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;span&gt;此异常的原因是由于&lt;/span&gt;&lt;span&gt;mapper&lt;span&gt;接口编译后在同一个目录下没有找到&lt;/span&gt;&lt;span&gt;mapper&lt;/span&gt;&lt;span&gt;映射文件而出现的。由于&lt;/span&gt;&lt;span&gt;maven&lt;/span&gt;&lt;span&gt;工程在默认情况下&lt;/span&gt;&lt;span&gt;src/main/java&lt;/span&gt;&lt;span&gt;目录下的&lt;/span&gt;&lt;span&gt;mapper&lt;/span&gt;&lt;span&gt;文件是不发布到&lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;目录下的。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;&lt;strong&gt;&lt;span&gt;解决方法&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;
&lt;p class=&quot;MsoNormal&quot;&gt;&lt;span&gt;在&lt;/span&gt;&lt;span&gt;e3&lt;/span&gt;&lt;span&gt;-manager-dao&lt;span&gt;工程的&lt;/span&gt;&lt;span&gt;pom&lt;/span&gt;&lt;span&gt;文件中添加如下内容：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&amp;lt;!-- 如果不添加此节点mybatis的mapper.xml文件都会被漏掉。 --&amp;gt;
    &amp;lt;build&amp;gt;
        &amp;lt;resources&amp;gt;
            &amp;lt;resource&amp;gt;
                &amp;lt;directory&amp;gt;src/main/java&amp;lt;/directory&amp;gt;
                &amp;lt;includes&amp;gt;
                    &amp;lt;include&amp;gt;**&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;.properties&amp;lt;/include&amp;gt;
                    &amp;lt;include&amp;gt;*&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;*.xml&amp;lt;/include&amp;gt;
                &amp;lt;/includes&amp;gt;
                &amp;lt;filtering&amp;gt;&lt;span&gt;false&lt;/span&gt;&amp;lt;/filtering&amp;gt;
            &amp;lt;/resource&amp;gt;
        &amp;lt;/resources&amp;gt;
    &amp;lt;/build&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p class=&quot;MsoNormal&quot;&gt; &lt;/p&gt;
&lt;p&gt;运行tomcat，访问网址即可&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002220246121-958671657.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;7.1. 服务端&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;服务端使用&lt;/span&gt;VisualSVN&lt;span&gt;，一般一个项目组只有一个&lt;/span&gt;&lt;span&gt;svn&lt;/span&gt;&lt;span&gt;，并不是每个开发者都需要安装服务端。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222037003-236121113.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222134785-520454642.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222213708-1380289465.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222243352-1593635829.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222326521-1162834741.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222551136-396078725.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;7.2. 客户端&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;客户端使用&lt;/span&gt;Eclipse&lt;span&gt;的&lt;/span&gt;&lt;span&gt;svn&lt;/span&gt;&lt;span&gt;插件，在提供的&lt;/span&gt;&lt;span&gt;Eclipse&lt;/span&gt;&lt;span&gt;中已经安装好，直接使用即可。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222702726-1331988035.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222738778-1278579417.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;url是在服务端复制的&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002222807420-1515120820.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002223018645-1532687566.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002223257523-176274777.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002223321109-1112376209.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;要是没有成功，按下图更新一下，再提交。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002223401660-77073701.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;导入svn资源&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002223957207-1311397812.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002224122398-1447645561.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002224140415-713644865.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;问题：在进行整合测试的时候，遇到&lt;/strong&gt;&lt;span&gt;org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'itemController'&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;解决：&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002224513298-426182698.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1453965/201810/1453965-20181002224550263-690306832.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Tue, 02 Oct 2018 14:50:00 +0000</pubDate>
<dc:creator>火中魂</dc:creator>
<og:description>1. 学习计划 1、电商行业的背景。 2、宜立方商城介绍 3、宜立方商城的系统架构 a) 功能介绍 b) 架构讲解 4、工程搭建-后台工程 a) 使用maven</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/huozhonghun/p/9738004.html</dc:identifier>
</item>
<item>
<title>移动端rem.js适配屏幕 - 辛月</title>
<link>http://www.cnblogs.com/chenwenhao/p/9738680.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/chenwenhao/p/9738680.html</guid>
<description>&lt;p&gt;　　&lt;span&gt;九月已成历史，十月如期而至...可能是九月工作比较清闲，周记就没怎么写，十月决不能这么堕落，立贴为证，至少保证5篇博客！！！如果没学到什么新知识，就对以往的那些工作中常用到的知识点做个总结...话不多说，今天就来谈谈移动端的rem适配...本文将从rem是什么、为什么要用rem适配、怎么用rem来讲解，保证浅显易懂...&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;1、什么是rem&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　rem（font size of the root element）是指相对于根元素（&lt;strong&gt;&amp;lt;html&amp;gt;&lt;/strong&gt;）的字体大小的单位。简单的说它就是一个相对单位。看到rem大家一定会想起em单位，em（font size of the element）是指相对于&lt;strong&gt;自身的字体大小&lt;/strong&gt;的单位。它们之间其实很相似，只不过一个计算的规则是依赖根元素一个是依赖父元素计算。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;2、为什么用rem适配&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　由于移动端的屏幕众多，就拿iphone来说，iphone5、iphone6、iphone6+分别是360px、375px、414px...Android机的分辨率更是百花齐放...面对这么多的屏幕，px显然不能轻易去适配了，比如设置div的&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;padding-left为10px时，iphone5中比例和设计稿一致，但iphone6+则显得有点“瘦”了，因此我们要想着去适配不同屏幕的手机，让设计稿在分辨率相差很大的手机上显示的效果也要一样。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;　　早期的适配用百分比+媒介查询写很多类型的css代码，这时候的代码量很大，适配效果也不是很好，毕竟机型太多...这时候rem的优势就充分展示出来了...&lt;span&gt;不同分辨率的屏幕，通过动态设置rem的值（即根元素的字体大小），就能实现等比例缩放的效果。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt; &lt;span&gt;&lt;strong&gt;3、怎么用rem&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;　　&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;计算rem的方式大致分为两种：手淘的flexible和网易的rem.js （都是早期用法，现在已改版）；还有一种不用js计算，使用vw单位，一行css代码搞定；&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;网易与手淘方案：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;1）、网易：&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;第一：设置视口&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&amp;lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1, minimum-scale=1&quot;&amp;gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;第二：在dom ready以后，通过以下代码设置html的font-size:&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; deviceWidth =&lt;span&gt; document.documentElement.clientWidth;
&lt;/span&gt;&lt;span&gt;if&lt;/span&gt;(deviceWidth &amp;gt; 640) deviceWidth = 640&lt;span&gt;;
document.documentElement.style.fontSize &lt;/span&gt;= deviceWidth / 6.4 + ‘px‘;  &lt;span&gt;// 6.4是根据设计稿/100 算出来的 具体值由设计稿定&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;目前小米的官网就是这种：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;45&quot;&gt;
&lt;pre&gt;
!&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(n){
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt;  e=&lt;span&gt;n.document,
         t&lt;/span&gt;=&lt;span&gt;e.documentElement,
         i&lt;/span&gt;=720&lt;span&gt;,
         d&lt;/span&gt;=i/100,
         o=&quot;orientationchange&quot;&lt;span&gt;in&lt;/span&gt; n?&quot;orientationchange&quot;:&quot;resize&quot;&lt;span&gt;,
         a&lt;/span&gt;=&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(){
             &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; n=t.clientWidth||320;n&amp;gt;720&amp;amp;&amp;amp;(n=720);  &lt;span&gt;// 720的设计稿
&lt;/span&gt;             t.style.fontSize=n/d+&quot;px&quot;
&lt;span&gt;         };
         e.addEventListener&lt;/span&gt;&amp;amp;&amp;amp;(n.addEventListener(o,a,!1),e.addEventListener(&quot;DOMContentLoaded&quot;,a,!1&lt;span&gt;))
}(window);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;2）、手淘：&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;第一、判断head中是否设置了viewport，如果有设置，按照已有viewport 设置缩放比&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (metaEl) {
        console.warn(&lt;/span&gt;'将根据已有的meta标签来设置缩放比例'&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; match = metaEl.getAttribute('content').match(/initial\-scale=([\d\.]+)/&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (match) {
            scale &lt;/span&gt;= parseFloat(match[1&lt;span&gt;]);
            dpr &lt;/span&gt;= parseInt(1 /&lt;span&gt; scale);
        }
    }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;第二、如果没有设置meta viewport，判断是否设置dpr，如果有，通过dpr计算缩放scale&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;var&lt;/span&gt; content = flexibleEl.getAttribute('content'&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (content) {
            &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; initialDpr = content.match(/initial\-dpr=([\d\.]+)/&lt;span&gt;);
            &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; maximumDpr = content.match(/maximum\-dpr=([\d\.]+)/);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;maximum 设置最大值，与initial的值比较，取最小值；&lt;/span&gt;
            &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (initialDpr) {
                dpr &lt;/span&gt;= parseFloat(initialDpr[1&lt;span&gt;]);
                scale &lt;/span&gt;= parseFloat((1 / dpr).toFixed(2&lt;span&gt;));    
            }
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (maximumDpr) {
                dpr &lt;/span&gt;= parseFloat(maximumDpr[1&lt;span&gt;]);
                scale &lt;/span&gt;= parseFloat((1 / dpr).toFixed(2&lt;span&gt;));    
            }
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;第三、如果 dpr &amp;amp;scale都没有设置，那么就通过设备的dpr设置起缩放 scale&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;if&lt;/span&gt; (!dpr &amp;amp;&amp;amp; !scale) {&lt;span&gt;//&lt;/span&gt;&lt;span&gt;meta[name=&quot;viewport&quot;]&amp;amp;&amp;amp;meta[name=&quot;flexible&quot;]都不存在。&lt;/span&gt;
    &lt;span&gt;var&lt;/span&gt; isAndroid = win.navigator.appVersion.match(/android/&lt;span&gt;gi);
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; isIPhone = win.navigator.appVersion.match(/iphone/&lt;span&gt;gi);
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; devicePixelRatio =&lt;span&gt; win.devicePixelRatio;
    &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (isIPhone) {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; iOS下，对于2和3的屏，用2倍的方案，其余的用1倍方案&lt;/span&gt;
        &lt;span&gt;if&lt;/span&gt; (devicePixelRatio &amp;gt;= 3 &amp;amp;&amp;amp; (!dpr || dpr &amp;gt;= 3&lt;span&gt;)) {                
            dpr &lt;/span&gt;= 3&lt;span&gt;;
        } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt; &lt;span&gt;if&lt;/span&gt; (devicePixelRatio &amp;gt;= 2 &amp;amp;&amp;amp; (!dpr || dpr &amp;gt;= 2&lt;span&gt;)){
            dpr &lt;/span&gt;= 2&lt;span&gt;;
        } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
            dpr &lt;/span&gt;= 1&lt;span&gt;;
        }
    } &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
        &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 其他设备下，仍旧使用1倍的方案&lt;/span&gt;
        dpr = 1&lt;span&gt;;
    }
    scale &lt;/span&gt;= 1 /&lt;span&gt; dpr;
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;第四、得到scale之后 ，如果meta 的viewport不存在，那么就创建一meta[name=“viewport”],将scale配置进去&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
    metaEl = doc.createElement('meta'&lt;span&gt;);
    metaEl.setAttribute(&lt;/span&gt;'name', 'viewport'&lt;span&gt;);
    metaEl.setAttribute(&lt;/span&gt;'content', 'initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no'&lt;span&gt;);  &lt;span&gt;// &lt;span&gt;width=device-width,可省略&lt;/span&gt;

    &lt;/span&gt;&lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (docEl.firstElementChild) {

        docEl.firstElementChild.appendChild(metaEl);
         
    } &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;第五、动态改写html的font-size&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;var&lt;/span&gt; width = docEl.getBoundingClientRect().width;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;获取html的宽度&lt;/span&gt;
    &lt;span&gt;if&lt;/span&gt; (width / dpr &amp;gt; 540) {&lt;span&gt;//&lt;/span&gt;&lt;span&gt;判断屏幕逻辑像素大于540时，取540&lt;/span&gt;
        width = 540 *&lt;span&gt; dpr;
    }
    &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; rem = width / 10&lt;span&gt;;
    docEl.style.fontSize &lt;/span&gt;= rem + 'px'&lt;span&gt;;
    flexible.rem &lt;/span&gt;= win.rem = rem;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;有关网易与手淘的适配参考：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000007526917&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;https://segmentfault.com/a/1190000007526917&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;a href=&quot;http://caibaojian.com/mobile-responsive-example.html&quot; target=&quot;_blank&quot;&gt;http://caibaojian.com/mobile-responsive-example.html&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;vw单位方案：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;//&lt;/span&gt;&lt;span&gt;750px设计稿&lt;/span&gt;
&lt;span&gt;html{
    font&lt;/span&gt;-size: 13.3333vw;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;(100px/750px)*100vw&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;vw方案参考：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;a href=&quot;https://blog.csdn.net/sky2714/article/details/80849863&quot; target=&quot;_blank&quot;&gt;https://blog.csdn.net/sky2714/article/details/80849863&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;a href=&quot;https://blog.csdn.net/u013778905/article/details/78729468&quot; target=&quot;_blank&quot;&gt;https://blog.csdn.net/u013778905/article/details/78729468&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;最后，有关使用rem遇到的问题请参考：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;a href=&quot;https://blog.csdn.net/u013778905/article/details/78534287&quot; target=&quot;_blank&quot;&gt;https://blog.csdn.net/u013778905/article/details/78534287&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

</description>
<pubDate>Tue, 02 Oct 2018 14:19:00 +0000</pubDate>
<dc:creator>辛月</dc:creator>
<og:description>九月已成历史，十月如期而至...可能是九月工作比较清闲，周记就没怎么写，十月决不能这么堕落，立贴为证，至少保证5篇博客！！！如果没学到什么新知识，就对以往的那些工作中常用到的知识点做个总结...话不多</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/chenwenhao/p/9738680.html</dc:identifier>
</item>
</channel>
</rss>