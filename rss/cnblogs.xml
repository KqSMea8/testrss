<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>博客园_首页</title>
<link></link>
<description>代码改变世界</description>
<item>
<title>Struts2【拦截器】就是这么简单 - Java3y</title>
<link>http://www.cnblogs.com/Java3y/p/8544460.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Java3y/p/8544460.html</guid>
<description>&lt;p&gt;拦截器Interceptor.....拦截器是Struts的概念，它与过滤器是类似的...可以近似于看作是过滤器&lt;/p&gt;

&lt;p&gt;前面在介绍Struts的时候已经讲解过了，Struts为我们实现了很多的功能，比如数据自动封装阿..文件上传功能阿....Struts为我们提供的这些功能都是通过拦截器完成的......&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;数据自动封装通过&lt;code&gt;&amp;lt;interceptor name=&quot;params&quot; class=&quot;com.opensymphony.xwork2.interceptor.ParametersInterceptor&quot;/&amp;gt;&lt;/code&gt;这个拦截器。&lt;/li&gt;
&lt;li&gt;文件上传通过&lt;code&gt;&amp;lt;interceptor name=&quot;fileUpload&quot; class=&quot;org.apache.struts2.interceptor.FileUploadInterceptor&quot;/&amp;gt;&lt;/code&gt;这个拦截器&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;拦截器的设计就是基于组件设计的应用&lt;/strong&gt;！&lt;/p&gt;

&lt;p&gt;在开始讲解Struts的时候已经说明过了&lt;strong&gt;struts-default.xml&lt;/strong&gt;这个文件，它&lt;strong&gt;定义了Struts的所有拦截器。&lt;/strong&gt;因为我们在启动服务器的时候会自动装载这个文件，因此我们才可以在Action中使用到Struts为我们提供的功能【数据自动封装...文件上传】&lt;/p&gt;
&lt;p&gt;在struts-default.xml中定义的拦截器就有32个之多，&lt;strong&gt;Struts2为了方便我们对拦截器的引用，提供了拦截器栈的定义。&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;22&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-stack&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;defaultStack&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;exception&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;alias&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;servletConfig&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;i18n&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;prepare&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;chain&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;scopedModelDriven&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;modelDriven&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;fileUpload&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;checkbox&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;multiselect&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;staticParams&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;actionMappingParams&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;params&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;kw&quot;&gt;&amp;lt;param&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;excludeParams&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;dojo\..*,^struts\..*,^session\..*,^request\..*,^application\..*,^servlet(Request|Response)\..*,parameters\...*&lt;span class=&quot;kw&quot;&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptor-ref&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;conversionError&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;validation&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;kw&quot;&gt;&amp;lt;param&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;excludeMethods&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;input,back,cancel,browse&lt;span class=&quot;kw&quot;&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptor-ref&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;workflow&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;kw&quot;&gt;&amp;lt;param&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;excludeMethods&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;input,back,cancel,browse&lt;span class=&quot;kw&quot;&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptor-ref&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;debugging&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptor-stack&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;也就是说：&lt;strong&gt;当我们要引用多个拦截器的时候，只要把拦截器都放在栈里头，在外边引用拦截器即可！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;值得注意的是：&lt;strong&gt;Struts2默认执行的是默认拦截器栈，一旦用户有指定执行哪些拦截器，那么默认的拦截器栈就不会被执行！&lt;/strong&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Struts2允许我们自定义拦截器，这就使我们能够更加灵活地操作Struts2这个框架了！&lt;/p&gt;
&lt;p&gt;Struts2提供了Interceptor这个拦截器接口，只要我们实现这个接口，那么这就算是自定义开发拦截器了。&lt;/p&gt;
&lt;p&gt;当然啦，大部分时候，我们定义拦截器都是继承AbstractInterceptor这个类....为了学习拦截器的内容，下面就实现Interceptor这个接口了。&lt;/p&gt;
&lt;h2 id=&quot;编写拦截器类&quot;&gt;编写拦截器类&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;当实现该接口时，有3个需要我们实现的方法：&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; MyInterceptor &lt;span class=&quot;kw&quot;&gt;implements&lt;/span&gt; Interceptor {
    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;destroy&lt;/span&gt;() {

    }

    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;init&lt;/span&gt;() {

    }

    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;intercept&lt;/span&gt;(ActionInvocation actionInvocation) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;init()和destory()都是和拦截器执行顺序有关的方法，我们现在先不理会....首先来讲解intercept这个方法&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
    &lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;@param actionInvocation &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;拦截器的执行状态&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     */&lt;/span&gt;
    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;intercept&lt;/span&gt;(ActionInvocation actionInvocation) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {
        
        &lt;span class=&quot;co&quot;&gt;//调用invoke()方法，代表着放行执行下一个拦截器，如果没有拦截器了，那么就执行Action的业务代码&lt;/span&gt;
        actionInvocation.&lt;span class=&quot;fu&quot;&gt;invoke&lt;/span&gt;();
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这很容易就能让我们想起在学习过滤器中的doFilter()方法，其实是差不多的！&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;在struts.xml中配置&quot;&gt;在struts.xml中配置&lt;/h2&gt;
&lt;p&gt;像Struts默认的拦截器一样，我们自定义的拦截器是需要我们在struts中配置的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;由于我们配置了自定义拦截器，那么struts默认的拦截器栈是不会执行的。如果我们想要使用默认拦截器栈的功能，就必须把它配置在我们自定义的栈中！&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;package&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;xxx&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; extends=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;struts-default&quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
        
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptors&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--配置用户自定义的拦截器--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;MyInterceptor&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;TestAction&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
            
            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--自定义拦截器栈，我们配置了自定义的拦截器，默认的拦截器栈就不会被执行，因此，想要使用默认的拦截器功能，就要配置进来--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-stack&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;mystack&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;co&quot;&gt;&amp;lt;!--引用默认的拦截器栈，一定要放在第一行--&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;defalutStack&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                
                &lt;span class=&quot;co&quot;&gt;&amp;lt;!--引用自定义的拦截器--&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;MyInterceptor&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptor-stack&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptors&amp;gt;&lt;/span&gt;
        
        &lt;span class=&quot;co&quot;&gt;&amp;lt;!--上面配置了拦截器栈，但是没有被执行...下面配置执行拦截器--&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;default-interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;mystack&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
        
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;action&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;TestAction&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;TestAction&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;execute&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/index.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;


    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/package&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;拦截器的执行顺序&quot;&gt;拦截器的执行顺序&lt;/h2&gt;
&lt;p&gt;我们来观察拦截器和Action类的执行顺序...只要在对应的方法上向控制台输出就行了！&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; MyInterceptor &lt;span class=&quot;kw&quot;&gt;implements&lt;/span&gt; Interceptor {
    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;destroy&lt;/span&gt;() {

        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;我是拦截器的销毁方法&quot;&lt;/span&gt;);

    }

    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;init&lt;/span&gt;() {

        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;我是拦截器的初始化方法&quot;&lt;/span&gt;);
    }


    &lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;@param actionInvocation &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;拦截器的执行状态&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     */&lt;/span&gt;
    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;intercept&lt;/span&gt;(ActionInvocation actionInvocation) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {

        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;我是拦截器的拦截方法&quot;&lt;/span&gt;);

        &lt;span class=&quot;co&quot;&gt;//调用invoke()方法，代表着放行执行下一个拦截器，如果没有拦截器了，那么就执行Action的业务代码&lt;/span&gt;
        &lt;span class=&quot;co&quot;&gt;//可看成是过滤器的doFilter()方法&lt;/span&gt;
        actionInvocation.&lt;span class=&quot;fu&quot;&gt;invoke&lt;/span&gt;();
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }
}
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; TestAction &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; ActionSupport {

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;TestAction&lt;/span&gt;() {
        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;我是Action类，我被初始化了！&quot;&lt;/span&gt;);
    }

    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;execute&lt;/span&gt;() &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {

        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;我是Action类的执行方法&quot;&lt;/span&gt;);


        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;

    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;效果&quot;&gt;效果&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170502224623341?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;从效果图我们可以看出，他们的执行顺序是这样的：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;当服务器开启的时候，会执行拦截器的init()方法&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;当访问Action时，Action实例被创建&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;创建完Action实例，会调用拦截器的interceptor()方法&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;最后，执行Action的execute()方法&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;其实很好理解，之前我们使用Struts为我们提供数据自动封装功能的时候，是这样子的：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;服务器启动，加载配置文件的信息&lt;/li&gt;
&lt;li&gt;初始化默认的拦截器栈&lt;/li&gt;
&lt;li&gt;当用户访问Action时，创建Action的实例。拿到Action具体的信息【成员变量、setter和getter】&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;执行拦截器具体的内容，根据Action具体的信息，把web端的数据封装到Action上&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;最后在execute()就可以得到封装后的数据了！&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170502225328167?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;需求：当用户登陆成功，跳转到显示用户的JSP页面中。当用户登陆失败，重新返回登陆界面。如果用户直接访问显示用户的JSP页面，那么返回到登陆界面&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170503102538058?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;分析&quot;&gt;分析&lt;/h2&gt;
&lt;p&gt;实现这个需求，我们可以使用过滤器的。只要获取用户的请求URL，再判断URL是不是为list.jsp，如果是，我们返回到登陆的界面就好了。&lt;/p&gt;
&lt;p&gt;现在，为了对拦截器的理解，我们使用拦截器去完成这个功能！&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;搭建配置环境&quot;&gt;搭建配置环境&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;导入我们c3p0.xml文件&lt;/li&gt;
&lt;li&gt;导入c3p0开发包&lt;/li&gt;
&lt;li&gt;导入mysql开发包&lt;/li&gt;
&lt;li&gt;写数据库连接池工具类&lt;/li&gt;
&lt;li&gt;dbUtils开发包&lt;/li&gt;
&lt;li&gt;8个struts2需要用到的开发包&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170503104059676?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;创建数据库表，导入数据&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170503104127133?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;编写entity&quot;&gt;编写entity&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;package zhongfucheng.entity;&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/5/3.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; User {
    
    
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String id ;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String username;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String cellphone;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String email;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String password;

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;getId&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; id;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setId&lt;/span&gt;(String id) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;id&lt;/span&gt; = id;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;getUsername&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; username;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setUsername&lt;/span&gt;(String username) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;username&lt;/span&gt; = username;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;getCellphone&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; cellphone;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setCellphone&lt;/span&gt;(String cellphone) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;cellphone&lt;/span&gt; = cellphone;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;getEmail&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; email;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setEmail&lt;/span&gt;(String email) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;email&lt;/span&gt; = email;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;getPassword&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; password;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPassword&lt;/span&gt;(String password) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;password&lt;/span&gt; = password;
    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;编写dao&quot;&gt;编写DAO&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;14&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span class=&quot;kw&quot;&gt;package zhongfucheng.dao;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import org.apache.commons.dbutils.QueryRunner;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import org.apache.commons.dbutils.handlers.BeanHandler;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import org.apache.commons.dbutils.handlers.BeanListHandler;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.entity.User;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.utils.Utils2DB;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import java.sql.SQLException;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import java.util.List;&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/5/3.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; UserDao {

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;login&lt;/span&gt;(User user) {

        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
            String sql = &lt;span class=&quot;st&quot;&gt;&quot;SELECT * FROM user WHERE username = ? AND password = ?&quot;&lt;/span&gt;;
            QueryRunner queryRunner = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;QueryRunner&lt;/span&gt;(Utils2DB.&lt;span class=&quot;fu&quot;&gt;getDataSource&lt;/span&gt;());
            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; (User) queryRunner.&lt;span class=&quot;fu&quot;&gt;query&lt;/span&gt;(sql, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;BeanHandler&lt;/span&gt;(User.&lt;span class=&quot;fu&quot;&gt;class&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; Object[]{user.&lt;span class=&quot;fu&quot;&gt;getUsername&lt;/span&gt;(), user.&lt;span class=&quot;fu&quot;&gt;getPassword&lt;/span&gt;()});
        } &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; (SQLException e) {
            &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;st&quot;&gt;&quot;登陆失败了！&quot;&lt;/span&gt;);
        }

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt; &lt;span class=&quot;fu&quot;&gt;getAll&lt;/span&gt;() {

        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
            String sql = &lt;span class=&quot;st&quot;&gt;&quot;SELECT * FROM user&quot;&lt;/span&gt;;
            QueryRunner queryRunner = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;QueryRunner&lt;/span&gt;(Utils2DB.&lt;span class=&quot;fu&quot;&gt;getDataSource&lt;/span&gt;());
            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; (List&amp;lt;User&amp;gt;) queryRunner.&lt;span class=&quot;fu&quot;&gt;query&lt;/span&gt;(sql, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;BeanListHandler&lt;/span&gt;(User.&lt;span class=&quot;fu&quot;&gt;class&lt;/span&gt;));
        } &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; (SQLException e) {
            &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;st&quot;&gt;&quot;登陆失败了！&quot;&lt;/span&gt;);
        }

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }

}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;编写service&quot;&gt;编写Service&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;8&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Service {

    UserDao userDao = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;UserDao&lt;/span&gt;();

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;login&lt;/span&gt;(User user) {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; userDao.&lt;span class=&quot;fu&quot;&gt;login&lt;/span&gt;(user);

    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt; &lt;span class=&quot;fu&quot;&gt;getAll&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; userDao.&lt;span class=&quot;fu&quot;&gt;getAll&lt;/span&gt;();
    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;编写登陆的jsp页面&quot;&gt;编写登陆的JSP页面&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;
&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&amp;gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;登陆页面&lt;span class=&quot;kw&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;form&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; action=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${pageContext.request.contextPath}/user_login&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;登陆&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;编写处理请求的action&quot;&gt;编写处理请求的Action&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;14&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;package zhongfucheng.action;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import com.opensymphony.xwork2.ActionContext;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.entity.User;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.service.Service;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import java.util.List;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import java.util.Map;&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/5/3.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; UserAction {


    &lt;span class=&quot;co&quot;&gt;/****************1.封装数据********************/&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; User user;

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;getUser&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; user;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setUser&lt;/span&gt;(User user) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;user&lt;/span&gt; = user;
    }

    &lt;span class=&quot;co&quot;&gt;/***************2.调用Service*******************/&lt;/span&gt;
    Service service = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; Service();


    &lt;span class=&quot;co&quot;&gt;//登陆&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;login&lt;/span&gt;() {

        User user = service.&lt;span class=&quot;fu&quot;&gt;login&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;user&lt;/span&gt;);

        &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (user == &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;input&quot;&lt;/span&gt;;
        } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;co&quot;&gt;//将user的信息存到Session域对象中&lt;/span&gt;
            Map&amp;lt;String, Object&amp;gt; session = ActionContext.&lt;span class=&quot;fu&quot;&gt;getContext&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;getSession&lt;/span&gt;();
            session.&lt;span class=&quot;fu&quot;&gt;put&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;user&quot;&lt;/span&gt;, user);


            &lt;span class=&quot;co&quot;&gt;//登陆成功&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;login&quot;&lt;/span&gt;;
        }
    }

    &lt;span class=&quot;co&quot;&gt;//查看user信息&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;list&lt;/span&gt;() {

        &lt;span class=&quot;co&quot;&gt;//拿到所有用户的信息&lt;/span&gt;
        List&amp;lt;User&amp;gt; users = service.&lt;span class=&quot;fu&quot;&gt;getAll&lt;/span&gt;();

        &lt;span class=&quot;co&quot;&gt;//存到request域对象中&lt;/span&gt;
        Map&amp;lt;String, Object&amp;gt; request = ActionContext.&lt;span class=&quot;fu&quot;&gt;getContext&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;getContextMap&lt;/span&gt;();

        request.&lt;span class=&quot;fu&quot;&gt;put&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;users&quot;&lt;/span&gt;, users);

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;list&quot;&lt;/span&gt;;
    }

}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;struts.xml配置文件&quot;&gt;struts.xml配置文件&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;    &lt;span class=&quot;kw&quot;&gt;&amp;lt;package&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;xxx&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; extends=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;struts-default&quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;action&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;user_*&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;zhongfucheng.action.UserAction&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;{1}&quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--如果登陆成功，重定向到Action中，执行list业务方法--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;login&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;redirectAction&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;user_list&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--如果是list，那么跳转到list.jsp页面--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;list&quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/WEB-INF/list.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/package&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;hr/&gt;&lt;p&gt;到目前为止，&lt;strong&gt;我们登陆或者不登陆都可以得到用户的具体信息....这是不合理的&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我们想要的效果是：&lt;strong&gt;只有用户正在调用login方法，或者该用户已经登陆了，才可以查看具体的用户信息&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170503114231482?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;因此，我们们要拦截它们，&lt;strong&gt;只有用户调用的是login方法时或者已经登陆的情况下，才能跳转到对应的显示页面&lt;/strong&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;拦截器&quot;&gt;拦截器&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;package zhongfucheng;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import com.opensymphony.xwork2.ActionContext;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import com.opensymphony.xwork2.ActionInvocation;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import com.opensymphony.xwork2.ActionProxy;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import com.opensymphony.xwork2.interceptor.AbstractInterceptor;&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/5/3.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Interceptor  &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; AbstractInterceptor{


    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;intercept&lt;/span&gt;(ActionInvocation actionInvocation) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {

        &lt;span class=&quot;co&quot;&gt;//得到正在执行的代理对象&lt;/span&gt;
        ActionProxy proxy = actionInvocation.&lt;span class=&quot;fu&quot;&gt;getProxy&lt;/span&gt;();

        &lt;span class=&quot;co&quot;&gt;//通过代理对象得到正在执行的方法&lt;/span&gt;
        String method = proxy.&lt;span class=&quot;fu&quot;&gt;getMethod&lt;/span&gt;();


        &lt;span class=&quot;co&quot;&gt;//如果方法的名字不是login，那么就让他们返回到login页面上&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (!method.&lt;span class=&quot;fu&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;login&quot;&lt;/span&gt;)) {

            &lt;span class=&quot;co&quot;&gt;//查看用户是否登陆了&lt;/span&gt;
            Object user = ActionContext.&lt;span class=&quot;fu&quot;&gt;getContext&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;getSession&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;user&quot;&lt;/span&gt;);

            &lt;span class=&quot;co&quot;&gt;//如果没有登陆，回到login页面&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (user == &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;) {

                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;input&quot;&lt;/span&gt;;
            } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {

                &lt;span class=&quot;co&quot;&gt;//登陆了，那么就让它访问具体的用户信息页面&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; actionInvocation.&lt;span class=&quot;fu&quot;&gt;invoke&lt;/span&gt;();
            }
        } &lt;span class=&quot;kw&quot;&gt;else&lt;/span&gt; {

            &lt;span class=&quot;co&quot;&gt;//如果是访问login方法，那么就让它执行&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; actionInvocation.&lt;span class=&quot;fu&quot;&gt;invoke&lt;/span&gt;();
        }

    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;struts.xml&quot;&gt;Struts.xml&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;?xml&lt;/span&gt; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; &lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;dt&quot;&gt;&amp;lt;!DOCTYPE &lt;/span&gt;struts PUBLIC
        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;
        &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&lt;span class=&quot;dt&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;struts&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;package&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;xxx&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; extends=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;struts-default&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptors&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--配置自定义的拦截器--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;Interceptor1&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;zhongfucheng.Interceptor&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--配置拦截器栈，把默认的拦截器栈都加载自定义的拦截器栈中--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-stack&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;myStack&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;Interceptor1&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;defaultStack&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptor-stack&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptors&amp;gt;&lt;/span&gt;


        &lt;span class=&quot;co&quot;&gt;&amp;lt;!--让Struts执行拦截器--&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;co&quot;&gt;&amp;lt;!--【执行拦截器:第一种写法： 当前包下所有的acntion都执行myStack栈】--&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;default-interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;myStack&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/default-interceptor-ref&amp;gt;&lt;/span&gt;


        &lt;span class=&quot;co&quot;&gt;&amp;lt;!--第二种写法： 只是在这一个Action中执行myStack栈&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;        &amp;lt;interceptor-ref name=&quot;defaultStackt&quot;&amp;gt;&amp;lt;/interceptor-ref&amp;gt;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;        &amp;lt;interceptor-ref name=&quot;loginCheck&quot;&amp;gt;&amp;lt;/interceptor-ref&amp;gt;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;        --&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;co&quot;&gt;&amp;lt;!-- 第三种写法：执行用户栈(与第二种写法一样， 只在当前aciton中执行自定义栈) --&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;co&quot;&gt;&amp;lt;!-- &amp;lt;interceptor-ref name=&quot;myStack&quot;&amp;gt;&amp;lt;/interceptor-ref&amp;gt;--&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;action&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;user_*&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;zhongfucheng.action.UserAction&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;{1}&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--如果登陆成功，重定向到Action中，执行list业务方法--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;login&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;redirectAction&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;user_list&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--如果是list，那么跳转到list.jsp页面--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;list&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/WEB-INF/list.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;


            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--如果是直接访问Action或者没有用户登陆，返回login页面--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;input&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/login.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;


    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/package&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/struts&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;效果-1&quot;&gt;效果：&lt;/h2&gt;
&lt;p&gt;只有当用户登陆了才能查看用户具体信息，直接访问Action会跳转回&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170503121056610?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;h2 id=&quot;计时拦截器&quot;&gt;计时拦截器&lt;/h2&gt;
&lt;p&gt;Struts2自带了&lt;strong&gt;计时拦截器&lt;/strong&gt;，也就是&lt;strong&gt;用来统计每个Action执行的时间&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;执行等待拦截器&quot;&gt;执行等待拦截器&lt;/h2&gt;
&lt;p&gt;如果页面执行得太慢了，Struts2还提供了执行等待拦截器，也就是说，&lt;strong&gt;当页面加载得太久了，就跳转到对应的提示页面...当服务器执行完毕了，也跳转到相对应的页面&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;回顾防止表单重复提交&quot;&gt;回顾防止表单重复提交&lt;/h2&gt;
&lt;p&gt;当我们学习Session的时候已经通过Session来编写了一个防止表单重复提交的小程序了，我们来回顾一下我们当时是怎么做的：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;在Servlet上生成独一无二的token，保存在Session域中，并交给JSP页面&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JSP页面在提交表单数据的时候，把token放在隐藏域中...一起带过去给Servlet&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Servlet判断用户有没有带token值过来，判断token的值是否和Session的相匹配&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;如果用户是第一次提交的话，那么就允许用户的请求，接着就把保存在Session中的token值去除&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;等用户想要再次提交的时候，Servlet发现Session中并没有token了，所以不搭理用户的请求&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;我们以前写表达重复提交就花了这么几个步骤...如果有兴趣的同学可以看一下以前的实现思路：&lt;a href=&quot;http://blog.csdn.net/hon_3y/article/details/54799494#t11&quot; class=&quot;uri&quot;&gt;http://blog.csdn.net/hon_3y/article/details/54799494#t11&lt;/a&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;struts2防止表单重复提交&quot;&gt;Struts2防止表单重复提交&lt;/h2&gt;
&lt;p&gt;Struts2是简化我们的开发的，表单重复提交也是一件非常常用的功能...Struts2也为我们实现了...当然啦，也是&lt;strong&gt;通过拦截器来实现&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;   &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;token&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;org.apache.struts2.interceptor.TokenInterceptor&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;它的实现原理和我们以前写的思路几乎一致...&lt;strong&gt;它不需要另外写一个组件来生成token值，struts2标签就有这么一个功能&lt;/strong&gt;...因此是十分方便的&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170505093227154?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;为了熟悉一下Struts2，我们也&lt;strong&gt;使用Struts2来编写一下上图的程序&lt;/strong&gt;...&lt;/p&gt;
&lt;h3 id=&quot;编写dao-1&quot;&gt;编写DAO&lt;/h3&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;package zhongfucheng.dao;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import org.apache.commons.dbutils.QueryRunner;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import org.apache.commons.dbutils.handlers.BeanHandler;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import org.apache.commons.dbutils.handlers.BeanListHandler;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.entity.User;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.utils.Utils2DB;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import java.sql.SQLException;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import java.util.List;&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/5/3.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; UserDao {

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;add&lt;/span&gt;(User user) {
        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {

            String sql = &lt;span class=&quot;st&quot;&gt;&quot;INSERT INTO user(id,username,cellphone,password,address) VALUES (?,?,?,?,?)&quot;&lt;/span&gt;;
            QueryRunner queryRunner = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;QueryRunner&lt;/span&gt;(Utils2DB.&lt;span class=&quot;fu&quot;&gt;getDataSource&lt;/span&gt;());

            queryRunner.&lt;span class=&quot;fu&quot;&gt;update&lt;/span&gt;(sql, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; Object[]{user.&lt;span class=&quot;fu&quot;&gt;getId&lt;/span&gt;(), user.&lt;span class=&quot;fu&quot;&gt;getUsername&lt;/span&gt;(), user.&lt;span class=&quot;fu&quot;&gt;getCellphone&lt;/span&gt;(), user.&lt;span class=&quot;fu&quot;&gt;getPassword&lt;/span&gt;(),user.&lt;span class=&quot;fu&quot;&gt;getAddress&lt;/span&gt;()});

        } &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; (SQLException e) {
            &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;st&quot;&gt;&quot;登陆失败了！&quot;&lt;/span&gt;);
        }
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;findUser&lt;/span&gt;(String id) {
        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
            String sql = &lt;span class=&quot;st&quot;&gt;&quot;SELECT * FROM user WHERE id=?&quot;&lt;/span&gt;;
            QueryRunner queryRunner = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;QueryRunner&lt;/span&gt;(Utils2DB.&lt;span class=&quot;fu&quot;&gt;getDataSource&lt;/span&gt;());

            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; (User) queryRunner.&lt;span class=&quot;fu&quot;&gt;query&lt;/span&gt;(sql, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;BeanHandler&lt;/span&gt;(User.&lt;span class=&quot;fu&quot;&gt;class&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; Object[]{id});
            
        } &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; (SQLException e) {
            &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;st&quot;&gt;&quot;登陆失败了！&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt; &lt;span class=&quot;fu&quot;&gt;getAll&lt;/span&gt;() {

        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
            String sql = &lt;span class=&quot;st&quot;&gt;&quot;SELECT * FROM user&quot;&lt;/span&gt;;
            QueryRunner queryRunner = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;QueryRunner&lt;/span&gt;(Utils2DB.&lt;span class=&quot;fu&quot;&gt;getDataSource&lt;/span&gt;());
            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; (List&amp;lt;User&amp;gt;) queryRunner.&lt;span class=&quot;fu&quot;&gt;query&lt;/span&gt;(sql, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;BeanListHandler&lt;/span&gt;(User.&lt;span class=&quot;fu&quot;&gt;class&lt;/span&gt;));
        } &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; (SQLException e) {
            &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;st&quot;&gt;&quot;登陆失败了！&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt;  &lt;span class=&quot;fu&quot;&gt;updateUser&lt;/span&gt;(User user) {

        &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {
            String sql = &lt;span class=&quot;st&quot;&gt;&quot;UPDATE user SET username=?,password=?,cellphone=? WHERE id=?&quot;&lt;/span&gt;;
            QueryRunner queryRunner = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;QueryRunner&lt;/span&gt;(Utils2DB.&lt;span class=&quot;fu&quot;&gt;getDataSource&lt;/span&gt;());

            queryRunner.&lt;span class=&quot;fu&quot;&gt;update&lt;/span&gt;(sql, &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; Object[]{user.&lt;span class=&quot;fu&quot;&gt;getUsername&lt;/span&gt;(), user.&lt;span class=&quot;fu&quot;&gt;getPassword&lt;/span&gt;(), user.&lt;span class=&quot;fu&quot;&gt;getCellphone&lt;/span&gt;(), user.&lt;span class=&quot;fu&quot;&gt;getId&lt;/span&gt;()});
        } &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; (SQLException e) {
            &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;st&quot;&gt;&quot;登陆失败了！&quot;&lt;/span&gt;);
        }
    }

}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;编写service-1&quot;&gt;编写service&lt;/h3&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;package zhongfucheng.service;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.dao.UserDao;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.entity.User;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;import zhongfucheng.utils.WebUtils;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import java.util.List;&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/5/3.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; Service {

    UserDao userDao = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;UserDao&lt;/span&gt;();

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;add&lt;/span&gt;(User user) {


        &lt;span class=&quot;co&quot;&gt;//手动设置id，因为在数据库表我没使用自动增长id&lt;/span&gt;
        user.&lt;span class=&quot;fu&quot;&gt;setId&lt;/span&gt;(WebUtils.&lt;span class=&quot;fu&quot;&gt;makeId&lt;/span&gt;());

        &lt;span class=&quot;co&quot;&gt;//这是以前的表，规定要address，只能手动设置了&lt;/span&gt;
        user.&lt;span class=&quot;fu&quot;&gt;setAddress&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;广州&quot;&lt;/span&gt;);
        userDao.&lt;span class=&quot;fu&quot;&gt;add&lt;/span&gt;(user);

    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;findUser&lt;/span&gt;(String id) {

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; userDao.&lt;span class=&quot;fu&quot;&gt;findUser&lt;/span&gt;(id);

    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt; &lt;span class=&quot;fu&quot;&gt;getAll&lt;/span&gt;() {

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; userDao.&lt;span class=&quot;fu&quot;&gt;getAll&lt;/span&gt;();

    }
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt;  &lt;span class=&quot;fu&quot;&gt;updateUser&lt;/span&gt;(User user) {


        userDao.&lt;span class=&quot;fu&quot;&gt;updateUser&lt;/span&gt;(user);

    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;开发步骤&quot;&gt;开发步骤&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;编写添加用户JSP&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;
&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;%@taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&amp;gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;form&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; action=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${pageContext.request.contextPath}/user_register&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;table&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; border=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;用户名：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt; 密码：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;电话：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;cellphone&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;提交&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;


&lt;span class=&quot;kw&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;使用了模型驱动封装数据，添加用户&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;

    &lt;span class=&quot;co&quot;&gt;//这里一定要实例化&lt;/span&gt;
    User user = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;User&lt;/span&gt;();

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;getUser&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; user;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setUser&lt;/span&gt;(User user) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;user&lt;/span&gt; = user;
    }

    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;getModel&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; user;
    }


    &lt;span class=&quot;co&quot;&gt;/*******调用service********/&lt;/span&gt;
    Service service = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; Service();

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;register&lt;/span&gt;() &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {

        service.&lt;span class=&quot;fu&quot;&gt;add&lt;/span&gt;(user);


        &lt;span class=&quot;co&quot;&gt;//注册成功，就跳转到list()方法，list方法就跳转到查看所有用户页面了!&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;list&lt;/span&gt;();
    }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;列出全部的用户数据，提供修改功能，&lt;strong&gt;需要把id传递过去，明确修改的是哪一个用户&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;
&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;%--
  Created by IntelliJ IDEA.
  User: ozc
  Date: 2017/5/2
  Time: 18:24
  To change this template use File | Settings | File Templates.
--%&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;%@taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&amp;gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;列出下载页面&lt;span class=&quot;kw&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;table&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; border=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; align=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;center&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;用户id&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;用户姓名&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;用户密码&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;用户电话&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;操作&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;kw&quot;&gt;&amp;lt;s:if&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; test=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;#request.users!=null&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;c:forEach&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; items=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${users}&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; var=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;${user.id}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;${user.username}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;${user.password}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;${user.cellphone}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${pageContext.request.contextPath}/user_updatePage?id=${user.id}&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;修改&lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/c:forEach&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/s:if&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;


&lt;span class=&quot;kw&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;Action得到web带过来的id，找到对象，添加到值栈中（数据回显）&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;updatePage&lt;/span&gt;() &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {

        &lt;span class=&quot;co&quot;&gt;//得到用户带过来的id，根据id查找对象&lt;/span&gt;
       User user222 = service.&lt;span class=&quot;fu&quot;&gt;findUser&lt;/span&gt;(user.&lt;span class=&quot;fu&quot;&gt;getId&lt;/span&gt;());

        ActionContext.&lt;span class=&quot;fu&quot;&gt;getContext&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;getValueStack&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;push&lt;/span&gt;(user222);

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;updatePage&quot;&lt;/span&gt;;
    }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;修改用户的JSP页面，使用Struts2提供的回显技术，并&lt;strong&gt;把id通过隐藏域带过去给Action..最终是通过id来修改用户的数据&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;form&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; action=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${pageContext.request.contextPath}/user_update&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;table&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; border=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;用户名&lt;span class=&quot;kw&quot;&gt;&amp;lt;s:textfield&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;密码 &lt;span class=&quot;kw&quot;&gt;&amp;lt;s:textfield&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;电话&lt;span class=&quot;kw&quot;&gt;&amp;lt;s:textfield&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;cellphone&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;s:hidden&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;修改&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;效果-2&quot;&gt;&lt;strong&gt;效果&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170505133628382?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;防止表单重复提交&quot;&gt;防止表单重复提交&lt;/h2&gt;
&lt;p&gt;上面我们已经完成了大部分的功能了，但当我们&lt;strong&gt;如果提交之后，再刷新页面，那么表单的数据就会重复提交&lt;/strong&gt;...我们使用Struts2我们提供的防止表单重复提交的功能把！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170505133842100?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;在需要提交的表单上使用token标签&quot;&gt;在需要提交的表单上使用token标签&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;table&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; border=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;s:token&amp;gt;&amp;lt;/s:token&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;用户名：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt; 密码：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;电话：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;cellphone&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;提交&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;在struts配置文件中配置拦截器&quot;&gt;在struts配置文件中配置拦截器&lt;/h2&gt;
&lt;p&gt;token拦截器默认是不会启动的，也就是说：&lt;strong&gt;需要我们手动配置&lt;/strong&gt;...&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;当我们配置拦截器的时候，Struts2默认的拦截器是不会执行的，所以要把Struts2默认的拦截器也写上&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;?xml&lt;/span&gt; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; &lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;dt&quot;&gt;&amp;lt;!DOCTYPE &lt;/span&gt;struts PUBLIC
        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;
        &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&lt;span class=&quot;dt&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;struts&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;constant&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;struts.ui.theme&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;simple&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;package&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;xxx&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; extends=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;struts-default&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;



        &lt;span class=&quot;kw&quot;&gt;&amp;lt;action&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;user_*&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;zhongfucheng.action.UserAction&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;{1}&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;defaultStack&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor-ref&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;token&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;co&quot;&gt;&amp;lt;!-- 要拦截的方法！ --&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;param&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;includeMethods&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;register&lt;span class=&quot;kw&quot;&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;/interceptor-ref&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--如果是list，那么就跳转到list的JSP页面--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;list&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; /list.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--请求跳转到修改页面--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;updatePage&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/update.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;co&quot;&gt;&amp;lt;!--如果校验成功，跳转到login.jsp页面回显--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/login.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;redirectList&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;redirect&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/user_list&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/package&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;kw&quot;&gt;&amp;lt;include&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; file=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;config.xml&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;/struts&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;当我们重复提交的时候，它会报错，因此，如果它报错了，我们就跳转到register页面把&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170505134625151?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;测试&quot;&gt;测试&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170505134908325?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;如果文章有错的地方欢迎指正，大家互相交流。&lt;strong&gt;习惯在微信看技术文章，想要获取更多的Java资源的同学，可以关注微信公众号:Java3y&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Sun, 11 Mar 2018 07:50:00 +0000</pubDate>
<dc:creator>Java3y</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/Java3y/p/8544460.html</dc:identifier>
</item>
<item>
<title>SpringBean基础装配 - 楚大校</title>
<link>http://www.cnblogs.com/zxx123/p/8544457.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/zxx123/p/8544457.html</guid>
<description>&lt;p&gt;        首先，让我们先对Bean进行理解；什么是Bean,为什么要有Bean，如何装配Bean；&lt;/p&gt;
&lt;p&gt;        1，什么是Bean?&lt;/p&gt;
&lt;p&gt;            Bean你可以看成是一个组件，在框架开发中，所谓的项目就是由一个个的组件构建而成的，有拦截请求的前端控制器，有负责找到相应响应的适配器，有负责处理进行数据映射的映射器，而这些都可以称为组件:Bean；而Bean又不止这些，我们知道，在java中，都是通过调用对象，以及对象的属性和方法；而对象就可以看成是一个Bean，而我们调用对象都是通过new一个对象的方式，而Bean的功能就在于你可以不通过new的方式，而是通过其他方式来实现对象的调用，这就是所谓的Bean；&lt;/p&gt;
&lt;p&gt;        2，为什么要有Bean?&lt;/p&gt;
&lt;p&gt;            Bean的功能在于你可以通过xml，java以及注解这三种方式来实现，而不是调用对象，这样可以降低类之间的耦合度，符合高内聚低耦合的设计原则，再往深一点理解，在Spring中，对象无需自己查找或创建与其所关联的其他对象，相反，容器负责把需要相互协作的对象引用赋予各个对象，例如，一个订单管理组件需要信用卡认证组件，但他不需要自己创建信用卡认证组件，订单管理组件只需要表明自己两手空空，容器就会主动赋予它一个信用卡认证组件，就像一个骑士一样，如果你直接在骑士类里面调用救公主这个类的，创建对象，那么你可以每次都很及时地救到公主，但是如果你要去杀恶龙呢？那你还得再调用杀恶龙这个类，再调用对象，而救公主，杀恶龙这些类本身是等着你来调用的，只能被动调用，但是，如果你用Bean装配的话，你可以这样，将救公主，杀恶龙类声明为Bean；然后由Spring自带的容器来充当上帝的角色，上帝说，我给你骑士一个任务，你去救公主，杀恶龙，然后，骑士收到这个任务之后，就去执行这个任务了，这样的话，骑士不需要自己亲自去找到公主，找到恶龙，而是直接做，对于骑士来说更加方便，不会把多余的精力用在找这件事情上，也就是说骑士这个类更加贴近创建这个类的初衷，那就是直接做，而不是找，与公主，恶龙之间的关系也没有那么紧密，而对于公主，恶龙来说的话，声明为一个Bean，就算不是骑士去救，也还有其他类会来调用这个类，像是超人啊什么的，而这其中就是上帝在充当这个角色，也就是Spring的bean装配；&lt;/p&gt;
&lt;p&gt;        3，如何装配Bean；&lt;/p&gt;
&lt;p&gt;                装配Bean有三种可选方案；在XML中进行显示配置，在java中进行显示配置，隐式的bean发现机制和自动装配；&lt;/p&gt;
&lt;p&gt;                我们的建议是尽可能地使用自动配置的机制，显式配置越少越好，而显式配置的话，就是java配置要由于xml配置；下面是三种配置方式的描述；&lt;/p&gt;
&lt;p&gt;            首先，我们先说说优先级最高的自动装配；Spring从两个角度来实现自动化装配：组件扫描和自动转配；&lt;/p&gt;
&lt;p&gt;            组件扫描是指通过显式配置的方式来声明一个扫描器来扫描被声明为Bean的Bean，而自动装配是指将一个已经声明的Bean自动装配到另一个bean中，即实现我们前面说的通过装配bean的方式来实现对象的调用；&lt;/p&gt;
&lt;div readability=&quot;36.5&quot;&gt;            先声明一个接口；
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
public interface compactDisc(){
    void play();
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　        然后做一个实现类；&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Component
public class SgtPeppers implements CompactDisc{
    private String title = &quot;...&quot;;
    private String artist = &quot;....&quot;;
    public void play(){
        System.out.println(&quot;...&quot;);
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　其中，使用到了@Component注解，这个简单的注解声明该类会作为组件类；&lt;/p&gt;
&lt;div readability=&quot;88.5&quot;&gt;下面我们要启动自动扫描；
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Configuration
@ComponentScan
public class CDPlayerConfig(){

}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　通过java配置的方式设置扫描器，能够在这个包以及这个包下的所有子包查找带有@Component注解的类；&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;
        http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd&quot;&amp;gt;
        &amp;lt;context:component-scan base-package = &quot;soundsystem&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　这个是通过xml配置的方式进行扫描器的声明；&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;34&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes == CDPlayerConfig.class)
public class CDPlayerTest{
    @Autowired
    private CompactDisc cd;
    @Test
    public void cdShouldNotBeNull(){
        assertNotNull(cd);
    }
}
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这个是测试类；&lt;/p&gt;
&lt;p&gt;你可以为组件扫描的Bean命名；通过以下方式；&lt;/p&gt;
&lt;p&gt;        @Component(&quot;longlyHeartsClub&quot;)&lt;/p&gt;
&lt;p&gt;        public class Sgtpeppers implements CompactDisc{}&lt;/p&gt;
&lt;p&gt;另外提一下，还有另一种方式；&lt;/p&gt;
&lt;p&gt;        @Named((&quot;longlyHeartsClub&quot;)&lt;/p&gt;
&lt;p&gt;        public class Sgtpeppers implements CompactDisc{}&lt;/p&gt;
&lt;p&gt;设置组件扫描的基础包；&lt;/p&gt;
&lt;p&gt;@Configuration&lt;/p&gt;
&lt;p&gt;@ComponentScan(&quot;soundsystem&quot;)&lt;/p&gt;
&lt;p&gt;public class CDPlayerConfig(){}&lt;/p&gt;
&lt;p&gt;        你如果要扫描多个包的话可以这样；&lt;/p&gt;
&lt;p&gt;@Configuration&lt;/p&gt;
&lt;p&gt;@ComponentScan(basePackget = {&quot;soundsystem&quot;,&quot;video&quot;})&lt;/p&gt;
&lt;p&gt;public class CDPlayerConfig(){};&lt;/p&gt;
&lt;p&gt;        如果你要扫描的是类或接口的话&lt;/p&gt;
&lt;p&gt;@COnfiguration&lt;/p&gt;
&lt;p&gt;@ComponentScan(basePackageClasses = {CDPlayer.class,DVDPlayer.class})&lt;/p&gt;
&lt;p&gt;public class CDPlayerConfig(){};&lt;/p&gt;
&lt;p&gt;以上是组件扫描的功能，下面是自动装配的功能；&lt;/p&gt;
&lt;p&gt;通过两种方式实现将一个已经声明的Bean装配到另外一个Bean中， 构造器和Setter方法；&lt;/p&gt;
&lt;div readability=&quot;80&quot;&gt;下面是构造器的方法；
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Component
public class CDplayer implements MediaPlayer{
    private CompactDisc cd;
    @Autowired 
    public CDplayer(CompacDisc cd){
        this.cd = cd;
    }
    public void play(){
        cd.play();
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　还可以通过Setter方法&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;32&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Autowired
public void setCompactDisc(CompactDisc cd){
    this.cd = cd;
}
&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes = CDPlayerConfig.class)
public class CDPlayerTest{
    @Rule
    public final StandardOutputStreamLog log = new StandardOutputStreamLog();
    @Autowired
    private MediaPlayer player();
    @Autowired
    private CompactDisc cd;
    @Test
    public void cdShouldNotBeNull(){
        assertNotNull(cd);
    }
}
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;下面是第二种方式java显式配置；&lt;/p&gt;
&lt;p&gt;还是分为两个方面，如何配置Bean,以及实现Bean的依赖；&lt;/p&gt;
&lt;p&gt;    声明简单的Bean&lt;/p&gt;
&lt;p&gt;    @Bean&lt;/p&gt;
&lt;p&gt;    public CompactDisc sgtpetters(){&lt;/p&gt;
&lt;p&gt;        return new SgetPeppers();&lt;/p&gt;
&lt;p&gt;    }&lt;/p&gt;
&lt;p&gt;    通过返回一个对象来实现Bean的声明；&lt;/p&gt;
&lt;p&gt;    这样的话，就可以实现随机声明任意一个Bean的方法，更加灵活多变；&lt;/p&gt;
&lt;p&gt;    你也可以对这个Bean进行命名；&lt;/p&gt;
&lt;p&gt;    接下来我们来实现注入，这里有一点要注意一下的就是你的注入Bean是可以通过任何形式实现的；&lt;/p&gt;
&lt;p&gt;    @Bean&lt;/p&gt;
&lt;p&gt;    public CDPlayer cdPlayer(){&lt;/p&gt;
&lt;p&gt;        return new CDPlayer(sgtPeppers());&lt;/p&gt;
&lt;p&gt;    }&lt;/p&gt;
&lt;p&gt;    这是一种方式，当然这里的Bean创建是单例的，即使有多个调用这个sgePeppers()，也是同一个；&lt;/p&gt;
&lt;p&gt;    这样也可以&lt;/p&gt;
&lt;p&gt;    @Bean&lt;/p&gt;
&lt;p&gt;    public CDPlayer cdPlayer(CompactDisc compactdisc){&lt;/p&gt;
&lt;p&gt;        return new CDPlayer(compactdisc);&lt;/p&gt;
&lt;p&gt;    }&lt;/p&gt;
&lt;p&gt;以上就是java配置描述的方法了；&lt;/p&gt;
&lt;p&gt;接下来就是xml配置的方法了，不愧是最老的方法，语法设置是前面两种方法加起来的两倍的说。。。&lt;/p&gt;
&lt;p&gt;        首先是声明一个简单的bean;&lt;/p&gt;
&lt;p&gt;        &amp;lt;bean class = &quot;soundsystem.SgtPeppers&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;        如果你要命名的话&lt;/p&gt;
&lt;p&gt;        &amp;lt;bean id = &quot;compactDisc&quot; class = &quot;soundsystem.SgtPeppers&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;        接下来呢，我们想要用构造器的方法注入bean引用，先用这个&amp;lt;constructor-arg&amp;gt;元素；&lt;/p&gt;
&lt;p&gt;        &amp;lt;bean id = &quot;cdPlayer&quot; class = &quot;soundsystem.CDPlayer&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;            &amp;lt;constructor-arg ref = &quot;compactDisc&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;        &amp;lt;/bean&amp;gt;&lt;/p&gt;
&lt;p&gt;        其中,compactDisc是一个注入Bean的id;&lt;/p&gt;
&lt;p&gt;        还可以用c命名空间的方法，注意c是constructor-arg元素对应的；&lt;/p&gt;
&lt;p&gt;        &amp;lt;bean id = &quot;cdPlayer&quot; class = &quot;soundsystem.CDPlayer&quot;&lt;/p&gt;
&lt;p&gt;                c:cd-ref = &quot;compactDisc&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;            这里的cd相当于给注入Bean起一个名字；&lt;/p&gt;
&lt;p&gt;        还可以这样命名&lt;/p&gt;
&lt;div readability=&quot;12&quot;&gt;        &lt;p&gt;                c:_0-ref = &quot;compactDisc&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;        或者这样&lt;/p&gt;
&lt;div readability=&quot;14.5&quot;&gt;
&lt;p&gt;        &amp;lt;bean id = &quot;cdPlayer&quot; class = &quot;soundsystem.CDPlayer&quot;&lt;/p&gt;
&lt;p&gt;                c:_-ref = &quot;compactDisc&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;       那么如何将字面量注入到构造器中呢？&lt;/p&gt;
&lt;div readability=&quot;24.5&quot;&gt;        &lt;p&gt;            &amp;lt;constructor-arg value = &quot;...&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;        &amp;lt;/bean&amp;gt;&lt;/p&gt;
&lt;p&gt;        那就是用value了，记住，引用Bean用ref，注入字面量用value，然后c命名空间的方式还是不变的；&lt;/p&gt;
&lt;p&gt;    当然了，我们除了装配单个字面量，还可以装配集合;&lt;/p&gt;
&lt;div readability=&quot;60.5&quot;&gt;    &lt;p&gt;            &amp;lt;constructor-arg value = &quot;...&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;            &amp;lt;constructor-arg&amp;gt;&lt;/p&gt;
&lt;p&gt;                &amp;lt;list&amp;gt;&lt;/p&gt;
&lt;p&gt;                    &amp;lt;value&amp;gt;.....&amp;lt;/value&amp;gt;&lt;/p&gt;
&lt;p&gt;                    &amp;lt;value&amp;gt;.....&amp;lt;/value&amp;gt;&lt;/p&gt;
&lt;p&gt;                &amp;lt;/list&amp;gt;&lt;/p&gt;
&lt;p&gt;        &amp;lt;/bean&amp;gt;&lt;/p&gt;
&lt;p&gt;        还可以注入多个注入Bean&lt;/p&gt;
&lt;div readability=&quot;17&quot;&gt;    &lt;p&gt;            &amp;lt;constructor-arg value = &quot;...&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;            &amp;lt;constructor-arg&amp;gt;&lt;/p&gt;
&lt;p&gt;                &amp;lt;list&amp;gt;&lt;/p&gt;
&lt;p&gt;                    &amp;lt;ref bean = &quot;sgtPeppers&quot;/&amp;gt;&lt;/p&gt;
&lt;p&gt;                    &amp;lt;ref bean = &quot;agtPeppers&quot;/&amp;gt;&lt;/p&gt;
&lt;p&gt;        &amp;lt;/bean&amp;gt;&lt;/p&gt;
     当然我们也可以用set集合&lt;/div&gt;
&lt;div readability=&quot;21&quot;&gt;    &lt;p&gt;            &amp;lt;constructor-arg value = &quot;...&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;            &amp;lt;constructor-arg&amp;gt;&lt;/p&gt;
&lt;p&gt;                &amp;lt;set&amp;gt;&lt;/p&gt;
&lt;p&gt;                    &amp;lt;value&amp;gt;.....&amp;lt;/value&amp;gt;&lt;/p&gt;
&lt;p&gt;                    &amp;lt;value&amp;gt;.....&amp;lt;/value&amp;gt;&lt;/p&gt;
&lt;p&gt;                &amp;lt;/set&amp;gt;&lt;/p&gt;
&lt;p&gt;        &amp;lt;/bean&amp;gt;&lt;/p&gt;
设置属性：好吧，你没有听错，我们要用另一种方法了，这两种方法其实本质是没有区别的但是我们竟然要因此而学另外一种元素和另一种命名空间，真是够了。。。&lt;/div&gt;
&lt;div readability=&quot;29&quot;&gt;        
&lt;p&gt;        首先是声明一个简单的bean;&lt;/p&gt;
&lt;p&gt;        &amp;lt;bean class = &quot;soundsystem.SgtPeppers&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;        如果你要命名的话&lt;/p&gt;
&lt;p&gt;        &amp;lt;bean id = &quot;compactDisc&quot; class = &quot;soundsystem.SgtPeppers&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;            &amp;lt;property name = &quot;compactDisc&quot; ref = &quot;compactDisc&quot;/&amp;gt;&lt;/p&gt;
&lt;p&gt;        &amp;lt;/bean&amp;gt;&lt;/p&gt;
&lt;p&gt;        命名空间p&lt;/p&gt;
        
&lt;p&gt;        &amp;lt;bean id = &quot;cdPlayer&quot; class = &quot;soundsystem.CDPlayer&quot;&lt;/p&gt;
&lt;p&gt;                p:cd-ref = &quot;compactDisc&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;            这里的cd相当于给注入Bean起一个名字；&lt;/p&gt;
&lt;p&gt;        还可以这样命名&lt;/p&gt;
&lt;div readability=&quot;11&quot;&gt;        &lt;p&gt;                p:_0-ref = &quot;compactDisc&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;        或者这样&lt;/p&gt;
&lt;div readability=&quot;9&quot;&gt;
&lt;p&gt;        &amp;lt;bean id = &quot;cdPlayer&quot; class = &quot;soundsystem.CDPlayer&quot;&lt;/p&gt;
&lt;p&gt;                p:_-ref = &quot;compactDisc&quot;&amp;gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
        。。你没有发现惊人的相似吗。。。。&lt;/div&gt;
&lt;p&gt;        其他的像装配字面量，装配集合，都是一样的。。。我就不一个个Ctrl+c,Ctrl+v了。。。&lt;/p&gt;
&lt;p&gt;        接下来是讲一下导入和混合配置的方法，我们如何这三种不同的配置方法给混合使用呢？&lt;/p&gt;
&lt;p&gt;        下面是解决方法；&lt;/p&gt;
&lt;p&gt;        在JavaConfig中引用XML配置；&lt;/p&gt;
&lt;div readability=&quot;25.5&quot;&gt;        先讲讲如何将分离出来的两个Bean进行组合；
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Configuration
public class CDConfig{
    @Bean
    public CompactDisc compactDisc(){
        return new SgtPeppers();
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　然后我们用@import(CDConfig.class)来实现组合；&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Configuration
@Import(CDConfig.class)
public class CDPlayerConfig{
    @Bean 
    public CDPlayer cdPlayer(CompactDisc compactDisc){
        return new CDPlayer(compactDisc);
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　或者我们把xml拼到java中；&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;33&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
@Configuration
@Import(CDPlayerConfig.class)
@ImportResource(&quot;classpath:cd-config.xml&quot;)
public class SoundSystemConfig{}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　接下来我们反过来，将java拼到xml中；也就是用&amp;lt;bean&amp;gt;将Bean给作为Bean拼进来；&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;
        http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans.xsd
        &amp;lt;bean class = &quot;soundsystem.CDConfig&quot;/&amp;gt;
        &amp;lt;bean id = &quot;cdPlayer&quot;
               class = &quot;soundsystem.CDPlayer&quot;
               c:cd-ref = &quot;compactDisc&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　或者，我们可以把java和xml都集合来，配置在同一个xml中；&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;35&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;
        http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans.xsd
        &amp;lt;bean class = &quot;soundsystem.CDConfig&quot;/&amp;gt;
        &amp;lt;import resource = &quot;cdplayer-config.xml&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
<pubDate>Sun, 11 Mar 2018 07:49:00 +0000</pubDate>
<dc:creator>楚大校</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/zxx123/p/8544457.html</dc:identifier>
</item>
<item>
<title>C# Hook原理及EasyHook简易教程 - Wackysoft</title>
<link>http://www.cnblogs.com/wackysoft/p/8544365.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/wackysoft/p/8544365.html</guid>
<description>&lt;p&gt;&lt;span&gt;　　在说C# Hook之前，我们先来说说什么是Hook技术。相信大家都接触过外挂，不管是修改游戏客户端的也好，盗取密码的也罢，它们都是如何实现的呢？&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　实际上，Windows平台是基于事件驱动机制的，整个系统都是通过消息的传递来实现的。当进程有响应时(包括响应鼠标和键盘事件)，则Windows会向应用程序发送一个消息给应用程序的消息队列，应用程序进而从消息队列中取出消息并发送给相应窗口进行处理。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　而Hook则是Windows消息处理机制的一个平台，应用程序可以在上面设置子程以监视指定窗口的某种消息，而且所监视的窗口可以是其他进程所创建的。当消息到达后，在目标窗口处理函数之前处理它。钩子机制允许应用程序截获处理window消息或特定事件。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　所以Hook就可以实现在键盘/鼠标响应后，窗口处理消息之前，就对此消息进行处理，比如监听键盘输入，鼠标点击坐标等等。某些盗号木马就是Hook了指定的进程，从而监听键盘输入了什么内容，进而盗取账户密码。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;　　我们知道C#是运行在.NET平台之上，而且是基于CLR动态运行的，所以只能操作封装好的函数，且无法直接操作内存数据。而且在C#常用的功能中，并未封装Hook相关的类与方法，所以如果用C#实现Hook，必须采用调用WindowsAPI的方式进行实现。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　WindowsAPI函数属于非托管类型的函数，我们在调用时必须遵循以下几步：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　1、查找包含调用函数的DLL，如User32.dll，Kernel32.dll等。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　2、将该DLL加载到内存中，并注明入口&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　3、将所需参数转化为C#存在的类型，如指针对应Intptr，句柄对应int类型等等&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　4、调用函数&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　我们本篇需要使用的函数有以下几个：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　SetWindowsHookEx 　　　　用于安装钩子&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　UnhookWindowsHookEx 　　用于卸载钩子&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　CallNextHookEx　　　　　　执行下一个钩子&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　详细API介绍请参考MSDN官方声明&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　接下来在C#中需要首先声明此API函数：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;47&quot;&gt;
&lt;pre&gt;
&lt;span&gt;[DllImport(&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;user32.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,CharSet=CharSet.Auto,CallingConvention=&lt;span&gt;CallingConvention.StdCall)]
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;extern&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; SetWindowsHookEx(&lt;span&gt;int&lt;/span&gt; idHook, HookProc lpfn,IntPtr hInstance, &lt;span&gt;int&lt;/span&gt;&lt;span&gt; threadId);

[DllImport(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;user32.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,CharSet=CharSet.Auto,CallingConvention=&lt;span&gt;CallingConvention.StdCall)]
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;extern&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; UnhookWindowsHookEx(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; idHook);

[DllImport(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;user32.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;,CharSet=CharSet.Auto,CallingConvention=&lt;span&gt;CallingConvention.StdCall)]
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;extern&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; CallNextHookEx(&lt;span&gt;int&lt;/span&gt; idHook, &lt;span&gt;int&lt;/span&gt; nCode,IntPtr wParam, IntPtr lParam);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;　　声明后即可实现调用，SetWindowsHookEx()把一个应用程序定义的钩子子程安装到钩子链表中，SetWindowsHookEx函数总是在Hook链的开头安装Hook子程。当指定类型的Hook监视的事件发生时，系统就调用与这个Hook关联的Hook链的开头的Hook子程。每一个Hook链中的Hook子程都决定是否把这个事件传递到下一个Hook子程。Hook子程传递事件到下一个Hook子程需要调用CallNextHookEx函数。 且钩子使用完成后需要调用UnhookWindowsHookEx进行卸载，否则容易影响到其他钩子的执行，并且钩子太多会影响目标进程的正常运行。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　关于实例详细操作过程不再赘述，请参考：http://blog.csdn.net/ensoo/article/details/2045101 及 https://www.cnblogs.com/ceoliujia/archive/2010/05/20/1740217.html&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;　　C#本身调用WindowsAPI进行Hook功能受到很大的限制，而C++则不受此限制，因此就有一些聪明的人想到了聪明的方法：使用C++将基本操作封装成库，由C#进行调用，由此诞生了伟大的EasyHook，它不仅使用方便，而且开源免费，还支持64位版本。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　接下来我们一起使用C#操作EasyHook来实现一个Demo，完成对MessageBox的改写。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　首先我们建立一个WinForm项目程序，并添加一个类库ClassLibrary1，再从官网https://easyhook.github.io/或Nuget获取到dll后引用到我们的项目中，注意：32位和64位版本都需要引用，建立项目如图所示：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;　　　&lt;img src=&quot;https://images2018.cnblogs.com/blog/443744/201803/443744-20180311141017377-1719887881.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　其中WinForm程序用于获取目标进程，并对目标进程进行注入，相关步骤如下：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　1、根据进程ID获取相关进程，并判断是否为64位；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　2、将所需DLL注册到GAC（全局程序集缓存），注册到GAC的目的是需要在目标进程中调用EasyHook及我们所编写的DLL；&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt;&lt;span&gt; RegGACAssembly()
 {
     &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; dllName = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;EasyHook.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
     &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; dllPath =&lt;span&gt; Path.Combine(AppDomain.CurrentDomain.BaseDirectory, dllName);
     &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;RuntimeEnvironment.FromGlobalAccessCache(Assembly.LoadFrom(dllPath)))
     {
       　　&lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; System.EnterpriseServices.Internal.Publish().GacInstall(dllPath);
       　　Thread.Sleep(&lt;/span&gt;&lt;span&gt;100&lt;/span&gt;&lt;span&gt;);
     }
　　　dllName &lt;/span&gt;= &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;ClassLibrary1.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;
     dllPath &lt;/span&gt;=&lt;span&gt; Path.Combine(AppDomain.CurrentDomain.BaseDirectory, dllName);
     &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; System.EnterpriseServices.Internal.Publish().GacRemove(dllPath);
     &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;RuntimeEnvironment.FromGlobalAccessCache(Assembly.LoadFrom(dllPath)))
     {
           &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; System.EnterpriseServices.Internal.Publish().GacInstall(dllPath);
           Thread.Sleep(&lt;/span&gt;&lt;span&gt;100&lt;/span&gt;&lt;span&gt;);
     }
     &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
  }　&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;　　此处需要注意，要将自己编写的类库DLL加入GAC，需要对DLL进行强签名操作，操作方法请参考：https://docs.microsoft.com/zh-cn/dotnet/framework/app-domains/how-to-sign-an-assembly-with-a-strong-name&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　3、注入目标进程，此处需使用EasyHook的RemoteHooking.Inject()方法进行注入：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;41&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; InstallHookInternal(&lt;span&gt;int&lt;/span&gt;&lt;span&gt; processId)
{
  &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt;
  {
   　　&lt;/span&gt;&lt;span&gt;var&lt;/span&gt; parameter = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; HookParameter
   　　{
         Msg &lt;/span&gt;= &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;已经成功注入目标进程&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,
         HostProcessId &lt;/span&gt;=&lt;span&gt; RemoteHooking.GetCurrentProcessId()
     　};
　　　　RemoteHooking.Inject(
                    processId,
                    InjectionOptions.Default,
                    &lt;/span&gt;&lt;span&gt;typeof&lt;/span&gt;&lt;span&gt;(HookParameter).Assembly.Location,
                    &lt;/span&gt;&lt;span&gt;typeof&lt;/span&gt;&lt;span&gt;(HookParameter).Assembly.Location,
                    &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;.Empty,
                    parameter
                );
            }
            &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Exception ex)
            {
                Debug.Print(ex.ToString());
                &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
            }
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre&gt;
&lt;span&gt;　　HookParameter类为定义在ClassLibrary1中的一个类，包含消息与进程ID：&lt;br/&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt; [Serializable]
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; HookParameter
    {
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; Msg { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; HostProcessId { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;&lt;span&gt;; }
    }&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;　　到这一步我们就完成了对主窗体代码的编写，现在我们开始编写注入DLL的方法：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　1、先引入MessageBox相关的WindowsAPI：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;65&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;#region&lt;/span&gt; MessageBoxW&lt;span&gt;

        [DllImport(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;user32.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, EntryPoint = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;MessageBoxW&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, CharSet =&lt;span&gt; CharSet.Unicode)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;extern&lt;/span&gt; IntPtr MessageBoxW(&lt;span&gt;int&lt;/span&gt; hWnd, &lt;span&gt;string&lt;/span&gt; text, &lt;span&gt;string&lt;/span&gt; caption, &lt;span&gt;uint&lt;/span&gt;&lt;span&gt; type);

        [UnmanagedFunctionPointer(CallingConvention.StdCall, CharSet &lt;/span&gt;=&lt;span&gt; CharSet.Unicode)]
        &lt;/span&gt;&lt;span&gt;delegate&lt;/span&gt; IntPtr DMessageBoxW(&lt;span&gt;int&lt;/span&gt; hWnd, &lt;span&gt;string&lt;/span&gt; text, &lt;span&gt;string&lt;/span&gt; caption, &lt;span&gt;uint&lt;/span&gt;&lt;span&gt; type);

        &lt;/span&gt;&lt;span&gt;static&lt;/span&gt; IntPtr MessageBoxW_Hooked(&lt;span&gt;int&lt;/span&gt; hWnd, &lt;span&gt;string&lt;/span&gt; text, &lt;span&gt;string&lt;/span&gt; caption, &lt;span&gt;uint&lt;/span&gt;&lt;span&gt; type)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; MessageBoxW(hWnd, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;已注入-&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; + text, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;已注入-&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; +&lt;span&gt; caption, type);
        }

        &lt;/span&gt;&lt;span&gt;#endregion&lt;/span&gt;
        
        &lt;span&gt;#region&lt;/span&gt; MessageBoxA&lt;span&gt;

        [DllImport(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;user32.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, EntryPoint = &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;MessageBoxA&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, CharSet =&lt;span&gt; CharSet.Ansi)]
        &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;extern&lt;/span&gt; IntPtr MessageBoxA(&lt;span&gt;int&lt;/span&gt; hWnd, &lt;span&gt;string&lt;/span&gt; text, &lt;span&gt;string&lt;/span&gt; caption, &lt;span&gt;uint&lt;/span&gt;&lt;span&gt; type);

        [UnmanagedFunctionPointer(CallingConvention.StdCall, CharSet &lt;/span&gt;=&lt;span&gt; CharSet.Ansi)]
        &lt;/span&gt;&lt;span&gt;delegate&lt;/span&gt; IntPtr DMessageBoxA(&lt;span&gt;int&lt;/span&gt; hWnd, &lt;span&gt;string&lt;/span&gt; text, &lt;span&gt;string&lt;/span&gt; caption, &lt;span&gt;uint&lt;/span&gt;&lt;span&gt; type);

        &lt;/span&gt;&lt;span&gt;static&lt;/span&gt; IntPtr MessageBoxA_Hooked(&lt;span&gt;int&lt;/span&gt; hWnd, &lt;span&gt;string&lt;/span&gt; text, &lt;span&gt;string&lt;/span&gt; caption, &lt;span&gt;uint&lt;/span&gt;&lt;span&gt; type)
        {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; MessageBoxA(hWnd, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;已注入-&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; + text, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;已注入-&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; +&lt;span&gt; caption, type);
        }

        &lt;/span&gt;&lt;span&gt;#endregion&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;　　其中MessageBoxA与MessageBoxW是微软用于区分不同操作系统中的编码类型，早期的Windows并不属于真正的32位操作系统，执行的API函数属于ANSI类型，而从Windows2000开始，属于Unicode类型，Windows在实际操作中，调用的MessageBox会自动根据平台区分使用前者还是后者，我们在这里就需要把二者都包含其中。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　而DMessageBoxA与DMessageBoxW属于IntPtr类型的委托，用于我们在Hook函数之后传入我们需要修改的方法，此处我们改变了MessageBox的内容和标题，分别在前缀加上了&quot;已注入-&quot;的标记。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　2、完成定义之后我们就需要对函数进行Hook，此处使用LocalHook.GetProcAddress(&quot;user32.dll&quot;, &quot;MessageBoxW&quot;)函数，通过指定的DLL与函数名，获取函数在实际内存中的地址，获取到之后，传入LocalHook.Create()方法，用于创建本地钩子：&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; Run(
            RemoteHooking.IContext context,
            &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt; channelName
            , HookParameter parameter
            )
        {
            &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt;
            {
                MessageBoxWHook &lt;/span&gt;=&lt;span&gt; LocalHook.Create(
                    LocalHook.GetProcAddress(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;user32.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;MessageBoxW&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;),
                    &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; DMessageBoxW(MessageBoxW_Hooked),
                    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;);
                MessageBoxWHook.ThreadACL.SetExclusiveACL(&lt;/span&gt;&lt;span&gt;new&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;[&lt;span&gt;1&lt;/span&gt;&lt;span&gt;]);

                MessageBoxAHook &lt;/span&gt;=&lt;span&gt; LocalHook.Create(
                    LocalHook.GetProcAddress(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;user32.dll&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;MessageBoxA&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;),
                    &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; DMessageBoxW(MessageBoxA_Hooked),
                    &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;);
                MessageBoxAHook.ThreadACL.SetExclusiveACL(&lt;/span&gt;&lt;span&gt;new&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;[&lt;span&gt;1&lt;/span&gt;&lt;span&gt;]);     
            }
            &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt; (Exception ex)
            {
                MessageBox.Show(ex.Message);
                &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt;;
            }

            &lt;/span&gt;&lt;span&gt;try&lt;/span&gt;&lt;span&gt;
            {
                &lt;/span&gt;&lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
                {
                    Thread.Sleep(&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;&lt;span&gt;);
                }
            }
            &lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt;
            {

            }
        }&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;　　其中MessageBoxWHook与MessageBoxAHook均为LocalHook类型的变量，MessageBoxAHook.ThreadACL.SetExclusiveACL(new int[1]); 这句代码用于将本地钩子加入当前线程中执行。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　运行之后我们来查看Hook的效果，先打开一个测试窗体，弹出MessageBox，这时候MessageBox没有标题，且内容是正常的：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;　　　　&lt;img src=&quot;https://images2018.cnblogs.com/blog/443744/201803/443744-20180311145215546-862115451.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;　　接着我们对目标进程进行注入，获取进程ID后点击注入，提示已经成功注入目标进程：&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;　　　　&lt;img src=&quot;https://images2018.cnblogs.com/blog/443744/201803/443744-20180311145433651-893498529.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;　　此时点击目标进程MessageBox，可以发现已经Hook成功，并改变了内容和标题：&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;　　　　&lt;img src=&quot;https://images2018.cnblogs.com/blog/443744/201803/443744-20180311145601627-155490152.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;　　至此，C#调用EasyHook对目标进程Hook已经实现。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;　　从这次实践中我们可以感受到，C#对程序进行Hook是完全可行的，虽然不能直接操作内存和地址，但是我们可以通过操作WindowsAPI与使用EasyHook的方式完成，尤其是后者，大大减少了代码数量与使用难度。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　但是EasyHook目前中文资料非常少，我在使用的过程中也遇到了很大困难，Hook其他函数的方法也未能完全实现，希望能够集思广益，与大家共同思考交流！&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;　　本人刚研究Hook时间不久，文中难免出现纰漏，恳请各位评论指正。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; 　　 &lt;span&gt;源代码已经上传至百度网盘：链接: https://pan.baidu.com/s/1wyin9Ezn6AwFQlQxMenQeg 密码: dv9b&lt;/span&gt;&lt;/p&gt;

&lt;pre&gt;
&lt;span&gt; &lt;/span&gt;
&lt;/pre&gt;

</description>
<pubDate>Sun, 11 Mar 2018 07:28:00 +0000</pubDate>
<dc:creator>Wackysoft</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/wackysoft/p/8544365.html</dc:identifier>
</item>
<item>
<title>干货：软件架构详解 - 茶轴的青春</title>
<link>http://www.cnblogs.com/lfs2640666960/p/8544358.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/lfs2640666960/p/8544358.html</guid>
<description>&lt;p&gt;&lt;img src=&quot;http://p1.pstatp.com/large/6ed500003f7135f77818&quot; alt=&quot;&quot; data-cke-saved-src=&quot;http://p1.pstatp.com/large/6ed500003f7135f77818&quot;/&gt;&lt;/p&gt;

&lt;p&gt;计算机科学和程序设计的飞速发展，使得软件设计应用到从航空航天到日常生活的方方面面。单个人开发一段小程序的做法早就过时，大范围协作的工程化时代随即到来。&lt;/p&gt;
&lt;p&gt;随着大范围协作的效率问题和软件复杂度的爆炸式增长，管理和技术方面的各种不确定性也爆发性增加，导致软件开发的质量无法得到有效保证，周期和成本无法得到有效控制。&lt;/p&gt;
&lt;p&gt;人们一直在寻求找到这些问题的解决办法。然而 Fred Brooks 在 1975 年出版的软件工程圣经《人月神话》中说，没有（能解决所有问题的）银弹（There is no silver bullet）。&lt;/p&gt;
&lt;p&gt;自此，人们发展了项目研发过程管理来控制管理活动的不确定性，同时也发展了软件架构设计方法来控制技术方面的不确定性。&lt;/p&gt;
&lt;p&gt;进而在实践中不断的总结和改进，用于有效指导和最大程度的保障软件开发的质量、周期和成本。&lt;/p&gt;

&lt;blockquote readability=&quot;7&quot;&gt;
&lt;p&gt;架构（Architecture）一词源于建筑领域，其本身就是建筑的意思，也是体系结构的意思。维基百科英文版里对 Architecture 的解释是：规划、设计和建造建筑物的过程及产物。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;鉴于软件工程与建筑工程一样是一项系统的工程性工作，引入到计算机领域后，软件架构就成为了描述软件规划设计技术的专有名词。&lt;/p&gt;
&lt;p&gt;特别地，软件架构师一词在英文里，和建筑师也是同一个词（Architect）。&lt;/p&gt;
&lt;p&gt;维基百科里对软件架构的定义：&lt;/p&gt;
&lt;blockquote readability=&quot;16&quot;&gt;
&lt;p&gt;软件架构是有关软件整体结构与组件的抽象描述，用于指导大型软件系统各个方面的设计。&lt;/p&gt;
&lt;p&gt;软件架构师定义和设计软件的模块化，模块之间的交互，用户界面风格，对外接口方法，创新的设计特性，以及高层事物的对象操作、逻辑和流程。软件架构是一个系统的草图。&lt;/p&gt;
&lt;p&gt;软件架构描述的对象是直接构成系统的抽象组件。各个组件之间的连接则明确和相对细致地描述组件之间的通讯。&lt;/p&gt;
&lt;p&gt;在实现阶段，这些抽象组件被细化为实际的组件，比如具体某个类或者对象。在面向对象领域中，组件之间的连接通常用接口来实现。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;比较公认的软件架构定义是在 2000 年的 ANSI/IEEE 1471 标准中定义的：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol readability=&quot;5.5&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;架构过程：在系统整个生命周期中构思、定义、表达、记录、交流，验证合适实现，维护和改进架构的过程，也就是设计过程。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;架构：一个系统体现在其环境中的元素、关系的基本概念或属性，以及其设计和进化原则。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;架构描述：表达一个架构的工作产出物（通常指的是各种架构图和设计文档）。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;架构视图：通过系统的某些关注点的视角，表达一个系统的工作产出物（例如部署视图、开发视图等）。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;系统：包含了一个或多个进程、硬件、软件、工具与可以满足需求的人的集合。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;环境：决定了开发、操作、策略和其他影响系统的设置和条件。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;p&gt;在 UML 中，架构则被认为是系统的组织结构和相关行为。架构可被分解为通过接口互联部分的关系，以及相互作用。&lt;/p&gt;
&lt;p&gt;通过接口相互作用的部分包括类、组件和子系统。这样就可以通过 UML 的各种架构图来描述这些对象和关系，从而表达清楚一个系统的架构。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;总结&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;软件架构是一个用于指导系统实现的草图，这个草图越详细对于系统实现的指导意义越重大，贯穿于软件的整个生命周期。&lt;/p&gt;
&lt;p&gt;在建筑领域，大楼尚未建造前，就已经存在于建筑师的脑海里；同样地，系统开始编写第一行代码之前，就已经存在于软件架构师的心里。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;模式（Pattern）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;UML 中给出的解释更通俗易懂：模式是对于普遍问题的普遍解决方案。&lt;/p&gt;
&lt;p&gt;我们可以把一类问题的共性抽象出来，这样就可以用同样的处理办法去解决这些问题，从而形成模式，所以模式是一些经验的总结。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;类库（Library）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;类库是一组可复用的功能或工具的集合，应用系统通过调用它们从而达到复用功能的目的。&lt;/p&gt;
&lt;p&gt;例如，Windows 应用开发里的各种静态或动态链接库 DLL 文件，Java 开发中项目里依赖的或者 Maven 中央库里的各种 jar 包，都是 Library，比如 Apache Commons IO、HttpClient，Log4j 等。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;框架（Framework）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;框架是基于一组类库或工具，在特定领域里根据一定的规则组合成的、开放性的应用骨架。&lt;/p&gt;
&lt;p&gt;比如 SSM/SSH 框架，更大范围来说 Dotnet Framework、JDK 都算是一种框架。&lt;/p&gt;
&lt;p&gt;关于框架与架构的关系，Vasyl Boroviak 曾在 Stack Overflow 网站上通过两张图做了形象的对比，如下所示。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;框架：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;架构：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;模块（Module）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;模块是业务或系统的安装特定维度的一种切分，同时也可以看做是各种功能按照某种分类聚合的一种形式。&lt;/p&gt;
&lt;p&gt;例如我们的一个电商系统，可以从业务上划分为用户模块、商品模块、订单模块、支付模块、物流模块、售后模块等。&lt;/p&gt;
&lt;p&gt;另一方面，我们也可以说用户模块聚合了用户注册、用户验证等业务功能。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;组件（Component）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;组件是一组可以复用的业务功能的集合，包含一些对象及其行为。&lt;/p&gt;
&lt;p&gt;组件可以直接被用做业务系统的组成部分，粒度一般小于模块，也是一种功能的聚合形式。比如日志组件、权限组件等。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;服务（Service）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;服务是一组对外提供业务处理能力的功能，服务需要使用明确的接口方式（比如 WebService 或 Rest 等）。&lt;/p&gt;
&lt;p&gt;服务描述里应该包括约束和策略（比如参数、返回值，使用什么通讯协议和数据格式等）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;平台（Platform）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;平台一般来说，是一个领域或方向上的生态系统，是很多解决方案的集大成者，提供了很多的服务、接口、规范、标准、功能、工具等。&lt;/p&gt;
&lt;p&gt;例如 J2EE 平台，包含了企业级应用开发里的各种基于 Java 语言和 JVM 虚拟机运行时的技术能力。&lt;/p&gt;
&lt;p&gt;知乎社区编程领域优秀问题回答者 ze ran 说：&lt;/p&gt;
&lt;blockquote readability=&quot;9&quot;&gt;
&lt;p&gt;库是工具箱。&lt;/p&gt;
&lt;p&gt;框架是一套通用的解决方案。&lt;/p&gt;
&lt;p&gt;架构是高度抽象的需求，是系统中的不变量。&lt;/p&gt;
&lt;p&gt;平台是所有可能做的事的集合。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;设计期&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在设计期，软件作为一个成品还不存在，所以我们可以称之为概念形态。&lt;/p&gt;
&lt;p&gt;此时架构师、产品经理或需求分析师等人员利用自己的经验能力，对系统的业务需求进行分析、拆解、抽象，形成业务文档和技术文档，以及技术验证代码等。&lt;/p&gt;
&lt;p&gt;这个阶段，架构设计工作是重中之重，其中包括：&lt;/p&gt;
&lt;ul readability=&quot;5.5&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;系统分拆：如何把系统拆解为不同的子系统、模块、业务单元；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;技术选型：使用什么样的基础技术框架或脚手架；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;技术验证：确定核心技术难点如何解决，检验能否满足期望指标；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;接口规范：系统的内部不同部分以何种形式确定接口契约和数据通信；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;集成方式：系统与外部其他业务系统如何进行集成；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;技术规范：如何规范开发、测试、部署和运维的技术标准性；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;部署方案：系统如何进行物理部署，需要多少机器、什么配置，对网络有什么要求；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;运维方案：系统如何进行技术性运维，如何日常监控、预警报警；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;这个阶段总结一下就是：业务为要，架构先行（包括业务架构和技术架构）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;实现期&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这个阶段主要是编码与测试，准备部署上线，是软件从代码到最终的生产系统的过程，我们可以称之为代码形态。此阶段需要考虑的技术类工作包括：&lt;/p&gt;
&lt;ul readability=&quot;1&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;确保各项技术规范和技术指标的执行落地，保障高质量的代码；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;指导研发人员和解决各类技术问题，提升研发团队效率；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;制定测试的技术性方案和基准，自动化、性能、安全等；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;配合准备部署环境，运维实施方案落地等。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;运行期&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这个阶段系统上线、验收通过，已经初步稳定，然后进入维护阶段，成为了设计期架构设计草图的一个可用实例，我们可以称之为实例形态。此时需要考虑：&lt;/p&gt;
&lt;ul readability=&quot;-0.5&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;发布上线相关基础性工作，包括是否使用持续集成（CI)、自动化发布等技术；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;运维基础性工作，自动化运维，监控等相关技术。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;设计文档和代码&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我们一般说的架构既包括架构的设计过程，也包括设计的产出物，一般可以包括各类设计文档、设计图，也可以包括一些技术验证代码、Demo 或者其他相关程序。&lt;/p&gt;
&lt;p&gt;文档的目的在于准确记录我们的思维产物，在软件尚未实现时，作为指导蓝图，尽量精确的描述清楚软件。&lt;/p&gt;
&lt;p&gt;在软件的实现过程中，可能随时随着我们的深入研究，根据具体情况对文档做出局部的一些调整和修改。&lt;/p&gt;
&lt;p&gt;文档作为结项或交接的一部分，也是整个软件项目的产出物的一部分，成为公司 IT 资产的有机组成部分。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;架构服务于业务&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;正如 19 世纪的伟大建筑师路易斯•沙利文（Louis Sullivan）倡导的建筑设计著名格言：“功能决定形式（Form follows function）”。&lt;/p&gt;
&lt;p&gt;软件架构首先是要服务于业务功能的。&lt;/p&gt;
&lt;p&gt;架构影响研发团队的组织形式&lt;/p&gt;
&lt;p&gt;业务拆分的方法和技术框架的选择必然会影响到研发团队的组织形式。&lt;/p&gt;
&lt;p&gt;业务拆分的越细致，越有利于我们更好的对项目的各项指标量化计算，更精确的估计工时和成本，从而指导我们每个小组应该分配多少资源，使用什么样的协同和任务确认形式。&lt;/p&gt;
&lt;p&gt;并且随着项目的推进，计划与实际情况之间的匹配程度也随时可以进一步精确调整，进而影响到我们应该对每一块任务的投入资源进行动态调整。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;架构存在于每一个系统&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;每一个已经实现并运行的系统，都是特定架构设计的载体。&lt;/p&gt;
&lt;p&gt;有些系统对应的架构，有详细的设计文档来描述；有些系统的设计文档，残缺不全，甚至还因为在系统的发展变化的同时，文档没有更新，导致设计文档与实际系统不符。&lt;/p&gt;
&lt;p&gt;有些系统干脆就没有设计文档。&lt;/p&gt;
&lt;p&gt;但是这些系统，都是基于一定的架构来创建的。&lt;/p&gt;
&lt;p&gt;每种架构都有特定的架构风格&lt;/p&gt;
&lt;p&gt;每种架构方式，每个具体系统内所体现的架构设计，都是可以被工程师们理解，进而提炼出来一些架构思想和设计原则，这些思想和原则就是这种架构方式的风格。&lt;/p&gt;
&lt;p&gt;依据这些风格，我们可以将各种架构方式，进行分门别类，从而进一步讨论每种架构风格的特点。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;架构需要不断的发展演进&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;随着计算机软硬件的不断发展，软件架构思想也在不断的发展变化。&lt;/p&gt;
&lt;p&gt;另一方面，软件为其提供业务处理和服务能力的每个具体行业领域也在不断发展变化，业务处理流程、参与角色、业务形式不断的推陈出新。&lt;/p&gt;
&lt;p&gt;这就要求我们在系统架构设计时，保持终身学习的精神，持续吸收新思想新知识，保持贴近一线业务群体，随时因地制宜，调整架构设计，采取最适合当下场景的解决方案。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;架构的目标与方法&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;明确软件系统架构的一些通用目标，可以使我们更明确如何考虑架构的方向；而了解架构的方法和方法论，则让我们可以知道从哪些角度可以比较全面的描述清楚一个系统的架构设计。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;可控性与拆分&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;对于复杂问题的简化处理，一个简单办法就是分而治之。&lt;/p&gt;
&lt;p&gt;按一定的粒度把目标问题进行分解，可以非常有效的提升目标的可控性，使得目标变得更加可以量化、进而优化。&lt;/p&gt;
&lt;p&gt;系统按照合适的粒度拆分成不同模块的过程，我们一般称为模块化。模块化也是软件工程化的基础。&lt;/p&gt;
&lt;p&gt;在这个基础上才能够实现分工合作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;复用性与抽象&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;复用性一直是软件设计领域的一个很重要的指标。&lt;/p&gt;
&lt;p&gt;复用的一个关键是我们对于现有具体问题的抽象，找到各种不同问题中存在的不变性，进而作为一种通用结构来统一处理。&lt;/p&gt;
&lt;p&gt;拆成是把整体变成很多局部，再对局部分开对待和研究其性质。&lt;/p&gt;
&lt;p&gt;反过来，我们按照高内聚的指导思想把一些紧密联系的功能聚合后，打包成一个可以整体复用的部分，这就是组件，这个过程就是组件化。&lt;/p&gt;
&lt;p&gt;通过组件化，我们可以得到抽象再组合出来很多业务组件。这样，在更大粒度上实现了功能的复用。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;（1）高性能&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;系统必须满足预期的性能目标，在并发用户数（Concurrent Users）、并发事务数（Transactions per Second，TPS）、吞吐量（Throughout）等指标方面达到预估值，支撑使用人群的正常使用操作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（2）可靠性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;业务系统直接影响到用户的经营和管理，因此必须是可靠的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（3） 稳定性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;软件系统必须是能够在用户的使用周期内长期稳定运行的。这要求系统具有一定的容错能力。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（4）可用性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;可用性是指系统在指定时间内的提供服务能力的概率值。我们一般采取集群、分布式等手段提升系统的可用性。&lt;/p&gt;
&lt;p&gt;高可用性是目前系统架构设计方面的一个热点。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（5）安全性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;用户的业务数据是具有非常高的商业价值，如果被泄露或篡改将会带来重大损失。&lt;/p&gt;
&lt;p&gt;安全性是软件系统的一个重要的指标，也是架构设计的一个重要目标。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（6）灵活性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;软件系统应该具备满足不同特点的用户群和目标市场的能力，更灵活。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（7）易用性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;软件系统必须拥有较好的用户体验，便于用户使用。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（8）可扩展性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;业务和技术都在不断的发展变化，软件系统需要随时根据变化扩展改造的能力。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;（9）可维护性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;软件系统的维护包括修复现有的错误，以及将新的需求和改进添加到已有系统。&lt;/p&gt;
&lt;p&gt;因此一个易于维护的系统对于用户提出的问题或改进，可以及时的实现高效的反馈和响应支持，同时有效降低维护成本。&lt;/p&gt;
&lt;p&gt;基于这些目标，经常有人说：“架构是系统非功能性需求的解决办法的集合”。&lt;/p&gt;

&lt;p&gt;典型的企业级应用系统或者互联网应用系统一般都是通过 Web 提供一组业务服务能力。&lt;/p&gt;
&lt;p&gt;这类系统包括提供给用户操作的、运行于浏览器中、具有 UI 的业务逻辑展示和输入部分，运行于服务器端、用后端编程语言构建的业务逻辑处理部分，以及用于存储业务数据的关系数据库或其他类型的存储软件。&lt;/p&gt;
&lt;p&gt;根据软件系统在运行期的表现风格和部署结构，我们可以粗略地将其划分为两大类。&lt;/p&gt;
&lt;p&gt;（1）整个系统的所有功能单元，整体部署到同一个进程（所有代码可以打包成 1 个或多个文件），我们可以称之为 “单体架构”（Monolithic Architecture）；&lt;/p&gt;
&lt;p&gt;（2）整个系统的功能单元分散到不同的进程，然后由多个进程共同提供不同的业务能力，我们称之为 “分布式架构”（Distributed Architecture）。&lt;/p&gt;
&lt;p&gt;再结合软件系统在整个生命周期的特点，我们可以进一步区分不同的架构风格。&lt;/p&gt;
&lt;p&gt;对于单体架构，我们根据设计期和开发实现期的不同模式和划分结构，可以分为：&lt;/p&gt;
&lt;ul readability=&quot;5&quot;&gt;&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;简单单体模式：&lt;/strong&gt;代码层面没有拆分，所有的业务逻辑都在一个项目（Project）里打包成一个二进制的编译后文件，通过这个文件进行部署，并提供业务能力；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;strong&gt;MVC 模式：&lt;/strong&gt;系统内每个模块的功能组件按照不同的职责划分为模型（Model）、视图（View）、控制器（Controller）等角色，并以此来组织研发实现工作；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;strong&gt;前后端分离模式：&lt;/strong&gt;将前后端代码耦合的设计改为前端逻辑和后端逻辑独立编写实现的处理模式；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;strong&gt;组件模式：&lt;/strong&gt;系统的每一个模块拆分为一个子项目（SubProject），每个模块独立编译打包成一个组件，然后所有需要的组件一起再部署到同一个容器里；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;strong&gt;类库模式：&lt;/strong&gt;A 系统需要复用 B 系统的某些功能，这时可以直接把 B 系统的某些组件作为依赖库，打包到 A 系统来使用。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;对于分布式架构，我们根据设计期的架构思想和运行期的不同结构，可以分为：&lt;/p&gt;
&lt;ul readability=&quot;2&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;strong&gt;面向服务架构&lt;/strong&gt;（Service Oriented Architecture）：以业务服务的角度和服务总线的方式（一般是 WebService 与 ESB）考虑系统架构和企业 IT 治理；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;&lt;strong&gt;分布式服务架构&lt;/strong&gt;（Distributed Service Architecture）：基于去中心化的分布式服务框架与技术，考虑系统架构和服务治理；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;微服务架构&lt;/strong&gt;（MicroServices Architecture）：微服务架构可以看做是面向服务架构和分布式服务架构的拓展，使用更细粒度的服务（所以叫微服务）和一组设计准则来考虑大规模的复杂系统架构设计。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;也有人把如上的各个架构风格总结为四个大的架构发展阶段：&lt;/p&gt;
&lt;p&gt;（1）单体架构阶段&lt;/p&gt;
&lt;p&gt;（2）垂直架构阶段&lt;/p&gt;
&lt;p&gt;（3）SOA 架构阶段&lt;/p&gt;
&lt;p&gt;（4）微服务架构阶段&lt;/p&gt;
&lt;p&gt;这种分类跟前述的方式并没有多大区别。我们接下来详细介绍其中的一些重要架构风格。&lt;/p&gt;
&lt;p&gt;单体架构：简单单体模式&lt;/p&gt;
&lt;p&gt;简单单体模式是最简单的架构风格，所有的代码全都在一个项目中。这样研发团队的任何一个人都可以随时修改任意的一段代码，或者增加一些新的代码。&lt;/p&gt;
&lt;p&gt;开发人员也可以只在自己的电脑上就可以随时开发、调试、测试整个系统的功能。&lt;/p&gt;
&lt;p&gt;也不需要额外的一些依赖条件和准备步骤，我们就可以直接编译打包整个系统代码，创建一个可以发布的二进制版本。&lt;/p&gt;
&lt;p&gt;这种方式对于一个新团队的创立初期，需要迅速开始从 0 到 1，抓住时机实现产品最短时间推向市场，可以省去各种额外的设计，直接上手干活，争取了时间，因而是非常有意义的。&lt;/p&gt;
&lt;p&gt;但是这种方式对于一个系统的长期稳定发展确实有很多坏处的。&lt;/p&gt;
&lt;p&gt;首先，简单单体模式的系统存在代码严重耦合的问题。所有的代码都在一起，就算是按照 package 来切分了不同的模块，各不同模块的代码还是可以直接相互引用。&lt;/p&gt;
&lt;p&gt;这就导致了系统内的对象间依赖关系混乱，修改一处代码，可能会影响一大片的功能无法正常使用。&lt;/p&gt;
&lt;p&gt;第二，简单单体模式的系统变更对部署影响大，并且这个问题是所有的单体架构系统都存在的问题。&lt;/p&gt;
&lt;p&gt;系统作为一个单体部署，每次发布的部署单元就是一个新版本的整个系统，系统内的任何业务逻辑调整都会导致整个系统的重新打包，部署、停机、再重启，进而导致了系统的停机发布时间较长。&lt;/p&gt;
&lt;p&gt;每次发布上线都是生产系统的重大变更，这种部署模式大大提升了系统风险，降低了系统的可用性。&lt;/p&gt;
&lt;p&gt;第三，简单单体模式的系统影响开发效率。&lt;/p&gt;
&lt;p&gt;如果一个使用 Java 的简单单体项目代码超过 100 万行，那么在一台笔记本电脑上修改了代码后执行自动编译，可能需要等待十分钟以上，并且内存可能不够编译过程使用，这是非常难以忍受的。&lt;/p&gt;
&lt;p&gt;第四，简单单体模式打包后的部署结构可能过于庞大，导致业务系统启动很慢，进而也会影响系统的可用性。&lt;/p&gt;
&lt;p&gt;这一条也是所有单体架构的系统都有的问题。&lt;/p&gt;
&lt;p&gt;第五，扩展性受限，也是所有单体架构的一个问题。&lt;/p&gt;
&lt;p&gt;如果任何一个业务存在性能问题，那么都需要考虑多部署几个完整的实例的集群，或者再加上负载均衡设备，才能保证整个系统的性能可以支撑用户的使用。&lt;/p&gt;
&lt;p&gt;所以，简单单体模式比较适用于规模较小的系统，特别是需要快速推出原型实现，以质量换速度的场景。&lt;/p&gt;
&lt;p&gt;单体架构：MVC 模式&lt;/p&gt;
&lt;p&gt;MVC 也是一个非常常见的 3 层（3-Tier）结构架构模式，它把每个模块划分为模型层（Model Layer）、视图层（View Layer）、控制器层（Controller Layer）等部分。&lt;/p&gt;
&lt;ul readability=&quot;0&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;模型层：代表业务数据实体部分；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;视图层：代表前端的展示部分；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;控制器层：代表请求分发，处理调度部分。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;更一般地，我们可以添加数据操作层（Data Access Layer）等，形成一个 N 层（N-Tier）结构模型。&lt;/p&gt;
&lt;p&gt;整个系统由多个模块组成，每个模块又由这种不同的部分组成。这样一来，我们就把整个系统拆解成了很多粒度较小的零件。这种方式之所以流行开来，主要是因为：&lt;/p&gt;
&lt;ul readability=&quot;4&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;简单，直观，可以非常有效的上手，作为 Web 系统设计的一般方法，这一点是 MVC 模式被普及的基础条件；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;2&quot;&gt;
&lt;p&gt;经过上面过程的横割竖切，我们已经把系统拆解为一个个的小单元，非常有利于分配开发工作，投入大量的工程师进行大规模的工程化开发，这一点非常重要，在软件行业高速发展的今天，适合工程化的方式才是最具有生产力的办法；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;不同的模块和分层结构，本身就可以作为一个开发层面的子项目拆分结构，这样我们就可以把系统拆分成多个不同的子项目；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;基于 MVC 模式，又陆续发展了 ORM 等简化数据操作层的技术与框架，以及相应的代码生成工具等，极大的提供了软件开发效率。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;当然，MVC 模式也存在定义不够明确，对于简单的业务场景拆解过细导致复杂度增加等问题，需要在实践中不断摸索和总结应用经验。&lt;/p&gt;
&lt;p&gt;基于单体架构下的 MVC 模式依然解决不了单体架构本身存在的问题，特别是对于可用性和扩展性的影响。&lt;/p&gt;
&lt;p&gt;单体架构：前后端分离模式&lt;/p&gt;
&lt;p&gt;传统的 Web 系统都是 BS 结构的。&lt;/p&gt;
&lt;p&gt;一般的 JSP 或页面标签 Tag 技术、后端 FreeMaker 或 Velocity 等模板技术导致 HTML/CSS/JavaScript 等前端技术与后端的处理逻辑和数据耦合到一起，这种方式明显不符合现代工程化的专业领域细分原则。&lt;/p&gt;
&lt;p&gt;特别是随着富网络应用程序（Rich Internet Application，RIA）概念的兴起，Ajax 和 JQuery 框架，前端 UI 组件技术的大行其道，程序员们在浏览器端写了很多逻辑处理和界面处理的 JavaScript 代码。&lt;/p&gt;
&lt;p&gt;后来越来越多的业务逻辑需要在浏览器端实现，前端技术逐渐发展到了一个百花齐放的阶段，特别是近年来基于 NodeJS 前端技术栈的成功应用，最终使前端技术成为了一个与后端技术领域并驾齐驱的领域。&lt;/p&gt;
&lt;p&gt;其实早在 2006 年，ExtJS 作为当时的前端解决方案集大成者，已经实现了前端代码逻辑和界面全部都由 JavaScript 完成，后端只提供基于 URL 的 JSON 数据接口。&lt;/p&gt;
&lt;p&gt;这样 Web 系统就由原来的 BS 系统，变成了提供 UI 和交互的前端 B 系统，提供数据接口的后端 S 系统，从而达到了前后端分离的目标。&lt;/p&gt;
&lt;p&gt;自从，越来越多的系统采用前后端分离的模式，并且进一步影响了研发团队的组成：前端团队负责前端系统开发，后端团队负责后端系统开发，两个团队一起制定前后端系统的数据接口。&lt;/p&gt;
&lt;p&gt;只要数据接口保持稳定不变，那么前后端系统可以各自独立发展和维护。这一条准则不仅仅是单体架构独有的，所有的 Web 系统都可以按照这种方式进行设计。&lt;/p&gt;
&lt;p&gt;前后端分离模式一直影响到现在的系统架构方法，成为了当下的一种最佳实践。目前最主流的三种前端开发框架（React、AngularJS、Vue），都遵循着这种设计理念。&lt;/p&gt;
&lt;p&gt;分布式架构：面向服务架构（SOA）&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;&lt;strong&gt;服务与 SOA&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;面向服务架构（SOA）是一种建设企业 IT 生态系统的架构指导思想。SOA 的关注点是服务。服务最基本的业务功能单元，由平台中立性的接口契约来定义。&lt;/p&gt;
&lt;p&gt;通过将业务系统服务化，可以将不同模块解耦，各种异构系统间可以轻松实现服务调用、消息交换和资源共享。&lt;/p&gt;
&lt;p&gt;（1）从宏观的视角来看，不同于以往的孤立业务系统，SOA 强调整个企业 IT 生态环境是一个大的整体。整个 IT 生态中的所有业务服务构成了企业的核心 IT 资源。&lt;/p&gt;
&lt;p&gt;各系统的业务拆解为不同粒度和层次的模块和服务，服务可以组装到更大的粒度，不同来源的服务可以编排到同一个处理流程，实现非常复杂的集成场景和更加丰富的业务功能。&lt;/p&gt;
&lt;p&gt;（2）从研发的视角来看，系统的复用可以从以前代码级的粒度，扩展到业务服务的粒度；能够快速应对业务需求和集成需求的变更。&lt;/p&gt;
&lt;p&gt;（3）从管理的角度来看，SOA 从更高的层次对整个企业 IT 生态进行统一的设计与管理，对消息处理与服务调用进行监控，优化资源配置，降低系统复杂度和综合成本，为业务流程梳理和优化提供技术支撑。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;p&gt;&lt;strong&gt;SOA 落地方式&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;SOA 的落地方式与水平，跟企业 IT 特点、服务能力和发展阶段直接相关。目前常见的落地方式主要有分布式服务化和集中式管理两种。&lt;/p&gt;
&lt;p&gt;（1）分布式服务化&lt;/p&gt;
&lt;p&gt;互联网类型的企业，业务与技术发展快，数据基数与增量都大，并发访问量高，系统间依赖关系复杂、调用频繁，分布式服务化与服务治理迫在眉睫。&lt;/p&gt;
&lt;p&gt;通过统一的服务化技术手段，进一步实现服务的注册与寻址、服务调用关系查找、服务调用与消息处理监控、服务质量与服务降级等等。&lt;/p&gt;
&lt;p&gt;现有的一些分布式服务化技术有 Dubbo（基于 Java）、Finagle（基于 Scala）和 ICE（跨平台）等。&lt;/p&gt;
&lt;p&gt;（2）集中式管理&lt;/p&gt;
&lt;p&gt;传统企业的 IT 内部遗留系统包袱较重，资源整合很大一部分是需要打通新旧技术体系的任督二脉，所以更偏重于以 ESB 作为基础支撑技术。&lt;/p&gt;
&lt;p&gt;以整合集成为核心，将各个新旧系统的业务能力逐渐的在 ESB 容器上聚合和集成起来。&lt;/p&gt;
&lt;p&gt;比较流行的商业 ESB 有 IBM 的 WMB 和 Oracle 的 OSB，开源 ESB 有 Mule、ServiceMix/WSO2 ESB、JBoss ESB 和 OpenESB。&lt;/p&gt;
&lt;p&gt;一方面，集中式管理的 SOA，其优势在于管理和集成企业内部各处散落的业务服务能力，同时一个明显的不足在于其中心化的架构方法，并不能解决各个系统自己内部的问题。&lt;/p&gt;
&lt;p&gt;另一方面，随着自动化测试技术、轻量级容器技术等相关技术的发展，分布式服务技术越来越像微服务架构方向发展。&lt;/p&gt;
&lt;p&gt;分布式架构：微服务架构（MSA）&lt;/p&gt;
&lt;p&gt;James Lewis 和 Martin Fowler 给微服务架构的定义如下：&lt;/p&gt;
&lt;blockquote readability=&quot;11&quot;&gt;
&lt;p&gt;微服务架构风格，以实现一组微服务的方式来开发一个独立的应用系统的方法。其中每个小微服务都运行在自己的进程中，一般采用 HTTP 资源 API 这样轻量的机制相互通信。&lt;/p&gt;
&lt;p&gt;这些微服务围绕业务功能进行构建，通过全自动化的部署方式来进行独立部署。这些微服务可以使用不同的语言来编写，也可以使用不同的数据存储技术，并且基于最低限度的集中管理。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;同时 Martin Fowler 总结有如下 9 个特性：&lt;/p&gt;
&lt;ul readability=&quot;3&quot;&gt;&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;组件以服务的形式提供&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;围绕业务功能进行组织&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;产品而不是项目&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;强化终端与弱化管道&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;“去中心化” 地治理技术署&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;“去中心化” 地管理数据&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;“基础设施” 自动化&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;“容错” 设计&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;“演进式” 设计&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;微服务架构可以看作是一种 SOA 的发展实现，其将 SOA 中原本可能聚合在同一个系统内的多个服务组件拆分到各自独立的系统进程。&lt;/p&gt;
&lt;p&gt;微服务架构的优势在于：&lt;/p&gt;
&lt;ul readability=&quot;2.5&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;更加彻底的组件化，系统内部各个组件之间解耦的比较干脆，单个系统的规模小很多；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;-1&quot;&gt;
&lt;p&gt;可以组建每个服务独立的维护团队，利于各自团队独立的开发和维护；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;每个微服务独立部署，只要服务间的接口稳定，各系统可以相互之间互不干扰的独立发展；&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;微服务架构使得每个服务本身可以独立的扩展，性能出现瓶颈，优化或增加这个服务的配置即可。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;微服务架构的劣势也很明显，拆分的过细则要求自动化测试能力必须跟得上。一个全流程的测试跨 8~10 个系统是所有测试人员的恶魔。&lt;/p&gt;
&lt;p&gt;问题的排查，数据的一致性保障，系统的监控等等，都会因为拆分的太细，复杂度大幅度增加。&lt;/p&gt;
&lt;p&gt;如果代码或设计上有一个修改涉及到多个不同的微服务，那么在团队之间协调配合成本也会增加。对旧系统的微服务架构和组件化改造也是一个比较大的问题。&lt;/p&gt;
&lt;p&gt;在组件化上所做的任何工作的成功度，取决于软件与组件的匹配程度。&lt;/p&gt;
&lt;p&gt;但是合理的组件边界应该如何确定，这是非常困难的，演进式的处理方式是我们觉得比较合理和靠谱的。&lt;/p&gt;
&lt;p&gt;因此，Martin Fowler 也建议，不要一上来就以微服务架构作为系统设计的起点。相反地，要用一个单块系统作为起点，并保持其模块化。&lt;/p&gt;
&lt;p&gt;当这个单块系统出现了问题后，再将其分解为微服务。&lt;/p&gt;
&lt;p&gt;推荐一个交流学习群：650385180里面会分享一些资深架构师录制的视频录像：有Spring，MyBatis，Netty源码分析，高并发、高性能、分布式、微服务架构的原理，JVM性能优化这些成为架构师必备的知识体系。还能领取免费的学习资源，目前受益良多：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://p1.pstatp.com/large/6c3e0005a2ad7a301b41&quot; alt=&quot;&quot; data-cke-saved-src=&quot;http://p1.pstatp.com/large/6c3e0005a2ad7a301b41&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 11 Mar 2018 07:25:00 +0000</pubDate>
<dc:creator>茶轴的青春</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/lfs2640666960/p/8544358.html</dc:identifier>
</item>
<item>
<title>Android热修复技术原理详解（最新最全版本） - popfisher</title>
<link>http://www.cnblogs.com/popfisher/p/8543973.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/popfisher/p/8543973.html</guid>
<description>&lt;ul&gt;&lt;li&gt;什么是热修复？&lt;/li&gt;
&lt;li&gt;热修复框架分类&lt;/li&gt;
&lt;li&gt;技术原理及特点&lt;/li&gt;
&lt;li&gt;Tinker框架解析&lt;/li&gt;
&lt;li&gt;各框架对比图&lt;/li&gt;
&lt;li&gt;总结&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;  通过阅读本文，你会对热修复技术有更深的认知，本文会列出各类框架的优缺点以及技术原理，文章末尾简单描述一下Tinker的框架结构。&lt;/p&gt;

&lt;h2 id=&quot;正常开发流程&quot;&gt;正常开发流程&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132422132-630335315.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;热修复开发流程&quot;&gt;热修复开发流程&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132434276-1651642452.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;热修复优势&quot;&gt;热修复优势&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132444619-1108391379.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;修复什么&quot;&gt;修复什么？&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132457465-786355225.png&quot;/&gt;&lt;/p&gt;

&lt;h2 id=&quot;现状百花齐放百家争鸣&quot;&gt;现状：百花齐放百家争鸣&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132510870-852303274.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;简单分类&quot;&gt;简单分类&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132524264-1704460959.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;更合理的分类&quot;&gt;更合理的分类&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132532180-1996890534.png&quot;/&gt;&lt;/p&gt;

&lt;h2 id=&quot;阿里dexposed----native解决方案&quot;&gt;3.1 阿里Dexposed -- native解决方案&lt;/h2&gt;
&lt;h3 id=&quot;原理&quot;&gt;原理：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;直接在native层进行方法的结构体信息对换，从而实现完美的方法新旧替换，从而实现热修复功能&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;  他的思想完全来源于Xposed框架，完美诠释了AOP编程，这里用到最核心的知识点就是在native层获取到指定方法的结构体，然后改变他的nativeFunc字段值，而这个值就是可以指定这个方法对应的native函数指针，所以先从Java层跳到native层，改变指定方法的nativeFunc值，然后在改变之后的函数中调用Java层的回调即可。实现了方法的拦截功能。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;基于开源框架Xposed实现，是一种AOP解决方案&lt;/li&gt;
&lt;li&gt;只Hook App本身的进程，不需要Root权限&lt;/li&gt;
&lt;/ul&gt;&lt;hr/&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132612506-1386951503.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132636957-1552751766.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132640429-116950864.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;优点&quot;&gt;优点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;即时生效&lt;/li&gt;
&lt;li&gt;不需要任何编译器的插桩或者代码改写，对正常运行不引入任何性能开销。这是AspectJ之类的框架没法比拟的优势；&lt;/li&gt;
&lt;li&gt;对所改写方法的性能开销也极低（微秒级），基本可以忽略不计；&lt;/li&gt;
&lt;li&gt;从工程的角度来看，热补丁仅仅是牛刀小试，它真正的威力在于『线上调试』；&lt;/li&gt;
&lt;li&gt;基于Xposed原理实现的AOP不仅可以hook自己的代码，还可以hook同进程的Android SDK代码，这也就可以让我们有能力在App中填上Google自己挖的坑。&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;缺点&quot;&gt;缺点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;Dalvik上近乎完美，不支持ART（需要另外的实现方式），所以5.0以上不能用了；&lt;/li&gt;
&lt;li&gt;最大挑战在于稳定性与兼容性，而且native异常排查难度更高；&lt;/li&gt;
&lt;li&gt;由于无法增加变量与类等限制，无法做到功能发布级别；&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;相关链接&quot;&gt;相关链接：&lt;/h3&gt;
&lt;h2 id=&quot;阿里andfix----native解决方案&quot;&gt;3.2 阿里AndFix -- native解决方案&lt;/h2&gt;
&lt;h3 id=&quot;原理-1&quot;&gt;原理：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;与Dexposed一样都基于开源框架Xposed实现，是一种AOP解决方案&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;优点-1&quot;&gt;优点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;即时生效&lt;/li&gt;
&lt;li&gt;支持dalvik和art（AndFix supports Android version from 2.3 to 7.0, both ARM and X86 architecture, both Dalvik and ART runtime, both 32bit and 64bit.）&lt;/li&gt;
&lt;li&gt;与Dexposed框架相比AndFix框架更加轻便好用，在进行热修复的过程中更加方便了&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;缺点-1&quot;&gt;缺点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;面临稳定性与兼容性问题&lt;/li&gt;
&lt;li&gt;AndFix不支持新增方法，新增类，新增field等&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;andfixdexpsed框架不稳定的原因痛点&quot;&gt;AndFix（Dexpsed）框架不稳定的原因（痛点）&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132712953-354839170.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132717395-1810972257.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;相关链接-1&quot;&gt;相关链接：&lt;/h3&gt;
&lt;h2 id=&quot;qq空间--dex插桩方案大众点评的nuwa参考其实现并开源&quot;&gt;3.3 QQ空间--Dex插桩方案（大众点评的Nuwa参考其实现并开源）&lt;/h2&gt;
&lt;h3 id=&quot;原理-2&quot;&gt;原理：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;原理是Hook了ClassLoader.pathList.dexElements[]。因为ClassLoader的findClass是通过遍历dexElements[]中的dex来寻找类的。当然为了支持4.x的机型，需要打包的时候进行插桩。&lt;/li&gt;
&lt;li&gt;越靠前的Dex优先被系统使用，基于类级别的修复&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132727379-906293657.jpg&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;优点-2&quot;&gt;优点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;不需要考虑对dalvik虚拟机和art虚拟机做适配&lt;/li&gt;
&lt;li&gt;代码是非侵入式的，对apk体积影响不大&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;缺点-2&quot;&gt;缺点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;需要下次启动才会生效&lt;/li&gt;
&lt;li&gt;最大挑战在于性能，即Dalvik平台存在插桩导致的性能损耗，Art平台由于地址偏移问题导致补丁包可能过大的问题&lt;/li&gt;
&lt;li&gt;虚拟机在安装期间为类打上CLASS_ISPREVERIFIED标志是为了提高性能的，我们强制防止类被打上标志是否会影响性能？这里我们会做一下更加详细的性能测试．但是在大项目中拆分dex的问题已经比较严重，很多类都没有被打上这个标志。&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;插桩方案性能上的痛点&quot;&gt;插桩方案性能上的痛点：&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132736516-136650171.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;相关链接-2&quot;&gt;相关链接：&lt;/h3&gt;
&lt;h2 id=&quot;美团robust----instant-run-热插拔原理&quot;&gt;3.4 美团Robust -- Instant Run 热插拔原理&lt;/h2&gt;
&lt;h3 id=&quot;原理-3&quot;&gt;原理：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;Robust插件对每个产品代码的每个函数都在编译打包阶段自动的插入了一段代码，插入过程对业务开发是完全透明&lt;/li&gt;
&lt;li&gt;编译打包阶段自动为每个class都增加了一个类型为ChangeQuickRedirect的静态成员，而在每个方法前都插入了使用changeQuickRedirect相关的逻辑，当 changeQuickRedirect不为null时，可能会执行到accessDispatch从而替换掉之前老的逻辑，达到fix的目的。&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132821935-182982828.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;优点-3&quot;&gt;优点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;几乎不会影响性能（方法调用，冷启动）&lt;/li&gt;
&lt;li&gt;支持Android2.3-8.x版本&lt;/li&gt;
&lt;li&gt;高兼容性（Robust只是在正常的使用DexClassLoader）、高稳定性，修复成功率高达99.9%&lt;/li&gt;
&lt;li&gt;补丁实时生效，不需要重新启动&lt;/li&gt;
&lt;li&gt;支持方法级别的修复，包括静态方法&lt;/li&gt;
&lt;li&gt;支持增加方法和类&lt;/li&gt;
&lt;li&gt;支持ProGuard的混淆、内联、优化等操作&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;缺点-3&quot;&gt;缺点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;代码是侵入式的，会在原有的类中加入相关代码&lt;/li&gt;
&lt;li&gt;so和资源的替换暂时不支持&lt;/li&gt;
&lt;li&gt;会增大apk的体积，平均一个函数会比原来增加17.47个字节，10万个函数会增加1.67M。&lt;/li&gt;
&lt;li&gt;会增加少量方法数，使用了Robust插件后，原来能被ProGuard内联的函数不能被内联了&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;相关链接-3&quot;&gt;相关链接：&lt;/h3&gt;
&lt;h2 id=&quot;微信tinker&quot;&gt;3.5 微信Tinker&lt;/h2&gt;
&lt;h3 id=&quot;原理-4&quot;&gt;原理：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;服务端做dex差量，将差量包下发到客户端，在ART模式的机型上本地跟原apk中的classes.dex做merge，merge成为一个新的merge.dex后将merge.dex插入pathClassLoader的dexElement，原理类同Q-Zone，为了实现差量包的最小化，Tinker自研了DexDiff/DexMerge算法。Tinker还支持资源和So包的更新，So补丁包使用BsDiff来生成，资源补丁包直接使用文件md5对比来生成，针对资源比较大的（默认大于100KB属于大文件）会使用BsDiff来对文件生成差量补丁。&lt;/li&gt;
&lt;/ul&gt;&lt;hr/&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132837641-985029710.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132842593-173785053.png&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h3 id=&quot;优点-4&quot;&gt;优点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;支持动态下发代码&lt;/li&gt;
&lt;li&gt;支持替换So库以及资源&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;缺点-4&quot;&gt;缺点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;不能即时生效，需要下次启动&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;tinker已知问题&quot;&gt;Tinker已知问题：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;Tinker不支持修改AndroidManifest.xml，Tinker不支持新增四大组件(1.9.0支持新增非export的Activity)；&lt;/li&gt;
&lt;li&gt;由于Google Play的开发者条款限制，不建议在GP渠道动态更新代码；&lt;/li&gt;
&lt;li&gt;在Android N上，补丁对应用启动时间有轻微的影响；&lt;/li&gt;
&lt;li&gt;不支持部分三星android-21机型，加载补丁时会主动抛出&quot;TinkerRuntimeException:checkDexInstall failed&quot;；&lt;/li&gt;
&lt;li&gt;对于资源替换，不支持修改remoteView。例如transition动画，notification icon以及桌面图标。&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;tinker性能痛点&quot;&gt;Tinker性能痛点：&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;Dex合并内存消耗在vm head上，容易OOM，最后导致合并失败。&lt;/li&gt;
&lt;li&gt;如果本身app占用内存已经比较高，可能容易导致app本系统杀掉。&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;相关链接-4&quot;&gt;相关链接：&lt;/h3&gt;
&lt;h2 id=&quot;阿里sophix&quot;&gt;3.6 阿里Sophix&lt;/h2&gt;
&lt;h3 id=&quot;原理双剑合璧&quot;&gt;原理(双剑合璧)：&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132855847-745121352.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;优化andfix突破底层结构差异解决稳定性问题&quot;&gt;优化Andfix（突破底层结构差异，解决稳定性问题）：&lt;/h3&gt;
&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;Andfix底层ArtMethod结构时采用内部变量一一替换，倒是这个各个厂商是会修改的，所以兼容性不好。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132906276-779702231.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sophix改变了一下思路，采用整体替换方法结构，忽略底层实现，从而解决兼容稳定性问题。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132913774-698184213.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;突破qq和tinker的缺陷&quot;&gt;突破QQ和Tinker的缺陷&lt;/h3&gt;
&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;QQ和Tinker的缺陷&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132924162-1647000593.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sophix对dex的解决方案&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Dalvik下采用阿里自研的全量dex方案：不是考虑把补丁包的dex插到所有dex前面（dex插桩），而是想办法在原理的dex中删除（只是删除了类的定义）补丁dex中存在的类，这样让系统查找类的时候在原来的dex中找不到，那么只有补丁中的dex加载到系统中，系统自然就会从补丁包中找到对应的类。&lt;/li&gt;
&lt;li&gt;Art下本质上虚拟机以及支持多dex的加载，Sophix的做法仅仅是把补丁dex作为主dex（classes.dex）而已，相当于重新组织了所有的dex文件：把补丁包的dex改名为classes.dex，以前apk的所有dex依次改为classes2.dex、classes3.dex ... classesx.dex，如下图所示。&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132939270-1909427180.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;资源修复另辟蹊径&quot;&gt;资源修复另辟蹊径&lt;/h3&gt;
&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;常用方案（Instant Run技术）：这种方案的兼容问题在于替换AssetManager的地方&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311132949831-1148740126.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sophix资源修复方案&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311133010134-1945128534.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;so修复另辟蹊径&quot;&gt;SO修复另辟蹊径&lt;/h3&gt;
&lt;hr/&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311133020815-466711993.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;  之所以只贴了Tinker的代码框架，是因为目前开源的方案中是最好的，当然除了Robust。&lt;/p&gt;
&lt;h2 id=&quot;代码结构&quot;&gt;代码结构&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311133028494-872267626.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;修复流程&quot;&gt;修复流程&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311133034163-1472067463.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;这里后续再补一个详细的源码分析，敬请期待&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;来自tinker的对比&quot;&gt;来自Tinker的对比&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2017.cnblogs.com/blog/823551/201801/823551-20180119173848396-1135737571.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;来自sophix的对比&quot;&gt;来自Sophix的对比&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/823551/201803/823551-20180311133042756-1473029299.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images2017.cnblogs.com/blog/823551/201801/823551-20180119181035646-1613402870.png&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;其他文章&quot;&gt;其他文章&lt;/h2&gt;
&lt;p&gt;浅谈Android热修复：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2017.cnblogs.com/blog/823551/201801/823551-20180119174807209-784087153.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;  如果不考虑增大apk的体积，只是简单的修复代码，不修复so和资源，选择Robust是最稳定的，否则的话选择Tinker是一个不错的方案。虽然阿里Sophix横空出世，但是它不开源，而且商业收费，所以一般不是很赚钱的app选择收费的可能就很小了。不过它确实各方面都做了大量的优化，本文中的很多知识点也来源于阿里的《Android热修复技术原理.pdf》一书，本书值得一读，里面就是基于Sophix框架来编排的。&lt;/p&gt;
</description>
<pubDate>Sun, 11 Mar 2018 05:43:00 +0000</pubDate>
<dc:creator>popfisher</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/popfisher/p/8543973.html</dc:identifier>
</item>
<item>
<title>程序的态度-一生想靠近的完美 - mioopp</title>
<link>http://www.cnblogs.com/mioopp/p/8542290.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/mioopp/p/8542290.html</guid>
<description>&lt;p&gt;程序是什么，什么是编程。&lt;/p&gt;
&lt;p&gt;教科书会告诉你，程序=算法+数据结构；编程就是使用一种程序设计语言编写程序代码，让计算机解决某个问题的过程。&lt;/p&gt;
&lt;p&gt;而我觉得程序就是一件艺术品，编程就是制造这艺术品的过程，需要小心翼翼，精心雕琢，方能成为伟大的艺术品。&lt;/p&gt;
&lt;p&gt;所以我比较喜欢称自己为：匠人。&lt;/p&gt;
&lt;p&gt;从某方面来说，我算个不合格的匠人；我追求完美，追求毫无瑕疵。就算刀偏一毫，也会打碎重做。所以经常一事无成，完成不了产品。&lt;/p&gt;
&lt;p&gt;或许，真的就是没有完美，十全九美，就是最完美吧。&lt;/p&gt;
&lt;p&gt;或许，真的残缺就是一种美，也要努力去靠近那种完美。&lt;/p&gt;
&lt;p&gt;曾经想坚持一种习惯，却由于自己的懒散，没有完成。也是这个社会，现代的人，心都比较浮躁。当然，也包括自己啦。&lt;/p&gt;
&lt;p&gt;想法曾比天高，脚步却在原地。&lt;/p&gt;
&lt;p&gt;努力了，不一定有回报，但是我们追求的，就只是结果么。&lt;/p&gt;
&lt;p&gt;如果，只是结果，那为什么有的人成功，有人失败。真的是时运不济，付出不够？&lt;/p&gt;
&lt;p&gt;其实很多人都忘记了有一种东西，叫厚积薄发。&lt;/p&gt;
&lt;p&gt;有些目标就好像百米赛跑一样，人家起点就在90米，你起点还在原点。就算你拼命跑也追不上他。但你却可以靠近他。&lt;/p&gt;
&lt;p&gt;飞蛾扑火，夸父逐日，莫不与此。&lt;/p&gt;
&lt;p&gt;何不用悠然的心境，去追寻那些你想要的么？&lt;/p&gt;
&lt;p&gt;宠辱不惊，闲看庭前花开花落。去留无意，望天上云卷云舒。&lt;/p&gt;
&lt;p&gt;我知道自己学识，能力有限，不能成为那些像王垠、图灵那样的人物。（王垠或许不能和图灵那样的人比，但在我心中他也是一座不能翻越的高山。&lt;span&gt;仅个人观点&lt;/span&gt;）&lt;/p&gt;
&lt;p&gt; 我也不知道我学习的方向对不对，用博客，我想记录一些，在工作中，遇到的一些问题，和自己专研过的问题，顺便写一些自己的学习记录。&lt;/p&gt;
&lt;p&gt;后面也会写一些，自己以前在文档写过的一些东西，将自己文档和文本的一些随笔，整理一下。&lt;/p&gt;
&lt;p&gt;用匠人的态度，面对未知的问题。&lt;/p&gt;
&lt;p&gt;用匠人的精神，追寻伟大的程序。&lt;/p&gt;
</description>
<pubDate>Sun, 11 Mar 2018 04:50:00 +0000</pubDate>
<dc:creator>mioopp</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/mioopp/p/8542290.html</dc:identifier>
</item>
<item>
<title>Hive 编程之DDL、DML、UDF、Select总结 - Huidoo_Yang</title>
<link>http://www.cnblogs.com/yangp/p/8541345.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yangp/p/8541345.html</guid>
<description>&lt;p&gt;　　Hive的基本理论与安装可参看作者上一篇博文《&lt;a href=&quot;http://www.cnblogs.com/yangp/p/8529946.html&quot; target=&quot;_blank&quot;&gt;Apache Hive 基本理论与安装指南&lt;/a&gt;》。&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;一、Hive命令行&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;　　所有的hive命令都可以通过hive命令行去执行，hive命令行中仍有许多选项。使用$hive -H查看：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180310162800655-466430610.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　-e 选项后面可以直接接一个hql语句，不用进入到hive命令行用户接口再输入hql语句。&lt;/p&gt;
&lt;p&gt;　　-f 选项后面接一个hql语句的文件。&lt;/p&gt;
&lt;p&gt;　　-i 选项在hql语句执行之前的初始化hql文件。例如添加、导入等操作都可以写在这个hql语句文件中。&lt;/p&gt;
&lt;p&gt;　　在hive使用中，大多是写很多脚本，在hive命令行中输入是属于交互式的，这就必须有工作人员在工作，不适合做批量处理。可以使用-f或-i选项，一次性执行可以将所有的hql语句放在一个hql脚本文件中。例如：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
$ &lt;span&gt;mkdir&lt;/span&gt; -p /opt/shell/&lt;span&gt;sql
$ vim &lt;/span&gt;/opt/shell/sql/test.sql
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;select&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; table_name limit &lt;span&gt;5&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;select&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; table_name &lt;span&gt;where&lt;/span&gt; professional&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;student&quot;;
&lt;/span&gt;&lt;span&gt;select&lt;/span&gt; &lt;span&gt;count&lt;/span&gt;(&lt;span&gt;*&lt;/span&gt;) &lt;span&gt;from&lt;/span&gt;&lt;span&gt; table_name;
&lt;/span&gt;&lt;span&gt;select&lt;/span&gt; &lt;span&gt;count&lt;/span&gt;(&lt;span&gt;*&lt;/span&gt;) &lt;span&gt;from&lt;/span&gt; table_name &lt;span&gt;group&lt;/span&gt; &lt;span&gt;by&lt;/span&gt;&lt;span&gt; professional;
&lt;/span&gt;&lt;span&gt;select&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; table_name &lt;span&gt;where&lt;/span&gt; professional&lt;span&gt;=&lt;/span&gt;&quot;student&quot; &lt;span&gt;order&lt;/span&gt; &lt;span&gt;by&lt;/span&gt; age;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　将脚本保存退出后，再批量执行：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
$ hive -f /opt/shell/sql/test.sql
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;span&gt;二、Hive DDL（Data Definition Language）&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;　　详见&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/TruncateTable&quot; target=&quot;_blank&quot;&gt;官方文档&lt;/a&gt;。重点在于创建表和创建函数。&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;1. 建表语法&lt;/span&gt;&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;建表语句&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　从官方文档的Create Table中可以查看hive建表的命令，如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;49&quot;&gt;
&lt;pre&gt;
&lt;span&gt;CREATE&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;TEMPORARY&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;EXTERNAL&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;TABLE&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;IF NOT EXISTS&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;db_name.&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;table_name    &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: TEMPORARY available in Hive 0.14.0 and later)&lt;/span&gt;
  &lt;span&gt;[&lt;/span&gt;&lt;span&gt;(col_name data_type [COMMENT col_comment&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;, ... &lt;span&gt;[&lt;/span&gt;&lt;span&gt;constraint_specification&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;)]
  &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;COMMENT table_comment&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
  &lt;span&gt;[&lt;/span&gt;&lt;span&gt;PARTITIONED BY (col_name data_type [COMMENT col_comment&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;, ...)]
  &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;CLUSTERED BY (col_name, col_name, ...) [SORTED BY (col_name [ASC|DESC&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;, ...)] &lt;span&gt;INTO&lt;/span&gt;&lt;span&gt; num_buckets BUCKETS]
  &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;SKEWED BY (col_name, col_name, ...)                  -- (Note: Available in Hive 0.10.0 and later)&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
     &lt;span&gt;ON&lt;/span&gt;&lt;span&gt; ((col_value, col_value, ...), (col_value, col_value, ...), ...)
     &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;STORED AS DIRECTORIES&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
  &lt;span&gt;[&lt;/span&gt;&lt;span&gt;
   [ROW FORMAT row_format&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; 
   &lt;span&gt;[&lt;/span&gt;&lt;span&gt;STORED AS file_format&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
     &lt;span&gt;|&lt;/span&gt; STORED &lt;span&gt;BY&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;storage.handler.class.name&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;WITH SERDEPROPERTIES (...)&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;  &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.6.0 and later)&lt;/span&gt;
&lt;span&gt;  ]
  &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;LOCATION hdfs_path&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
  &lt;span&gt;[&lt;/span&gt;&lt;span&gt;TBLPROPERTIES (property_name=property_value, ...)&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;   &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.6.0 and later)&lt;/span&gt;
  &lt;span&gt;[&lt;/span&gt;&lt;span&gt;AS select_statement&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;;   &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.5.0 and later; not supported for external tables)&lt;/span&gt;
 
&lt;span&gt;CREATE&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;TEMPORARY&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;EXTERNAL&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;TABLE&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;IF NOT EXISTS&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;db_name.&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;table_name
  &lt;/span&gt;&lt;span&gt;LIKE&lt;/span&gt;&lt;span&gt; existing_table_or_view_name
  &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;LOCATION hdfs_path&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;数据类型&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;data_type
  : primitive_type
  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; array_type
  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; map_type
  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; struct_type
  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt; union_type  &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.7.0 and later)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　data_type，有两种类型：一种是复杂类型，例如array_type（ARRAY &amp;lt; data_type &amp;gt;）、map_type（MAP &amp;lt; primitive_type, data_type &amp;gt;）、struct_type（STRUCT &amp;lt; col_name : data_type [COMMENT col_comment], ...&amp;gt;）、union_type（UNIONTYPE &amp;lt; data_type, data_type, ... &amp;gt;）；简单类型有SMALLINT（占2个字节的整数）、INT（占4个字节的整数）、BIGINT（占8个字节的整数）、BOOLEAN、FLOAT、DOUBLE、STRING、BINARY、TIMESTAMP、DECIMAL、DATE、VARCHAR（0.12之后）、CHAR（字符，0.13之后）。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;primitive_type
  : &lt;/span&gt;&lt;span&gt;TINYINT&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;SMALLINT&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;INT&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;BIGINT&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt;&lt;span&gt; BOOLEAN
  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt; &lt;span&gt;FLOAT&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;DOUBLE&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;DOUBLE&lt;/span&gt; &lt;span&gt;PRECISION&lt;/span&gt; &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 2.2.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt;&lt;span&gt; STRING
  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt; &lt;span&gt;BINARY&lt;/span&gt;      &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.8.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;TIMESTAMP&lt;/span&gt;   &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.8.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;DECIMAL&lt;/span&gt;     &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.11.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;DECIMAL&lt;/span&gt;(&lt;span&gt;precision&lt;/span&gt;, scale)  &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.13.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; DATE        &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.12.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;VARCHAR&lt;/span&gt;     &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.12.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; &lt;span&gt;CHAR&lt;/span&gt;        &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.13.0 and later)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;row_format&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;row_format
  : DELIMITED &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;FIELDS TERMINATED BY char [ESCAPED BY char&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;] &lt;span&gt;[&lt;/span&gt;&lt;span&gt;COLLECTION ITEMS TERMINATED BY char&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
        &lt;span&gt;[&lt;/span&gt;&lt;span&gt;MAP KEYS TERMINATED BY char&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;LINES TERMINATED BY char&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
        &lt;span&gt;[&lt;/span&gt;&lt;span&gt;NULL DEFINED AS char&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;   &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.13 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; SERDE serde_name &lt;span&gt;[&lt;/span&gt;&lt;span&gt;WITH SERDEPROPERTIES (property_name=property_value, property_name=property_value, ...)&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　row_format：需要指出每一行是由什么隔开，并且要指出每一行中的每一个字段是用什么隔开的。&lt;/p&gt;
&lt;p&gt;　　对于字段的隔开，复杂数据类型和简单数据类型不一样。例如数组类型是复杂类型，其隔开符[COLLECTION ITEMS TERMINATED BY char]，Map类型的要使用[MAP KEYS TERMINATED BY char]。[LINES TERMINATED BY char]可以设置行隔开符，如果不写，默认为回车换行。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;file_format&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;file_format:
  : SEQUENCEFILE
  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt; TEXTFILE    &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Default, depending on hive.default.fileformat configuration)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; RCFILE      &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.6.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; ORC         &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.11.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; PARQUET     &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.13.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; AVRO        &lt;span&gt;--&lt;/span&gt;&lt;span&gt; (Note: Available in Hive 0.14.0 and later)&lt;/span&gt;
  &lt;span&gt;|&lt;/span&gt; INPUTFORMAT input_format_classname OUTPUTFORMAT output_format_classname
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　SEQUENCEFILE表示序列压缩格式，以及RCFILE、ORC、PARQUET、AVRO都是压缩格式。TEXTFILE是默认的格式，文本格式。&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;2. 创建表案例一&lt;/span&gt;　　&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;查看数据&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　为举例说明，这里先生成数据文件：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
vim /root/person.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;46&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt;,zhangsan,&lt;span&gt;31&lt;/span&gt;,books-sports-math,city:shanghai-street:lujiazui-zipcode:&lt;span&gt;313100&lt;/span&gt;
&lt;span&gt;2&lt;/span&gt;,lisi,&lt;span&gt;35&lt;/span&gt;,books-music,city:hangzhou-street:xihu-zipcode:&lt;span&gt;222100&lt;/span&gt;
&lt;span&gt;3&lt;/span&gt;,wangwu,&lt;span&gt;25&lt;/span&gt;,computer-games,city:guangzhou-street:baiyun-zipcode:&lt;span&gt;212300&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　根据数据创建一个人类表，包含人的编号、姓名、年龄、爱好、地址五个字段。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
vim &lt;span&gt;/&lt;/span&gt;opt&lt;span&gt;/&lt;/span&gt;shell&lt;span&gt;/&lt;/span&gt;sql&lt;span&gt;/&lt;/span&gt;t_person.sql
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;40&quot;&gt;
&lt;pre&gt;
&lt;span&gt;create&lt;/span&gt; &lt;span&gt;table&lt;/span&gt;&lt;span&gt; t_person
(
    id &lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt;,
    name string,
    age &lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt;,
    likes array&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;string&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;,
    address map&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;string,string&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;
) row format delimited 
fields terminated &lt;/span&gt;&lt;span&gt;by&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt; 
collection items terminated &lt;/span&gt;&lt;span&gt;by&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;
map keys terminated &lt;/span&gt;&lt;span&gt;by&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt; 
lines terminated &lt;/span&gt;&lt;span&gt;by&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;\n&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt; 
stored &lt;/span&gt;&lt;span&gt;as&lt;/span&gt; textfile;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　根据表结构，字段之间按,隔开；likes的类型是array，所以可以有多个爱好，元素之间按-隔开，以,作为数组的结束；地址是map类型，也是collection类型， key和value按:隔开，每对key和value之间用-隔开（和collection一致）；回车代表换行符。&lt;/p&gt;
&lt;p&gt;　　执行创建表脚本：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
$ hive -f /opt/shell/sql/t_person.sql
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;将数据从本地导入到hive&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;load&lt;/span&gt; data local inpath &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/root/person.txt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;into&lt;/span&gt; &lt;span&gt;table&lt;/span&gt; t_person;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;查看数据&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311003756558-836928601.png&quot; alt=&quot;&quot; width=&quot;576&quot; height=&quot;127&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;3. 创建表案例二（分区表）&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　当我们要在关系型数据库中查找某一数据时，一般需要匹配数据库中的所有数据，所以可以通过分区来提高查询效率。把常用的查询条件作为一种分区，例如要查某一天的数据，事实上就是可以只匹配当天的数据，其他数据不匹配。下面以建一个日志管理表为例：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;数据文件&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　文件经常按照天、小时等进行分割。故在此创建多个文件如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
vim /root/log_2016-&lt;span&gt;03&lt;/span&gt;-&lt;span&gt;11&lt;/span&gt;.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;48&quot;&gt;
&lt;pre&gt;
&lt;span&gt;111&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;200&lt;/span&gt;,2016-03-11
&lt;span&gt;135&lt;/span&gt;,&lt;span&gt;4&lt;/span&gt;,&lt;span&gt;100&lt;/span&gt;,2016-03-11
&lt;span&gt;211&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;300&lt;/span&gt;,2016-03-11
&lt;span&gt;141&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;200&lt;/span&gt;,2016-03-11
&lt;span&gt;131&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;400&lt;/span&gt;,2016-03-11
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
vim /root/log_2016-&lt;span&gt;03&lt;/span&gt;-&lt;span&gt;12&lt;/span&gt;.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;48&quot;&gt;
&lt;pre&gt;
&lt;span&gt;121&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;300&lt;/span&gt;,2016-03-12
&lt;span&gt;125&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;400&lt;/span&gt;,2016-03-12
&lt;span&gt;211&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;400&lt;/span&gt;,2016-03-12
&lt;span&gt;161&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;100&lt;/span&gt;,2016-03-12
&lt;span&gt;171&lt;/span&gt;,&lt;span&gt;5&lt;/span&gt;,&lt;span&gt;200&lt;/span&gt;,2016-03-12
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;创建表结构&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;create&lt;/span&gt; &lt;span&gt;table&lt;/span&gt; t_log (id string,type &lt;span&gt;int&lt;/span&gt;&lt;span&gt;,pid string,logtime string)
partitioned &lt;/span&gt;&lt;span&gt;by&lt;/span&gt; (&lt;span&gt;day&lt;/span&gt;&lt;span&gt; string)
row format delimited 
fields terminated &lt;/span&gt;&lt;span&gt;by&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;
stored &lt;/span&gt;&lt;span&gt;as&lt;/span&gt; textfile;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　这里指定了按照天做分区。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;装载数据&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;load&lt;/span&gt; data local inpath &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/root/&lt;span&gt;log_2016-03-11&lt;/span&gt;.txt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;into&lt;/span&gt; &lt;span&gt;table&lt;/span&gt; t_log partition (&lt;span&gt;day&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-03-11&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;);
hive&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;load&lt;/span&gt; data local inpath &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/root/log_2016-03-12.txt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;into&lt;/span&gt; &lt;span&gt;table&lt;/span&gt; t_log partition (&lt;span&gt;day&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-03-12&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;查看数据&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; t_log;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311011544824-709212847.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　从上图可以看出，数据增加了一个字段，左边是logtime，右边是分区day。所以，添加一个分区可以理解为添加一个字段；但是又不同于添加一个字段，因为查询按照分区做限定（查询分区day='2016-03-11'）时其他分区的数据不读取，而如果是字段的话，需要每一条数据进行匹配过滤。也可以从浏览器看出创建分区表的目录结构如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311012030658-445318338.png&quot; alt=&quot;&quot; width=&quot;556&quot; height=&quot;187&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　创建分区，就会为每一个分区建一个目录，所以在查询时，只在限定的分区目录里查询。&lt;/p&gt;
&lt;p&gt;　　&lt;strong&gt;查看某一天的数据量&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; &lt;span&gt;count&lt;/span&gt;(&lt;span&gt;*&lt;/span&gt;) &lt;span&gt;from&lt;/span&gt; t_log &lt;span&gt;where&lt;/span&gt; &lt;span&gt;day&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;'&lt;span&gt;2016&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;03&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;11'&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;　　查看某一个月的数据量&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;select&lt;/span&gt; &lt;span&gt;count&lt;/span&gt;(&lt;span&gt;*&lt;/span&gt;) &lt;span&gt;from&lt;/span&gt; t_log &lt;span&gt;where&lt;/span&gt; &lt;span&gt;day&lt;/span&gt; &lt;span&gt;between&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;xxx&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;and&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;xxx&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　当然，这里需要先转换格式，略。&lt;/p&gt;
&lt;h2&gt;&lt;span&gt;三、Hive DML（Data Manipulation Language）&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;　　详见&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML&quot; target=&quot;_blank&quot;&gt;官方文档&lt;/a&gt;。DML是对数据进行增删改的脚本。但是数据在hdfs中，实际上不提供修改，只提供追加（insert），支持删除。&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;1. Loading files into tables&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　load file将数据导入到表中。其语法为：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;LOAD&lt;/span&gt; DATA &lt;span&gt;[&lt;/span&gt;&lt;span&gt;LOCAL&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; INPATH &lt;span&gt;'&lt;/span&gt;&lt;span&gt;filepath&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;[&lt;/span&gt;&lt;span&gt;OVERWRITE&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;INTO&lt;/span&gt; &lt;span&gt;TABLE&lt;/span&gt; tablename &lt;span&gt;[&lt;/span&gt;&lt;span&gt;PARTITION (partcol1=val1, partcol2=val2 ...)&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　local：如果导入的数据在Linux主机本地，就要添加[local]，如果数据已经在hdfs上就不能加local；overwrite：覆盖；partition：如果表有分区就要加partition。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;实例&lt;/strong&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;将hdfs中的数据装载到hive&lt;/strong&gt;　　&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　首先，上传Linux文件到hdfs&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
$ hdfs dfs -put /root/log_2016-&lt;span&gt;03&lt;/span&gt;-&lt;span&gt;1&lt;/span&gt;* /usr/input
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　其次，在hive中执行导入&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
hive&amp;gt;load data inpath &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/usr/input/log_2016-03-12.txt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; into table t_log partition (day=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-03-12&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311020040656-1042767998.png&quot; alt=&quot;&quot; width=&quot;579&quot; height=&quot;150&quot;/&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
hive&amp;gt;load data inpath &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/usr/input/log_2016-03-12.txt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; overwrite into table t_log partition (day=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-03-12&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;　　注意：&lt;/strong&gt;导入的分区要存在，导入到hive表后原来hdfs路径下的文件就不复存在了，即存在hdfs的目录变了，实际就是元数据变了，block的位置没有变。如果使用overwrite，则原来该表中指定分区的数据将全部清空，然后上传该文件。如果load相同文件名名到表中时，会默认生成副本filename_copy_1。文件中的数据格式要和表的结构相吻合。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;将Linux本地的数据装载到hive&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
hive&amp;gt;load data local inpath &lt;span&gt;'&lt;/span&gt;&lt;span&gt;/root/log_2016-03-11.txt&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; into table t_log partition (day=&lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-03-11&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;span&gt;2. Inserting data into hive tables from queries&lt;/span&gt;&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span&gt;TABLE&lt;/span&gt; tablename1 &lt;span&gt;[&lt;/span&gt;&lt;span&gt;PARTITION (partcol1=val1, partcol2=val2 ...) [IF NOT EXISTS&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;] select_statement1 &lt;span&gt;FROM&lt;/span&gt; from_statement;&lt;br/&gt;hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;INSERT&lt;/span&gt; &lt;span&gt;INTO&lt;/span&gt; &lt;span&gt;TABLE&lt;/span&gt; tablename1 &lt;span&gt;[&lt;/span&gt;&lt;span&gt;PARTITION (partcol1=val1, partcol2=val2 ...)&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; select_statement1 &lt;span&gt;FROM&lt;/span&gt; from_statement;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　其中的select_statement1 FROM from_statement;是一个sql语句。这是用于查询hive中已经存在的数据，将查询结果给到一张新表中。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;INSERT&lt;/span&gt; &lt;span&gt;INTO&lt;/span&gt; &lt;span&gt;TABLE&lt;/span&gt; tablename &lt;span&gt;[&lt;/span&gt;&lt;span&gt;PARTITION (partcol1[=val1&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;, partcol2&lt;span&gt;[&lt;/span&gt;&lt;span&gt;=val2&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; ...)] &lt;span&gt;VALUES&lt;/span&gt; values_row &lt;span&gt;[&lt;/span&gt;&lt;span&gt;, values_row ...&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　这个语句是和关系型数据库的insert语句用法是一样的。区别有三：一是，有partition；二是，可以一次插入多条数据；三是，这种语句是转成MapReduce去执行的。&lt;/p&gt;
&lt;p&gt;　　因为hive是一个工具，其作用是查询和统计hdfs上的数据的，对于查询结果一般就在控制台上显示，所以这个insert语句作用就是将查询的结果保存下来，用于后期的展示。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;hive&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;insert&lt;/span&gt; &lt;span&gt;into&lt;/span&gt; &lt;span&gt;table&lt;/span&gt; t_log partition (&lt;span&gt;day&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;'&lt;span&gt;2016&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;03&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;’) &lt;span&gt;values&lt;/span&gt; ('&lt;span&gt;888'&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,'&lt;span&gt;100&lt;/span&gt;','&lt;span&gt;2016&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;03&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;’); 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　这个会启动MapReduce，因为数据在文件中不存在，要插到文件中相当于上传，会生成一个新的文件。这个不常用。所以实际上inset into语句的实际意义在于将查询结果放到新的表中。&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;3. Delete&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　删除数据一般可以不在hive中删除，直接在hdfs上删除文件。因为删数据实际上就是删除文件。例如要删除之前插入到hive的t_log表day=2016-03-11分区下的&lt;span&gt;log_2016-03-11.txt&lt;/span&gt;，可以执行如下命令：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
#hdfs dfs -&lt;span&gt;rm&lt;/span&gt; /user/hive/warehouse/t_log/day=&lt;span&gt;2016&lt;/span&gt;-&lt;span&gt;03&lt;/span&gt;-&lt;span&gt;11&lt;/span&gt;/t_log-&lt;span&gt;2016&lt;/span&gt;-&lt;span&gt;03&lt;/span&gt;-&lt;span&gt;11.txt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;span class=&quot;toc-link&quot;&gt;四、Hive UDF（Operators and User-Defined functions）&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;　　详见&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF&quot; target=&quot;_blank&quot;&gt;官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;1. 内置运算符&lt;/span&gt;&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;关系运算符&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　见文档&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;算术运算符&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　见文档&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;逻辑运算符&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　见文档&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;复杂类型构造函数（Complex Type Constructors）&lt;/strong&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;复杂类型函数或对象的构建&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　【1】map（构造map对象）&lt;/p&gt;
&lt;p&gt;　　Creates a map with the given key/value pairs. (key1,value1,key2,value2,…)&lt;/p&gt;
&lt;p&gt;　　【2】struct（创建架构数组）&lt;/p&gt;
&lt;p&gt;　　Creates a struct with the given field values. (val1,val2,val3,…)。Struct的属性名和列名相对应。struct可以认为是面向对象的对象类型，是一个构造体，里面可以定义属性的值，field的名称是预先定义的，就像Java类的属性预先定义好了。&lt;/p&gt;
&lt;p&gt;　　【3】named_struct&lt;/p&gt;
&lt;p&gt;　　Creates a struct with the given field names and values. (name1,val1,name2,val2, …)。根据给定的Struct的属性名来创建构建数组&lt;/p&gt;
&lt;p&gt;　　【4】array（创建数组对象）&lt;/p&gt;
&lt;p&gt;　　Creates an array with the given elements. (val1,val2,val3,…)。把各（若干）个字段的值变成一个array。&lt;/p&gt;
&lt;p&gt;　　【5】create_union&lt;/p&gt;
&lt;p&gt;　　Creates a union type with value that is being pointes to by the tag parameter.&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;复杂类型函数的运算符&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　【1】A[n]&lt;/p&gt;
&lt;p&gt;　　A是array类型，n是int类型。A[n]表示数组A的第n+1个元素。&lt;/p&gt;
&lt;p&gt;　　【2】M[key]&lt;/p&gt;
&lt;p&gt;　　M是map类型，key是map集合中键的类型。M[key]是取map集合中键为key的值。注意使用是key需要使用单引号。&lt;/p&gt;
&lt;p&gt;　　【3】S.x&lt;/p&gt;
&lt;p&gt;　　S是struct类型，x表示struct中的某个属性。S.x，将会返回S这个struct中定义的x属性型中存储的值。&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;2. 内置函数&lt;/span&gt;&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;数学函数&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311023914161-470827370.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;集合操作函数&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311023945074-288253095.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;类型转换函数&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311024006703-398736808.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;日期函数&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311024032638-1879984478.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;条件/逻辑函数&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt; 　　略。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;字符串函数&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311024105695-1424161606.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;3. UDAF&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　UDAF和UDF的区别在于传给函数的参数不一样。UDF表示传给函数的参数只有一个值或一行值；UDAF是给函数传多个值或者多行值的函数，例如count(*)，sum(col)等都是多行的值。&lt;/p&gt;
&lt;p&gt;　　UDAF(User- Defined Aggregation Funcation) 聚集函数，多进一出，例如count/max/min等。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/884765/201803/884765-20180311024316476-80921776.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;4. UDTF&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　详见文档。&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;5. UDF&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　HivePlugins，Creating Custom UDFs。自定义函数需要以下几个步骤：首先要自定义一个类，继承UDF；其次，打成jar包；第三，将jar包加载到hive的classpath；第四，创建自定义函数；第五，使用函数。&lt;/p&gt;
&lt;p&gt;　　例如，要创建一个将字符串转成日期的函数。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;自定义类&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.huidoo.hive;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.text.SimpleDateFormat;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.Date;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.apache.hadoop.hive.ql.exec.UDF;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.apache.hadoop.hive.serde2.io.TimestampWritable;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.apache.hadoop.io.Text;

&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; StringToDate &lt;span&gt;extends&lt;/span&gt;&lt;span&gt; UDF {
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * 定义evaluate方法。返回值类型定义为TimestampWritable
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; str
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; datefmt
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;&lt;span&gt;
     * &lt;/span&gt;&lt;span&gt;@throws&lt;/span&gt;&lt;span&gt; Exception 
     &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;public&lt;/span&gt; TimestampWritable evaluate(&lt;span&gt;final&lt;/span&gt; Text str,&lt;span&gt;final&lt;/span&gt; Text datefmt) &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; Exception{
        SimpleDateFormat sdf&lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; SimpleDateFormat(datefmt.toString()); &lt;span&gt;//date&lt;/span&gt;&lt;span&gt;fmt是传入的格式化字符串，需要创建SimpleDateFormat对象，Text类型要转成Java中的String类型。&lt;/span&gt;
        Date date= sdf.parse(str.toString()); &lt;span&gt;//&lt;/span&gt;&lt;span&gt;将字符串str，按照格式sdf转成java.util的Date类型&lt;/span&gt;
        TimestampWritable time=&lt;span&gt;new&lt;/span&gt; TimestampWritable();&lt;span&gt;//&lt;/span&gt;&lt;span&gt;创建Hadoop的时间戳对象&lt;/span&gt;
        time.setTime(date.getTime());&lt;span&gt;//&lt;/span&gt;&lt;span&gt;将date转成Timestamp类型，然后使用Hadoop时间戳对象设置成相应的时间。&lt;/span&gt;
        &lt;span&gt;return&lt;/span&gt;&lt;span&gt; time;
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;打成jar包并上传到服务器&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　略。std.jar&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;将jar包加载到hive的classpath&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;add&lt;/span&gt; jar &lt;span&gt;/&lt;/span&gt;path&lt;span&gt;/&lt;/span&gt;&lt;span&gt;to&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;std.jar;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt; 创建函数&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　语法：create 函数名(不能与内置的一样) as ‘自定义类的全限定名’;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;create&lt;/span&gt; &lt;span&gt;function&lt;/span&gt; std &lt;span&gt;as&lt;/span&gt; 'com.huidoo.hive.StringToDate';
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　这就创建了一个函数，名为std。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;使用函数&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; std(&lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-02-06 01:19:30&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;,&lt;span&gt;'&lt;/span&gt;&lt;span&gt;yyyy-MM-dd HH:mm:ss&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;) &lt;span&gt;from&lt;/span&gt; t_log limit &lt;span&gt;3&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;span&gt;五、Hive Select&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span&gt;1. 简单查询和使用/切换数据库&lt;/span&gt;&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&amp;gt; &lt;span&gt;select &lt;span&gt;* &lt;span&gt;from table_name;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　查看当前数据库：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;SELECT&lt;/span&gt; current_database();
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　&quot;db_name.table_name&quot; allows a query to access tables in different databases.可以查询不同数据库中的表。&lt;/p&gt;
&lt;p&gt;　　使用某数据库：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;USE&lt;/span&gt; database_name;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;span&gt;2. where从句&lt;/span&gt;&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;SELECT&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;FROM&lt;/span&gt; sales &lt;span&gt;WHERE&lt;/span&gt; amount &lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;10&lt;/span&gt; &lt;span&gt;AND&lt;/span&gt; region &lt;span&gt;=&lt;/span&gt; &quot;US&quot;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;span&gt;3. ALL and DISTINCT从句&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　使用distinct关键字去重查询，如下列出两个查询的区别：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt; &lt;/span&gt;&lt;span&gt;SELECT&lt;/span&gt; col1, col2 &lt;span&gt;FROM&lt;/span&gt; t1
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;    1 3&lt;/p&gt;
&lt;p&gt;    1 3&lt;/p&gt;
&lt;p&gt;    1 4&lt;/p&gt;
&lt;p&gt;    2 5&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;SELECT&lt;/span&gt; &lt;span&gt;DISTINCT&lt;/span&gt; col1, col2 &lt;span&gt;FROM&lt;/span&gt; t1
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;    1 3&lt;/p&gt;
&lt;p&gt;    1 4&lt;/p&gt;
&lt;p&gt;    2 5&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;4. Join从句&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　join用于表连接。两个表即两个文件能连接起来就一定有相同点，这就是说其中一个文件中某域的值和另一个文件的某域的值相同，就可以连接。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; col1,col2,col3 &lt;span&gt;from&lt;/span&gt; t1 &lt;span&gt;join&lt;/span&gt; t2 &lt;span&gt;on&lt;/span&gt;&lt;span&gt;+&lt;/span&gt;条件;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;span&gt;5. 基于Partition的查询&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　这种查询语法就只要把partition当成一个字段即可。如果查询时要引入外键关联表也可以使用JION…ON语句。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;非关联查询&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　语法：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; table_name.&lt;span&gt;*&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; table_name &lt;span&gt;where&lt;/span&gt; table_name.partition_name &lt;span&gt;+&lt;/span&gt;条件;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　案例：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;SELECT&lt;/span&gt; page_views.&lt;span&gt;*&lt;/span&gt;
&lt;span&gt;FROM&lt;/span&gt;&lt;span&gt; page_views
&lt;/span&gt;&lt;span&gt;WHERE&lt;/span&gt; page_views.date &lt;span&gt;&amp;gt;=&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-03-01&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;AND&lt;/span&gt; page_views.date &lt;span&gt;&amp;lt;= &lt;span&gt;'&lt;span&gt;2016-03-31&lt;span&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;；
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　语法：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; table_name1.&lt;span&gt;*&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; table_name1 &lt;span&gt;join&lt;/span&gt; table_name2 &lt;span&gt;on&lt;/span&gt; (table_name1.外键 &lt;span&gt;=&lt;/span&gt; table_name2.主键 &lt;span&gt;And&lt;/span&gt; table_name1.partiton_name &lt;span&gt;+&lt;/span&gt;条件);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　案例：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;SELECT&lt;/span&gt; page_views.&lt;span&gt;*&lt;/span&gt;
&lt;span&gt;FROM&lt;/span&gt; page_views &lt;span&gt;JOIN&lt;/span&gt;&lt;span&gt; dim_users 
&lt;/span&gt;&lt;span&gt;ON&lt;/span&gt; (page_views.&lt;span&gt;user_id&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; dim_users.id &lt;span&gt;AND&lt;/span&gt; page_views.date &lt;span&gt;&amp;gt;=&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-03-01&lt;/span&gt;&lt;span&gt;'&lt;/span&gt; &lt;span&gt;AND&lt;/span&gt; page_views.date &lt;span&gt;&amp;lt;=&lt;/span&gt; &lt;span&gt;'&lt;/span&gt;&lt;span&gt;2016-03-31&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;span&gt;6. Group by从句&lt;/span&gt;&lt;/h3&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; col&lt;span&gt;[&lt;/span&gt;&lt;span&gt;list&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; table_name &lt;span&gt;group&lt;/span&gt; &lt;span&gt;by&lt;/span&gt; col;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;span&gt;7. Order/Sort by从句&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　sort by和order by的用法基本一致，都是做排序的，一般用order by。例如：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; t_log &lt;span&gt;order&lt;/span&gt; &lt;span&gt;by&lt;/span&gt; id;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;span&gt;8. Having从句&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　having从句必须依附于group by从句，在group从句后面接having从句，相当于增加一个条件。having后面可以接聚合函数，例如sum、avg等。&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;单纯的group by语句&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; &lt;span&gt;day&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; t_log &lt;span&gt;group&lt;/span&gt; &lt;span&gt;by&lt;/span&gt; &lt;span&gt;day&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　其查询结果为：&lt;/p&gt;
&lt;p&gt;　　2016-03-11&lt;/p&gt;
&lt;p&gt;　　2016-03-12&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;添加having从句&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;select&lt;/span&gt; &lt;span&gt;day&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; t_log &lt;span&gt;group&lt;/span&gt; &lt;span&gt;by&lt;/span&gt; &lt;span&gt;day&lt;/span&gt; &lt;span&gt;having&lt;/span&gt; &lt;span&gt;avg&lt;/span&gt;(id)&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;150&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　其查询结果为：&lt;/p&gt;
&lt;p&gt;　　2016-03-12&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;hiving同效于子查询&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; &lt;span&gt;day&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; (&lt;span&gt;select&lt;/span&gt; &lt;span&gt;day&lt;/span&gt;, &lt;span&gt;avg&lt;/span&gt;(id) &lt;span&gt;as&lt;/span&gt; avgid &lt;span&gt;from&lt;/span&gt; t_log &lt;span&gt;group&lt;/span&gt; &lt;span&gt;by&lt;/span&gt; &lt;span&gt;day&lt;/span&gt;) table2 &lt;span&gt;where&lt;/span&gt; table2.avgid&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;150&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　这里将t_log表通过select day, avg(id) as avgid from t_log group by day查询得到的结果作为表再查询的。和上述的hiving从句得到的结果一样。&lt;/p&gt;
&lt;h3&gt;&lt;span&gt;9. Limit从句&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;　　限定查询返回的行数。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
hive&lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;select&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;from&lt;/span&gt; t_log limit &lt;span&gt;5&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;
</description>
<pubDate>Sun, 11 Mar 2018 03:20:00 +0000</pubDate>
<dc:creator>Huidoo_Yang</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/yangp/p/8541345.html</dc:identifier>
</item>
<item>
<title>Struts2【开发Action】知识要点 - Java3y</title>
<link>http://www.cnblogs.com/Java3y/p/8543226.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Java3y/p/8543226.html</guid>
<description>&lt;p&gt;前面Struts博文基本把Struts的配置信息讲解完了.....&lt;strong&gt;本博文主要讲解Struts对数据的处理&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;在第一次我们写开发步骤的时候，我们写的Action是继承着ActionSupport类的...为啥我们继承了ActionSupport类呢？下面我就会讲解到&lt;/p&gt;
&lt;h2 id=&quot;继承actionsupport类&quot;&gt;继承ActionSupport类&lt;/h2&gt;
&lt;p&gt;我们来看一下ActionSupport干了什么:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170427140141992?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;也就是说，如果我们&lt;strong&gt;在Action类中需要用到Struts为我们提供的数据校验等Struts已经帮我们实现的功能，我们就继承着ActionSupport类..&lt;/strong&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;实现action接口&quot;&gt;实现Action接口&lt;/h2&gt;
&lt;p&gt;我们再来看看Action接口干了什么：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170427140558195?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;当然啦，ActionSuppot也继承着Action接口，所以&lt;strong&gt;ActionSuppot拥有Action接口的全部功能&lt;/strong&gt;....因此，这种开发方式我们是比较少用的...&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;不继承任何类不实现任何接口&quot;&gt;不继承任何类、不实现任何接口&lt;/h2&gt;
&lt;p&gt;开发此类的Action，它是不继承任何类、不实现任何接口的...也就是说，&lt;strong&gt;它就是一个普通的Java类....&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Action类&lt;br/&gt;```java&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;public class PrivilegeAction {&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;public String login() {
    System.out.println(&quot;我是普通的javaAction，不继承任何的类、不实现任何的接口&quot;);
    
    return &quot;success&quot;;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;在配置文件中配置：&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;struts&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;package&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;privilige&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; extends=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;struts-default&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;action&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;login&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;privilegeaction.PrivilegeAction&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;login&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/index.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/package&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/struts&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170427141358056?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;小总结&quot;&gt;小总结&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;如果我们使用到了Struts2一些特用的功能，我们就需要继承ActionSupport&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;如果我们没用到Struts2的特殊功能，只要平凡写一个Java类行了。&lt;/li&gt;
&lt;li&gt;大多情况下，我们还是会继承ActionSupport的。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一般地，我们使用Servlet的时候都是分为几个步骤的：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;得到web层的数据、封装数据&lt;/li&gt;
&lt;li&gt;调用service层的逻辑业务代码&lt;/li&gt;
&lt;li&gt;将数据保存在域对象中，跳转到对应的JSP页面&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;现在问题来了，我们自己编写的Action类是没有request、response、Session、application之类的对象的....我们是怎么得到web层的数据、再将数据存到域对象中的呢？？&lt;/p&gt;
&lt;p&gt;前面已经说过了，&lt;strong&gt;Struts预先帮我们完成了对数据封装的功能，它是通过params拦截器来实现数据封装的&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;            &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;params&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;com.opensymphony.xwork2.interceptor.ParametersInterceptor&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;register.jsp&quot;&gt;register.jsp&lt;/h2&gt;
&lt;p&gt;首先，我们填写表单页面的数据，请求Action处理数据&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;form&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; action=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${pageContext.request.contextPath}/date01&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    用户名：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    密码：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;psd&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    年龄：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;age&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    生日：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;birthday&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;注册&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;hr/&gt;&lt;h2 id=&quot;action封装基本信息&quot;&gt;Action封装基本信息&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;在Action设置与JSP页面相同的属性，并为它们编写setter方法&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String username;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String psd;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;  age;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; Date birthday;

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setUsername&lt;/span&gt;(String username) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;username&lt;/span&gt; = username;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPsd&lt;/span&gt;(String psd) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;psd&lt;/span&gt; = psd;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setAge&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; age) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;age&lt;/span&gt; = age;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setBirthday&lt;/span&gt;(Date birthday) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;birthday&lt;/span&gt; = birthday;
    }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;我们直接在业务方法中访问这些变量，看是否能得到表单的值。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170427192215913?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;action封装对象&quot;&gt;Action封装对象&lt;/h2&gt;
&lt;p&gt;一般地，我们注册的时候，都是在Servlet上把基本信息封装到对象上...那么在Struts怎么做呢？&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;创建一个User类，基本的信息和JSP页面是相同的。&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span class=&quot;kw&quot;&gt;package qwer;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import java.util.Date;&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/4/27.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; User {
    
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String username;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String psd;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt;  age;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; Date birthday;

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;getUsername&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; username;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setUsername&lt;/span&gt;(String username) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;username&lt;/span&gt; = username;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;getPsd&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; psd;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPsd&lt;/span&gt;(String psd) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;psd&lt;/span&gt; = psd;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;getAge&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; age;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setAge&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;int&lt;/span&gt; age) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;age&lt;/span&gt; = age;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; Date &lt;span class=&quot;fu&quot;&gt;getBirthday&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; birthday;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setBirthday&lt;/span&gt;(Date birthday) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;birthday&lt;/span&gt; = birthday;
    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;在Action中定义User对象出来，并给出setter和getter方法....值得注意的是：&lt;strong&gt;基本信息只要setter就够了，封装到对象的话，需要setter和getter&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; ccAction &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; ActionSupport {

    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; User user;

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;getUser&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; user;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setUser&lt;/span&gt;(User user) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;user&lt;/span&gt; = user;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;register&lt;/span&gt;() {

        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(user.&lt;span class=&quot;fu&quot;&gt;getUsername&lt;/span&gt;());
        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(user.&lt;span class=&quot;fu&quot;&gt;getPsd&lt;/span&gt;());
        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(user.&lt;span class=&quot;fu&quot;&gt;getAge&lt;/span&gt;());
        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(user.&lt;span class=&quot;fu&quot;&gt;getBirthday&lt;/span&gt;());

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;success&quot;&lt;/span&gt;;
    }


}
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;在JSP页面，提交的name要写成&lt;code&gt;user.username&lt;/code&gt;之类的&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;form&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; action=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${pageContext.request.contextPath}/register&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    用户名：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;user.username&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    密码：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;user.psd&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    年龄：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;user.age&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    生日：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;user.birthday&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;注册&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170427192826703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Struts怎么把数据保存在域对象中呢？？？&lt;strong&gt;Struts提供了三种方式&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;一得到servlet-api&quot;&gt;一、得到Servlet API&lt;/h2&gt;
&lt;p&gt;我们可以&lt;strong&gt;通过ServletActionContext得到Servlet API&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;由于每个用户拥有一个Action对象，那么&lt;strong&gt;底层为了维护用户拿到的是当前线程的request等对象，使用ThreadLocal&lt;/strong&gt;来维护当前线程下的request、response等对象...&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;

        &lt;span class=&quot;co&quot;&gt;//通过ServletActionContext得到Servlet API&lt;/span&gt;
        javax.&lt;span class=&quot;fu&quot;&gt;servlet&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;ServletContext&lt;/span&gt; context = ServletActionContext.&lt;span class=&quot;fu&quot;&gt;getServletContext&lt;/span&gt;();
        HttpServletRequest request = ServletActionContext.&lt;span class=&quot;fu&quot;&gt;getRequest&lt;/span&gt;();
        HttpSession session = request.&lt;span class=&quot;fu&quot;&gt;getSession&lt;/span&gt;();
        HttpServletResponse response = ServletActionContext.&lt;span class=&quot;fu&quot;&gt;getResponse&lt;/span&gt;();&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;hr/&gt;&lt;h2 id=&quot;二actioncontext类&quot;&gt;二、ActionContext类&lt;/h2&gt;
&lt;p&gt;我们还可以通过&lt;strong&gt;ActionContext类&lt;/strong&gt;来得到&lt;strong&gt;request、response、session、application被Struts封装的Map集合&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;12&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;        &lt;span class=&quot;co&quot;&gt;//得到ActionContext 对象&lt;/span&gt;
        ActionContext context = ActionContext.&lt;span class=&quot;fu&quot;&gt;getContext&lt;/span&gt;();
        Map&amp;lt;String, Object&amp;gt; session = context.&lt;span class=&quot;fu&quot;&gt;getSession&lt;/span&gt;();
        Map&amp;lt;String, Object&amp;gt; application = context.&lt;span class=&quot;fu&quot;&gt;getApplication&lt;/span&gt;();
        
        &lt;span class=&quot;co&quot;&gt;//这是request的Map&lt;/span&gt;
        Map&amp;lt;String, Object&amp;gt; request = context.&lt;span class=&quot;fu&quot;&gt;getContextMap&lt;/span&gt;();&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;hr/&gt;&lt;h2 id=&quot;三实现接口&quot;&gt;三、实现接口&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;当web容器发现该Action实现了Aware接口，会把相对应的资源通过Aware接口注射进去，实际上就是一种IOC。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Aware实际就是一种拦截器，拦截代码在执行Action之前执行、将资源注射到Action中&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;实现SessionAware, RequestAware, ApplicationAware接口，它就要在程序中实现三个方法：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;16&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;

    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; Map&amp;lt;String, Object&amp;gt; request;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; Map&amp;lt;String, Object&amp;gt; session;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; Map&amp;lt;String, Object&amp;gt; application;


    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setApplication&lt;/span&gt;(Map&amp;lt;String, Object&amp;gt; map) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;application&lt;/span&gt; = map;
    }

    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setRequest&lt;/span&gt;(Map&amp;lt;String, Object&amp;gt; map) {

        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;request&lt;/span&gt; = map;
    }

    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setSession&lt;/span&gt;(Map&amp;lt;String, Object&amp;gt; map) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;session&lt;/span&gt; = map;
    }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;通过这些方法，我们就可以&lt;strong&gt;得到对应的Map对象&lt;/strong&gt;.....&lt;/p&gt;
&lt;h2 id=&quot;小总结-1&quot;&gt;小总结&lt;/h2&gt;
&lt;p&gt;那么，我们有三种方法可以得到Servlet对应的对象，那么该使用哪一种呢？？？&lt;/p&gt;
&lt;p&gt;分析：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;第一种方法：&lt;strong&gt;需要导入Servlet的包，与Struts耦合了&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;第二种方法：&lt;strong&gt;只能在业务方法中使用ActionContext类得到对应的Map对象&lt;/strong&gt;，如果有多个方法，那么每个方法都需要写类似的代码&lt;/li&gt;
&lt;li&gt;第三种方法：可以在类上定义成员变量，以至于整个类都能使用。但是&lt;strong&gt;需要实现类、实现对应的方法&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;如果我们&lt;strong&gt;需要使用到对象的其他方法，类似getContextPath()之类的，那么只能使用第一种&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果我们&lt;strong&gt;就按照平常的开发，我们就使用第二种【获取简单，没有耦合】&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;至于第三种，当我们将来可能开发BaseAction的时候，就使用它！&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;前面博文已经讲解了，Struts2为我们实现了数据自动封装...由上篇的例子我们可以看出，表单提交过去的数据全都是String类型的，但是经过Struts自动封装，就改成是JavaBean对应成员变量的类型了。&lt;/p&gt;
&lt;p&gt;但是呢，日期类型只支持是yyyy-MM-dd这种格式的，因为我们在上个例子中直接使用的是Struts支持的格式，因此没有报错...本篇博文就是讲解Struts如何对日期类型的格式更好地支持&lt;/p&gt;
&lt;p&gt;当我们使用的是yyyyMMdd这种格式的时候，我们看看Struts的自动封装能不能解析出相对应的日期&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170501185532304?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;直接抛出了异常&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170501185805667?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170501185929653?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;分析&quot;&gt;分析&lt;/h2&gt;
&lt;p&gt;那么，我们怎么让Struts能够支持更多的日期格式呢？？比如，我想Struts在自动封装数据的时候支持yyyyMMdd,yyyy年MM月dd日这样的日期格式.....&lt;/p&gt;
&lt;p&gt;Struts提供了转换器给我们使用，也就是，我们可以自定义转换器，&lt;strong&gt;我们定义了什么格式，Struts就可以根据对应的格式进行自动封装&lt;/strong&gt;...&lt;/p&gt;
&lt;p&gt;当我们写完自定义转换器，是需要向Struts说明我们写了，不然的话，Struts是不知道我们自定义了转换器类的...&lt;/p&gt;
&lt;p&gt;也就是说，我们要想实现类型转换，&lt;strong&gt;需要两步&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;编写自定义转换器类&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;告诉Struts我们写了转换器类&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h2 id=&quot;自定义转换器类&quot;&gt;自定义转换器类&lt;/h2&gt;
&lt;p&gt;一般地，我们想要编写自定义转换器类，都是实现StrutsTypeConverter类的....&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;16&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/5/1.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * 自定义异常转换器类&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; *&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * 我们要实现的就是：在Struts转换的时候，&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; *&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; MyConvter &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; StrutsTypeConverter {


    &lt;span class=&quot;co&quot;&gt;//需求，当Struts自动封装数据时，也支持yyyyMMdd,yyyy年MM月dd日等格式的支持\&lt;/span&gt;
    SimpleDateFormat[] format = {&lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;st&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;st&quot;&gt;&quot;yyyyMMdd&quot;&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;st&quot;&gt;&quot;yyyy年MM月dd日&quot;&lt;/span&gt;)};



    &lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * 把String转换为指定的类型 【String To Date】&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     *&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     *&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;@param map&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     *            当前上下文环境&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;@param strings&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     *            jsp表单提交的字符串的值&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;@param aClass&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     *            要转换为的目标类型&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     */&lt;/span&gt;
    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; Object &lt;span class=&quot;fu&quot;&gt;convertFromString&lt;/span&gt;(Map map, String[] strings, Class aClass) {

        &lt;span class=&quot;co&quot;&gt;//判断是否有值&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (strings == &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
        }
        &lt;span class=&quot;co&quot;&gt;//判断是否是日期类型的&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt; (Date.&lt;span class=&quot;fu&quot;&gt;class&lt;/span&gt; != aClass) {
            &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
        }

        &lt;span class=&quot;co&quot;&gt;//遍历循环&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;for&lt;/span&gt; (SimpleDateFormat dateFormat : format) {
            &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt; {

                &lt;span class=&quot;co&quot;&gt;//解析传递进来的第一个就行啦&lt;/span&gt;
                dateFormat.&lt;span class=&quot;fu&quot;&gt;parse&lt;/span&gt;(strings[&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]);
            } &lt;span class=&quot;kw&quot;&gt;catch&lt;/span&gt; (ParseException e) {
                &lt;span class=&quot;co&quot;&gt;//如果格式不对，那么就跳出当前的循环&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;continue&lt;/span&gt;;
            }
        }
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }
    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;convertToString&lt;/span&gt;(Map map, Object o) {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }
}
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;告诉struts我写了转换器类&quot;&gt;告诉Struts，我写了转换器类&lt;/h2&gt;
&lt;p&gt;告诉Struts我写了一个转换器类，也分两种方式&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;定义了局部转换器类，就&lt;strong&gt;当前包下的Action类有效&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;定义了全局转换器类，&lt;strong&gt;整个项目有效&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;全局转换器&quot;&gt;&lt;strong&gt;全局转换器&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;步骤：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;在src目录下创建一个名为&lt;code&gt;xwork-conversion.properties&lt;/code&gt;的文件&lt;/li&gt;
&lt;li&gt;配置文件的内容：需要转换的类类型=转换器类的全名&lt;code&gt;java.util.Date=qwer.MyConvter&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;hr/&gt;&lt;h3 id=&quot;局部转换器类&quot;&gt;&lt;strong&gt;局部转换器类&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;步骤：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;在当前的Action包下创建名为&lt;code&gt;Action名-conversion.properties&lt;/code&gt;的文件&lt;/li&gt;
&lt;li&gt;文件的内容为：需要转换的字段【如果是JavaBean里的字段，需要写上JavaBean的】=转换器类的全名&lt;code&gt;user.birthday=qwer.MyConvter&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;hr/&gt;&lt;h3 id=&quot;效果&quot;&gt;&lt;strong&gt;效果&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170501194842456?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170501194918941?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;错误提示页面&quot;&gt;错误提示页面&lt;/h2&gt;
&lt;p&gt;当发生了日期转换的异常时，Struts给出的页面是这样子的：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170501185929653?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这个我们称之为input视图，我们要做的就是给出用户更友好的提示，于是在struts.xml文件中配置：&lt;strong&gt;如果返回的是input视图，那么跳转到我们相对应的页面上&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;   &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;input&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/error.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170501200358151?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;

&lt;p&gt;在讲解开山篇的时候就已经说了，Struts2框架封装了文件上传的功能........本博文主要讲解怎么使用Struts框架来完成文件上传和下载&lt;/p&gt;
&lt;h2 id=&quot;回顾以前的文件上传&quot;&gt;回顾以前的文件上传&lt;/h2&gt;
&lt;p&gt;首先，我们先来回顾一下以前，我们在web中上传文件是怎么做的....&lt;a href=&quot;http://blog.csdn.net/hon_3y/article/details/66975268&quot; class=&quot;uri&quot;&gt;http://blog.csdn.net/hon_3y/article/details/66975268&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;可以使用FileUpload或者SmartUpload组件来完成文件上传的功能。但是呢，FileUpload组件使用起来是比较麻烦的...而SmartUPload解决中文的问题也非常麻烦&lt;/p&gt;
&lt;h2 id=&quot;使用struts进行文件上传&quot;&gt;使用Struts进行文件上传&lt;/h2&gt;
&lt;p&gt;从要导入的jar包我们就可以知道：&lt;strong&gt;Struts内部还是使用fileUpload上传组件&lt;/strong&gt;....但是它极大的简化地我们的具体操作&lt;/p&gt;
&lt;p&gt;那我们怎么用它呢？？看下面的图&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170502143053866?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;在Action中使用在表单中定义的name，就可以获取代表的上传文件的File对象&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;在Action中使用在表单中定义的name+FileName，就得到上传文件的名字&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;jsp页面&quot;&gt;JSP页面&lt;/h3&gt;
&lt;p&gt;在注册页面上拥有两个上传文件控件&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;form&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; action=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${pageContext.request.contextPath}/register&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; enctype=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;file&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;photo&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;file&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;photo1&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;注册&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;action&quot;&gt;Action&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;得到相对应的File对象、上传文件名称、上传文件的类型&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;package fileupload;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;import java.io.File;&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; * Created by ozc on 2017/5/2.&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt; */&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; FileUploadAction {

    &lt;span class=&quot;co&quot;&gt;//上传文件对应的File对象&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; File photo;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; File photo1;

    &lt;span class=&quot;co&quot;&gt;//得到上传文件的名称&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String photoFileName;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String photo1FileName;

    &lt;span class=&quot;co&quot;&gt;//得到上传文件的类型&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String photoContentType;
    &lt;span class=&quot;kw&quot;&gt;private&lt;/span&gt; String photo1ContentType;

    &lt;span class=&quot;co&quot;&gt;//给出相对应的setter&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPhoto&lt;/span&gt;(File photo) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;photo&lt;/span&gt; = photo;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPhoto1&lt;/span&gt;(File photo1) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;photo1&lt;/span&gt; = photo1;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPhotoFileName&lt;/span&gt;(String photoFileName) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;photoFileName&lt;/span&gt; = photoFileName;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPhoto1FileName&lt;/span&gt;(String photo1FileName) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;photo1FileName&lt;/span&gt; = photo1FileName;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPhotoContentType&lt;/span&gt;(String photoContentType) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;photoContentType&lt;/span&gt; = photoContentType;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setPhoto1ContentType&lt;/span&gt;(String photo1ContentType) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;photo1ContentType&lt;/span&gt; = photo1ContentType;
    }


    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;register&lt;/span&gt;() {

        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(photo1FileName);
        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(photoFileName);


        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;success&quot;&lt;/span&gt;;
    }



}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;hr/&gt;&lt;p&gt;成功得到数据：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170502145636348?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170502145659020?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h3 id=&quot;action业务代码&quot;&gt;Action业务代码：&lt;/h3&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;12&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;register&lt;/span&gt;() &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; IOException {

        &lt;span class=&quot;co&quot;&gt;//得到上传的路径&lt;/span&gt;
        String path = ServletActionContext.&lt;span class=&quot;fu&quot;&gt;getServletContext&lt;/span&gt;().&lt;span class=&quot;fu&quot;&gt;getRealPath&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&quot;upload&quot;&lt;/span&gt;);
        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(path);

        &lt;span class=&quot;co&quot;&gt;//创建文件对象&lt;/span&gt;
        File destFile = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; File(path,photoFileName);

        &lt;span class=&quot;co&quot;&gt;//调用工具类方法，将文件拷贝过去&lt;/span&gt;
        FileUtils.&lt;span class=&quot;fu&quot;&gt;copyFile&lt;/span&gt;(photo, destFile);

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&quot;success&quot;&lt;/span&gt;;
    }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170502180649632?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;h2 id=&quot;文件下载&quot;&gt;文件下载&lt;/h2&gt;
&lt;p&gt;我们以前是通过设置request消息头来实现文件下载的.....那么在Struts又如何实现文件下载呢？？&lt;/p&gt;
&lt;p&gt;我们请求服务器处理都是通过Action类来完成的，但是呢，&lt;strong&gt;Action类的业务方法都是返回字符串&lt;/strong&gt;。因此，Struts在&lt;code&gt;&amp;lt;result&amp;gt;&lt;/code&gt;节点中&lt;strong&gt;提供了类型为stream的type值。通过stream来配置相对应的信息，从而实现下载&lt;/strong&gt;！&lt;/p&gt;
&lt;h3 id=&quot;列出所有可以下载的文件&quot;&gt;列出所有可以下载的文件&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;Action类的业务方法&lt;br/&gt;```java&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;public class downLoadAction {&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;//列出所有可以下载的文件
public String list() {

    //得到upload文件夹
    String path = ServletActionContext.getServletContext().getRealPath(&quot;/upload&quot;);

    //创建file对象
    File file = new File(path);

    //列出文件下所有的文件
    File[] files = file.listFiles();

    //将这些文件存到request域中
    HttpServletRequest request = ServletActionContext.getRequest();
    request.setAttribute(&quot;files&quot;, files);
    return &quot;list&quot;;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;}&lt;br/&gt;```&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Struts配置文件&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;8&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;action&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;down_*&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;fileupload.downLoadAction&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;{1}&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;{1}&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/list.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;
           &lt;span class=&quot;co&quot;&gt;&amp;lt;!-- &amp;lt;result name=&quot;{1}&quot; type=&quot;stream&quot;&amp;gt;/index.jsp&amp;lt;/result&amp;gt;--&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;JSP显示页面&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;12&quot;&gt;
&lt;pre class=&quot;sourceCode jsp&quot;&gt;
&lt;code class=&quot;sourceCode jsp&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;c:if&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; test&lt;/span&gt;=&lt;span class=&quot;dt&quot;&gt;&quot;&lt;/span&gt;${files==&lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;}&lt;span class=&quot;dt&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

    对不起，没有下载的页面

&lt;span class=&quot;kw&quot;&gt;&amp;lt;/c:if&amp;gt;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;c:if&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; test&lt;/span&gt;=&lt;span class=&quot;dt&quot;&gt;&quot;&lt;/span&gt;${files!=&lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;}&lt;span class=&quot;dt&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

    &amp;lt;table&lt;span class=&quot;ot&quot;&gt; border&lt;/span&gt;=&lt;span class=&quot;dt&quot;&gt;&quot;1px&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;tr&amp;gt;
            &amp;lt;td&amp;gt;编号&amp;lt;/td&amp;gt;
            &amp;lt;td&amp;gt;文件名称&amp;lt;/td&amp;gt;
            &amp;lt;td&amp;gt;操作&amp;lt;/td&amp;gt;
        &amp;lt;/tr&amp;gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;c:forEach&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; items&lt;/span&gt;=&lt;span class=&quot;dt&quot;&gt;&quot;&lt;/span&gt;${files}&lt;span class=&quot;dt&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; varStatus&lt;/span&gt;=&lt;span class=&quot;dt&quot;&gt;&quot;file&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; var&lt;/span&gt;=&lt;span class=&quot;dt&quot;&gt;&quot;fileName&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
            &amp;lt;tr&amp;gt;

                &amp;lt;td&amp;gt;${file.count}&amp;lt;/td&amp;gt;

                    &lt;span class=&quot;co&quot;&gt;&amp;lt;%--如果直接写fileName，输出的名字带有路径，使用EL方法库来截取--%&amp;gt;&lt;/span&gt;
                &amp;lt;td&amp;gt;${fn:substringAfter(fileName, &lt;span class=&quot;st&quot;&gt;&quot;upload\\&quot;)}&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                &amp;lt;td&amp;gt;&lt;/span&gt;

&lt;span class=&quot;st&quot;&gt;                        &amp;lt;%--使用url标签来构建url，不然超链接带有中文，会出现乱码--%&amp;gt;&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                    &amp;lt;c:url var=&quot;&lt;/span&gt;url&lt;span class=&quot;st&quot;&gt;&quot; value=&quot;&lt;/span&gt;down_downLoad&lt;span class=&quot;st&quot;&gt;&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                        &amp;lt;c:param name=&quot;&lt;/span&gt;fileName&lt;span class=&quot;st&quot;&gt;&quot;&amp;gt;${fn:substringAfter(fileName, &quot;&lt;/span&gt;upload\\&lt;span class=&quot;st&quot;&gt;&quot;)}&amp;lt;/c:param&amp;gt;&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                    &amp;lt;/c:url&amp;gt;&lt;/span&gt;

&lt;span class=&quot;st&quot;&gt;                    &amp;lt;a href=&quot;&lt;/span&gt;${url}&quot;&amp;gt;下载&amp;lt;/a&amp;gt;

                &amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/c:forEach&amp;gt;&lt;/span&gt;

    &amp;lt;/table&amp;gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/c:if&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;Action代码：&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;12&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
    &lt;span class=&quot;co&quot;&gt;/**&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * 访问Action的业务方法仅仅返回的是字符串。因此Struts在result节点提供了stream类型的type，&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * 指定了stream就代表着我这是要下载的...&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;     * &amp;lt;p&lt;/span&gt;&amp;gt;
&lt;span class=&quot;er&quot;&gt;     * 既然要下载文件，那么肯定需要几样东西：&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;     * 1、文件名&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;     * 2、代表文件的流&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;     */&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    public String downLoad() {&lt;/span&gt;

&lt;span class=&quot;er&quot;&gt;        return &quot;downLoad&quot;;&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    }&lt;/span&gt;

&lt;span class=&quot;er&quot;&gt;    //得到要下载的文件名，Struts提供了自动封装的功能&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    private String fileName;&lt;/span&gt;


&lt;span class=&quot;er&quot;&gt;    //如果文件名是中文的，那么需要手动转换，因为超链接是get方法提交&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    public void setFileName(String fileName) throws UnsupportedEncodingException {&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;        fileName = new String(fileName.getBytes(&quot;ISO8859-1&quot;), &quot;UTF-8&quot;);&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;        this.fileName = fileName;&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;        System.out.println(fileName);&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    }&lt;/span&gt;

&lt;span class=&quot;er&quot;&gt;    //得到代表下载文件流，该方法由Struts调用&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    public InputStream getAttrInputStream() {&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;        return ServletActionContext.getServletContext().getResourceAsStream(&quot;/upload/&quot; + fileName);&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    }&lt;/span&gt;

&lt;span class=&quot;er&quot;&gt;    //下载时，显示的名称【如果是中文，可能会乱码，因此要URLencode】----&amp;gt;在Struts.xml文件中通过${}可获取&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    public String getDownFileName() throws UnsupportedEncodingException {&lt;/span&gt;

&lt;span class=&quot;er&quot;&gt;        fileName = URLEncoder.encode(fileName, &quot;UTF-8&quot;);&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;        return fileName;&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;Struts.xml&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;        &lt;span class=&quot;kw&quot;&gt;&amp;lt;action&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;down_*&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;fileupload.downLoadAction&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;{1}&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;{1}&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/list.jsp&lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;result&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;downLoad&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;stream&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;co&quot;&gt;&amp;lt;!--运行下载的类型，指定为所有的二进制文件--&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;param&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;contentType&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;application/octet-stream&lt;span class=&quot;kw&quot;&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;co&quot;&gt;&amp;lt;!-- 对应的是Action中属性： 返回流的属性【其实就是getAttrInputStream()】 --&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;param&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;inputName&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;attrInputStream&lt;span class=&quot;kw&quot;&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;co&quot;&gt;&amp;lt;!-- 下载头，包括：浏览器显示的文件名 --&amp;gt;&lt;/span&gt;               &lt;span class=&quot;co&quot;&gt;&amp;lt;!--${}这里不是EL表达式--&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;param&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;contentDisposition&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;attachment;filename=${downFileName}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;co&quot;&gt;&amp;lt;!-- 缓冲区大小设置 --&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;&amp;lt;param&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;bufferSize&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;1024&lt;span class=&quot;kw&quot;&gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
                
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;/result&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;效果-1&quot;&gt;效果&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170502191504928?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;h2 id=&quot;什么是模型驱动&quot;&gt;什么是模型驱动&lt;/h2&gt;
&lt;p&gt;在Struts2中模型驱动就是用来封装数据的..完成数据的自动封装.&lt;/p&gt;
&lt;h2 id=&quot;为什么要使用模型驱动&quot;&gt;为什么要使用模型驱动？&lt;/h2&gt;
&lt;p&gt;我们之前就使用过Sturts2的数据自动封装功能，是用params拦截器完成的...既然有了params拦截器，为啥还要模型驱动？？&lt;/p&gt;
&lt;p&gt;当我们使用params拦截器完成数据自动封装的时候，&lt;strong&gt;如果要封装的是JavaBean对象，那么在web表单中就必须的name写上&lt;code&gt;javaBean.属性名&lt;/code&gt;&lt;/strong&gt;....&lt;/p&gt;
&lt;p&gt;这样的话，web层和Action层就耦合了...因为&lt;strong&gt;在web层必须要知道封装的JavaBean对象是什么才能够实现自动封装&lt;/strong&gt;！&lt;/p&gt;
&lt;p&gt;而&lt;strong&gt;模型驱动&lt;/strong&gt;就解决了这个问题！&lt;strong&gt;即时不知道Action层的JavaBean对象是什么，也能够完成数据自动封装！&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;模型驱动的实现原理&quot;&gt;模型驱动的实现原理&lt;/h2&gt;
&lt;p&gt;实现模型驱动功能也是由拦截器完成的，我们来看看拦截器到底做了什么吧....&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;8&quot;&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;
&lt;code class=&quot;sourceCode xml&quot;&gt;
         &lt;span class=&quot;kw&quot;&gt;&amp;lt;interceptor&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;modelDriven&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;拦截方法的源码是这样的：&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;11&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;intercept&lt;/span&gt;(ActionInvocation invocation) &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {

        &lt;span class=&quot;co&quot;&gt;//得到当前要执行的Action对象&lt;/span&gt;
        Object action = invocation.&lt;span class=&quot;fu&quot;&gt;getAction&lt;/span&gt;();

        &lt;span class=&quot;co&quot;&gt;//判断该Action对象是否实现了ModelDriven接口&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(action &lt;span class=&quot;kw&quot;&gt;instanceof&lt;/span&gt; ModelDriven) {
            ModelDriven modelDriven = (ModelDriven)action;
            
            &lt;span class=&quot;co&quot;&gt;//获取值栈对象&lt;/span&gt;
            ValueStack stack = invocation.&lt;span class=&quot;fu&quot;&gt;getStack&lt;/span&gt;();
            
            &lt;span class=&quot;co&quot;&gt;//得到model的对象&lt;/span&gt;
            Object model = modelDriven.&lt;span class=&quot;fu&quot;&gt;getModel&lt;/span&gt;();
            
            &lt;span class=&quot;co&quot;&gt;//把对象存到值栈对象中&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(model != &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;) {
                stack.&lt;span class=&quot;fu&quot;&gt;push&lt;/span&gt;(model);
            }
            &lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;refreshModelBeforeResult&lt;/span&gt;) {
                invocation.&lt;span class=&quot;fu&quot;&gt;addPreResultListener&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; ModelDrivenInterceptor.&lt;span class=&quot;fu&quot;&gt;RefreshModelBeforeResult&lt;/span&gt;(modelDriven, model));
            }
        }

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; invocation.&lt;span class=&quot;fu&quot;&gt;invoke&lt;/span&gt;();
    }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;把model对象放到值栈对象之后，&lt;strong&gt;Parameters 拦截器将把表单字段映射到 ValueStack 栈的栈顶对象的各个属性中.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;也就是说，&lt;strong&gt;使用模型驱动是需要配合Params拦截器完成的！&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;使用数据模型驱动&quot;&gt;使用数据模型驱动&lt;/h2&gt;
&lt;h2 id=&quot;实现modeldriven接口&quot;&gt;实现ModelDriven接口&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;实现ModelDriven接口，重写方法....&lt;strong&gt;实现接口时，要封装的对象是什么，形参类型就给什么&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;8&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; UserAction &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; ActionSupport &lt;span class=&quot;kw&quot;&gt;implements&lt;/span&gt; ModelDriven&amp;lt;User&amp;gt; {



    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;login&lt;/span&gt;() {

        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; SUCCESS;
    }


    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;getModel&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;;
    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;对象实例化&quot;&gt;对象实例化&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;9&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt; UserAction &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; ActionSupport &lt;span class=&quot;kw&quot;&gt;implements&lt;/span&gt; ModelDriven&amp;lt;User&amp;gt; {


    &lt;span class=&quot;co&quot;&gt;//这里一定要实例化&lt;/span&gt;
    User user = &lt;span class=&quot;kw&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;User&lt;/span&gt;();

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;getUser&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; user;
    }

    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;setUser&lt;/span&gt;(User user) {
        &lt;span class=&quot;kw&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;user&lt;/span&gt; = user;
    }

    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; User &lt;span class=&quot;fu&quot;&gt;getModel&lt;/span&gt;() {
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; user;
    }
}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;测试&quot;&gt;测试&lt;/h2&gt;
&lt;p&gt;JSP提交页面，直接&lt;strong&gt;写上JavaBean对象的属性就行了..不需要写上JavaBean对象的名称！&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; readability=&quot;10&quot;&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;
&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;form&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; action=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;${pageContext.request.contextPath}/user_execute&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;&amp;lt;table&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; border=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;用户名：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt; 密码：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;电话：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;cellphone&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt; 邮箱：&lt;span class=&quot;kw&quot;&gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;email&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;kw&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;kw&quot;&gt;&amp;lt;td&amp;gt;&amp;lt;input&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;submit&quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; value=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&quot;提交&quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;kw&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;


&lt;span class=&quot;kw&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;&lt;li&gt;在Action业务方法中输出User对象的数据&lt;/li&gt;
&lt;/ul&gt;&lt;div class=&quot;sourceCode&quot; readability=&quot;7&quot;&gt;
&lt;pre class=&quot;sourceCode java&quot;&gt;
&lt;code class=&quot;sourceCode java&quot;&gt;
    &lt;span class=&quot;fu&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;fu&quot;&gt;execute&lt;/span&gt;() &lt;span class=&quot;kw&quot;&gt;throws&lt;/span&gt; Exception {

        System.&lt;span class=&quot;fu&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;(user);
        &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt; SUCCESS;
    }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170504222354131?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;这里写图片描述&quot;/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;如果文章有错的地方欢迎指正，大家互相交流。&lt;strong&gt;习惯在微信看技术文章，想要获取更多的Java资源的同学，可以关注微信公众号:Java3y&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Sun, 11 Mar 2018 01:48:00 +0000</pubDate>
<dc:creator>Java3y</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/Java3y/p/8543226.html</dc:identifier>
</item>
<item>
<title>【揭晓】工业互联网平台浪潮来临，最全的国内外平台都长的啥样！ - 唯笑志在</title>
<link>http://www.cnblogs.com/lsjwq/p/8543220.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/lsjwq/p/8543220.html</guid>
<description>&lt;p&gt;&lt;span&gt;        工业互联网刚刚兴起，十九大和两会领导人也多次提及。但是对于新生事物，每个厂家、每个组织、每个人的都理解都不一样，甚至千差万别，正因为如此才会有无限生机。但是也有其共性的东西，1、要是一个云平台、2、是一个资源平台，3、是一个物联网平台，4、是一个数据存储平台、5、是一个分析平台......更高是工业互联网平台，有没有超越工业互联网平台的体系？可能区块链的理念更有可能超越工业互联网平台，有可能有人认为这个太遥远了，人生不过百年，这些事情的发生也只是瞬间的事。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;        在数字化转型、智能制造的的大背景下，物联网站在了时代的风口。&lt;strong&gt;&lt;span&gt;芯片、传感器、模组、网路、平台、终端设备、系统集成、应用服务&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;等整个产业链不断扩大。而素有物联网“战略要塞”之称的物联网平台，也正成为各环节参与方必争之地。&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311095908390-1930900901.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;传统IT企业、通信运营商、通信设备商、互联网企业、工业方案提供商、新型创业公司等多股势力如雨后春笋般纷纷涌入，在经过井喷期的热闹，平台沉淀进入下半场盘整，物联网平台基于IaaS、PaaS、SaaS三种云计算服务模型，逐步完善了其功能体系，即&lt;strong&gt;&lt;span&gt;ICP（基础设施云服务平台）、CMP（连接管理）、DMP（设备管理平台）、AEP（应用使能平台）、BAP（业务分析平台）等&lt;/span&gt;&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;span&gt;    本文按照4大领域的玩家的分类方法逐一介绍PaaS物联网平台，其中包含&lt;span&gt;&lt;strong&gt;通信领域、互联网领域、软件系统服务领域、垂直领域&lt;/strong&gt;。其中，通信领域包括以&lt;strong&gt;&lt;span&gt;移动、联通、电信、华为、新华三&lt;/span&gt;&lt;/strong&gt;为代表的电信运营商和电信设备商；互联网领域包括&lt;span&gt;&lt;strong&gt;阿里、腾讯、百度、小米&lt;/strong&gt;等；软件系统服务领域包括&lt;span&gt;&lt;strong&gt;IBM、微软、PTC&lt;/strong&gt;等；垂直领域主要分为两个部分，包括以&lt;strong&gt;&lt;span&gt;三一重工、GE、西门子&lt;/span&gt;&lt;/strong&gt;等为代表的工业类企业，以&lt;span&gt;&lt;strong&gt;基本立子、普奥云、机智云、涂鸦智能、寄云&lt;/strong&gt;等为代表的创业企业。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;colgroup&gt;&lt;col width=&quot;147&quot;/&gt;&lt;col width=&quot;87&quot;/&gt;&lt;col width=&quot;236&quot;/&gt;&lt;/colgroup&gt;&lt;tbody readability=&quot;2&quot;&gt;&lt;tr&gt;&lt;td width=&quot;90&quot; height=&quot;21&quot;&gt;&lt;span&gt;&lt;strong&gt;玩家领域&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;172&quot;&gt;&lt;span&gt;&lt;strong&gt;企业名称&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;162&quot;&gt;&lt;span&gt;&lt;strong&gt;平台名称&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;12&quot; width=&quot;90&quot; height=&quot;277&quot;&gt;&lt;span&gt;通信领域&lt;/span&gt;&lt;/td&gt;
&lt;td rowspan=&quot;2&quot; width=&quot;85&quot;&gt;&lt;span&gt;中国移动&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;162&quot;&gt;&lt;span&gt;OneNET&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;238&quot; height=&quot;21&quot;&gt;&lt;span&gt;CCMP&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;中国联通&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;321&quot;&gt;&lt;span&gt;联通物联网平台2.0&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td width=&quot;114&quot; height=&quot;43&quot;&gt;&lt;span&gt;中国电信&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;321&quot;&gt;&lt;span&gt;中国电信&lt;br/&gt; 物联网开放平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;沃达丰&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;GDSP&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;Verizon&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;Verizon ThingSpace IoT Platform&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;华为&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;Oceanconnect&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;新华三&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;绿洲平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;中兴&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;ThingxCLoud&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;思科&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;Jasper&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;爱立信&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;DCP&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;诺基亚&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;IMPACT&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;6&quot; width=&quot;90&quot; height=&quot;128&quot;&gt;&lt;span&gt;互联网领域&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;百度&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;162&quot;&gt;&lt;span&gt;天工物联网平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;阿里&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;Link物联网平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;腾讯&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;QQ物联&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;谷歌&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;Android Things&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;亚马逊&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;AWS IoT&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;114&quot; height=&quot;21&quot;&gt;&lt;span&gt;小米&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;85&quot;&gt;&lt;span&gt;小米开放平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;colgroup&gt;&lt;col width=&quot;147&quot;/&gt;&lt;col width=&quot;87&quot;/&gt;&lt;col width=&quot;236&quot;/&gt;&lt;/colgroup&gt;&lt;tbody readability=&quot;5&quot;&gt;&lt;tr readability=&quot;4&quot;&gt;&lt;td rowspan=&quot;6&quot; width=&quot;94&quot; height=&quot;107&quot;&gt;&lt;span&gt;软件/系统服务领域&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;191&quot;&gt;&lt;span&gt;IBM&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;238&quot;&gt;&lt;span&gt;IBM Watson IoT  Platform&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;微软&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;252&quot;&gt;&lt;span&gt;Microsoft Azure&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;Oracle&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;252&quot;&gt;&lt;span&gt;Oracle IoT Cloud Service&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;PTC&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;252&quot;&gt;&lt;span&gt;ThingWorx&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;SAP&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;252&quot;&gt;&lt;span&gt;Leonardo&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;Bonc（东方国信）&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;252&quot;&gt;&lt;span&gt;Cloudiip&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;29&quot; width=&quot;94&quot; height=&quot;555&quot;&gt;&lt;span&gt;垂直&amp;amp;创业领域&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;191&quot;&gt;&lt;span&gt;西门子&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;237&quot;&gt;&lt;span&gt;MindSphere&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;GE&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Predix&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;徐工集团&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Xrea&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;博世&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Bosh IoT Suite 2.0&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;施耐德&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Ecostruxure&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;霍尼韦尔&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Movilizer&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;ABB&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Ability&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;研华&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;WiseCloud&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;2&quot; width=&quot;137&quot; height=&quot;43&quot;&gt;&lt;span&gt;海尔&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;海尔U+&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;227&quot; height=&quot;21&quot;&gt;&lt;span&gt;COSMOPlat&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;航天云网&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;INDICS&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;1&quot; width=&quot;137&quot; height=&quot;38&quot;&gt;&lt;span&gt;联想&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot; height=&quot;38&quot;&gt;&lt;span&gt;联想全球智联平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;树根互联&lt;/span&gt;&lt;/td&gt;
&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;根云&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;机智云&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;机智云&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;艾拉物联&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Ayla IoT Platform&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;基本立子&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;立子云&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;普奥&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;普奥云&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;智物联&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Mixlinker&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;智云奇点&lt;/span&gt;&lt;/td&gt;
&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;AbleCloud&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;远景能源&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;EnOS能源物联网平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;涂鸦智能&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;涂鸦智能&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;云智易&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;云智易物联云平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;上海庆科&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;FogCloud&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;小葱智能&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;小葱智能物联网平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;2&quot;&gt;&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;寄云科技&lt;/span&gt;&lt;/td&gt;
&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;NeuSeer工业互联网平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;myDevice&lt;/span&gt;&lt;/td&gt;
&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;Cayenne&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;中兴CLAA&lt;/span&gt;&lt;/td&gt;
&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;MSP多业务统一平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;粒聚科技&lt;/span&gt;&lt;/td&gt;
&lt;td rowspan=&quot;1&quot; colspan=&quot;1&quot;&gt;&lt;span&gt;LETSIOT平台&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td width=&quot;137&quot; height=&quot;21&quot;&gt;&lt;span&gt;物联智慧&lt;/span&gt;&lt;/td&gt;
&lt;td width=&quot;301&quot;&gt;&lt;span&gt;Kalay云&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;通信领域&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;中国移动的OneNET和CCMP&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：中国移动&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：OneNET&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：open.iot.10086.cn&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311095932249-639126460.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;OneNET是中移物联网有限公司基于开放、共赢的理念，面向公共服务自主研发的开发云平台，为各种跨平台物联网应用、行业解决方案提供简便的云端接入、海量存储、计算和大数据可视化服务，从而降低物联网企业和个人（创客）的研发、运营和运维成本，使物联网企业和个人（创客）更加专注于应用，共建以OneNET设备云为中心的物联网生态环境。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;OneNET平台提供设备全生命周期管理相关工具，帮助个人、企业快速实现大规模设备的云端管理；也开放第三方接口和，加速个性化应用系统构建；同时，可定制化的“和物”APP，为您提供云、管、端整体解决方案。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：中国移动&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：CCMP 3.0&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：暂无&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100003480-412676674.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;2017年11月25日中国移动发布自主研发的全球最大规模的物联网连接管理平台CCMP 3.0版本。该平台由中国移动历时5年自主研发、逐步演进而来的新一代物联网连接管理平台。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;span&gt;     全新的CCMP3.0主要提供5个方面的能力，包括业务运营能力、应用集成能力、国际业务拓展能力、NB-IOT能力和安全防护能力。其中，业务运营、应用集成和安全防护三个能力在2.0版本的基础上进行了完全的内核更新演变成全新业务能力；国际业务和NB-IoT两大能力是新上线的两大能力，这两大能力为企业客户拓展跨国业务以及更丰富的物联网业务场景提供了新的可能。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;strong&gt;中国联通的物联网平台2.0&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：中国联通&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：联通物联网平台2.0&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.m2m10010.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100021712-1559209659.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;中国联通物联网平台2.0是自中国联通2015年首次发布物联网连接管理平台的升级，是一个基于云的先进平台，它提供新一代连接管理功能可支持启动、管理并迅速扩展联网设备业务或企业部署。主要基于Control Center 7.0这一全新的物联网平台，面向客户提供六大能力（1）SIM卡姿服务；（2）自动化规则设置；（3）API集成；（4）设备实施诊断；（5）账单及报表查询；（6）企业账户管理。并在原有的平台基础上，新增全方位安全防护、业务洞察能力、协作应用集成、低功耗广域网络支持以及增值业务运营等七大功能，支持企业用户多样化商业模式的同时满足其多种运营需求。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;  &lt;span&gt;&lt;strong&gt;中国电信的物联网开放平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：中国电信&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：中国电信物联网开放平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：open.189.cn&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100037760-1090990986.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;物联网开放平台由连接管理、应用使能和垂直服务三大板块构成，全球化、安全可信的端到端服务贯穿始终。平台将具备三大优势：一是全球连接、一点服务，二是开放创新、安全可信，三是数据感知、智能决策。中国电信将依托物联网开放平台，借鉴行业经验、整合内部资源，联合全球合作伙伴，打造产业核心竞争力、共创商业价值。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;中国电信物联网开放平台由爱立信的设备连接平台提供支持，该平台于2012年推出，现在支持超过25家运营商和超过2000家企业客户，并且成为爱立信物联网（IoT）加速器平台的一部分。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;span&gt;&lt;strong&gt;沃达丰的GDSP&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：沃达丰&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Global Data Service Platform，GDSP&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：m2m.vodafone.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100051767-418542680.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;沃达丰全球数据服务平台（GDSP）旨在提供安全自助服务平台管理所连接的M2M部署。帮助企业在世界上的任何地方都可以简单有效的管理它们的物联网设备。该平台提供完整的身份验证和访问控制机制，授权用户可以通过一个易于使用的自助服务门户来访问关键信息。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;该平台赋予客户资产可视化能力，客户可以在沃达丰全球网络上控制其所有的物联网设备。它可以追踪安装了沃达丰全球SIM卡的资产的位置，在设备状态异常的时候能够发出提醒，还能提供性能和数据使用的相关报告。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;strong&gt;华为OceanConnect&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; width=&quot;128px&quot; data-ratio=&quot;0.19083969465648856&quot; data-src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ugrXxBGqCqbhfUrn18LHPpHev8AeC33icKJnLegQVeCcCxhlq0VOOQgGjkIHCJTcpKiaSJN23jXNEAg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;262&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：华为&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：华为OceanConnect物联网平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：developer.huawei.com/ict/cn/site-oceanconnect&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084224720-2140968601.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      华为OceanConnect物联网平台是面向运营商和企业/行业领域的统一开放云平台，提供开放的三层架构，提供开放的连接管理平台，ICT融合的设备管理平台和灵活的应用使能平台。通过开放的APIs和独有的Agent，向上集成各种行业应用，向下接入各种传感器、终端和网关，帮助运营商和企业/行业客户实现多种行业终端的快速接入，多种行业应用的快速集成。华为OceanConnect物联网平台提供安全可控的全联接管理，使能行业革新，构建IoT生态。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;OceanConnect提供众多行业生态API供开发者灵活使用，包括数据模型、设备管理、用户管理、规则处理等，覆盖了多种行业生态。比如智能家庭、车辆网、油气能源生态、智慧城市生态等。基于OSGi框架的Agent，支持边缘计算功能，同时支持家庭网关、工业网关以及网关下的设备平台，另外推出系列化Agent Lite、Agent IPC、Agent Tiny（可部署在Lite OS之上）等，扩展了更多种协议的设备接入可能，比如Onvif摄像头、Modbus设备、OPC-UA设备等。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;strong&gt;新华三的绿洲物联网平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：新华三集团&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：绿洲物联网平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.h3c.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100110243-1741551025.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;      &lt;span&gt;新华三绿洲物联网平台，是针对物联网解决方案的专用PaaS平台，在物联网解决方案中，负责对上支撑应用，对下适配终端，同时实现横向能力集成。为达到上述目标，绿洲物联网平台提供数据处理能力、应用支撑能力、生态开放能力、架构适应能力（大并发，高可靠，自恢复，可伸缩）、安全保障能力、设备管理能力等。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;绿洲物联网平台继承了新华三绿洲平台架构，采用了全分布式、可弹性扩展、基于Docker技术的微服务架构。绿洲物联网平台提供一部分通用PaaS功能，包括架构管理子系统、在线开发子系统、安全管理子系统及认证管理子系统。同时，在此基础上，提供了一系列物联网基础服务，包括连接管理子系统、设备管理子系统、数据处理子系统、应用支撑子系统以及内嵌的物联网基础应用等。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;中兴ThingxCloud兴云&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; width=&quot;57px&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.6349206349206349&quot; data-s=&quot;300,640&quot; data-src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ugrXxBGqCqbhfUrn18LHPpHgpVj6UrnOMiaZ0oGG6icvNbZ9QQZGsbwpicHKuh9zPhH6HvC6ekVIUw4Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;756&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：中兴通讯&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：ThingxCloud兴云&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：iot.zte.com.cn&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;2017年12月12日，中兴通讯于上海召开2017物联网产业峰会，发布新一代物联网平台ThingxCloud兴云。ThingxCloud兴云作为专为使能而生的IoT PaaS平台，上承应用、下联设备、内生数据、赋能物联网、助力生态圈，开启了物联网共建、共享、共赢新模式。基于大数据、AI、安全基础能力，实现了物联网的设备管理、连接管理以及应用使能管理，适配各种通讯协议，屏蔽网路技术差异，使底层网络对上层应用透明，为物联网行业提供终端连接、应用创新、数据共享、运营支撑、集成服务等能力。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;中兴通讯通过ThingxCloud兴云生态运营门户，简单、友好、易用的物联网开发工具，丰富的技术资料等，支撑GIA（Global Iot Alliance）联盟中的各方合作伙伴，贡献自己的力量，完成共建、共享、共赢，开创物联网新时代。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;思科Jasper的Control Center&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084434182-1711240480.png&quot; alt=&quot;&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;公司：Cisco&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;名称：Control Center&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;网址：www.jasper.com&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;  &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084338768-534257442.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;2016年，思科（Cisco）斥资14亿美元收购了Jasper全部股权，从而Jasper变成了Cisco Jasper，而Control Center也从电信业走向物联网，首先，电信运营商下多种接入方式，例如LTE-M，NB-IOT等这两种接入方式都是面向物联网的；其次，灵活扩展，利用Jasper的全球电信运营商资源，可以很方便地将一个地区的服务扩展到多个地区或者全球；最后，完善的设备在线监控，管理，维护，自动优化等等服务功能。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;Jasper 作为全球 CMP 行业的领军者，在全球550多个运营商网络上管理物联网设备，超过15000企业正在使用该平台，并以每个月增加150万个设备速度继续扩大。目前，设备连接量已超6200万。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;爱立信DCP&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;公司：爱立信，Ericsson&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;名称：Ericsson Device Connection Platform，DCP&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;网址：www.ericsson.com/ourportfolio/products/device-connection-platform&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100136461-1758198416.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;      &lt;span&gt;爱立信设备连接平台，是2011年并购TelenorConnexion而来，支持运营商从设备生命周期管理连接，销售准备和业务扩展这三个角度建立M2M业务。该平台可处理连接管理、业务签约管理和OSS/BSS，实现运营商与企业之间业务流程的自动化，支撑企业自主管理其联网终端。在DCP之外，爱立信还开发了物联网加速器方案，该方案包括数据管理、计费、终端管理、连接服务和分析，主要目的是通过在终端适配、数据管理以及应用呈现、管理等方面提供引擎和软件开发套件，大大缩短物联网应用的开发和部署时间，降低客户从CAPEX到OPEX投资的初始风险和成本。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;据悉，DCP已经为数千家企业提供按需自主可管理的、全球化的物联网连接管理能力，创新的物联网加速引擎支撑着快速的物联网应用开发和部署。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;strong&gt;诺基亚的IMPACT&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：诺基亚&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：IMPACT&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：www.nokia.com&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100151593-214588663.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;诺基亚作为物联网的创新者和使能者，多年前就开始对物联网平台进行打造，经过多年的技术积累和现网优化形成了目前业界领先的物联网管理平台IMPACT， 透过IMPACT平台来打造端到端的产业链。以IMPACT物联网智能管理平台为核心的方案架构给运营商、企业和政府,提供了一个针对任何终端、任何协议和贯穿任何应用的物联网解决方案平台，可以处理数据收集、事件处理、设备管理、数据分析, 支持安全性和多样化的应用。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;诺基亚IMPACT平台已在全球广泛应用，在设备管理领域全球市场份额第一，目前全球连接到此平台的设备种类达到15000种，设备总量达15亿。截止2017年6月，全球共用53个应用案例。客户涵盖Vodafone、Orange、Verizon、AT&amp;amp;T、KT、Airtel等全球一类运营商以及Continental、Mercedes-benz等全球行业大客户。并在国际上获得多项奖项，包括2017最佳物联网/ M2M战略创新奖、2017 GLOMO最佳移动网络IoT创新奖、2016 Broadband最佳IoT创新奖、2016 eTECH工业物联网创新奖。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;互联网领域&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;阿里的Link物联网平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：阿里巴巴&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：Link物联网平台&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：iot.aliyun.com&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100206515-1196741584.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;2017年10月12日，阿里云在2017杭州•云栖大会上宣布正式发布Link物联网平台。该平台战略投入物联网云端一体化使能平台、物联网市场、ICA全球标准联盟等三大基础设施，推动生活、工业、城市三大领域的智联网。在未来5年内，将持续投入，实现“服务100万开发者、沉淀100万物联网应用解决方案、链接100亿物联网设备，撬动全球物联网产业实现万亿市场规模”目标。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;平台提供生活物联网平台、城市物联网平台、AliOS things、物联网语音服务、物联网套件、ID²设备身份认证平台、TEE安全套件、嵌入式系统安全套件等多种产品服务。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;腾讯的QQ物联&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：腾讯&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：QQ物联&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：iot.open.qq.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;2014年10月，“QQ物联智能硬件开放平台”发布，将QQ账号体系及关系链、QQ消息通道能力等核心能力，提供给可穿戴设备、智能家居、智能车载、传统硬件等领域合作伙伴，实现用户与设备及设备与设备之间的互联互通互动，充分利用和发挥腾讯QQ的亿万手机客户端及云服务的优势，更大范围帮助传统行业实现互联网化。主要优势是创新产品能力、降低研发成本、扩大社交影响。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;strong&gt;百度的百度天工&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：百度&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：百度天工智能物联网平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：cloud.baidu.com/solution/iot/index.html&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100229869-1316707721.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;百度天工是融合了百度ABC（AI、Big Data、Cloud）的“一站式、全托管”智能物联网平台。从端到云，从数据采集、传输、计算、存储、展现到分析，天工提供了全面的基础产品和服务。立足于”连接”、”理解”到”唤醒“的各项关键能力，从而轻松构建各类智能物联网应用，促进行业变革。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;凭借百度在人工智能、大数据、云计算、移动服务、安全等领域的优势，百度天工物联网云平台建立起了四大优势：一是基于百度云提供从网络到中间件，从计算到存储，从大数据到人工智能的全栈服务；二是遍布国内的自研数据中心，丰富的资源（节点/IDC），T级带宽接入，提供高扩展性，支撑海量设备快速接入；三是支持Modbus、BACnet等各种协议解析与转换；四是基于国内最大的服务器集群提供最具优势的大数据分析能力，快速发现数据的价值。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;谷歌的AndroidThings&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&quot; alt=&quot;&quot; width=&quot;69px&quot; data-ratio=&quot;0.41284403669724773&quot; data-src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ugrXxBGqCqbhfUrn18LHPpHRPKTdDSibeKFWhaiauTlp4ickvIUqhL6nEjdhLs5F3n1k43yO4f2wPib8g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;218&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：谷歌&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Android Things&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：developer.android.com/things/index.html&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084559366-1539914443.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;2016年12月，谷歌第一次对外公布了物联网操作系统Android Things的开发者预览版本。新版操作系统将能够支持一系列物联网设备的计算平台。而其前身是2015年5月29日，谷歌I/O开发者大会上，谷歌宣布推出了全新的Brillo操作系统。Android Things除了继承 Brillo 的功能，还加入了 Android Studio、Android SDK、Google Play 服务以及 Google 云平台等 Android 开发者熟悉的工具和服务。任何 Android 开发者现在都可以利用 Android API 和 Google 服务轻松构建智能联网设备。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;Android Things 天生支持物联网通讯协议 Weave，可让所有类型的设备能够连上云端并与其他服务如 GoogleAssistant 交互，现在已经有一些 IoT 设备像 Nest、Hue、SmartThings、WeMo、LiFX 等前来支援 Weave。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;strong&gt;亚马逊的AWS IoT&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084623243-1404490782.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：亚马逊&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：AWS IoT&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.amazonaws.cn/en/inbounddg-events/iot&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084639497-27122639.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; &lt;span&gt;      AWS IoT 解决方案是一个全托管的云平台，使互联设备可以轻松安全地与云应用程序及其他设备交互。AWS IoT 可支持数十亿台设备和数万亿条消息，并且可以对这些消息进行处理并将其安全可靠地路由至 AWS 终端节点和其他设备。AWS IoT 平台支持您将设备连接到 AWS 服务和其他设备，保证数据和交互的安全，处理设备数据并对其执行操作，以及支持应用程序与即便处于离线状态的设备进行交互。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;小米的IoT开发者平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084657781-401072731.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：小米&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：小米IoT开发者平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：iot.mi.com/index.html&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100244749-1726962059.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;      &lt;span&gt;小米IoT开发者平台是小米面向IoT（Internet of Things）领域的开放平台，主要服务智能家居设备、智能家电设备、智能可穿戴设备、智能出行设备等消费类智能硬件（家庭使用）及其开发者。小米IoT开发者平台不仅提供联网模组、云平台、APP远程控制、数据云端存储、OTA、用户账号等软硬件服务，更有开放设备互联互通、小米用户群体、小米AI控制、小米众筹／有品商城等小米特色资源，帮助开发者打造真智能、可互通、受众广、活跃高的智能产品。（注：小米IoT开发者平台当前仅面向中国大陆地区拥有独立自主品牌的智能硬件企业开放，智能硬件集成商、方案商、ODM/OEM企业、模组商等相关开发者群体暂未开放。同时，也暂未面向应用开发者和个人开发者群体开放。）&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;软件/系统服务领域&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;IBM的Watson IoT&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;&lt;span&gt;公司：IBM&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：IBM Watson IoT Platform&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.ibm.com/internet-of-things/cn-zh/iot-solutions/watson-iot-platform&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100259428-1877058731.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;     IBM Watson IoT Platform架构在基于Cloud Foundry 开源项目的Blumix云产品之上，通过它，企业安全、轻松地将包括芯片、智能设备在内的各种设备连接到应用及行业解决方案，确保为企业提供创新与转型所需的新洞察力。IBM Watson IoT Platform平台提供四大物联网解决方案：&lt;strong&gt;分析、连接、信息管理、风险管理。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;19&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;分析：&lt;/strong&gt;&lt;span&gt;从海量物联网数据中获得洞察，作出智慧决策，优化运营。应用实时分析，监视当前状况，作出相应的响应。对结构化和非结构化数据进行认知型分析，了解状况，通过各种选项进行推理，并随着情况的不断变化进行学习。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;连接：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;将各种设备（小到芯片，大到智能家电）轻松连接到应用和行业解决方案。执行设备管理功能，通过基于云的服务实现扩展，然后利用丰富的分析功能，获取洞察并实现组织转型。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;信息管理：&lt;/strong&gt;&lt;span&gt;智能地转换和存储物联网数据。从各种数据源和平台获取数据，然后使用丰富的分析功能提取重要价值。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;风险管理：&lt;/strong&gt;&lt;span&gt;使用丰富的仪表板功能和高级警报功能，管控风险，获得整个物联网境中的洞察。通过单个控制台，根据通知采取行动，发现企业环境中任何位置发生的事件。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;微软的Azure IoT&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;&lt;span&gt;公司：Microsoft&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Microsoft Azure IoT&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：azure.microsoft.com/zh-cn/suites/iot-suite&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100315679-725504750.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;      &lt;span&gt;Azure 是一个综合性云服务平台，开发人员和 IT 专业人士可通过我们的全球数据中心网络使用该平台来生成、部署和管理应用程序。集成工具、DevOps和Marketplace支持高效生成任何内容。其中IoT套件架构在Azure之上，可帮助客户加速物联网解决方案的开发。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;      &lt;span&gt;迅速连接，高效扩展：使用适用于多个平台（包括 Linux、Windows 和实时操作系统）的设备 SDK 添加新设备并连接现有设备。无论你的项目大小，都可从少数几个传感器轻松扩展至数百万台同步连接的设备，并依赖 Azure 的全球可用性。&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;17&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;分析并处理数据：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;从设备和传感器收集以前未使用的数据，并使用内置功能显示并处理该数据。以灵活、可扩展的高性能方法使用基于 SQL 的语法来设置实时分析，而无需管理复杂的基础结构和软件。使用大型算法库来扩展预测分析解决方案。将 R 和 Python 语言中的代码直接集成到你的工作区中，从而扩展实时分析和机器学习解决方案。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;集成并转换业务：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;AzureIoT可与第三方应用程序（包括Salesforce、SAP、Oracle Database 和 MicrosoftDynamics）轻松集成，轻松访问数据并使分散的系统保持最新。只需极少的开发工作即可通过移动推送通知引擎将数百万消息发送给异构设备。生成与 Microsoft 和第三方 Web API 相集成的移动和 Web 应用程序，并使用 OAuth2.0 生成自己的安全 WebAPI。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;设备身份验证：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;为每个连接的设备设置标识和凭据，并帮助保持云到设备和设备到云消息的保密性。并且，选择性地撤消特定设备的访问权限以保持系统的完整性。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;Oracle的IoT Cloud Service&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;&lt;span&gt;公司：Oracle&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Oracle IoT Cloud Service&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：https://docs.oracle.com/en/cloud/paas/iot-cloud/index.html&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100330264-1069277883.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;      &lt;span&gt;Oracle 物联网云服务是一种托管的平台即服务（PaaS）云服务，可帮助用户制定关键业务决策和策略，允许设备连接到云端，实时分析设备的数据并将数据与企业应用程序，Web服务或其他Oracle云服务（如Oracle商务智能云服务）集成。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;      &lt;span&gt;Oracle物联网云服务可进行设备虚拟化、高速消息传递、端点管理、事件存储、允许连接3大类型设备：网关设备、流处理以及企业软件库连接等。其中，设备虚拟化支持三大类设备的管理，包括网关设备、直连设备以及通过网关连接的设备；Oracle物联网云服务提供了一个设备消息传递服务器，用于在设备和企业应用程序之间交换消息传递REST请求；端点管理支持可连入其物联网云服务设备类型的从注册、激活、停用、退役全生命周期的信息存储与管理；进行实时数据流分析以及对接聚合其他软件服务。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;SAP 的Leonardo IoT&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;&lt;span&gt;公司：SAP&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：SAP Cloud Platform IoT&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：cloudplatform.sap.com/index.html&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100346658-1451430931.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;SAP Cloud Platform IoT可以将设备连接到SAP云平台，从而在物联网应用中使用设备传入的数据。它提供了规模化的物联网设备从注册到退出的全生命周期管理能力，通过各种各样的物联网协议安全地连接到远程设备的能力，对边缘端或云端的传感器数据进行收集、处理和存储的能力，把SAP云平台上的数据提供给应用程序进行调用的能力。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;SAP Leonarod IoT平台可以划分为四层：&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;18&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1）边缘层-SAP Leonardo Edge：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;提供边缘端的协议转换、数据持久化和数据分析等一系列服务，实现不用考虑连接方式的情况下，将数据轻松发送到云端，同时支持在边缘端执行关键的业务流程&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2）平台层-SAP Leonardo Foundation：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;提供原始数据的接入能力、海量数据的处理能力、与业务系统的集成能力，并提供端到端的物联网应用开发工具集&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;3）应用层-SAP Leonardo Applications：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;覆盖6大领域的应用，实现产品互联、设备互联、车队互联、基础设施互联、市场互联、人的互联&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;4）桥接层-SAP Leonardo Bridge：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;提供一个可配置的基于岗位的业务场景，建立业务数据与物联网应用数据的关联，实现智能化的业务解决方案&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;其中SAP LeonardoFoundation和SAPLeonardoBridge都是基于SAP CloudPlatform。&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt; &lt;span&gt;&lt;strong&gt;东方国信 Cloudiip&lt;br/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311093008505-161452773.png&quot; alt=&quot;&quot; width=&quot;100&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：bonc（东方国信）&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：Cloudiip&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：http://biop.bonc.com.cn/&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311093135095-126821024.png&quot; alt=&quot;&quot; width=&quot;800&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;       赵宏博介绍了东方国信对工业互联网平台的理解，工业互联网平台的研发和推广情况，工业互联网平台从应用层面如何为工业企业解决设计、仿真、制造、管理、服务等全生命周期存在的核心问题，以炼铁、能源、空压、工业锅炉为核心介绍典型行业/领域的工业云应用情况，工业互联网平台从开发层面如何为开发者降低难度以快速汇聚工业专家和形成工业APP，重点包括工业大数据的全流程服务、拖拉拽方式的快速开发环境及工具、形成的工业微服务和工业APP。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;      “平台得有生命，不能搭了平台，看着架子好看，但在企业不能落地。我们做一些基于大数据的画像系统都可以迁移，形成工长画像和设备画像。现在监测覆盖的设备接近百万台，百万台的设备拥有很多的传感器，设备到底在现场运行的怎样，不用设备厂家说设备好不好，而是基于第三方客观地评价，对云监测的大数据进行排名，然后对第三方进行推送。”&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;PTC的ThingWorx&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084835459-1652151160.png&quot; alt=&quot;&quot; width=&quot;45&quot; height=&quot;20&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：PTC&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：ThingWorx&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：www.ptcchina.com/internet-of-things/technology-platform-thingworx&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084905045-394456606.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;    PTC ThingWorx是一款专门为物联网应用量身定制的、完整的、端到端的技术平台。它使得物联网应用程序开发者可以快速连接、创建以及部署企业级的物联网应用。ThingWorx Foundation连接了ThingWorx的所有组件，提供了开发者创建完整物联网应用最简单的路径。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;Thingworx AEP平台功能及亮点：&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;18&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1）“拖拽式”聚合页面构建器，&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ThingWorx“拖拽式”聚合页面构建器使用户快速创建富应用，缩短开发时间，聚合页面构建器生成的是纯HTML应用程序，完全支持安卓设备和iOS设备。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2）提供SQUEAL工具，&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;客户通过SQUEAL的交互式搜索能力，从数据中找到业务关键问题的答案&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;3）提供REST API&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;s&lt;span&gt;，&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;第三方系统可以通过REST APIs和ThingWorx平台进行交互和集成&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;4）提供建模环境和业务逻辑&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，ThingWorxComposer是为创建应用程序而设计的一个端到端的应用程序建模环境。在Composer中，开发者可以为互联应用程序所必需的“物”、业务逻辑、可视化、数据存储、协同和安全等建模&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;5）提供嵌入式数据库，&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;可进行数据存储&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;垂直领域&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;span&gt;&lt;strong&gt;西门子的MindSphere&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311084951232-166606850.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：西门子&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：MindSphere&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：&lt;span&gt;www.siemens.com/cn/zh/home/products&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;/software/mindsphere.html&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085009393-976323084.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     西门子开放式云平台，MindSphere，是功能强大的IoT操作系统的核心，具有数据分析功能和连通功能、各种开发工具以及各种应用软件和服务。有助于评估和利用客户数据，帮助客户获得突破性洞察力。帮助客户提高资产性能，优化资产，最大限度保证正常运行时间。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;MindSphere是基于Cloud Foundry™ （Cloud Foundry由全球的企业和供应商采用开放源码政策联合开发的开源PaaS平台）而构建的一种工业标准的云应用平台。MindSphere应用可以运行在客户偏爱的云基础设施上，包括Amazon Web Services、 Microsoft Azure、SAP Cloud 平台和 Atos Canopy等；并可以部署在由其他第三方服务提供商维护的公有云上；甚至也可以部署在专为某个企业构建的私有云上。客户可以根据自己在成本、控制、可组态性、可伸缩性、位置与安全等方面的需求选择最佳的云部署方案。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;span&gt;&lt;strong&gt;GE的Predix&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085219538-844734980.png&quot; alt=&quot;&quot; width=&quot;226&quot; height=&quot;20&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：GE&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Predix&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.predix.io&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085307046-198015571.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    &lt;span&gt;Predix平台是面向工业互联网PaaS平台，连接机器、数据、人员以及其他资产。平台使用分布式计算、大数据分析、资产数据管理和M2M通信的领先技术，提供广泛的工业微服务，使企业能够提供生产力。Predix对外开放，可以和业界其他合作伙伴进行“互操作”，将各种工业资产设备和供应商相互连接并接入云端，同时提供资产性能管理（APM）和运营优化服务。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;Predix的主要组件包括：Predix Machine、Predix Cloud、Predix Services。&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;14&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;PredixMachine：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;一个软件层，负责从工业资产收集数据并将其推送到Predix Cloud，以及运行本地应用程序（如边缘分析）。Predix Machine安装在网关，工业控制器和传感器上。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;PredixCloud：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;一个全球性，安全的云基础架构，针对工业工作负载进行了优化，并符合卫生保健和航空等行业的严格监管标准。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;PredixServices：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;提供开发人员可以用来构建，测试和运行工业互联网应用程序的工业服务。并提供一个微服务市场，开发人员可以发布他们自己的服务，并从第三方获取服务。Predix平台使客户和合作伙伴共同优化其工业业务流程。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;博世的IoT Suite 2.0&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085402585-319927281.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：博世&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Bosh IoT Suite 2.0&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.bosch-iot-suite.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085419411-1544869226.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     博世物联网套件基于开放标准和源代码，是一个的灵活物联网平台。其云服务满足物联网项目的典型要求，软件开发人员可以在实施之前快速设置原型应用程序，在几分钟内完成部署，并在高可用性的情况下运行程序。此外，该平台的设备管理功能也可以单独使用或现场使用。博世市场领先的基于OSGi的ProSyst网关软件可广泛用于不同的领域，实现基于网关的众多物联网场景。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     目前，已有超过500万台设备和机器通过博世物联网套件实现了广泛互联。博世物联网套件服务已与博世物联网云市场集成一体。未来，用户将能够通过基于Cloud Foundry的其他市场使用某些特定的服务。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;施耐德的Ecostruxure&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085718626-428590775.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：施耐德&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：Ecostruxure 平台&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：www.schneider-electric.cn/zh/work/campaign/innovation/platform.jsp&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085735463-801423705.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      基于物联网的EcoStruxure，以互联互通的产品、边缘和云端控制双重选择，融合数字化应用、分析与服务，提升能效管理和自动化生产的安全性、可靠性、高效性和可持续性，放大客户业务价值。&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;15&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;互联互通的产品：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;平台基于物联网卓越的互联互通的产品，涵盖断路器、不间断电源、继电器和传感器等嵌入式智能化设备，帮助决策者在整个运行期间做出更明智的决策。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;边缘控制：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;针对难于预料的物联网应用场景，该平台提供物联网边缘设备进行控制，提供解决方案，帮助客户在边缘测进行控制、保障安全以及正常运行。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;应用、分析与服务：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;EcoStruxure™针对楼宇、数据中心、工业和基础设施终端市场的各类硬件与系统提供交互性操作，最大限度为实现企业无缝集成提供应用分析与服务。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;霍尼韦尔的Movilizer&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085859434-1193987747.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;公司：Honeywell&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;名称：Movilizer&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;网址：www.honeywellaidc.com&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085920170-900632360.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     Movilizer是针对现场作业的云计算服务，企业借此可以构建部署灵活、动态的现场策略，提高制造型企业和服务型企业的盈利能力。与其他提供单独解决方案的竞争对手不同，Movilizer云平台可以跨越多个部门、甚至打破公司的界限，连接并协调现场作业。&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;15&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;无限衔接后端系统：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;克服信息管理的局限性，改善信息孤岛的现状，实时连接远程、现场作业，实现端到端的信息互联。利用泛在化的信息终端将任何后端系统以及外部的工作人员（包括供应商、分包商或制造商）连接到Movilizer云计算平台。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;统一的云计算平台：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;通过Movilizer云平台，任何公司都能够在现场便捷、快速地实现移动战略的部署。多租户的云计算平台使得供应链高级管理人员得以相互协调，同时协同现场作业和工作流程。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;统一的APP容器：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;在操作层面上，Movilizer APP将现场工作人员与办公室彼此连接起来，工作人员在现场处理工单并将更新后的信息实时发送到后台。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt; &lt;span&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;ABB的Ability&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311085942181-1646346553.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：ABB&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：ABB Ability 平台&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：new.abb.com&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090013750-948391158.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     ABB Ability平台是一个一体化的工业互联网平台和云基础设施，它以ABB在技术、工业和数字领域的领先专业知识为基础，使企业能够驾驭工业数据的力量。该平台使客户能够安全地集成并整合他们的数据、与更广泛的行业数据结合、应用大数据和预测分析并生成可以帮助他们提高绩效和生产率的洞见。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     ABB AbilityTM数字化解决方案包括：面对资产密集型行业的绩效管理解决方案；针对流程工业的控制系统；面向机器人、电机和机械设备的远程监测服务；用于建筑、海上平台和电动汽车充电基础设施的控制解决方案；以及满足数据中心能源管理和远洋船队航线优化等需求的专业领域的解决方案。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;研华的Wise-PaaS&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090036135-1205115981.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：研华&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：Wise-PaaS&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：wise-paas.advantech.com&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090050281-447072519.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      研华科技为帮助物联网系统集成商快速开发出所需要的应用系统，研发了WISE-PaaS中间件。该平台可提供传感器信息传输和远程管理控制，集成了大数据分析、物联网应用开发等工具，是云平台与IoT设备之间的桥梁。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;Wise-PaaS针对垂直市场的各领域的解决方案提供多种成熟的软件平台服务，包括：WISE-PaaS RMM、OTA，WebAccess VCM、CNC 、NMS 、SCADA、HMI、IMM等。WISE-PaaS生态系统采用灵活可扩展架构，能够将WISE-PaaSMarketplace中提供的多样化云端解决方案和行业解决方案套件（SRP）无缝整合。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;海尔的COSMOPlat和U+&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090108177-776661987.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：海尔&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：COSMOPlat&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.cosmoplat.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090124392-64154170.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      海尔对于智能工业平台的打造理念，不仅仅局限于智能制造这一个环节中，更多的是，海尔想打造一条真正可以与互联网接轨的智能产业链及新工业生态环境。除智能制造外，这个平台还包含了从采购、营销到服务的一系列与互联网衔接的数字信息化环节：模块采购、智能生产、智慧物流、智慧服务、智能网器、用户交互、迭代设计和数字营销八个主要环节。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      海尔COSMOPlat是一个开放、共创共赢的生态平台。它是无边界的，可以跨行业（从家电到上下游、再到全行业，目前已复制到家电外的纺织、建筑、运输等12个行业）、越国界（从国内到国外，再到全球，目前已复制到印度、巴基斯坦等20个国家）的推广和复制。现已聚集的3亿用户资源，380万资源可以同时和全球共享！&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090144971-1287460695.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：海尔&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：U+智慧生活平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.haieruplus.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090202221-1835147894.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     U+智慧生活平台（简称U+平台），是海尔旗下全球首个智慧家庭领域全开放、全兼容、全交互的智慧生活平台。该平台以U+物联平台、U+大数据平台、U+交互平台、U+生态平台为基础，以引领物联网时代智慧家庭为目标，以用户社群为中心，通过自然的人机交互和分布式场景网器，搭建U+智慧生活平台的物联云和云脑，为行业提供物联网时代智慧家庭全场景生态解决方案，实现智能全场景，共赢新生态；为用户提供厨房美食、卫浴洗护、起居、安防、娱乐等最佳家庭生态体验。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;航天科工的INDICS&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090320588-789314772.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：中国航天科工&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：INDICS&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：is.casicloud.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090345676-1380713465.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;      INDICS（Industrialintelligent cloud system）,是中国航天科工集团公司于2017年6月15日正式全球发布的工业互联网平台。该平台以工业大数据为驱动，以云计算、大数据、物联网技术为核心，可实现产品、机器、数据、人的全面互联互通和综合集成。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;INDICS平台能够提供涵盖IaaS、DaaS、PaaS和SaaS的完整工业互联网服务功能，适合不同层次、类型、规模的企业；可支持各种工业设备接入、集成各类工业应用服务，构建良性工业生态体系，使制造管理更加便捷高效；构建了涵盖设备安全、网络安全、控制安全、应用安全、数据安全和商业安全的工业互联网完整安全保障体系。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;联想的全球智联平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090407103-1664918392.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：联想懂的通信&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：联想全球智联平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.lenovoconnect.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090441868-1298073262.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      联想懂的通信自主研发的联想全球智联平台是基于PaaS+SaaS模式的云平台，由连接管理平台、设备管理平台、增值业务管理平台、应用使能平台和eSIM平台组成，可为客户提供涵盖通信服务、设备管理、应用部署等端到端的服务，降低物联网设备管理的复杂性，助力客户快速实现物联网转型，以提高企业运营效率和降低企业成本。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;联想全球智联平台在中国的蜂窝连接数已突破1千万，仅次于国内三大运营商。目前，平台已为共享经济、智能车联、消费电子、新零售等领域的企业和项目提供物联网服务和支持。未来，联想懂的通信还将在全球80%以上的国家和地区开展物联网服务，预计三年内平台连接数将超过1亿。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;徐工的Xrea&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090502775-1091672125.png&quot; alt=&quot;&quot; width=&quot;120&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：徐工信息&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Xrea工业物联网大数据平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：http://www.xcmg.com/xgit&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090525293-1610948089.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     徐工信息团队经历几年的沉淀，自主研发工业互联网平台Xrea、可用于连接工业设备的Xplore物联网硬件系列产品（“黑匣子”）。利用“黑匣子”让设备“开口说话”，将设备运行状态、工作效率、作业能耗、故障信息、零件寿命等关键信息，以数据方式精准传送至Xrea工业互联网平台，用于精准营销、精准服务，用于大数据的挖掘和分析，最终利用采集到的大数据，将产品的研发、制造、营销过程全部管理起来。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     目前该平台已经接入44万多台设备，包括起重机械、铲运机械、挖掘机械、物流运输设备、新能源汽车等6000多种设备类型。数据的种类7000多种，峰值的吞吐量每秒为1.1亿条，年数据增长量1.1PB。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;树根互联的根云&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090607137-308647862.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：树根互联&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：根云&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：http://www.irootech.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090622842-156055276.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;树根互联是三一集团孵化的中国成立最早、连接工业装备最多、服务行业最广泛的工业互联网赋能平台公司。创始团队融合了深厚的工业基因和互联网技术。目前拥有长沙树根互联子公司，并在持续扩张。树根互联打造了中国工业互联网赋能平台——根云，致力于给各工业细分行业进行赋能、创新和转型。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;    根云平台是中国最早、连接工业装备最多、服务行业最多的工业互联网赋能平台，能够为各行业企业提供基于物联网、大数据的云服务，面向机器的制造商、金融机构、业主、使用者、售后服务商、政府监管部门提供应用服务，同时对接各类行业软件、硬件、通讯商开展深度合作、形成生态效应。目前，平台已接入能源设备、纺织设备、专用车辆、港口机械、农业机械及工程机械等各类高价值设备超40万台以上，采集近万个参数，覆盖多达42个细分行业连接数千亿资产，为客户开拓超百亿元收入的新业务。并能够有效支持45个国家和地区的设备接入。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;垂直&amp;amp;创业领域&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;机智云&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090653004-1728826932.png&quot; alt=&quot;&quot; width=&quot;50&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：广州机智云物联网科技有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：机智云Giz(mo)Wits&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.gizwits.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090715780-1050215997.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     机智云平台是机智云物联网公司经过多年行业内的耕耘及对物联网行业的深刻理解，而推出的面向个人、企业开发者的一站式智能硬件开发及云服务平台。平台提供了从定义产品、设备端开发调试、应用开发、产测、云端开发、运营管理、数据服务等覆盖智能硬件接入到运营管理全生命周期服务的能力。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;    机智云平台为开发者提供了自助式智能硬件开发工具与开放的云端服务。通过傻瓜化的自助工具、完善的SDK与API服务能力最大限度降低了物联网硬件开发的技术门槛，降低开发者的研发成本，提升开发者的产品投产速度，帮助开发者进行硬件智能化升级，更好的连接、服务最终消费者。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;Ayla的 IoT Platform&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090804935-593635488.png&quot; alt=&quot;&quot; width=&quot;80&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：AylaNetworks&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：Ayla物联网平台&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：www.ayla.com.cn&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090830956-1913571177.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    &lt;span&gt;Ayla敏捷物联网平台Agile IoTPlatform、敏捷移动应用开发平台AMAP、以及大数据平台Ayla Insights为制造商提供安全可靠的联网能力，提供完善的数据反馈环路来打造更好产品，创造更具吸引力的用户体验。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;Ayla敏捷物联网平台主要包含三大组件：Ayla嵌入式模块、Ayla云服务、以及Ayla应用程序库。这是一套完整的解决方案，让几乎任何设备都能够连接到云端和App；还包含了优质的工具和服务，让制造商可以对设备进行管理、配置以及分析。Ayla让制造商在打造物联网产品时，无需投资到网络堆栈开发、端到端安全、云服务以及其他基础技术工作，而是将资源投入到他们所擅长的专业领域中。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;Ayla的企业级物联网云平台正在服务于众多全球顶级企业，将楼宇控制、暖通空调、家用电器、照明等设备连入智能系统，实现云端管理，以及随时随地的移动应用访问。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt; &lt;span&gt;&lt;strong&gt;立子科技的立子云&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090854765-1024537544.png&quot; alt=&quot;&quot; width=&quot;80&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：基本立子（北京）科技发展有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：“立子云”物联网平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.quarkioe.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311090917348-1336988278.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      立子科技打造了可广泛应用于中国市场各行各业的应用使能平台——&quot;立子云&quot; 物联网平台。该平台目前已形成包括智能工业、智慧农业、智慧城市、智慧医疗、智能家居、车联网等多个垂直领域行业应用解决方案。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     “立子云”平台是基于云计算架构设计的物联网应用使用平台软件，“立子云”平台采用 PaaS 层构建，帮助用户实现业务快速部署，减少前期资源投入，降低运营费用，提升用户企业应用的构建能力。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;“立子云”平台会提供：&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;13&quot;&gt;
&lt;p&gt;&lt;span&gt;1.经过认证的硬件套件和软件库，用户可以使用它们将远程资产接入云中；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2.通过网络进行设备管理、数据可视化和远程控制功能；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3.通过 QuarkIoE 事件语言规则和QuarkIoEapplications快速定制上述内容；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;4.用于和其他 IT 服务，比如 ERP 或 CRM 系统，进行现有功能扩展；&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;5.QuarkIoE 还可以帮用户托管HTML5的应用程序。&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;普奥的ProudThink&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091014617-2076485648.png&quot; alt=&quot;&quot; width=&quot;60&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：普奥云信息科技（北京）有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：ProudThink工业互联网平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.proudsmart.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091038280-1380545091.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      普奥自主研发的ProudThink工业互联网平台，从工业企业的服务价值出发，聚焦智慧工厂运营、设备后服务、设备租赁、资产保全，打造支持广泛设备接入、多维数据存储、共享、开放的工业互联网云平台，借助物联网、云计算和大数据技术，帮助客户解决设备与产线的安全接入、运营、综合价值分析，形成企业核心竞争力，加速企业转型升级。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;ProudThink工业互联网平台特点：&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;16&quot;&gt;
&lt;p&gt;&lt;span&gt;（1）创新性的提出设备库、接入库、模型库和应用库四个库的概念，构建模型生态，使用户构建业务应用如同搭建乐高一样简单。实现产品快速实施的理念，两周时间帮助客户完成业务功能，使每一家企业都能快捷实现工业互联网转型。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;（2）平台适应工业领域复杂的接入需求、业务管理需求，实现了广泛接入、多维存储、设备元模型、算法执行框架、数据可视化、场景组态云等多项软件技术创新，并申请了多项软件专利技术发明，平台技术完全自主可控。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;（3）基于平台强大的定制化能力以及设备管理模型的灵活性，构建了面向不同行业应用的业务解决方案，包括设备后服务、石油化工、新能源等的行业应用，通过平台能力实现应用方案的快速构建。 &lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;智物联的Mixlinker&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091111533-640958457.png&quot; alt=&quot;&quot; width=&quot;80&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：深圳市智物联网络有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Mixlinker工业物联网解决方案&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.mixlinker.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091149555-1710738877.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     深圳市智物联网络有限公司（简称智物联）是提供Mixlinker工业物联网解决方案的国家高新技术企业。致力于服务制造型企业，通过提供“设备物联”和“智慧工业”两种类型的解决方案，帮助其完成从“提供产品”向“价值服务”和“高效运营”的转型升级，从而达到工业4.0时代的要求。提供三大类服务：&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;18&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;GARDS 云服务：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;该服务是整个体系的核心和基础。它本身是中性的，并没有任何行业的特殊性。但是，这个体系可以针对某个行业特点进行具体化,具体化后，实际就是一个行业的远程数据服务解决方案。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;INDASS 数据分析服务：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;INDASS 是智物联体系中的工业物联网数据分析服务系统（Industrial DataAnalysis Service System），是智物联提供的工业物联网数据分析服务。通过对这些数据的深入计算和分析，找出数据的变化规律，从而分析出设备运行的规律。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;MAIRS人工智能服务：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;MAIRS是数据分析服务中的在线人工智能服务，是智物联工业物联网数据分析服务系统INDASS的一个延伸服务，提供工业设备连续运行风险识别。MAIRS人工智能，会根据指数、指数的变化、趋势、稳定性，去识别当前的状态，以及判断未来的可能性。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;智云奇点的Matrix&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091210214-884723154.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;&lt;span&gt;公司：北京智云奇点科技有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Matrix&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.ablecloud.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091231166-1590448990.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     AbleCloud由小米云平台前研发负责人李海磊先生创立，其领导建设的小米云平台正在为小米生态链下数十家智能硬件公司服务。公司于2014年创立，面向居家类、健康类、车联网类、工业类智能硬件，精心打造物联网平台及能力，悉心服务行业客户与合作伙伴。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     AbleCloud推出 PaaS开发平台Matrix，帮助物联网企业快速、灵活、低成本地实现设备物联网化；并推出了物联网大数据分析平台Inspire，为物联网企业量身打造针对物联网设备、用户、维保等数据的分析、挖掘和价值转化平台；以及建设了行业领先的物联网业务营运平台Genius，助力物联网企业实现可视化远程管理、精细化业务运营、无缝化多方协作。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;中科云创的云中控&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091250564-1773489537.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：中科云创（北京）科技有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：云中控&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：icloudinnov.my-odoo.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091305875-221241514.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     中科云创的“云中控”是一个用于工业数据实时监控和设备健康管理的工业互联网应用平台。云中控结合物联网、云计算和大数据技术，以数据为基础、设备为节点、流程为准绳、人员为中心，综合运用物联网、语音识别、图像识别、机器学习、AR等多项最新科技，致力于为工业企业的设备全生命周期管理提供全面技术支持，提高企业生产效率，降低企业运维、融资和备件采购成本。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;云中控平台通用性高，部署便捷，在高速设备、智能消防、数控机床、港口机械、融资租赁、智能配电、光伏发电等行业都用成功应用。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;远景能源的EnOS™&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091328062-143400434.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：&lt;span&gt;远景能源（江苏）有限公司&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：&lt;span&gt;EnOS™&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：www.envisioncn.com/eno&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;s&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100448312-1664165708.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;      &lt;span&gt;EnOS™为设备和第三方系统连接到云端提供了一个集成、安全且开放的loT平台，基于EnOS的优势可以将生活中非结构化数据映射成领域数字模型，对数据进行实时计算和批量操作，生成运行报表，提供商业价值评估，自动实现多系统的能源调节。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;      EnOS™覆盖全链路，主要投入在边缘计算和分析，以及云端的设备连接，数据、计算和应用，以及端到端的安全。 EnOS™在芯片、智能设备、通讯、云平台等方面和Partners紧密合作。平台具备跨领域的协同、从设备到应用的端到端安全、独立于硬件的平台中立性、提供能源整体解决方案、能源领域的丰富经验等优势！&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;目前，管理全球100 GW的能源资产、连接5000 万个传感器与智能设备，每年处理20 PB的数据量；未来平台将覆盖六大领域：风能、太阳能、传统发电、储能、电动汽车及充电桩、工业园区及用电。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;涂鸦智能云&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091357297-571237036.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;公司：涂鸦智能&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;名称：涂鸦智能云&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：www.tuya.com&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091422963-1507301119.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     涂鸦是一个全球化智能平台，也是目前全球最大的语音AI交互平台，连接消费者、制造品牌、OEM厂商和零售连锁的智能化需求，为客户提供一站式人工智能物联网解决方案，并且涵盖了硬件接入、云服务以及APP软件开发三方面，形成人工智能+制造业的服务闭环。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;涂鸦智能提供完整的产品智能化解决方案，让厂商只需专注于硬件本身，以最小的成本实现硬件智能化，获得产品最大增值。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;涂鸦智能平台提供99.99%的不间断服务保障，全球DNS&amp;amp;CDN加速，平行架构轻松扩容，实时大数据处理，可用区自动切换，服务热部署，动态秘钥，Https加密通道等诸多保障。截至2017年11月底，Tuya智能产品已覆盖全球近200个国家和地区，客户超过10000家，产品触达数千万消费者。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;云智易的物联云平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091445353-2028989845.png&quot; alt=&quot;&quot; width=&quot;80&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：广州云湾信息技术有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：云智易物联云平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.xlink.cn&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091509852-395432100.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;    云智易物联云平台面向IoT硬件厂商，以让传统企业拥有物联网的力量为使命，以交付开箱即用的物联运营平台为目标，将平台能力作为服务，打包成软件或以SDK的形式提供给传统企业，协助传统厂商的产品快速向智能化和服务化转型。让传统企业实现以客户为核心，以设备为纽带，实现强连接和强运营。围绕目标，云智易产品分为4个子平台、80多个服务组件，涵盖物联网设备连接、设备管理、开发平台、数据和用户运营。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;上海庆科FogCloud&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091527326-1934834376.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：上海庆科信息技术有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：FogCloud&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.mxchip.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091543040-2040339930.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;    上海庆科信息技术有限公司，国内领先的物联网系统解决方案提供商，国家级高新技术企业，上海市科技“小巨人”优秀企业。公司成立至今，成功研发了物联网芯片MOC系列、物联网系列模组及FogCloud云平台，同时推出多个端云一体化物联网系统解决方案。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;    FogCloud是面向消费电子生产商、工业设备生产商和集成商的企业级物联网云服务平台。为客户提供安全高效的接入、数据存储、数据分析等平台级服务。使客户轻松实现产品智能化，降低产品开发、部署和运维成本，提供运营效率，为客户创造新的商业价值。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;    FogCLoud应用领域涉及智能家电、工业领域、智慧农业、智慧城市、智慧医疗等。具备三高和三低优势（高效开发、高速接入、高度安全；低成本、低风险、低门槛），并分别为消费电子类，工业场景，以及集成商提供完善的解决方案。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;小葱智能的AIOT平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ujpxDEpNzQ8RLNTPZYIGq0rS30kyyhkN7C7H0rBxsJC3s7hrtORklrUibb0h6Ol5X9cfURibc3AulqQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; alt=&quot;&quot; width=&quot;55px&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.45604395604395603&quot; data-s=&quot;300,640&quot; data-src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ujpxDEpNzQ8RLNTPZYIGq0rS30kyyhkN7C7H0rBxsJC3s7hrtORklrUibb0h6Ol5X9cfURibc3AulqQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;182&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;&lt;span&gt;公司：北京小葱智能科技有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：小葱智能物联网AIOT平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.ixiaocong.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ujpxDEpNzQ8RLNTPZYIGq0r7VqZbIhtjuX3fLCY2Vr2zLBVzkBs8NEupiaTfIGC4NUDbHLylupeCjg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; alt=&quot;&quot; width=&quot;auto&quot; data-ratio=&quot;0.5896927651139743&quot; data-src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ujpxDEpNzQ8RLNTPZYIGq0r7VqZbIhtjuX3fLCY2Vr2zLBVzkBs8NEupiaTfIGC4NUDbHLylupeCjg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1009&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;小葱智能是一家专注于物联网+人工智能技术软硬件一体解决方案的高科技公司，应用物联网和人工智能技术，连接人、设备、内容和服务，赋能智能家居、智慧酒店，智能公寓，智能办公，智慧养老等产业升级。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;小葱智能打造的全球顶尖的智能物联网平台，提供连接、人工智能、大数据、开放、安全平台服务。&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;20&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;连接：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;支持Wi-Fi、ZigBee、NB-IoT、LoRa、KNX、蓝牙等协议连接及互联互通；强稳定，高并发，毫秒级的物联网控制系统；支持千万设备并发和百亿级海量数据的处理能力。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;人工智能：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;小葱智能大脑，实现设备自主学习及自动化运行；实现超强大的超级网关边缘计算能力，实现离线人工智能智能算法；打造基于AI的家庭安防，能源管理，智能环境，家庭娱乐等场景；支持人脸识别，语音控制，手势控制等多种交互方式。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;大数据：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;完整的物联网海量数据分析能力，支持多维度用户和设备数据分析；专业的大数据挖掘能力，用户画像分析；具备智能设备的控制、联动、场景实时运算规则引擎。开放：基于Paas云架构设计的智能云服务，支持多租户、多硬件、多App和多应用接入；设备权限，数据权限，应用权限完全开放；仅技术支持与赋能，品牌形象可以完全基于第三方。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;安全：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;具备银行级别的系统安全架构设计；HTTPS，ssl加密，DDos防御，权限控制等多种安全技术手段。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;寄云科技的NeuSeer平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091637965-2113943500.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：北京寄云鼎城科技有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：NeuSeer工业互联网平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：http://www.neuseer.com/&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091656918-1207356300.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     寄云科技&lt;span&gt;开发的NeuSeer工业互联网平台，将工业设备、边缘计算、物联网、大数据以及云计算等先进技术紧密结合在一起，为工业企业提供从传感器数据采集、实时数据存储和转换、设备远程监控和告警，到工业大数据的深度处理和分析等多维度的服务，为客户提供包括故障诊断、故障分析和预测、可靠性分析、产线优化乃至产能提升等全方位的解决方案。&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     寄云NeuSeer平台提供了多种应用框架，可以大幅降低开发者的开发工作量，快速使用寄云NeuSeer平台的各种高性能和高可靠的服务。 寄云NeuSeer平台为工业互联网应用的开发者提供了强大的应用开发框架，包括了设备的接入、多种高可用的服务（MQTT、KAKFA、HDFS、时序数据库、用户帐户和认证、访问控制、数据库和可视化等），并支持开发者通过API调用训练好的模型。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;物联智慧的Kalay云&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091721768-301630513.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：物联智慧科技（深圳）有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：Kalay云端服务平台&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.throughtek.cn&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091735964-1800811539.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;    物联智慧科技（深圳）有限公司成立于2008年，为专业物联网云端服务平台解决方案商，积极致力于装置连线技术与云端服务平台开发。创立初期专注于开发设定容易、操作简单之设备点对点连线技术应用于消费型影像监控产品之上。随着物联网浪潮兴起，软件连接解决方案需求持续增加，物联智慧因具备丰富软硬件整合经验，于2012年正式转型为物联网纯软件公司，提供专业软件连线解决方案，2014年再进一步推出Kalay云端服务平台，为欲投入物联网发展之企业型客户扩大服务范畴。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;Kalay 是台湾兰屿雅美 (达悟) 族的语言，意为「牵手」；也象征着物联智慧的云端平台极具弹性，可跨操作系统快速串联各种智慧应用。Kalay平台让零售商、系统集成商、消费型产品制造商及服务提供商简易快速开发联网装置，并快速建立专属智能产品生态系统。由Kalay Connect、Kalay Cloud及Kalay Apps组合而成的Kalay平台，透过完成整合之逾百种SOC芯片，协助企业加快产品上市速度及开发物联网相关应用。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;myDevices的Cayenne平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091755384-1998840361.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：myDevices&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：myDevices Cayenne&lt;span&gt;拖拽式物联网项目构建平台、IoT in a Box App&lt;span&gt;物联网套装计划&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;网址：www.myDevices.com&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091810053-751114849.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     myDevices成立于2013年7月，主投资方为Semtech，中国投资合作伙伴为鹏博士电信传媒集团。“让万物互联变得更简单——加速垂直物联网解决方案的开发和销售“是这家美国物联网公司的出发点，他拥有全球首个拖拽式物联网项目构建工具myDevicesCayenne，平台用户在两年间已增至47万。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;为了满足用户进行物联网项目构建的需求，myDevices还创建了Cayenne IoT Ready Program——一个包含了多样化设备，接入厂商数百家的硬件库，用户可以通过用鼠标拖拽的方式从硬件库中随意排列组合，创建设备兼容的互动项目。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span&gt;利用这些技术，myDevices将于4月份携手美国电信集团Sprint 推出IoT Factory物联网电子商务平台。开发者、系统集成商以及物联网爱好者可通过平台提供的IoT in a Box物联网套装计划直接创建或购买垂直物联网解决方案；企业客户可轻松选择套装组合方案并快速推出产品。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;中兴CLAA的MSP&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311091842902-1157909087.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;公司：中兴克拉科技有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：&lt;span&gt;MSP多业务统一平台&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.zteclaa.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ujpxDEpNzQ8RLNTPZYIGq0rh5F6zPUYr3Kd2WApVaEdxXCBxUlA8QKNE02ic7Ur8bgiaAPCffGFG9bA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; alt=&quot;&quot; width=&quot;auto&quot; data-ratio=&quot;0.49311023622047245&quot; data-src=&quot;http://mmbiz.qpic.cn/mmbiz_png/zJgiblIeQ3ujpxDEpNzQ8RLNTPZYIGq0rh5F6zPUYr3Kd2WApVaEdxXCBxUlA8QKNE02ic7Ur8bgiaAPCffGFG9bA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1016&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;中兴克拉科技有限公司是中兴通讯的控股子公司，于2016年12月29日正式落户苏州高新区。公司聚焦LPWAN物联网端到端解决方案的研发与交付，提供专业的网络规划咨询及运维等服务，具有核心产品、主导产业联盟标准制定及生态系统的平台型企业。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;     &lt;strong&gt;MSP(Multi-Service Platform)多业务统一平台：&lt;/strong&gt;包括infiLink云化核心网平台、infiBoss网络运营平台、 infiCombo应用开发平台三大核心平台。&lt;/span&gt;&lt;/p&gt;
&lt;blockquote readability=&quot;14&quot;&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;infiLink云化核心网平台：&lt;/strong&gt;&lt;span&gt;支撑CLAA网络大规模运营，完成CLAA网络设备管理及传感装置连接管理，提供非授权频段，高性能、高可靠运营级网络能力。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;infiBoss网络运营平台：&lt;/strong&gt;&lt;span&gt;实现计费批价、客户关系管理、渠道关系管理、CLAA业务工作流、经营分析等；帮助客户进行低成本运营管理，通过共享共建方式，解决自身痛点问题的同时，实现产业转型。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;infiCombo应用开发平台：&lt;/strong&gt;&lt;span&gt;提供符合CLAA规范的各类设备接入，同时支持各种工控接口，统一数据库的管理，支持图形化组态和呈现，跨系统的联动。快速组态定制CLAA物联网应用系统，满足客户灵活运用。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;粒聚科技的LETSIOT平台&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;&lt;span&gt;公司：南京粒聚智能科技有限公司&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;名称：&lt;span&gt;粒聚&lt;span&gt;LetsIot&lt;span&gt;平台&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;网址：www.letsiot.com&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/279374/201803/279374-20180311100515033-237134742.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;     &lt;span&gt;粒聚LetsIot平台主要包括设备管理、连接管理、会话管理、网络管理、接口管理等多种功能模块。并与第三方基础能力平台无缝集成，为应用业务提供支撑服务。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;该平台是中国物联网行业最早从事平台研发的先行者之一，经过近6年的积累，能够为农业、环保、工业、能源等企业提供基于物联网的平台服务、应用服务，当前服务客户超过200家，管理设备超过40000台，覆盖多种创新性的行业应用，我们充分利用网络技术、传感技术，为客户提供智能化实时在线的设备监测、数据采集、运维、管理模型和方法，结合大数据、机器学习、人工智能等领域的新技术，为客户提供前所未有的物联网增值服务。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;     &lt;span&gt;LetsIot平台从开始设计之初即充分考虑了物联网的网络连接复杂化、行业特征离散化、应用场景碎片化的各种特点，旨在建立一个高可靠运营、低成本维护、适应多网络、多行业特征的物联网平台。&lt;/span&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p align=&quot;left&quot;&gt; 1.&lt;a id=&quot;post_title_link_4978884&quot; href=&quot;http://www.cnblogs.com/lsjwq/p/4978884.html&quot;&gt;[连载]《C#通讯（串口和网络）框架的设计与实现》&lt;/a&gt;&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;2.[&lt;a href=&quot;http://www.cnblogs.com/lsjwq/p/5316577.html&quot; target=&quot;_blank&quot;&gt;开源]C#跨平台物联网通讯框架ServerSuperIO（SSIO）介绍&lt;/a&gt;&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;2.&lt;a href=&quot;http://www.cnblogs.com/lsjwq/p/5359907.html&quot; target=&quot;_blank&quot;&gt;应用SuperIO（SIO）和开源跨平台物联网框架ServerSuperIO（SSIO）构建系统的整体方案&lt;/a&gt;&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;3.&lt;a href=&quot;http://www.cnblogs.com/lsjwq/p/5122612.html&quot;&gt;C#工业物联网和集成系统解决方案的技术路线（数据源、数据采集、数据上传与接收、ActiveMQ、Mongodb、WebApi、手机App）&lt;/a&gt;&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;5.github地址：&lt;a href=&quot;https://github.com/wxzz/ServerSuperIO&quot; target=&quot;_blank&quot;&gt;https://github.com/wxzz/ServerSuperIO&lt;/a&gt;&lt;/p&gt;
&lt;p align=&quot;left&quot;&gt;&lt;a href=&quot;http://www.cnblogs.com/lsjwq/p/8531046.html&quot; target=&quot;_blank&quot;&gt;6.助力中小企业级连云端，促进工业互联网平台蓬勃发展，全套解决方案。&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;物联网&amp;amp;集成技术(.NET) QQ群：&lt;span&gt;54256083 &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;

</description>
<pubDate>Sun, 11 Mar 2018 01:47:00 +0000</pubDate>
<dc:creator>唯笑志在</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/lsjwq/p/8543220.html</dc:identifier>
</item>
<item>
<title>Apache Ignite剖析 - 哥不是小萝莉</title>
<link>http://www.cnblogs.com/smartloli/p/8542960.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/smartloli/p/8542960.html</guid>
<description>&lt;p&gt;　　Apache Ignite和Apache Arrow很类似，属于大数据范畴中的内存分布式管理系统。在《&lt;a id=&quot;homepage1_HomePageDays_ctl00_DayList_TitleUrl_12&quot; class=&quot;postTitle2&quot; href=&quot;http://www.cnblogs.com/smartloli/p/6367719.html&quot;&gt;Apache Arrow 内存数据&lt;/a&gt;》中介绍了Arrow的相关内容，它统一了大数据领域各个生态系统的数据格式，避免了序列化和反序列化所带来的资源开销（能够节省80%左右的CPU资源）。今天来给大家剖析下Apache Ignite的相关内容。&lt;/p&gt;

&lt;p&gt;　　Apache Ignite是一个以内存为中心的数据平台，具有强一致性、高可用、强大的SQL、K/V以及其所对应的应用接口（API）。结构分布图如下所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/666745/201803/666745-20180311013513700-1477099661.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　在整个Ignite集群中的多个节点中，Ignite内存中的数据模式有三种，分别是LOCAL、REPLICATED和PARTITIONED。这样增加了Ignite的扩展性，Ignite可以自动化的控制数据如何分区，使用者也可以插入自定义的方法，或是为了提供效率将部分数据并存在一起。&lt;/p&gt;
&lt;p&gt;　　Ignite和其他关系型数据库具有相似的行为，但是在处理约束和索引方面略有不同。Ignite支持一级和二级索引，但是只有一级索引支持唯一性。在持久化方面，Ignite固化内存在内存和磁盘中都能良好的工作，但是持久化到磁盘是可以禁用的，一般将Ignite作为一个内存数据库来使用。&lt;/p&gt;
&lt;p&gt;　　由于Ignite是一个全功能的数据网格，它既可以用于纯内存模式，也可以带有Ignite的原生持久化。同时，它还可以与任何第三方的数据库集成，包含RDBMS和NoSQL。比如，在和Hadoop的HDFS、Kafka等，开发基于大数据平台下的SQL引擎，来操作HDFS、Kafka这类的大数据存储介质。&lt;/p&gt;
&lt;h2&gt;2.1 内存和磁盘&lt;/h2&gt;
&lt;p&gt;　　Apache Ignite是基于固化内存架构的，当Ignite持久化存储特性开启时，它可以在内存和磁盘中存储和处理数据和索引。在固化内存和Ignite持久化存储同时开启时，具有以下优势：&lt;/p&gt;
&lt;h3&gt;2.1.1 内存优势&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;对外内存&lt;/li&gt;
&lt;li&gt;避免显著的GC暂停现象&lt;/li&gt;
&lt;li&gt;自动化碎片清理&lt;/li&gt;
&lt;li&gt;可预估的内存消耗&lt;/li&gt;
&lt;li&gt;高SQL性能&lt;/li&gt;
&lt;/ul&gt;&lt;h3&gt;2.1.2 磁盘优势&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;可选的持久化&lt;/li&gt;
&lt;li&gt;支持SSD介质&lt;/li&gt;
&lt;li&gt;分布式存储&lt;/li&gt;
&lt;li&gt;支持事物&lt;/li&gt;
&lt;li&gt;集群瞬时启动&lt;/li&gt;
&lt;/ul&gt;&lt;h2&gt;2.2 持久化过程&lt;/h2&gt;
&lt;p&gt;　　Ignite的持久化存储时一个分布式的、支持ACID、兼容SQL的磁盘存储。它作为一个可选的磁盘层，可以将数据和索引存储到SSD这类磁盘介质，并且可以透明的与Ignite固化内存进行集成。Ignite的持久化存储具有以下优势：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;可以在数据中执行SQL操作，不管数据在内存还是在磁盘中，这意味着Ignite可以作为一个经过内存优化的分布式SQL数据库&lt;/li&gt;
&lt;li&gt;可以不用讲所有的数据和索引保持在内存中，持久化存储可以在磁盘上存储数据的大数据集合，然后只在内存中保持访问频繁的数据子集&lt;/li&gt;
&lt;li&gt;集群是瞬时启动，如果整个集群宕机，不需要通过预加载数据来对内存进行数据“预热”，只需要将所有集群的节点都连接到一起，整个集群即可正常工作&lt;/li&gt;
&lt;li&gt;数据和索引在内存和磁盘中以相似的格式进行存储，避免复杂的格式转化，数据集只是在内存和磁盘之间进行移动&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;　　持久化流程如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/666745/201803/666745-20180311021205868-616481219.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h2&gt;2.3 分布式SQL内存数据库&lt;/h2&gt;
&lt;p&gt;　　在Apache Ignite中提供了分布式SQL数据库功能，这个内存数据库可以水平扩展、容错且兼容标准的SQL语法，它支持所有的SQL及DML命令，包含SELECT、INSERT、DELETE等SQL命令。依赖于固化内存架构，数据集和索引可以同时在内存和磁盘中进行存储，这样可以跨越不同的存储层执行分布式SQL操作，来获得可以固化到磁盘的内存级性能。可以使用Java、Python、C++等原生的API来操作SQL与Ignite进行数据交互，也可以使用Ignite的JDBC或者ODBC驱动，这样就具有了真正意义上的跨平台连接性。具体架构体系，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/666745/201803/666745-20180311022809789-1303523472.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;　　了解Apache的作用后，下面我们可以通过模拟编写一个大数据SQL引擎，来实现对Kafka的Topic的查询。首先需要实现一个KafkaSqlFactory的类，具体实现代码如下所示：&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;46&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
/**
 * TODO
 * 
 * @author smartloli.
 *
 *         Created by Mar 9, 2018
 */
public class KafkaSqlFactory {

        private static final Logger LOG = LoggerFactory.getLogger(KafkaSqlFactory.class);

        private static Ignite ignite = null;

        private static void getInstance() {
                if (ignite == null) {
                        ignite = Ignition.start();
                }
        }

        private static IgniteCache&amp;lt;Long, TopicX&amp;gt; processor(List&amp;lt;TopicX&amp;gt; collectors) {
                getInstance();
                CacheConfiguration&amp;lt;Long, TopicX&amp;gt; topicDataCacheCfg = new CacheConfiguration&amp;lt;Long, TopicX&amp;gt;();
                topicDataCacheCfg.setName(TopicCache.NAME);
                topicDataCacheCfg.setCacheMode(CacheMode.PARTITIONED);
                topicDataCacheCfg.setIndexedTypes(Long.class, TopicX.class);
                IgniteCache&amp;lt;Long, TopicX&amp;gt; topicDataCache = ignite.getOrCreateCache(topicDataCacheCfg);
                for (TopicX topic : collectors) {
                        topicDataCache.put(topic.getOffsets(), topic);
                }
                return topicDataCache;
        }

        public static String sql(String sql, List&amp;lt;TopicX&amp;gt; collectors) {
                try {
                        IgniteCache&amp;lt;Long, TopicX&amp;gt; topicDataCache = processor(collectors);
                        SqlFieldsQuery qry = new SqlFieldsQuery(sql);
                        QueryCursor&amp;lt;List&amp;lt;?&amp;gt;&amp;gt; cursor = topicDataCache.query(qry);
                        for (List&amp;lt;?&amp;gt; row : cursor) {
                                System.out.println(row.toString());
                        }
                } catch (Exception ex) {
                        LOG.error(&quot;Query kafka topic has error, msg is &quot; + ex.getMessage());
                } finally {
                        close();
                }
                return &quot;&quot;;
        }

        private static void close() {
                try {
                        if (ignite != null) {
                                ignite.close();
                        }
                } catch (Exception ex) {
                        LOG.error(&quot;Close Ignite has error, msg is &quot; + ex.getMessage());
                } finally {
                        if (ignite != null) {
                                ignite.close();
                        }
                }
        }

}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　然后，模拟编写一个生产者来生产数据，并查询数据集，实现代码如下所示：&lt;/p&gt;
&lt;div class=&quot;cnblogs_Highlighter&quot; readability=&quot;38&quot;&gt;
&lt;pre class=&quot;brush:java;gutter:true;&quot;&gt;
public static void ignite(){
                List&amp;lt;TopicX&amp;gt; collectors = new ArrayList&amp;lt;&amp;gt;();
                int count = 0;
                for (int i = 0; i &amp;lt; 10; i++) {
                        TopicX td = new TopicX();
                        if (count &amp;gt; 3) {
                                count = 0;
                        }
                        td.setPartitionId(count);
                        td.setOffsets(i);
                        td.setMessage(&quot;hello_&quot; + i);
                        td.setTopicName(&quot;test&quot;);
                        collectors.add(td);
                        count++;
                }

                String sql = &quot;select offsets,message from TopicX where offsets&amp;gt;6 and partitionId in (0,1) limit 1&quot;;
                long stime = System.currentTimeMillis();
                KafkaSqlFactory.sql(sql, collectors);
                System.out.println(&quot;Cost time [&quot; + (System.currentTimeMillis() - stime) / 1000.0 + &quot;]ms&quot;);
        }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　　执行结果如下所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images2018.cnblogs.com/blog/666745/201803/666745-20180311023430786-408865390.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;　　Apache Ignite整体来说，它基本把现在分布式的一些概念都集成了，包含分布式存储、分布式计算、分布式服务、流式计算等等。而且，它对Java语言的支持，与JDK能够很好的整合，能够很友好的兼容JDK的现有API，当你开启一个线程池，你不需要关系是本地线程池还是分布式线程池，只管提交任务就行。Apache Ignite在与RDBMS、Hadoop、Spark、Kafka等传统关系型数据库和主流大数据套件的集成，提供了非常灵活好用的组件API。&lt;/p&gt;

&lt;div id=&quot;cnblogs_post_body&quot; class=&quot;blogpost-body&quot; readability=&quot;59&quot;&gt;
&lt;p&gt;　　这篇博客就和大家分享到这里，如果大家在研究学习的过程当中有什么问题，可以加群进行讨论或发送邮件给我，我会尽我所能为您解答，与君共勉！&lt;/p&gt;
&lt;/div&gt;
</description>
<pubDate>Sat, 10 Mar 2018 18:42:00 +0000</pubDate>
<dc:creator>哥不是小萝莉</dc:creator>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/smartloli/p/8542960.html</dc:identifier>
</item>
</channel>
</rss>