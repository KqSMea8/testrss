<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="css/feed.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:media="http://search.yahoo.com/mrss/" xmlns:og="http://ogp.me/ns#">
<channel>
<atom:link rel="self" href="http://192.168.1.4/fivefilters/makefulltextfeed.php?url=feed.cnblogs.com%2Fblog%2Fsitehome%2Frss&amp;max=10&amp;links=preserve&amp;exc=" />
<atom:link rel="alternate" title="Source URL" href="http://feed.cnblogs.com/blog/sitehome/rss" />
<atom:link rel="related" title="Subscribe to feed" href="http://www.subtome.com/#/subscribe?feeds=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D&amp;back=http%3A%2F%2F192.168.1.4%2Ffivefilters%2Fmakefulltextfeed.php%3Furl%3Dfeed.cnblogs.com%252Fblog%252Fsitehome%252Frss%26max%3D10%26links%3Dpreserve%26exc%3D" />
<title>博客园_首页</title>
<link></link>
<description>代码改变世界</description>
<item>
<title>如何实现同等间隙的卡片布局 - -渔人码头-</title>
<link>http://www.cnblogs.com/imwtr/p/10053640.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/imwtr/p/10053640.html</guid>
<description>&lt;p&gt;在列表展示中，经常会使用卡片的内容展示形式，为了美观，常常要求各卡片间的间隙是一致的。&lt;/p&gt;
&lt;p&gt;卡片内容不一样可能高度不等，但一般来说为了整体的一致性，会限制每个卡片的宽高都相等。&lt;/p&gt;
&lt;p&gt;本文就基于宽高一致的多个卡片，在不同屏幕大小下，每行卡片数量可能有调整，考量如何实现等间隙的布局。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/khLnajfv/&quot; target=&quot;_blank&quot;&gt;点我预览&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/688270/201812/688270-20181202152312168-1230468565.gif&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;放置一张张卡片项，为了设置间距，最常见的就是直接使用一个特定的margin值了，这种方式虽然可以（通过精确计算后确实也可以）&lt;/p&gt;
&lt;p&gt;直接设置一个间距，比如统一 margin-left 和 margin-bottom都为 20px ，并不能保证每行最后一个卡片之后的间距是20px&lt;/p&gt;
&lt;p&gt;关于如何定这个 margin的值，需要通过一个规则来计算，这个后文再说明&lt;/p&gt;

&lt;p&gt;设置同等间距，常用的还有 flex布局中的 justify-content: space-between，可以定义各子项目以相同间距布局，但不好处理左右子项目与边框的间距。 space-around这个就更用不得了，会使得左右子项目右margin == 左margin * 2&lt;/p&gt;
&lt;p&gt;所以最终还是回到使用margin值来设置，通过一个可用的规则，来保证间距是一致的。&lt;/p&gt;

&lt;p&gt;先把基本结构搭上&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;div &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;container&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;h2&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;项目列表&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;h2&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;ul &lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;=&quot;proj-items&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;ul&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;div&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;

&lt;span&gt;&amp;lt;!--&lt;/span&gt;&lt;span&gt; 模板结构 &lt;/span&gt;&lt;span&gt;--&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;script &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;=&quot;text/template&quot;&lt;/span&gt;&lt;span&gt; id&lt;/span&gt;&lt;span&gt;=&quot;proj-item-tpl&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;li class&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;proj-item&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;a href&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;#/p/{{projectID}}&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;h3 class&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;proj-item__title&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;{{projectName}}&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;h3&amp;gt;&lt;/span&gt;
            &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;p class&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;proj-item__author&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;{{author}}&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;p&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;a&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;li&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;script&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JS生成N个项目&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
        &lt;span&gt;function&lt;/span&gt;&lt;span&gt; addEvent(elem, type, handler) {
            elem.addEventListener(type, handler, &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;span&gt;);
        }

        &lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; qs(selector) {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; document.querySelector(selector);
        }

        &lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; qsa(selectors) {
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; document.querySelectorAll(selectors);
        }

        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; mockData = (&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(num) {
            &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; data =&lt;span&gt; [];
            
            &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; i = 1; i &amp;lt;= num; ++&lt;span&gt;i) {
                data.push({
                    projectID: i,
                    projectName: &lt;/span&gt;'项目' +&lt;span&gt; i,
                    author: &lt;/span&gt;'张大大'&lt;span&gt;
                });
            }
            
            &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; data;
        })(&lt;/span&gt;8&lt;span&gt;);
        
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; itemTpl = qs('#proj-item-tpl'&lt;span&gt;).innerHTML;
        &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; itemsDOM = qs('.proj-items'&lt;span&gt;);
        
        &lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt;*
         * 渲染数据
         * @param  {[type]} data [description]
         * @return {[type]}      [description]
         &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
        &lt;span&gt;function&lt;/span&gt;&lt;span&gt; renderList(data) {
            &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; html = ''&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; fragment =&lt;span&gt; document.createDocumentFragment();

            data.forEach(&lt;/span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt;(item) {
                &lt;/span&gt;&lt;span&gt;var&lt;/span&gt; divTemp = document.createElement('div'&lt;span&gt;);

                &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 模板替换&lt;/span&gt;
                divTemp.innerHTML = itemTpl.replace(/{{(\w+)}}/g, &lt;span&gt;function&lt;/span&gt;&lt;span&gt;(input, match) {
                    &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; match ? item[match] || '' : ''&lt;span&gt;;
                });

                fragment.appendChild(divTemp.firstElementChild);
            });

            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 渲染&lt;/span&gt;
&lt;span&gt;            itemsDOM.appendChild(fragment);
        }
       
        renderList(mockData);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;把基础样式放上，这里我们先指定一个特定的itemMargin值为20px&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;$itemMargin: 20px;
$itemWidth: 130px;
$itemHeight: 150px;

.container &lt;/span&gt;{&lt;span&gt;
    margin&lt;/span&gt;:&lt;span&gt; 20px auto&lt;/span&gt;;&lt;span&gt;
    width&lt;/span&gt;:&lt;span&gt; 450px&lt;/span&gt;;&lt;span&gt;
    background-color&lt;/span&gt;:&lt;span&gt; #f2f2f2&lt;/span&gt;;&lt;span&gt;
    color&lt;/span&gt;:&lt;span&gt; #666&lt;/span&gt;;&lt;span&gt;
    
    h2 {
        margin&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;&lt;span&gt;
        padding-top&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;&lt;span&gt;
        font-size&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;
    }&lt;span&gt;
}

.proj-items &lt;/span&gt;{&lt;span&gt;
    display&lt;/span&gt;:&lt;span&gt; flex&lt;/span&gt;;&lt;span&gt;
    flex-wrap&lt;/span&gt;:&lt;span&gt; wrap&lt;/span&gt;;
    &lt;span&gt;/*&lt;/span&gt;&lt;span&gt; justify-content: space-between; &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    padding&lt;/span&gt;:&lt;span&gt; 0&lt;/span&gt;;&lt;span&gt;
    list-style&lt;/span&gt;:&lt;span&gt; none&lt;/span&gt;;&lt;span&gt;
    
    &amp;amp;&lt;/span&gt;:&lt;span&gt;after {
        content: &quot;&quot;&lt;/span&gt;;&lt;span&gt;
        display&lt;/span&gt;:&lt;span&gt; block&lt;/span&gt;;&lt;span&gt;
        flex-grow&lt;/span&gt;:&lt;span&gt; 99999&lt;/span&gt;;
    }&lt;span&gt;
}

.proj-item &lt;/span&gt;{&lt;span&gt;
    margin-left&lt;/span&gt;:&lt;span&gt; $itemMargin&lt;/span&gt;;&lt;span&gt;
    margin-bottom&lt;/span&gt;:&lt;span&gt; $itemMargin&lt;/span&gt;;&lt;span&gt;
    width&lt;/span&gt;:&lt;span&gt; $itemWidth&lt;/span&gt;;&lt;span&gt;
    height&lt;/span&gt;:&lt;span&gt; $itemHeight&lt;/span&gt;;&lt;span&gt;
    background-color&lt;/span&gt;:&lt;span&gt; #fff&lt;/span&gt;;&lt;span&gt;
    border-radius&lt;/span&gt;:&lt;span&gt; 3px&lt;/span&gt;;&lt;span&gt;
    text-align&lt;/span&gt;:&lt;span&gt; center&lt;/span&gt;;&lt;span&gt;
    
    &amp;amp;&lt;/span&gt;:&lt;span&gt;hover {
        box-shadow: 0 0 20px #ddd&lt;/span&gt;;
    }&lt;span&gt;
    
    a &lt;/span&gt;{&lt;span&gt;
        display&lt;/span&gt;:&lt;span&gt; block&lt;/span&gt;;&lt;span&gt;
        padding&lt;/span&gt;:&lt;span&gt; 15px&lt;/span&gt;;&lt;span&gt;
        height&lt;/span&gt;:&lt;span&gt; 100%&lt;/span&gt;;&lt;span&gt;
        color&lt;/span&gt;:&lt;span&gt; #666&lt;/span&gt;;&lt;span&gt;
        text-decoration&lt;/span&gt;:&lt;span&gt; none&lt;/span&gt;;
    }&lt;span&gt;
    
    &amp;amp;__title &lt;/span&gt;{&lt;span&gt;
        margin-top&lt;/span&gt;:&lt;span&gt; 0&lt;/span&gt;;&lt;span&gt;
        font-size&lt;/span&gt;:&lt;span&gt; 16px&lt;/span&gt;;
    }&lt;span&gt;
    
    &amp;amp;__author &lt;/span&gt;{&lt;span&gt;
        font-size&lt;/span&gt;:&lt;span&gt; 12px&lt;/span&gt;;
    }&lt;span&gt;
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/688270/201812/688270-20181202141829103-1298845121.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;可以看到，每行最后一个间距不一致了，所以不能简单的写个margin值&lt;/p&gt;
&lt;p&gt;再来看看设置 space-between的时候&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;.proj-items &lt;/span&gt;{&lt;span&gt;
    justify-content&lt;/span&gt;:&lt;span&gt; space-between&lt;/span&gt;;&lt;span&gt;
    ...
&lt;/span&gt;}&lt;span&gt;

.proj-item &lt;/span&gt;{
    &lt;span&gt;/*&lt;/span&gt;&lt;span&gt; margin-left: $itemMargin; &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    margin-bottom&lt;/span&gt;:&lt;span&gt; $itemMargin&lt;/span&gt;;&lt;span&gt;
    ...
&lt;/span&gt;}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/688270/201812/688270-20181202142121825-1671111519.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt; 看来并不够强大&lt;/p&gt;
&lt;p&gt;如果看得仔细，应该能看到项目7和8是挨在一起的，为何没有间距呢&lt;/p&gt;
&lt;p&gt;其一是因为没有margin-left值，其二是在项目列表后放了一个坑来占位，防止最后一行项目过少时 space-between的值太大了&lt;/p&gt;
&lt;p&gt;把这个撤掉看看这个影响&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;    &amp;amp;:after &lt;/span&gt;{&lt;span&gt;
        content&lt;/span&gt;:&lt;span&gt; &quot;&quot;&lt;/span&gt;;&lt;span&gt;
        display&lt;/span&gt;:&lt;span&gt; block&lt;/span&gt;;&lt;span&gt;
        flex-grow&lt;/span&gt;:&lt;span&gt; 99999&lt;/span&gt;;
    }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/688270/201812/688270-20181202142540661-984505100.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;


&lt;p&gt;还是把目光投向margin值的设定规则吧&lt;/p&gt;
&lt;p&gt;在设计一个页面布局时，至少已经确定了XX页面大小的情况下，容器宽度应该设置为多少（比如为1200px），每行放n个项目，项目的宽高是多少&lt;/p&gt;
&lt;p&gt;有了这些指标（也必须有这些指标），我们就可以用来计算margin值了&lt;/p&gt;
&lt;p&gt;containerWidth == n * itemWidth + (n + 1) * itemMargin&lt;/p&gt;
&lt;p&gt;得出&lt;/p&gt;
&lt;p&gt;itemMargin = (containerWidth - n * itemWidth) / (n + 1)&lt;/p&gt;
&lt;p&gt;代入这里的情况，containerWidth 450px，itemWidth 130px，每行 3个，即可得出 itemMargin 正好为 15px &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/688270/201812/688270-20181202140550240-1688084070.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;有了某种特定情况下的布局规则之后，接下来还要考虑不同屏幕大小的情况下，怎么调整这个margin值&lt;/p&gt;
&lt;p&gt;这个需要结合媒体查询来设定，同时相应的计算规则也可以通过scss来处理&lt;/p&gt;
&lt;p&gt;第一种情况是每行3个，n只可能为整数，即可推算出需要处理的临界值为1 2 3 4 5 6 ... 这些整数值&lt;/p&gt;
&lt;p&gt;加入n为4，如果要保证 itemMargin值15px在各种情况下都相等，计算可得 容器宽度containerWidth值 为 595px&lt;/p&gt;
&lt;p&gt;同理求得 n是5时为 740px ，n是2时为 305px&lt;/p&gt;
&lt;p&gt;当然，如果觉得这个containerWidth值不太好看，也可以自己定义，比如 n是4的时候设置为 600px，代入公式那么 itemMargin值为16px。&lt;/p&gt;
&lt;p&gt;为了保证各种请下间距都相等，我个人就不推荐这么干了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/688270/201812/688270-20181202144001281-1412869439.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/688270/201812/688270-20181202144253861-1540188144.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;通过上述的规则计算，我们可以得出每行项目数量递增时的容器宽度临界值。把这些临界值放在媒体查询里面配置，即可方便地实现这种布局的自适应。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 这两个为初始就确定的基准值 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
$containerWidth: 305px;
$itemMargin: 15px;

$itemWidth: 130px;
$itemHeight: 150px;

&lt;/span&gt;&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 每行项目数量为itemNum时的容器宽度 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@function getContainerWidth($itemNum) &lt;/span&gt;{&lt;span&gt;
    @return $itemNum * $itemWidth + ($itemNum + 1) * $itemMargin; 
&lt;/span&gt;}

&lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 配置各个页面宽度下的容器宽度（应用） &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@mixin adjustContainerWidth(
    $from: 2,
    $to: 5
) &lt;/span&gt;{&lt;span&gt;
    @for $i from $from through $to {
        $minWidth&lt;/span&gt;:&lt;span&gt; getContainerWidth($i)&lt;/span&gt;;&lt;span&gt;
        $maxWidth&lt;/span&gt;:&lt;span&gt; getContainerWidth($i + 1)&lt;/span&gt;;&lt;span&gt;

        @media only screen and (min-width&lt;/span&gt;:&lt;span&gt; $minWidth) and (max-width: $maxWidth) {
            .container {
                width: $minWidth&lt;/span&gt;;
            }&lt;span&gt;
        }
    }
}

.container &lt;/span&gt;{&lt;span&gt;
    margin&lt;/span&gt;:&lt;span&gt; 20px auto&lt;/span&gt;;&lt;span&gt;
    width&lt;/span&gt;:&lt;span&gt; $containerWidth&lt;/span&gt;;&lt;span&gt;
    background-color&lt;/span&gt;:&lt;span&gt; #f2f2f2&lt;/span&gt;;&lt;span&gt;
    color&lt;/span&gt;:&lt;span&gt; #666&lt;/span&gt;;&lt;span&gt;
    
    h2 {
        margin&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;&lt;span&gt;
        padding-top&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;&lt;span&gt;
        font-size&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;
    }&lt;span&gt;
}

@include adjustContainerWidth(
    $from: 1,
    $to: 7
);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;即可实现各个页面大小下的自适应效果&lt;/p&gt;
&lt;p&gt;完整的CSS部分&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; onclick=&quot;cnblogs_code_show('3c4f5ab5-9d7c-4163-8a18-debc92ef09e3')&quot; readability=&quot;33.5&quot;&gt;&lt;img id=&quot;code_img_closed_3c4f5ab5-9d7c-4163-8a18-debc92ef09e3&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_3c4f5ab5-9d7c-4163-8a18-debc92ef09e3&quot; class=&quot;code_img_opened&quot; onclick=&quot;cnblogs_code_hide('3c4f5ab5-9d7c-4163-8a18-debc92ef09e3',event)&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_3c4f5ab5-9d7c-4163-8a18-debc92ef09e3&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;62&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 这两个为初始就确定的基准值 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt; 2&lt;/span&gt; &lt;span&gt;$containerWidth: 305px;
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt; &lt;span&gt;$itemMargin: 15px;
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt; 
&lt;span&gt; 5&lt;/span&gt; &lt;span&gt;$itemWidth: 130px;
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt; &lt;span&gt;$itemHeight: 150px;
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt; 
&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 每行项目数量为itemNum时的容器宽度 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;@function getContainerWidth($itemNum) &lt;/span&gt;{
&lt;span&gt;10&lt;/span&gt; &lt;span&gt;    @return $itemNum * $itemWidth + ($itemNum + 1) * $itemMargin; 
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt; }
&lt;span&gt;12&lt;/span&gt; 
&lt;span&gt;13&lt;/span&gt; &lt;span&gt;/*&lt;/span&gt;&lt;span&gt; 配置各个页面宽度下的容器宽度（应用） &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;14&lt;/span&gt; &lt;span&gt;@mixin adjustContainerWidth(
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt; &lt;span&gt;    $from: 2,
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt; &lt;span&gt;    $to: 5
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt; &lt;span&gt;) &lt;/span&gt;{
&lt;span&gt;18&lt;/span&gt; &lt;span&gt;    @for $i from $from through $to {
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; &lt;span&gt;        $minWidth&lt;/span&gt;:&lt;span&gt; getContainerWidth($i)&lt;/span&gt;;
&lt;span&gt;20&lt;/span&gt; &lt;span&gt;        $maxWidth&lt;/span&gt;:&lt;span&gt; getContainerWidth($i + 1)&lt;/span&gt;;
&lt;span&gt;21&lt;/span&gt; 
&lt;span&gt;22&lt;/span&gt; &lt;span&gt;        @media only screen and (min-width&lt;/span&gt;:&lt;span&gt; $minWidth) and (max-width: $maxWidth) {
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt; &lt;span&gt;            .container {
&lt;/span&gt;&lt;span&gt;24&lt;/span&gt; &lt;span&gt;                width: $minWidth&lt;/span&gt;;
&lt;span&gt;25&lt;/span&gt;             }
&lt;span&gt;26&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;27&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt; 
&lt;span&gt;30&lt;/span&gt; &lt;span&gt;.container &lt;/span&gt;{
&lt;span&gt;31&lt;/span&gt; &lt;span&gt;    margin&lt;/span&gt;:&lt;span&gt; 20px auto&lt;/span&gt;;
&lt;span&gt;32&lt;/span&gt; &lt;span&gt;    width&lt;/span&gt;:&lt;span&gt; $containerWidth&lt;/span&gt;;
&lt;span&gt;33&lt;/span&gt; &lt;span&gt;    background-color&lt;/span&gt;:&lt;span&gt; #f2f2f2&lt;/span&gt;;
&lt;span&gt;34&lt;/span&gt; &lt;span&gt;    color&lt;/span&gt;:&lt;span&gt; #666&lt;/span&gt;;
&lt;span&gt;35&lt;/span&gt;     
&lt;span&gt;36&lt;/span&gt; &lt;span&gt;    h2 {
&lt;/span&gt;&lt;span&gt;37&lt;/span&gt; &lt;span&gt;        margin&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;
&lt;span&gt;38&lt;/span&gt; &lt;span&gt;        padding-top&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;
&lt;span&gt;39&lt;/span&gt; &lt;span&gt;        font-size&lt;/span&gt;:&lt;span&gt; 20px&lt;/span&gt;;
&lt;span&gt;40&lt;/span&gt;     }
&lt;span&gt;41&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;42&lt;/span&gt; 
&lt;span&gt;43&lt;/span&gt; &lt;span&gt;@include adjustContainerWidth(
&lt;/span&gt;&lt;span&gt;44&lt;/span&gt; &lt;span&gt;    $from: 1,
&lt;/span&gt;&lt;span&gt;45&lt;/span&gt; &lt;span&gt;    $to: 7
&lt;/span&gt;&lt;span&gt;46&lt;/span&gt; &lt;span&gt;);
&lt;/span&gt;&lt;span&gt;47&lt;/span&gt; 
&lt;span&gt;48&lt;/span&gt; &lt;span&gt;.proj-items &lt;/span&gt;{
&lt;span&gt;49&lt;/span&gt; &lt;span&gt;    display&lt;/span&gt;:&lt;span&gt; flex&lt;/span&gt;;
&lt;span&gt;50&lt;/span&gt; &lt;span&gt;    flex-wrap&lt;/span&gt;:&lt;span&gt; wrap&lt;/span&gt;;
&lt;span&gt;51&lt;/span&gt; &lt;span&gt;    padding&lt;/span&gt;:&lt;span&gt; 0&lt;/span&gt;;
&lt;span&gt;52&lt;/span&gt; &lt;span&gt;    list-style&lt;/span&gt;:&lt;span&gt; none&lt;/span&gt;;
&lt;span&gt;53&lt;/span&gt; }
&lt;span&gt;54&lt;/span&gt; 
&lt;span&gt;55&lt;/span&gt; &lt;span&gt;.proj-item &lt;/span&gt;{
&lt;span&gt;56&lt;/span&gt; &lt;span&gt;    margin-left&lt;/span&gt;:&lt;span&gt; $itemMargin&lt;/span&gt;;
&lt;span&gt;57&lt;/span&gt; &lt;span&gt;    margin-bottom&lt;/span&gt;:&lt;span&gt; $itemMargin&lt;/span&gt;;
&lt;span&gt;58&lt;/span&gt; &lt;span&gt;    width&lt;/span&gt;:&lt;span&gt; $itemWidth&lt;/span&gt;;
&lt;span&gt;59&lt;/span&gt; &lt;span&gt;    height&lt;/span&gt;:&lt;span&gt; $itemHeight&lt;/span&gt;;
&lt;span&gt;60&lt;/span&gt; &lt;span&gt;    background-color&lt;/span&gt;:&lt;span&gt; #fff&lt;/span&gt;;
&lt;span&gt;61&lt;/span&gt; &lt;span&gt;    border-radius&lt;/span&gt;:&lt;span&gt; 3px&lt;/span&gt;;
&lt;span&gt;62&lt;/span&gt; &lt;span&gt;    text-align&lt;/span&gt;:&lt;span&gt; center&lt;/span&gt;;
&lt;span&gt;63&lt;/span&gt;     
&lt;span&gt;64&lt;/span&gt; &lt;span&gt;    &amp;amp;&lt;/span&gt;:&lt;span&gt;hover {
&lt;/span&gt;&lt;span&gt;65&lt;/span&gt; &lt;span&gt;        box-shadow: 0 0 20px #ddd&lt;/span&gt;;
&lt;span&gt;66&lt;/span&gt;     }
&lt;span&gt;67&lt;/span&gt;     
&lt;span&gt;68&lt;/span&gt; &lt;span&gt;    a &lt;/span&gt;{
&lt;span&gt;69&lt;/span&gt; &lt;span&gt;        display&lt;/span&gt;:&lt;span&gt; block&lt;/span&gt;;
&lt;span&gt;70&lt;/span&gt; &lt;span&gt;        padding&lt;/span&gt;:&lt;span&gt; 15px&lt;/span&gt;;
&lt;span&gt;71&lt;/span&gt; &lt;span&gt;        height&lt;/span&gt;:&lt;span&gt; 100%&lt;/span&gt;;
&lt;span&gt;72&lt;/span&gt; &lt;span&gt;        color&lt;/span&gt;:&lt;span&gt; #666&lt;/span&gt;;
&lt;span&gt;73&lt;/span&gt; &lt;span&gt;        text-decoration&lt;/span&gt;:&lt;span&gt; none&lt;/span&gt;;
&lt;span&gt;74&lt;/span&gt;     }
&lt;span&gt;75&lt;/span&gt;     
&lt;span&gt;76&lt;/span&gt; &lt;span&gt;    &amp;amp;__title &lt;/span&gt;{
&lt;span&gt;77&lt;/span&gt; &lt;span&gt;        margin-top&lt;/span&gt;:&lt;span&gt; 0&lt;/span&gt;;
&lt;span&gt;78&lt;/span&gt; &lt;span&gt;        font-size&lt;/span&gt;:&lt;span&gt; 16px&lt;/span&gt;;
&lt;span&gt;79&lt;/span&gt;     }
&lt;span&gt;80&lt;/span&gt;     
&lt;span&gt;81&lt;/span&gt; &lt;span&gt;    &amp;amp;__author &lt;/span&gt;{
&lt;span&gt;82&lt;/span&gt; &lt;span&gt;        font-size&lt;/span&gt;:&lt;span&gt; 12px&lt;/span&gt;;
&lt;span&gt;83&lt;/span&gt;     }
&lt;span&gt;84&lt;/span&gt; &lt;span&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;

</description>
<pubDate>Sun, 02 Dec 2018 07:26:00 +0000</pubDate>
<dc:creator>-渔人码头-</dc:creator>
<og:description>在列表展示中，经常会使用卡片的内容展示形式，为了美观，常常要求各卡片间的间隙是一致的。 卡片内容不一样可能高度不等，但一般来说为了整体的一致性，会限制每个卡片的宽高都相等。 本文就基于宽高一致的多个卡</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/imwtr/p/10053640.html</dc:identifier>
</item>
<item>
<title>MySQL索引基础 - mc90716</title>
<link>http://www.cnblogs.com/yunxitalk/p/10053627.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/yunxitalk/p/10053627.html</guid>
<description>&lt;p&gt;    索引用于加快数据访问的速度。把计算机的磁盘比作一本字典，索引就是字段的目录，当我们想快速查到某个词语的时候只需要通过查询目录找到词语所在的页数，然后直接打开某页就可以。MySQL最常用的索引是B+树索引，为什么使用B+作为MySQL的索引，这是许多面试官必问的问题。&lt;/p&gt;

&lt;h2 id=&quot;_2&quot;&gt;硬件相关知识&lt;/h2&gt;
&lt;p&gt;    计算机的磁盘是一个圆盘的接口，圆盘上有一个个的圆圈，数据就是记录在这些圆圈的扇区上。如下图所示&lt;br/&gt;&lt;img src=&quot;http://piwlsimzs.bkt.clouddn.com/disk_meitu_2.jpg&quot; alt=&quot;&quot;/&gt;&lt;br/&gt;当计算机系统读取数据的时候要通过以下几个步骤：&lt;br/&gt;1、首先移动臂根据柱面号使磁头移动到所需要的柱面上，这一过程被称为寻道。所耗费的时间叫寻道时间(ts)。&lt;br/&gt;2、目标扇区旋转到磁头下，这个过程耗费的时间叫旋转时间。&lt;br/&gt;    因此访问磁盘的时间由三部分构成：&lt;em&gt; 寻道时间+旋转时间+数据传输时间 &lt;/em&gt;&lt;br/&gt;第一部分寻道时间延迟最高，最大可达到100ms，旋转时间取决于磁盘的转速，转速在7200转/分钟的磁盘平均旋转时间在5ms左右。磁盘的读取是以block(盘块)为单位的，位于同一个盘块的数据可以一次性读取出来。在读写数据的时候尽量减少磁头来回移动的次数，避免过多的查找时间。如果每次从磁盘上读取数据的时候都要经历上面的几个过程那么效率上无疑是极低的。&lt;/p&gt;
&lt;h2 id=&quot;b_1&quot;&gt;为什么B+树&lt;/h2&gt;
&lt;p&gt;    从上面可以看到，如果随机访问磁盘的速度是很慢的，因此需要设计一个合理的数据结构来减少随机访问磁盘的次数。B树就是这样一种数据结构。&lt;/p&gt;
&lt;h2 id=&quot;bb&quot;&gt;B树、B+树介绍&lt;/h2&gt;
&lt;h3 id=&quot;b_2&quot;&gt;B树&lt;/h3&gt;
&lt;p&gt;    B树是为存储设备而设计的一种多叉平衡查找树。它与红黑树类似，但是在降低IO操作方面B树的表现要更好一些，B树与红黑树最大的区别在于B树可以有多个子节点，红黑树最多是有两个子节点，这就决定了大多数情况下B树的高度要比红黑树低很多，因此在查找的时候能够降低IO次数。下图是一棵B树：&lt;br/&gt;&lt;img src=&quot;http://piwlsimzs.bkt.clouddn.com/B.png&quot; alt=&quot;&quot;/&gt;&lt;br/&gt;B 树又叫平衡多路查找树。一棵m阶的B树的特性如下：&lt;br/&gt;    a.树中每个结点最多含有m个孩子（m&amp;gt;=2）；&lt;br/&gt;    b.除根结点和叶子结点外，其它每个结点至少有[ceil(m / 2)]个孩子（其中ceil(x)是一个取上限的函数）；&lt;br/&gt;    c.若根结点不是叶子结点，则至少有2个孩子（特殊情况：没有孩子的根结点，即根结点为叶子结点，整棵树只有一个根节点）；&lt;br/&gt;    d.所有叶子结点都出现在同一层，叶子结点不包含任何关键字信息&lt;br/&gt;    e.每个非终端结点中包含有n个关键字信息： (n，P0，K1，P1，K2，P2，......，Kn，Pn)。其中：&lt;br/&gt;        a) Ki (i=1…n)为关键字，且关键字按顺序升序排序K(i-1)&amp;lt; Ki。 &lt;br/&gt;        b) Pi为指向子树根的接点，且指针P(i-1)指向子树种所有结点的关键字均小于Ki，但都大于K(i-1)。 &lt;br/&gt;        c) 关键字的个数n必须满足： [ceil(m / 2)-1]&amp;lt;= n &amp;lt;= m-1。&lt;br/&gt;    B树中的每个节点都尽可能存储多的关键字信息和分支信息，但是不会超过磁盘块的大小。这样在有效降低了树的高度，在查找的时候可以快速定位在指定的磁盘块。假如要从上图中找到79这个数字，首先从根节点开始扫描，79大于35所以选择P3指针，指向磁盘块4，在磁盘块4中79在65和87之间，因此选择P2指针，选择磁盘块10，这时候就可以从磁盘块10中找到79。整个过程只需要3次IO，如果这棵树被缓存在内存中，那么只需要一次IO就可以读到79这个数字。&lt;/p&gt;
&lt;h3 id=&quot;b_3&quot;&gt;B+树&lt;/h3&gt;
&lt;p&gt;    B+树是B的变种，一颗m阶B+树和m阶B树的异同点在于：&lt;br/&gt;    1、有n棵子树的节点中有n-1个关键字(与B树n棵子树有n-1个关键字，保持一致)&lt;br/&gt;    2、所有的叶子节点中包含了全部的关键字的信息，以及指向含有这些关键字记录的指针，且叶子节点本身依关键字的大小而自小而大顺序链接(而B树的叶子节点并没有包含全部需要查找的信息)&lt;br/&gt;    3、所有的非终端节点可以看成索引部分，节点中仅含有其子树根节点中最大或者最小的关键字(而B树的非终节点也要包含需要查找的有效信息)&lt;br/&gt;    &lt;img src=&quot;http://piwlsimzs.bkt.clouddn.com/B+.png&quot; alt=&quot;&quot;/&gt;&lt;br/&gt;由于B+树的叶子节点是连接在一起的，因此相对于使用B树作为索引，对于MySQL的范围查询更加优化。同时由于叶子节点包含所有关键字信息，因此有的查询语句就不需要回表，只需要查询索引就可以查到需要的数据。&lt;/p&gt;
&lt;h2 id=&quot;_3&quot;&gt;索引类型&lt;/h2&gt;
&lt;h3 id=&quot;b_4&quot;&gt;B树索引&lt;/h3&gt;
&lt;p&gt;    虽然是叫B树索引，但是数据库实际上使用的是B+树来组织数据。B树索引意味着所有值都是按照顺序存储的，并且每个叶子节点到根节点的距离是相同的。&lt;br/&gt;假如有如下数据表：&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;CREATE TABLE `people` (
  `last_name` varchar(50) DEFAULT NULL,
  `first_name` varchar(50) DEFAULT NULL,
  `dob` date DEFAULT NULL,
  `gender` enum('m','f') DEFAULT NULL,
  KEY `last_name` (`last_name`,`first_name`,`dob`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;br/&gt;该表对last_name,first_name,dob三列建立了索引，索引的组织方式如下：&lt;br/&gt;&lt;img src=&quot;http://piwlsimzs.bkt.clouddn.com/people.png&quot; alt=&quot;&quot;/&gt;&lt;br/&gt;当同时对多列进行索引的时候，索引的顺序是非常重要的，上面的索引首先是按照last_name进行索引，在last_name相同的情况下在对first_name进行排序，最后是dob字段。&lt;br/&gt;    B树索引适用于全键值、键值范围和最左前缀查找:&lt;br/&gt;&lt;strong&gt;全键值&lt;/strong&gt;&lt;br/&gt;    查找名字为Allen Kim，出生日期为1930-07-12的人，这样的查找方式匹配了索引中的所有字段，依次扫描索引中的last_name、first_name和dob字段，找到对应的数据。&lt;br/&gt;&lt;strong&gt;键值范围&lt;/strong&gt;&lt;br/&gt;    查找姓名在Allen和Barrymore之间的人，这种查找方式也会使用到索引。需要注意的是这里只能是索引中的第一列，也就是last_name的范围查找。&lt;br/&gt;&lt;strong&gt;前缀匹配&lt;/strong&gt;&lt;br/&gt;    查找last_name是以Al开头的人，这种查询会以此扫描索引中的节点，然后选出来对应的复合条件的行。也是只能使用第一列的前缀查询。如果是说想查first_name的前缀匹配，那么是无法使用到索引的，意味着要进行全表扫描。&lt;br/&gt;&lt;strong&gt;精确匹配某一列，范围批量另外一列&lt;/strong&gt;&lt;br/&gt;    精确匹配的列必须是所以中的第一列，范围匹配的列是第二列，这样才能使用到上面的索引。&lt;/p&gt;

&lt;p&gt;B树索引的使用限制：&lt;br/&gt;1、不是按照最左列开始查询的，无法使用索引。&lt;br/&gt;2、不能跳过索引的列进行查询。&lt;br/&gt;3、如果使用到了范围匹配，那么范围匹配右边的列都无法使用索引查询。&lt;/p&gt;
&lt;h3 id=&quot;_4&quot;&gt;哈希索引&lt;/h3&gt;
&lt;p&gt;    哈希索引使用哈希表来实现，只有是精确匹配的时候才会生效。存储引擎会对索引列计算出一个哈希值，然后保存一个哈希值到行数据的指针。哈希索引由于其特殊的组织方式，限制了其使用场景。哈希索引只适合值比较少的情况，例如枚举类型。在以下几种方式中是不适合使用哈希索引的：&lt;br/&gt;1、哈希索引只包含哈希值和指针，不存储字段值，因此使用哈希索引避免不了要进行回表查询。&lt;br/&gt;2、哈希索引数据并不是按照值的顺序进行排序的，因此哈希索引无法用来排序&lt;br/&gt;3、哈希索引不支持部分索引列匹配。比如说在(A,B)两列上简历哈希索引，那么只有在同时使用A、B两列查询的时候才会使用哈希索引，只使用A列查询无法使用哈希索引。&lt;br/&gt;4、哈希索引只支持等值比较，不支持像between and这种范围查询。&lt;br/&gt;5、使用哈希索引的时候应该尽量避免哈希冲突。&lt;/p&gt;
&lt;h2 id=&quot;_5&quot;&gt;后记&lt;/h2&gt;
&lt;p&gt;    数据库的索引机制解决的问题是在访问内存数据与磁盘数据的速度差别很大的情况下，如何快速访问数据的问题。只有了解了索引的原理才可以更好的设计表的索引字段以及写出性能更优的查询语句。在我们写SQL语句的时候头脑中应该大体上能规划出查询数据以及如何使用索引的过程。下一篇会介绍一下高性能索引的策略，带你设计出更优的索引。&lt;/p&gt;
&lt;p&gt;----------------------------------------------------------------&lt;/p&gt;
&lt;p&gt;欢迎关注我的微信公众号：yunxi-talk，分享Java干货，进阶Java程序员必备。&lt;/p&gt;
&lt;p&gt;&lt;span data-cke-copybin-start=&quot;1&quot;&gt;​&lt;span class=&quot;cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected cke_widget_focused&quot; data-cke-widget-wrapper=&quot;1&quot; data-cke-filter=&quot;off&quot; data-cke-display-name=&quot;图像&quot; data-cke-widget-id=&quot;6&quot;&gt;&lt;img class=&quot;has cke_widget_element&quot; src=&quot;http://dl2.iteye.com/upload/attachment/0129/7103/17d7f60b-b864-3146-8b0a-850e116d3c09.jpg&quot; alt=&quot;&quot; data-cke-saved-src=&quot;http://dl2.iteye.com/upload/attachment/0129/7103/17d7f60b-b864-3146-8b0a-850e116d3c09.jpg&quot; data-cke-widget-data=&quot;{&amp;amp;quot;hasCaption&amp;amp;quot;:false,&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;http://dl2.iteye.com/upload/attachment/0129/7103/17d7f60b-b864-3146-8b0a-850e116d3c09.jpg&amp;amp;quot;,&amp;amp;quot;alt&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;width&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;height&amp;amp;quot;:&amp;amp;quot;&amp;amp;quot;,&amp;amp;quot;lock&amp;amp;quot;:true,&amp;amp;quot;align&amp;amp;quot;:&amp;amp;quot;none&amp;amp;quot;,&amp;amp;quot;classes&amp;amp;quot;:{&amp;amp;quot;has&amp;amp;quot;:1}}&quot; data-cke-widget-upcasted=&quot;1&quot; data-cke-widget-keep-attr=&quot;0&quot; data-widget=&quot;image&quot;/&gt;&lt;span class=&quot;cke_reset cke_widget_drag_handler_container&quot;&gt;&lt;img class=&quot;cke_reset cke_widget_drag_handler&quot; title=&quot;点击并拖拽以移动&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==&quot; alt=&quot;&quot; width=&quot;15&quot; height=&quot;15&quot; data-cke-widget-drag-handler=&quot;1&quot;/&gt;&lt;span class=&quot;cke_image_resizer&quot; title=&quot;点击并拖拽以改变尺寸&quot;&gt;​&lt;span data-cke-copybin-end=&quot;1&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 02 Dec 2018 07:23:00 +0000</pubDate>
<dc:creator>mc90716</dc:creator>
<og:description>介绍 索引用于加快数据访问的速度。把计算机的磁盘比作一本字典，索引就是字段的目录，当我们想快速查到某个词语的时候只需要通过查询目录找到词语所在的页数，然后直接打开某页就可以。MySQL最常用的索引是B</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/yunxitalk/p/10053627.html</dc:identifier>
</item>
<item>
<title>ReentrantLock和condition源码浅析(二) - 不懂是非</title>
<link>http://www.cnblogs.com/qm-article/p/10053619.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/qm-article/p/10053619.html</guid>
<description>&lt;p&gt;&lt;span&gt; 转载请注明出处。。。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;接着上一篇的&lt;a id=&quot;homepage1_HomePageDays_DaysList_ctl00_DayList_TitleUrl_0&quot; class=&quot;postTitle2&quot; title=&quot;ReentrantLock和condition源码浅析(一)&quot; href=&quot;https://www.cnblogs.com/qm-article/p/10011485.html&quot; target=&quot;_blank&quot;&gt;ReentrantLock和condition源码浅析(一)&lt;/a&gt;，这篇围绕着condition&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;在这里为了作对比，引入Object类的两个方法，notify和wait方法，这两个方法作用，估计都很清楚，就是一个具有唤醒线程，另一个具有让线程等待的功能，适用场景，像类似生产者，消费者，那样。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;这两个方法的注意点，在于必须放在同步块中执行,具体原因可自行百度或谷歌。执行wait方法后，线程会阻塞，并释放同步代码块的锁(sleep方法会持有锁)，notify的方法执行，会唤醒某个线程，但是如果有多个线程执行wait方法阻塞，notify的执行只会唤醒其中某个线程，并不能指定线程唤醒，这时要使用notifyAll才能达到唤醒所有阻塞线程。这样确实有点麻烦，而condition的引入就是为了解决只唤醒执行阻塞的线程。它具有超时作用，即超过某段时间，即会自动唤醒，不会造成一直阻塞。常用的阻塞队列就是这个类实现的。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;使用注意点，await和signal必须要在lock方法后执行，如果不执行lock方法就执行await或signal，会出现异常的，具体原因，稍后分析。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;在我们使用该方法时，首先会获取Lock接口的一个实现类，然后调用newCondition类方法，本文以ReentrantLock为例。使用方法如下&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;1&lt;/span&gt; Lock lock = &lt;span&gt;new&lt;/span&gt;&lt;span&gt; ReentrantLock();
&lt;/span&gt;&lt;span&gt;2&lt;/span&gt; 
&lt;span&gt;3&lt;/span&gt; Condition empty =&lt;span&gt; lock.newCondition();
&lt;/span&gt;&lt;span&gt;4&lt;/span&gt; 
&lt;span&gt;5&lt;/span&gt; &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 阻塞线程，并释放锁&lt;/span&gt;
&lt;span&gt;6&lt;/span&gt; &lt;span&gt;empty.await();
&lt;/span&gt;&lt;span&gt;7&lt;/span&gt; 
&lt;span&gt;8&lt;/span&gt; &lt;span&gt;//&lt;/span&gt;&lt;span&gt;  唤醒前面阻塞的线程&lt;/span&gt;
&lt;span&gt;9&lt;/span&gt; empty.signal();
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; 这里先从await方法(不带参数)开始，代码如下&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; await() &lt;span&gt;throws&lt;/span&gt;&lt;span&gt; InterruptedException {
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; (Thread.interrupted())
                &lt;/span&gt;&lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; InterruptedException();
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 将当前线程包装成一个Node节点，并节点状态为condition，值为-2&lt;/span&gt;
            Node node =&lt;span&gt; addConditionWaiter();
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 释放当前线程持有的所有锁&lt;/span&gt;
            &lt;span&gt;long&lt;/span&gt; savedState =&lt;span&gt; fullyRelease(node);
            &lt;/span&gt;&lt;span&gt;int&lt;/span&gt; interruptMode = 0&lt;span&gt;;
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 判断当前线程是否在同步队列中，即在head-&amp;gt;tail队列中，如果不在，那就是还在等待队列中，阻塞当前线程。&lt;/span&gt;
            &lt;span&gt;while&lt;/span&gt; (!&lt;span&gt;isOnSyncQueue(node)) {
                LockSupport.park(&lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;);
                &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; ((interruptMode = checkInterruptWhileWaiting(node)) != 0&lt;span&gt;)
                    &lt;/span&gt;&lt;span&gt;break&lt;/span&gt;&lt;span&gt;;
            }
            &lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt; 当当前线程执行了signal方法会经过这个，即重新将当前线程加入同步队列中&lt;/span&gt;
            &lt;span&gt;if&lt;/span&gt; (acquireQueued(node, savedState) &amp;amp;&amp;amp; interruptMode !=&lt;span&gt; THROW_IE)
                interruptMode &lt;/span&gt;=&lt;span&gt; REINTERRUPT;
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (node.nextWaiter != &lt;span&gt;null&lt;/span&gt;) &lt;span&gt;//&lt;/span&gt;&lt;span&gt; clean up if cancelled&lt;/span&gt;
&lt;span&gt;                unlinkCancelledWaiters();
            &lt;/span&gt;&lt;span&gt;if&lt;/span&gt; (interruptMode != 0&lt;span&gt;)
                reportInterruptAfterWait(interruptMode);
        }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;前面也说了该方法一定在lock方法内部执行，不然就会抛异常。具体代码在fullRelease(node)方法内，代码如下&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;long&lt;/span&gt;&lt;span&gt; fullyRelease(Node node) {
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;         &lt;span&gt;boolean&lt;/span&gt; failed = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 3&lt;/span&gt;         &lt;span&gt;try&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 获取当前线程状态值,即持有了几个锁&lt;/span&gt;
&lt;span&gt; 5&lt;/span&gt;             &lt;span&gt;long&lt;/span&gt; savedState =&lt;span&gt; getState();
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;            &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 释放锁，最后最执行到ReentrantLock的tryRelease()方法，该段代码会判断当前线程是与持有锁的线程是同一个线程，如果不是，则抛异常&lt;/span&gt;
&lt;span&gt; 7&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (release(savedState)) {
&lt;/span&gt;&lt;span&gt; 8&lt;/span&gt;                 failed = &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt;                 &lt;span&gt;return&lt;/span&gt;&lt;span&gt; savedState;
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;             } &lt;span&gt;else&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;                 &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; IllegalMonitorStateException();
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt; &lt;span&gt;            }
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;         } &lt;span&gt;finally&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt;&lt;span&gt; (failed)
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 抛异常了，则将此节点状态改为canceled，等待从队列中移除&lt;/span&gt;
&lt;span&gt;16&lt;/span&gt;                 node.waitStatus =&lt;span&gt; Node.CANCELLED;
&lt;/span&gt;&lt;span&gt;17&lt;/span&gt; &lt;span&gt;        }
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt;     }
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt;该方法的执行，有这几个步骤&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;1、将当前线程包装成一个node节点，且状态节点为condition，值为-2。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;2、释放当前线程持有的所有锁，让下一个线程能获取锁。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;3、如果条件满足，则阻塞该线程，等待被唤醒&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;4、若被唤醒，则尝试加入该节点到同步队列中，直到获取锁。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;至于该方法的几个其他的重载方法，这里不过多叙述&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;不一样的地方就是改造了while()循环内部代码，重点是使用了LockSupport.parkNanos方法能保证在规定时间，该线程会被唤醒。其他判断就是一些当前线程有没有被中断，有没有达到等待时间等。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt; 该方法用来唤醒执行await方法被阻塞的线程,具体代码如下&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;42&quot;&gt;
&lt;pre&gt;
&lt;span&gt; 1&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; signal() {
&lt;/span&gt;&lt;span&gt; 2&lt;/span&gt;             &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 与await方法一样，如果不在lock方法内执行，则也会抛异常&lt;/span&gt;
&lt;span&gt; 3&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (!&lt;span&gt;isHeldExclusively())
&lt;/span&gt;&lt;span&gt; 4&lt;/span&gt;                 &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt;&lt;span&gt; IllegalMonitorStateException();
&lt;/span&gt;&lt;span&gt; 5&lt;/span&gt;             Node first =&lt;span&gt; firstWaiter;
&lt;/span&gt;&lt;span&gt; 6&lt;/span&gt;             &lt;span&gt;if&lt;/span&gt; (first != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt; 7&lt;/span&gt;                 &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 唤醒等待队列中线程&lt;/span&gt;
&lt;span&gt; 8&lt;/span&gt; &lt;span&gt;                doSignal(first);
&lt;/span&gt;&lt;span&gt; 9&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;10&lt;/span&gt; 
&lt;span&gt;11&lt;/span&gt; &lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; doSignal(Node first) {
&lt;/span&gt;&lt;span&gt;12&lt;/span&gt;             &lt;span&gt;do&lt;/span&gt;&lt;span&gt; {
&lt;/span&gt;&lt;span&gt;13&lt;/span&gt;                 &lt;span&gt;if&lt;/span&gt; ( (firstWaiter = first.nextWaiter) == &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;14&lt;/span&gt;                     lastWaiter = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;                 first.nextWaiter = &lt;span&gt;null&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;16&lt;/span&gt;             } &lt;span&gt;while&lt;/span&gt; (!transferForSignal(first) &amp;amp;&amp;amp;
&lt;span&gt;17&lt;/span&gt;                      (first = firstWaiter) != &lt;span&gt;null&lt;/span&gt;&lt;span&gt;);
&lt;/span&gt;&lt;span&gt;18&lt;/span&gt; &lt;span&gt;}
&lt;/span&gt;&lt;span&gt;19&lt;/span&gt; 
&lt;span&gt;20&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt;&lt;span&gt; transferForSignal(Node node) {
&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;         &lt;span&gt;/*&lt;/span&gt;
&lt;span&gt;22&lt;/span&gt; &lt;span&gt;         * If cannot change waitStatus, the node has been cancelled. 如果改变node节点状态失败,即该节点被取消了
&lt;/span&gt;&lt;span&gt;23&lt;/span&gt;          &lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;24&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (!compareAndSetWaitStatus(node, Node.CONDITION, 0&lt;span&gt;))
&lt;/span&gt;&lt;span&gt;25&lt;/span&gt;             &lt;span&gt;return&lt;/span&gt; &lt;span&gt;false&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 将该节点加入同步队列中,即head-&amp;gt;tail队列中&lt;/span&gt;
&lt;span&gt;27&lt;/span&gt;         Node p =&lt;span&gt; enq(node);
&lt;/span&gt;&lt;span&gt;28&lt;/span&gt;         &lt;span&gt;int&lt;/span&gt; ws =&lt;span&gt; p.waitStatus;
&lt;/span&gt;&lt;span&gt;29&lt;/span&gt;         &lt;span&gt;//&lt;/span&gt;&lt;span&gt; 如果节点被取消，或更改状态失败，则唤醒被阻塞的线程&lt;/span&gt;
&lt;span&gt;30&lt;/span&gt;         &lt;span&gt;if&lt;/span&gt; (ws &amp;gt; 0 || !&lt;span&gt;compareAndSetWaitStatus(p, ws, Node.SIGNAL))
&lt;/span&gt;&lt;span&gt;31&lt;/span&gt; &lt;span&gt;            LockSupport.unpark(node.thread);
&lt;/span&gt;&lt;span&gt;32&lt;/span&gt;         &lt;span&gt;return&lt;/span&gt; &lt;span&gt;true&lt;/span&gt;&lt;span&gt;;
&lt;/span&gt;&lt;span&gt;33&lt;/span&gt; &lt;span&gt;    }
&lt;/span&gt;&lt;span&gt;34&lt;/span&gt;     
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span&gt; 或许有的人会有疑问，执行await方法，有执行LockSupport.park方法来阻塞线程，但是执行signal方法顺利的话，没有代码执行LockSupport.unpark方法，那线程岂不是还一直在阻塞中？&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;其实呢，signal起的作用并不是直接唤醒线程，它的作用是把阻塞的线程移到同步队列中，在上一篇中&lt;a id=&quot;homepage1_HomePageDays_DaysList_ctl00_DayList_TitleUrl_0&quot; class=&quot;postTitle2&quot; title=&quot;ReentrantLock和condition源码浅析(一)&quot; href=&quot;https://www.cnblogs.com/qm-article/p/10011485.html&quot; target=&quot;_blank&quot;&gt;ReentrantLock和condition源码浅析(一)&lt;/a&gt; 博文中有介绍release方法，该方法内部有一个执行unpark方法，&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;它会去不断的释放满足条件的并被阻塞的线程。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;----------------------------------------------------------------------------------------华丽的分界线----------------------------------------------------------------------------------------------------------------------------&lt;/p&gt;
&lt;p&gt;&lt;span&gt; 以上内容就是我堆condition的了解，若有错误或不足之处，还望指正，谢谢！&lt;/span&gt;&lt;/p&gt;

</description>
<pubDate>Sun, 02 Dec 2018 07:22:00 +0000</pubDate>
<dc:creator>不懂是非</dc:creator>
<og:description>转载请注明出处。。。 接着上一篇的ReentrantLock和condition源码浅析(一)，这篇围绕着condition 一、condition的介绍 在这里为了作对比，引入Object类的两个方</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/qm-article/p/10053619.html</dc:identifier>
</item>
<item>
<title>Redis配置文件（2）SNAPSHOTTING快照/APPEND ONLY MODE追加 - MrChengs</title>
<link>http://www.cnblogs.com/Mrchengs/p/10053560.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/Mrchengs/p/10053560.html</guid>
<description>&lt;p&gt;&lt;span&gt;&lt;strong&gt;redis.conf文件&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1.Save&lt;/p&gt;
&lt;p&gt;&lt;span&gt;a. save 秒钟 写操作次数&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;50&quot;&gt;
&lt;pre&gt;
&lt;span&gt;RDB是整个内存的压缩过的Snapshot，RDB的数据结构，可以配置复合的快照触发条件，
默认
是1分钟内改了1万次，
或5分钟内改了10次，
或15分钟内改了1次。&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;182 # Save the DB on disk:&lt;/p&gt;
&lt;p&gt;184 #   save &amp;lt;seconds&amp;gt; &amp;lt;changes&amp;gt;&lt;/p&gt;
&lt;p&gt;186 #   Will save the DB if both the given number of seconds and the given&lt;/p&gt;
&lt;p&gt;187 #   number of write operations against the DB occurred.&lt;/p&gt;
&lt;p&gt;189 #   In the example below the behaviour will be to save:&lt;/p&gt;
&lt;p&gt;190 #   after 900 sec (15 min) if at least 1 key changed&lt;/p&gt;
&lt;p&gt;191 #   after 300 sec (5 min) if at least 10 keys changed&lt;/p&gt;
&lt;p&gt;192 #   after 60 sec if at least 10000 keys changed&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;span&gt;b.如果想禁用RDB持久化的策略，只要不设置任何save指令，或者给save传入一个空字符串参数也可以&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;194&lt;/span&gt; #   Note: you can disable saving completely by commenting &lt;span&gt;out&lt;/span&gt; all &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;save&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; lines.
&lt;/span&gt;&lt;span&gt;195&lt;/span&gt;&lt;span&gt; #
&lt;/span&gt;&lt;span&gt;196&lt;/span&gt; #   It &lt;span&gt;is&lt;/span&gt;&lt;span&gt; also possible to remove all the previously configured save
&lt;/span&gt;&lt;span&gt;197&lt;/span&gt; #   points by adding a save directive with a single empty &lt;span&gt;string&lt;/span&gt;&lt;span&gt; argument
&lt;/span&gt;&lt;span&gt;198&lt;/span&gt; #   like &lt;span&gt;in&lt;/span&gt;&lt;span&gt; the following example:
&lt;/span&gt;&lt;span&gt;199&lt;/span&gt;&lt;span&gt; #
&lt;/span&gt;&lt;span&gt;200 #   save &quot;&quot;&lt;/span&gt;
&lt;span&gt;202&lt;/span&gt; save &lt;span&gt;900&lt;/span&gt; &lt;span&gt;1&lt;/span&gt;
&lt;span&gt;203&lt;/span&gt; save &lt;span&gt;300&lt;/span&gt; &lt;span&gt;10&lt;/span&gt;
&lt;span&gt;204&lt;/span&gt; save &lt;span&gt;60&lt;/span&gt; &lt;span&gt;10000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;set&lt;/span&gt;&lt;span&gt; key value1

&lt;span&gt;save
此时立马执行，形成最新的dump文件&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;stop-writes-on-bgsave-error&lt;/p&gt;
&lt;p&gt;如果配置成no，表示你不在乎数据不一致或者有其他的手段发现和控制&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
# However &lt;span&gt;if&lt;/span&gt;&lt;span&gt; you have setup your proper monitoring of the Redis server
# and persistence, you may want to disable &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt; feature so that Redis will
# &lt;/span&gt;&lt;span&gt;continue&lt;/span&gt; to work &lt;span&gt;as&lt;/span&gt; usual even &lt;span&gt;if&lt;/span&gt;&lt;span&gt; there are problems with disk,
# permissions, and so forth.
&lt;span&gt;stop&lt;/span&gt;&lt;/span&gt;&lt;span&gt;-writes-on-bgsave-error yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;yes：出错了就立即停止&lt;/p&gt;

&lt;p&gt;rdbcompression&lt;/p&gt;
&lt;p&gt;rdbcompression：对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用&lt;/p&gt;
&lt;p&gt;LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
# Compress &lt;span&gt;string&lt;/span&gt; objects &lt;span&gt;using&lt;/span&gt; LZF when dump .rdb databases?&lt;span&gt;
# For &lt;/span&gt;&lt;span&gt;default&lt;/span&gt; that&lt;span&gt;'&lt;/span&gt;&lt;span&gt;s set to &lt;/span&gt;&lt;span&gt;'&lt;/span&gt;yes&lt;span&gt;'&lt;/span&gt;&lt;span&gt; as it&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt;s almost always a win.
# If you want to save some CPU &lt;/span&gt;&lt;span&gt;in&lt;/span&gt; the saving child &lt;span&gt;set&lt;/span&gt; it to &lt;span&gt;'&lt;/span&gt;&lt;span&gt;no&lt;/span&gt;&lt;span&gt;'&lt;/span&gt;&lt;span&gt; but
# the dataset will likely be bigger &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; you have compressible values or keys.
&lt;span&gt;rdbcompression yes&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;dbfilename&lt;/p&gt;
&lt;p&gt;默认生成的rdb文件名&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
# The filename &lt;span&gt;where&lt;/span&gt;&lt;span&gt; to dump the DB
&lt;span&gt;dbfilename dump.rdb&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;dir&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
&lt;span&gt;# Note that you must specify a directory here, not a file name.
&lt;span&gt;dir .&lt;/span&gt;&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;实战测试：&lt;/p&gt;
&lt;p&gt;修改配置文件&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;200&lt;/span&gt; #   save &lt;span&gt;&quot;&quot;&lt;/span&gt;
&lt;span&gt;202&lt;/span&gt; save &lt;span&gt;900&lt;/span&gt; &lt;span&gt;1&lt;/span&gt;
&lt;strong&gt;&lt;span&gt;203 save 120 10&lt;/span&gt;&lt;/strong&gt;
&lt;span&gt;204&lt;/span&gt; save &lt;span&gt;60&lt;/span&gt; &lt;span&gt;10000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;两分钟10次操作&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202143517468-371720762.png&quot; alt=&quot;&quot; width=&quot;642&quot; height=&quot;359&quot;/&gt;&lt;/p&gt;
&lt;p&gt;之后会生成一个dump.rdb文件，具体生成文件的默认名请修改：&lt;span&gt;dbfilename&lt;/span&gt;&lt;/p&gt;

&lt;p&gt; 进行复制（备份）&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202144033521-1620703663.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt; 模拟事故：&lt;/p&gt;
&lt;p&gt;此时直接删除所有的数据&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202144053986-306979680.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt; 此时再次重新登陆则是会显示为空，即是存在dump.rdb文件&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202144131048-1722257756.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;在管不redis时，迅速斩断，保存文件dump.rdb&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202144224889-830203485.png&quot; alt=&quot;&quot; width=&quot;633&quot; height=&quot;434&quot;/&gt;&lt;/p&gt;

&lt;p&gt;此时删除之前的dump.rdb文件，并且把之前的dump_cp.rdb备份文件复制一份命名为dump.rdb&lt;/p&gt;
&lt;p&gt;此时又可以进行之前的keys的值获取&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202144258059-1117608175.png&quot; alt=&quot;&quot; width=&quot;597&quot; height=&quot;359&quot;/&gt;&lt;/p&gt;


&lt;p&gt;&lt;span&gt;&lt;strong&gt; APPEND ONLY MODE追加&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;  appendonly：默认开关状态，可以同时和RDB一起开着&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;# AOF and RDB persistence can be enabled at the same time without problems.
# If the AOF &lt;/span&gt;&lt;span&gt;is&lt;/span&gt; enabled on startup Redis will load the AOF, that &lt;span&gt;is&lt;/span&gt;&lt;span&gt; the file
# with the better durability guarantees.
#
# Please check http:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;redis.io/topics/persistence for more information.&lt;/span&gt;
&lt;span&gt;
appendonly no
默认是关着的&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;  appendfilename：默认的文件名&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
# The name of the append only file (&lt;span&gt;default&lt;/span&gt;: &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;appendonly.aof&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)
&lt;span&gt;appendfilename &lt;/span&gt;&lt;/span&gt;&lt;span&gt;&quot;appendonly.aof&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; appendfsync&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
# no: don&lt;span&gt;'&lt;/span&gt;&lt;span&gt;t fsync, just let the OS flush the data when it wants. Faster.&lt;/span&gt;
&lt;span&gt;# always: fsync after every write to the append only log. Slow, Safest.
# everysec: fsync only one time every second. Compromise.
&lt;strong&gt;&lt;span&gt;always：同步持久话每次发生数据变更立即记录到磁盘，性能比较差但是数据完整性好
everysec：出场默认的推荐的，异步操作，每秒记录，如果一秒内宕机，有数据丢失&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
&lt;span&gt;# More details please check the following article:
# http:&lt;/span&gt;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;antirez.com/post/redis-persistence-demystified.html&lt;/span&gt;&lt;span&gt;
# If unsure, use &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;everysec&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;.
# appendfsync always
&lt;span&gt;&lt;strong&gt;appendfsync everysec&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;no-appendfsync-on-rewrite：重写时是否可以运用Appendfsync，&lt;/p&gt;
&lt;p&gt;用默认no即可，保证数据安全性。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;33&quot;&gt;
&lt;pre&gt;
# If you have latency problems turn &lt;span&gt;this&lt;/span&gt; to &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;yes&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;. Otherwise leave it &lt;span&gt;as&lt;/span&gt;&lt;span&gt;
# &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;no&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt; that &lt;span&gt;is&lt;/span&gt; the safest pick &lt;span&gt;from&lt;/span&gt;&lt;span&gt; the point of view of durability.
&lt;span&gt;&lt;strong&gt;no&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;-appendfsync-on-rewrite no&lt;/strong&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;auto-aof-rewrite-min-size：设置重写的基准值&lt;/p&gt;
&lt;p&gt;auto-aof-rewrite-percentage：设置重写的基准值&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;37&quot;&gt;
&lt;pre&gt;
# This &lt;span&gt;base&lt;/span&gt; size &lt;span&gt;is&lt;/span&gt; compared to the current size. If the current size &lt;span&gt;is&lt;/span&gt;&lt;span&gt;
# bigger than the specified percentage, the rewrite &lt;/span&gt;&lt;span&gt;is&lt;/span&gt;&lt;span&gt; triggered. Also
# you need to specify a minimal size &lt;/span&gt;&lt;span&gt;for&lt;/span&gt; the AOF file to be rewritten, &lt;span&gt;this&lt;/span&gt;&lt;span&gt;
# &lt;/span&gt;&lt;span&gt;is&lt;/span&gt; useful to avoid rewriting the AOF file even &lt;span&gt;if&lt;/span&gt;&lt;span&gt; the percentage increase
# &lt;/span&gt;&lt;span&gt;is&lt;/span&gt; reached but it &lt;span&gt;is&lt;/span&gt;&lt;span&gt; still pretty small.
# Specify a percentage of zero &lt;/span&gt;&lt;span&gt;in&lt;/span&gt;&lt;span&gt; order to disable the automatic AOF
# rewrite feature.
&lt;span&gt;&lt;strong&gt;auto&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb&lt;/strong&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;实战测试：&lt;/p&gt;
&lt;p&gt;aof测试&lt;/p&gt;
&lt;p&gt;首先开启aof测试&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
# Please check http:&lt;span&gt;//&lt;/span&gt;&lt;span&gt;redis.io/topics/persistence for more information.&lt;/span&gt;&lt;span&gt;
appendonly yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;此时已经生成文件，aof自动开启&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150013194-540806446.png&quot; alt=&quot;&quot; width=&quot;556&quot; height=&quot;249&quot;/&gt;&lt;/p&gt;

&lt;p&gt; 创造性的意外事件&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150027661-106302948.png&quot; alt=&quot;&quot; width=&quot;563&quot; height=&quot;240&quot;/&gt;&lt;/p&gt;

&lt;p&gt;查看appendonly.aof&lt;/p&gt;
&lt;p&gt;发现已经记下了我们写的命令&lt;/p&gt;
&lt;p&gt;记录了我们执行的每一条命令&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150108922-1503208400.png&quot; alt=&quot;&quot; width=&quot;482&quot; height=&quot;290&quot;/&gt;&lt;/p&gt;

&lt;p&gt;重新启动&lt;/p&gt;
&lt;p&gt;里面的内容为空&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150155961-1579445894.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;删除appendonly.aof&lt;/p&gt;
&lt;p&gt;的最后一句&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150210794-705646811.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;此时重新启动&lt;/p&gt;
&lt;p&gt;获取到我们之前的内容&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150223506-1727919877.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;假设出现下面的情况：&lt;/p&gt;
&lt;p&gt;appendonly.aof文件出错：可能是网络，断电.......&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150245271-1385962085.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt; 此时RDB和AOF文件都在&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150255460-1410484005.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt; 此时启动Redis&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150310803-437020916.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt; 在dump.rdb文件完整的情况下，appendonly.aof文件出错，说明后者的优先级大于前者&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt; 那么此时的处理方式是：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;strong&gt;&lt;span&gt;redis-check-aof --fix appendonly.aof&lt;/span&gt;&lt;/strong&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150609554-1076303677.png&quot; alt=&quot;&quot; width=&quot;511&quot; height=&quot;241&quot;/&gt;&lt;/p&gt;
&lt;p&gt;再次重新启动：&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://img2018.cnblogs.com/blog/1488757/201812/1488757-20181202150630729-48213469.png&quot; alt=&quot;&quot; width=&quot;393&quot; height=&quot;139&quot;/&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 02 Dec 2018 07:09:00 +0000</pubDate>
<dc:creator>MrChengs</dc:creator>
<og:description>redis.conf文件 1.Save a. save 秒钟 写操作次数 182 # Save the DB on disk: 184 # save &lt;seconds&gt; &lt;</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/Mrchengs/p/10053560.html</dc:identifier>
</item>
<item>
<title>Java——代码块 - SakuraOne</title>
<link>http://www.cnblogs.com/myworld7/p/10053367.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/myworld7/p/10053367.html</guid>
<description>&lt;p&gt;&lt;a name=&quot;1&quot;&gt;&lt;span&gt;&lt;strong&gt;普通代码块&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;写在方法里面的代码块就是普通代码块&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public static void main(String args[]){
  {
    int num = 0;
  }
  int num=100;
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;{...}&lt;/code&gt;表示的是一个作用域，内部定义的变量的可以起作用的范围仅在&lt;code&gt;{...}&lt;/code&gt;这个范围内。&lt;/p&gt;&lt;p&gt;上面代码中&lt;code&gt;{int num=0;}&lt;/code&gt;的num在离开&lt;code&gt;{...}&lt;/code&gt;后就被销毁了，于是可以在外部又可以定义&lt;code&gt;int num=100&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;若是写成以下：&lt;/p&gt;
&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public static void main(String args[]){
  int num=100;
  {
    int num = 0;    //报错：Duplicate local variable num
  }
}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;因为外部也存在num这个变量，且有效。所以，这样定义会出错。&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;普通代码块的作用就是&lt;u&gt;为了防止在方法中编写代码过多，产生变量重名，于是对一个方法中的代码进行局部的分割&lt;/u&gt;。但是建议一个方法中的代码不要太长，尽量不使用普通代码块&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;2&quot;&gt;&lt;span&gt;&lt;strong&gt;构造块&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;br/&gt;如果将一个代码块放在类里面，那么就是一个构造块。&lt;p&gt;&lt;u&gt;构造块的作用是为了给对象进行初始化&lt;/u&gt;。我们知道构造函数的作用也是为了给对象进行初始化，那么这两者有什么区别呢？&lt;br/&gt;&lt;/p&gt;&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public  class Student {
    private String name;
    private int age;

    //无参构造函数
    public Student() {
        System.out.println(&quot;constructor with no args &quot;);
        System.out.println(&quot;name:&quot;+this.name + &quot; age:&quot;+this.age);
        this.name = &quot;no name&quot;;
        this.age = 18;
    }

    //有参构造函数
    public Student(String name, int age){
        System.out.println(&quot;constructor with args&quot;);
        System.out.println(&quot;name:&quot;+this.name + &quot; age:&quot;+this.age);
        this.name = name;
        this.age = age;
    }

    //构造块
    {
        System.out.println(&quot;constructor block &quot;);
        name = &quot;cbname&quot;;
        age = 20;
    }

    public static void main(String[] args) {
        new Student();
        System.out.println(&quot;==========&quot;);
        new Student(&quot;sakura&quot;, 19);
    }
}
/*
output:
constructor block
constructor with no args
name:cbname age:20
==========
constructor block
constructor with args
name:cbname age:20
*/&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;可以看出每次创建对象时，都会调用一次构造块，并且&lt;strong&gt;构造块的优先于构造函数执行&lt;/strong&gt;。有对象的创建，才会调用构造快，类是不能调用构造块的。&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;构造块与构造函数的区别在于：每个对象被构造块初始化的那部分变量拥有的初始值是一样的，&lt;strong&gt;构造块对所有对象的效果是一样的&lt;/strong&gt;。然而每个对象可能会使用不同构造函数，&lt;strong&gt;不同的构造函数初始化对象的方式是不同的&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;3&quot;&gt;&lt;span&gt;&lt;strong&gt;静态块&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;br/&gt;使用static修饰的代码块就叫做静态代码块或者直接叫静态块。&lt;p&gt;前面在介绍&lt;a target=&quot;_blank&quot; href=&quot;https://www.cnblogs.com/myworld7/p/10052245.html#23&quot;&gt;&lt;br/&gt;&lt;strong&gt;static关键字&lt;/strong&gt;&lt;/a&gt;（可以回顾查看）时，介绍了一部分static修饰代码块的知识。&lt;/p&gt;
&lt;ul readability=&quot;1.5&quot;&gt;&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;静态块在类加载时执行，且只会&lt;strong&gt;执行一次&lt;/strong&gt;，&lt;strong&gt;执行顺序优先主函数、构造函数和构造块&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;静态代码块主要用于&lt;strong&gt;初始化类中的static属性（类属性）&lt;/strong&gt;，而构造块是初始化对象中的属性&lt;/p&gt;
&lt;/li&gt;
&lt;li readability=&quot;0&quot;&gt;
&lt;p&gt;一个类中可以有多个静态代码块， 执行顺序依照静态代码块的声明顺序。静态代码块&lt;strong&gt;可以在类的任意位置定义，在方法中不可以声明静态块&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;&lt;a name=&quot;4&quot;&gt;&lt;span&gt;&lt;strong&gt;Java类的初始化顺序&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;p&gt;&lt;a name=&quot;41&quot;&gt;&lt;span&gt;&lt;strong&gt;对于一个类（没有继承）的初始化情况&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;&lt;hr/&gt;&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;public  class Student {
    private String name=&quot;no name&quot;;
    private int age=18;
    private static int id=1;
    //无参构造函数
    public Student() {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;无参构造函数&quot;);
        System.out.println(&quot;姓名:&quot;+name+&quot; 年龄:&quot;+age);
    }

    //有参构造函数
    public Student(String name, int age){
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;有参构造函数&quot;);
        System.out.println(&quot;姓名:&quot;+this.name+&quot; 年龄:&quot;+this.age);
        this.name = name;
        this.age = age;
        System.out.println(&quot;姓名:&quot;+this.name+&quot; 年龄:&quot;+this.age);
    }

    //构造块
    {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;构造块&quot;);
        System.out.println(&quot;姓名:&quot;+this.name+&quot; 年龄:&quot;+this.age);
        this.name = &quot;cbname&quot;;
        this.age = 18;
    }

    //静态代码块
    static {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;静态块&quot;);
        System.out.println(&quot;静态变量id=&quot;+id);
    }

    public static void main(String[] args) {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;主方法&quot;);
        new Student();
        new Student(&quot;小王&quot;,20);
    }
}

/*
output:
======
静态块
静态变量id=1
======
主方法
======
构造块
姓名:no name 年龄:18
======
无参构造函数
姓名:cbname 年龄:18
======
构造块
姓名:no name 年龄:18
======
有参构造函数
姓名:cbname 年龄:18
姓名:小王 年龄:20
*/&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;对于一个类而言：&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;静态代码块、构造代码块、构造函数和主函数的执行顺序为：&lt;/p&gt;
&lt;blockquote readability=&quot;5&quot;&gt;
&lt;p&gt;&lt;span&gt;静态代码块&amp;gt;主函数&amp;gt;构造代码块&amp;gt;构造函数&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在加上静态属性、普通属性，他们的初始化执行顺序就为：&lt;/p&gt;
&lt;blockquote readability=&quot;6&quot;&gt;
&lt;p&gt;&lt;span&gt;静态变量、静态代码块 &amp;gt; 主函数 &amp;gt; 指定初始值的属性 &amp;gt; 构造代码块 &amp;gt; 构造函数&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;42&quot;&gt;&lt;span&gt;&lt;strong&gt;对于有继承的情况&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;pre class=&quot;java&quot;&gt;
&lt;code&gt;class Person{
    private String name=&quot;Person没有名字&quot;;
    private int age=10;
    private static int id=1;
    //无参构造函数
    public Person() {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;Person无参构造函数&quot;);
        System.out.println(&quot;Person 姓名:&quot;+this.name+&quot; 年龄:&quot;+this.age);
    }

    //构造块
    {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;Person 构造块&quot;);
        System.out.println(&quot;Person 姓名:&quot;+this.name+&quot; 年龄:&quot;+this.age);
        this.name = &quot;pcbname&quot;;
        this.age =11 ;
    }

    //静态代码块
    static {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;Person 静态块&quot;);
        System.out.println(&quot;Person 静态变量id=&quot;+id);
    }
}
public  class Student extends Person{
    private String name=&quot;Student没有名字&quot;;
    private int age=18;
    private static int id=2;
    //无参构造函数
    public Student() {
        //自动调用父类的无参构造函数 super();
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;Student无参构造函数&quot;);
        System.out.println(&quot;Student 姓名:&quot;+this.name+&quot; 年龄:&quot;+this.age);
    }

    //有参构造函数
    public Student(String name, int age) {
        //自动调用父类的无参构造函数 super();
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;Student有参构造函数&quot;);
        System.out.println(&quot;Student 姓名:&quot;+this.name+&quot; 年龄:&quot;+this.age);
        this.name = name;
        this.age = age;
    }

    //构造块
    {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;Student 构造块&quot;);
        System.out.println(&quot;Student 姓名:&quot;+this.name+&quot; 年龄:&quot;+this.age);
        this.name = &quot;scbname&quot;;
        this.age = 19;
    }

    //静态代码块
    static {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;Student 静态块&quot;);
        System.out.println(&quot;Student 静态变量id=&quot;+id);
    }

    public static void main(String[] args) {
        System.out.println(&quot;======&quot;);
        System.out.println(&quot;主方法&quot;);
        System.out.println(&quot;\n--------第一次创建Studet对象--------&quot;);
        new Student();
        System.out.println(&quot;\n--------第二次创建Studet对象--------&quot;);
        new Student(&quot;小夏&quot;,20);
    }
}
/*
======
Person 静态块
Person 静态变量id=1
======
Student 静态块
Student 静态变量id=2
======
主方法

--------第一次创建Studet对象--------
======
Person 构造块
Person 姓名:Person没有名字 年龄:10
======
Person无参构造函数
Person 姓名:pcbname 年龄:11
======
Student 构造块
Student 姓名:Student没有名字 年龄:18
======
Student无参构造函数
Student 姓名:scbname 年龄:19

--------第二次创建Studet对象--------
======
Person 构造块
Person 姓名:Person没有名字 年龄:10
======
Person无参构造函数
Person 姓名:pcbname 年龄:11
======
Student 构造块
Student 姓名:Student没有名字 年龄:18
======
Student有参构造函数
Student 姓名:scbname 年龄:19
*/&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;观察代码结果，分析，对于有继承关系的类，初始化顺序按如下进行：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;&lt;li&gt;执行父类的静态代码块，并初始化父类静态成员变量&lt;br/&gt;2. 执行子类的静态代码块，并初始化子类静态成员变量&lt;br/&gt;3. 执行父类的构造代码块，执行父类的构造函数，若普通成员变量指定了初始值则先执行初始值的赋值，然后返回执行构造函数&lt;br/&gt;4.执行子类的构造代码块，执行子类的构造函数，若普通成员变量指定了初始值则先执行初始值的赋值，然后返回执行构造函数&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;小结&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/p&gt;
&lt;hr/&gt;&lt;br/&gt;本文介绍的三种代码块，普通块和构造块都不建议使用，静态块可以使用用于初始化静态变量。&lt;p&gt;理清Java程序初始化的执行顺序可以很清楚地掌握程序的执行过程。&lt;/p&gt;&lt;p&gt;对一个类而言，&lt;code&gt;静态变量和静态代码块&amp;gt; 主函数 &amp;gt; 指定初始值的属性 &amp;gt; 构造代码块 &amp;gt; 构造函数&lt;/code&gt;&lt;/p&gt;&lt;p&gt;对于有继承的来说，&lt;code&gt;父类静态块和静态变量 &amp;gt; 子类静态块和静态变量 &amp;gt; 父类指定初始值的属性 &amp;gt; 父类构造块 &amp;gt; 父类构造函数 &amp;gt; 子类指定初始值的属性 &amp;gt; 子类构造块 &amp;gt; 子类构造函数&lt;/code&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;参考博客：&lt;br/&gt;&lt;a href=&quot;https://www.cnblogs.com/Qian123/p/5713440.html&quot; class=&quot;uri&quot;&gt;https://www.cnblogs.com/Qian123/p/5713440.html&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 02 Dec 2018 07:04:00 +0000</pubDate>
<dc:creator>SakuraOne</dc:creator>
<og:description>前言 在程序编写之中可以直接使用 定义的一段语句就是代码块。根据代码块的位置以及关键字的不同可以分为4种：普通代码块、构造块、静态块以及同步代码块（多线程相关）。下面将先介绍前3种以及Java类的初始</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/myworld7/p/10053367.html</dc:identifier>
</item>
<item>
<title>SpringBoot JPA + H2增删改查示例 - STM32STM32STM32</title>
<link>http://www.cnblogs.com/stm32stm32/p/10052810.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/stm32stm32/p/10052810.html</guid>
<description>&lt;p&gt;&lt;strong&gt;&lt;span&gt;下面的例子是基于SpringBoot JPA以及H2数据库来实现的，下面就开始搭建项目吧。&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;首先看下项目的整体结构：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202114146343-690674400.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;具体操作步骤：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;打开IDEA，创建一个新的Spring Initializr项目，填写好groupID等信息，依赖勾选web和H2，一路next：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202113640776-1673447243.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202113704901-566571535.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202113750611-291803857.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202113811189-1897986825.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;pom.xml关键依赖：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-web&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-data-jpa&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;com.h2database&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;h2&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;runtime&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-test&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        &lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;test&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt; 新建controller、domain、service包，创建JPA实体类User：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.example.demo.domain;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.format.annotation.DateTimeFormat;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.io.Serializable;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.time.LocalDate;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt; javax.persistence.*&lt;span&gt;;

&lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * @Description: SpringBoot自动配置会探测到我们使用了H2数据库，它会根据实体类自动创建数据表
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt;: Alan
 * @Date: 2018/11/30 22:33
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@Entity
@Table(name &lt;/span&gt;= &quot;user&quot;&lt;span&gt;)
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; User &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; Serializable{

    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;long&lt;/span&gt; serialVersionUID = 1L&lt;span&gt;;

    @Id
    @GeneratedValue(strategy &lt;/span&gt;=&lt;span&gt; GenerationType.IDENTITY)
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; Long id;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;主键&lt;/span&gt;
&lt;span&gt;
    @Column(nullable &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; String firstName;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;名&lt;/span&gt;
&lt;span&gt;
    @Column(nullable &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; String lastName;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;姓&lt;/span&gt;
&lt;span&gt;
    @Column(nullable &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; String idCard;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;身份证&lt;/span&gt;
&lt;span&gt;
    @Column(nullable &lt;/span&gt;= &lt;span&gt;false&lt;/span&gt;&lt;span&gt;)
    @DateTimeFormat(pattern &lt;/span&gt;= &quot;yyyy-MM-dd&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt; LocalDate dateOfBirth;&lt;span&gt;//&lt;/span&gt;&lt;span&gt;出生日期&lt;/span&gt;

    &lt;span&gt;public&lt;/span&gt;&lt;span&gt; User() {
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User(Long id, String firstName, String lastName, String idCard, LocalDate dateOfBirth) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.id =&lt;span&gt; id;
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.firstName =&lt;span&gt; firstName;
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.lastName =&lt;span&gt; lastName;
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.idCard =&lt;span&gt; idCard;
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.dateOfBirth =&lt;span&gt; dateOfBirth;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; Long getId() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; id;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setId(Long id) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.id =&lt;span&gt; id;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String getFirstName() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; firstName;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setFirstName(String firstName) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.firstName =&lt;span&gt; firstName;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String getLastName() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; lastName;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setLastName(String lastName) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.lastName =&lt;span&gt; lastName;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String getIdCard() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; idCard;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setIdCard(String idCard) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.idCard =&lt;span&gt; idCard;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; LocalDate getDateOfBirth() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; dateOfBirth;
    }

    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; setDateOfBirth(LocalDate dateOfBirth) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.dateOfBirth =&lt;span&gt; dateOfBirth;
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String toString() {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;User{&quot; +
                &quot;id=&quot; + id +
                &quot;, firstName='&quot; + firstName + '\'' +
                &quot;, lastName='&quot; + lastName + '\'' +
                &quot;, idCard='&quot; + idCard + '\'' +
                &quot;, dateOfBirth=&quot; + dateOfBirth +
                '}'&lt;span&gt;;
    }
}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;说明：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;@Entity: 指明了这是一个entity&lt;br/&gt;@Table：指定生成的表名&lt;br/&gt;@Id: 标记该entity的主键&lt;br/&gt;@GeneratedValue: 提供主键的生成策略&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;编写配置文件和数据生成语句：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;application.properties:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#激活开发环境的的配置文件
spring.profiles.active=dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;application-dev.properties:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;35&quot;&gt;
&lt;pre&gt;
&lt;span&gt;#端口设置
server.port=8080
#开启日志记录（日志文件会在10Mb大小的时候被截断，产生新的日志文件）
logging.file=logs/my.log 
spring.h2.console.enabled=true
spring.jpa.open-in-view=true
spring.data.jpa.repositories.bootstrap-mode=default
logging.level.org.hibernate.SQL=debug&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;import.sql:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;89&quot;&gt;
&lt;pre&gt;
&lt;span&gt;INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven1', 'Jobs1','630121199206081105', '1998-07-13');
INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven2', 'Jobs2','510181199412105672', '1992-07-13');
INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven3', 'Jobs','610702199009261457', '1991-07-13');
INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven4', 'Jobs','430426198801075355', '1994-07-13');
INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven5', 'Michael','420117199502232760', '1998-07-13');
INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven6', 'Michael','130203199404122670', '1998-07-13');
INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven7', 'Michael','430703197612014630', '1998-07-13');
INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven8', 'Michael','350124197805280264', '1998-07-13');
INSERT INTO USER (FIRST_NAME, LAST_NAME, ID_CARD, DATE_OF_BIRTH) values ('Steven9', 'Michael','500230197205314628', '1998-08-19');&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt; JpaRepository&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;该接口继承了&lt;strong&gt;PagingAndSortingRepository&lt;/strong&gt;和&lt;strong&gt;QueryByExampleExecutor&lt;/strong&gt;接口，&lt;strong&gt;&lt;span&gt;相比CrudRepository接口多了分页和排序功能，因此JpaRepository功能更加全面&lt;/span&gt;&lt;/strong&gt;，如果你不需要分页和排序功能，使用CrudRepository即可。这里我们使用JpaRepository，其定义如下：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;36&quot;&gt;
&lt;pre&gt;
&lt;span&gt;@NoRepositoryBean
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; JpaRepository&amp;lt;T, ID&amp;gt; &lt;span&gt;extends&lt;/span&gt; PagingAndSortingRepository&amp;lt;T, ID&amp;gt;, QueryByExampleExecutor&amp;lt;T&amp;gt; {
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;UserRepository&lt;/strong&gt;(相当于DAO层，定义了增删改查的方法):&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;44&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.example.demo.service;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.example.demo.domain.User;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Page;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Pageable;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Sort;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.jpa.repository.JpaRepository;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.jpa.repository.Modifying;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.jpa.repository.Query;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.repository.query.Param;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.time.LocalDate;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.List;


&lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * @Description:
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt;: Alan
 * @Date: 2018/11/30 22:54
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; UserRepository &lt;span&gt;extends&lt;/span&gt; JpaRepository&amp;lt;User, Long&amp;gt;&lt;span&gt;{

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;****************************create**************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Override
    User save(User user);
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;****************************read**************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * Using sort
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; lastName
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; sort
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;
     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Query(&lt;/span&gt;&quot;select u from User u where u.lastName like ?1%&quot;&lt;span&gt;)
    List&lt;/span&gt;&amp;lt;User&amp;gt;&lt;span&gt; findByAndSort(String lastName, Sort sort);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * Query creation
     * this translates into the following query:
     * select u from User u where u.idCard = ?1
     &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    User findByIdCard(String idCard);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * Native Queries
     * The @Query annotation allows for running native queries by setting the nativeQuery flag to true
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; idCard
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;
     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Query(value &lt;/span&gt;= &quot;select * from user where ID_CARD = ?1&quot;, nativeQuery = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    User findByIdCard2(String idCard);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * Using @Query
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; idCard
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;
     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Query(&lt;/span&gt;&quot;select u from User u where u.idCard = ?1&quot;&lt;span&gt;)
    User findByIdCard3(String idCard);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * Declare native count queries for pagination at the query method by using @Query
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; lastName
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; pageable
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;
     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Query(value &lt;/span&gt;= &quot;SELECT * FROM User WHERE LAST_NAME = ?1&quot;&lt;span&gt;,
            countQuery &lt;/span&gt;= &quot;SELECT count(*) FROM User WHERE LAST_NAME = ?1&quot;&lt;span&gt;,
            nativeQuery &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    Page&lt;/span&gt;&amp;lt;User&amp;gt;&lt;span&gt; findByLastNameWithPageable(String lastName, Pageable pageable);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * Using Named Parameters
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; firstName
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; lastName
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;
     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Query(&lt;/span&gt;&quot;select u from User u where u.firstName = :firstName or u.lastName = :lastName&quot;&lt;span&gt;)
    List&lt;/span&gt;&amp;lt;User&amp;gt; findByFirstNameOrLastName(@Param(&quot;firstName&quot;&lt;span&gt;) String firstName,
                                         @Param(&lt;/span&gt;&quot;lastName&quot;&lt;span&gt;) String lastName);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * findByDateOfBirth
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; date
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;
     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    List&lt;/span&gt;&amp;lt;User&amp;gt; findByDateOfBirth(@Param(&quot;date&quot;&lt;span&gt;) LocalDate date);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * find all users
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; sort
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;
     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Override
    List&lt;/span&gt;&amp;lt;User&amp;gt;&lt;span&gt; findAll(Sort sort);
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;**************************update****************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * update a usr by Modifying Queries
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; firstName
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; idCard
     * &lt;/span&gt;&lt;span&gt;@return&lt;/span&gt;
     &lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Modifying
    @Query(&lt;/span&gt;&quot;update User u set u.firstName = ?1 where u.idCard = ?2&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; updateUser(String firstName, String idCard);
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;**************************delete****************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * delete a user by idCard
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; idCard
     &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteByIdCard(String idCard);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * Using a derived delete query
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; idCard
     &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Modifying
    @Query(&lt;/span&gt;&quot;delete from User u where u.idCard = ?1&quot;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteByIdCard2(String idCard);

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
     * delete a user by id
     * &lt;/span&gt;&lt;span&gt;@param&lt;/span&gt;&lt;span&gt; id
     &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Override
    @Modifying
    @Query(value &lt;/span&gt;= &quot;delete from user where id = ?1&quot;, nativeQuery = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteById(Long id);

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;UserService&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;39&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.example.demo.service;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.example.demo.domain.User;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Page;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Pageable;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Sort;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.repository.query.Param;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.time.LocalDate;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.List;

&lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * @Description:
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt;: Alan
 * @Date: 2018/12/1 11:44
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt;&lt;span&gt; UserService {

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;**************************create****************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    User save(User user);
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;**************************read****************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    List&lt;/span&gt;&amp;lt;User&amp;gt;&lt;span&gt; findByAndSort(String lastName, Sort sort);

    User findByIdCard(String idCard);

    User findByIdCard2(String idCard);

    User findByIdCard3(String idCard);

    Page&lt;/span&gt;&amp;lt;User&amp;gt;&lt;span&gt; findByLastNameWithPageable(String lastName, Pageable pageable);

    List&lt;/span&gt;&amp;lt;User&amp;gt;&lt;span&gt; findByFirstNameOrLastName(String firstName, String lastName);

    List&lt;/span&gt;&amp;lt;User&amp;gt; findByDateOfBirth(@Param(&quot;date&quot;&lt;span&gt;) LocalDate date);

    List&lt;/span&gt;&amp;lt;User&amp;gt;&lt;span&gt; findAll(Sort sort);
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;***************************update***************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;int&lt;/span&gt;&lt;span&gt; updateUser(String firstName, String idCard);
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;***************************delete***************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;
    &lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteByIdCard(String idCard);

    &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteByIdCard2(String idCard);

    &lt;/span&gt;&lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteById(Long id);

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre&gt;
UserServiceImpl：（UserService的实现类）
&lt;/pre&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;43&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.example.demo.service;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.example.demo.domain.User;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Page;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Pageable;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Sort;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.repository.query.Param;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.stereotype.Component;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.transaction.annotation.Transactional;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.time.LocalDate;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.List;


&lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * @Description:
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt;: Alan
 * @Date: 2018/12/1 11:44
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@Component(&lt;/span&gt;&quot;userService&quot;&lt;span&gt;)
@Transactional
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; UserServiceImpl &lt;span&gt;implements&lt;/span&gt;&lt;span&gt; UserService {
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; UserRepository userRepository;

    UserServiceImpl(UserRepository userRepository) {
        &lt;/span&gt;&lt;span&gt;this&lt;/span&gt;.userRepository =&lt;span&gt; userRepository;
    }
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;************************create*******************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User save(User user) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.save(user);
    }
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;************************read*******************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt;&lt;span&gt; findByAndSort(String lastName, Sort sort) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.findByAndSort(lastName, sort);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User findByIdCard(String idCard) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.findByIdCard(idCard);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User findByIdCard2(String idCard) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.findByIdCard2(idCard);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User findByIdCard3(String idCard) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.findByIdCard3(idCard);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; Page&amp;lt;User&amp;gt;&lt;span&gt; findByLastNameWithPageable(String lastName, Pageable pageable) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.findByLastNameWithPageable(lastName, pageable);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt;&lt;span&gt; findByFirstNameOrLastName(String firstName, String lastName) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.findByFirstNameOrLastName(firstName, lastName);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt; findByDateOfBirth(@Param(&quot;date&quot;&lt;span&gt;) LocalDate date) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.findByDateOfBirth(date);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt;&lt;span&gt; findAll(Sort sort) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.findAll(sort);
    }

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;************************update*******************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; updateUser(String firstName, String idCard) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userRepository.updateUser(firstName, idCard);
    }
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;************************delete*******************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteByIdCard(String idCard) {
        userRepository.deleteByIdCard(idCard);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteByIdCard2(String idCard) {
       userRepository.deleteByIdCard2(idCard);
    }

    @Override
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt;&lt;span&gt; deleteById(Long id) {
        userRepository.deleteById(id);
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;UserController&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;62&quot;&gt;
&lt;pre&gt;
&lt;span&gt;package&lt;/span&gt;&lt;span&gt; com.example.demo.controller;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.example.demo.domain.User;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; com.example.demo.service.UserService;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.beans.factory.annotation.Autowired;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Page;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.PageRequest;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Pageable;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.data.domain.Sort;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.format.annotation.DateTimeFormat;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.transaction.annotation.Transactional;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.PathVariable;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.RequestMapping;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.RequestMethod;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; org.springframework.web.bind.annotation.RestController;

&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.time.LocalDate;
&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; java.util.List;


&lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;
 * @Description:
 * POST - Create a new resource
 * GET - Read a resource
 * PUT - Update an existing resource
 * DELETE - Delete a resource
 * Tomcat by default is not enabled for HTTP PUT command.
 * 只要让地址栏的参数可以传入函数里面，就能执行修改、新增、删除操作，method用RequestMethod.GET即可
 * 用PUT、POST、DELETE会报405错误，因为输入到地址栏默认使用GET方法
 * 注解@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)主要是解决请求日期无法转成LocalDate的问题
 * &lt;/span&gt;&lt;span&gt;@author&lt;/span&gt;&lt;span&gt;: Alan
 * @Date: 2018/12/1 10:38
 &lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
@RestController
&lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;&lt;span&gt; UserController {

    @Autowired
    &lt;/span&gt;&lt;span&gt;private&lt;/span&gt;&lt;span&gt; UserService userService;
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;***************************create************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @RequestMapping(value &lt;/span&gt;= &quot;/saveUser/{firstName}/{lastName}/{idCard}/{date}&quot;,method =&lt;span&gt; RequestMethod.GET)
    @Transactional
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; User saveUser(@PathVariable String firstName,
                         @PathVariable String lastName,
                         @PathVariable String idCard,
                         @PathVariable @DateTimeFormat(iso &lt;/span&gt;=&lt;span&gt; DateTimeFormat.ISO.DATE) LocalDate date) {
        User user &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; User();&lt;span&gt;//&lt;/span&gt;&lt;span&gt;Id是自增长的，不需要传&lt;/span&gt;
&lt;span&gt;        user.setFirstName(firstName);
        user.setLastName(lastName);
        user.setIdCard(idCard);
        user.setDateOfBirth(date);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.save(user);
    }

    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;***************************Read***** *******************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @RequestMapping(value &lt;/span&gt;= &quot;/findByAndSort/{lastName}&quot;, method =&lt;span&gt; RequestMethod.GET)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt;&lt;span&gt; findByAndSort(@PathVariable String lastName) {
        Sort sort &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Sort(Sort.Direction.DESC, &quot;firstName&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.findByAndSort(lastName, sort);
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/findByIdCard/{idCard}&quot;, method =&lt;span&gt; RequestMethod.GET)
    @Transactional(readOnly &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; User findByIdCard(@PathVariable(name = &quot;idCard&quot;&lt;span&gt;)  String idCard) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.findByIdCard(idCard);
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/findByIdCard2/{idCard}&quot;, method =&lt;span&gt; RequestMethod.GET)
    @Transactional(readOnly &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; User findByIdCard2(@PathVariable(name = &quot;idCard&quot;&lt;span&gt;) String idCard) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.findByIdCard2(idCard);
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/findByIdCard3/{idCard}&quot;, method =&lt;span&gt; RequestMethod.GET)
    @Transactional(readOnly &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; User findByIdCard3(@PathVariable(name = &quot;idCard&quot;&lt;span&gt;) String idCard) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.findByIdCard3(idCard);
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/findByLastNameWithPageable/{lastName}&quot;, method =&lt;span&gt; RequestMethod.GET)
    @Transactional(readOnly &lt;/span&gt;= &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; Page&amp;lt;User&amp;gt;&lt;span&gt; findByLastNameWithPageable(@PathVariable String lastName) {
        Sort sort &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Sort(Sort.Direction.DESC, &quot;id&quot;&lt;span&gt;);
        Pageable pageable &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; PageRequest(5,2&lt;span&gt;,sort);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.findByLastNameWithPageable(lastName, pageable);
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/findByFirstNameOrLastName/{firstName}/{lastName}&quot;, method =&lt;span&gt; RequestMethod.GET)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt;&lt;span&gt; findByFirstNameOrLastName(@PathVariable String firstName,
                                                @PathVariable String lastName) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.findByFirstNameOrLastName(firstName, lastName);
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/findByDateOfBirth/{date}&quot;, method =&lt;span&gt; RequestMethod.GET)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt; findByDateOfBirth(@PathVariable(name = &quot;date&quot;&lt;span&gt;)
                                        @DateTimeFormat(iso &lt;/span&gt;=&lt;span&gt; DateTimeFormat.ISO.DATE) LocalDate date) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.findByDateOfBirth(date);
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/findAll&quot;, method =&lt;span&gt; RequestMethod.GET)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; List&amp;lt;User&amp;gt;&lt;span&gt; findAll() {
        Sort sort &lt;/span&gt;= &lt;span&gt;new&lt;/span&gt; Sort(Sort.Direction.ASC, &quot;id&quot;&lt;span&gt;);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.findAll(sort);
    }
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;***************************update************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @RequestMapping(value &lt;/span&gt;= &quot;/updateUser/{firstName}/{idCard}&quot;, method =&lt;span&gt; RequestMethod.GET)
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;&lt;span&gt; updateUser(@PathVariable String firstName, @PathVariable String idCard) {
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; userService.updateUser(firstName, idCard);
    }
    &lt;/span&gt;&lt;span&gt;/**&lt;/span&gt;&lt;span&gt;***************************delete************************************&lt;/span&gt;&lt;span&gt;*/&lt;/span&gt;&lt;span&gt;
    @RequestMapping(value &lt;/span&gt;= &quot;/deleteByIdCard/{idCard}&quot;, method =&lt;span&gt; RequestMethod.GET)
    @Transactional
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String deleteByIdCard(@PathVariable String idCard) {
        userService.deleteByIdCard(idCard);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;SUCCESS&quot;&lt;span&gt;;
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/deleteByIdCard2/{idCard}&quot;, method =&lt;span&gt; RequestMethod.GET)
    @Transactional
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String deleteByIdCard2(@PathVariable String idCard) {
        userService.deleteByIdCard2(idCard);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;SUCCESS&quot;&lt;span&gt;;
    }

    @RequestMapping(value &lt;/span&gt;= &quot;/deleteById/{id}&quot;, method =&lt;span&gt; RequestMethod.GET)
    @Transactional
    &lt;/span&gt;&lt;span&gt;public&lt;/span&gt;&lt;span&gt; String deleteById(@PathVariable Long id) {
        userService.deleteById(id);
        &lt;/span&gt;&lt;span&gt;return&lt;/span&gt; &quot;SUCCESS&quot;&lt;span&gt;;
    }

}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;SpringBoot主类移植com包下，这样其他类才能被扫描到&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202120756867-1972015050.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;启动SpringBoot项目：点击菜单栏的运行按钮或者运行main方法&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202121215396-235002573.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;此时控制台可以看到创建表和插入sql语句的日志：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202121452945-765645261.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查询所有用户：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;浏览器地址栏输入:http://localhost:8080/findAll&lt;/p&gt;
&lt;p&gt;可以看到所有的记录：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;54.5&quot;&gt;&lt;img id=&quot;code_img_closed_d00fa2f5-7000-4f38-b3eb-74a0e71c02c3&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_d00fa2f5-7000-4f38-b3eb-74a0e71c02c3&quot; class=&quot;code_img_opened&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_d00fa2f5-7000-4f38-b3eb-74a0e71c02c3&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;104&quot;&gt;
&lt;pre&gt;
&lt;span&gt;[
    {
        &lt;/span&gt;&quot;id&quot;: 1&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven1&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs1&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;630121199206081105&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 2&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven2&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs2&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;510181199412105672&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1992-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 3&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven3&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;610702199009261457&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1991-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 4&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven4&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;430426198801075355&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1994-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 5&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven5&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;420117199502232760&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 6&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven6&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;130203199404122670&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 7&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven7&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;430703197612014630&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 8&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven8&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;350124197805280264&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 9&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven9&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;500230197205314628&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-08-19&quot;&lt;span&gt;
    }
]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt; &lt;strong&gt;新增一个user&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;http://localhost:8080/saveUser/java/springboot/330987193709193205/1937-09-19&lt;/p&gt;
&lt;p&gt;页面会输出新插入的user：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202122106689-290766261.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;此时再findAll，会发现多了新插入的id为10的记录：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;57&quot;&gt;&lt;img id=&quot;code_img_closed_d7d2f64f-3f31-494f-bdde-da6aef19727c&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_d7d2f64f-3f31-494f-bdde-da6aef19727c&quot; class=&quot;code_img_opened&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_d7d2f64f-3f31-494f-bdde-da6aef19727c&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;109&quot;&gt;
&lt;pre&gt;
&lt;span&gt;[
    {
        &lt;/span&gt;&quot;id&quot;: 1&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven1&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs1&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;630121199206081105&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 2&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven2&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs2&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;510181199412105672&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1992-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 3&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven3&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;610702199009261457&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1991-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 4&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven4&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;430426198801075355&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1994-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 5&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven5&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;420117199502232760&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 6&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven6&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;130203199404122670&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 7&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven7&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;430703197612014630&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 8&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven8&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;350124197805280264&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 9&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven9&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;500230197205314628&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-08-19&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 10&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;java&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;springboot&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;330987193709193205&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1937-09-19&quot;&lt;span&gt;
    }
]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;更新一个user：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;将刚插入的id为10的用户的firstName修改成java666：&lt;/p&gt;
&lt;p&gt;http://localhost:8080/updateUser/java666/330987193709193205&lt;/p&gt;
&lt;p&gt;页面返回1，表示修改成功。&lt;/p&gt;
&lt;p&gt;输入：http://localhost:8080/findByIdCard/330987193709193205&lt;/p&gt;
&lt;p&gt;可以看到身份证为330987193709193205的firstName确实被修改了：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202122459414-759901248.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;删除一个user：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;输入：http://localhost:8080/deleteById/1&lt;/p&gt;
&lt;p&gt;页面显示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202122640008-1711230938.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;这样id为1的user就被删除了，再输入http://localhost:8080/findAll，id为1的user已不存在：&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;54.5&quot;&gt;&lt;img id=&quot;code_img_closed_538282f0-f7ed-4b6f-b430-b31fa2950ae5&quot; class=&quot;code_img_closed&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif&quot; alt=&quot;&quot;/&gt;&lt;img id=&quot;code_img_opened_538282f0-f7ed-4b6f-b430-b31fa2950ae5&quot; class=&quot;code_img_opened&quot; src=&quot;https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif&quot; alt=&quot;&quot;/&gt;&lt;div id=&quot;cnblogs_code_open_538282f0-f7ed-4b6f-b430-b31fa2950ae5&quot; class=&quot;cnblogs_code_hide&quot; readability=&quot;104&quot;&gt;
&lt;pre&gt;
&lt;span&gt;[
    {
        &lt;/span&gt;&quot;id&quot;: 2&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven2&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs2&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;510181199412105672&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1992-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 3&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven3&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;610702199009261457&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1991-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 4&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven4&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Jobs&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;430426198801075355&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1994-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 5&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven5&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;420117199502232760&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 6&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven6&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;130203199404122670&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 7&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven7&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;430703197612014630&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 8&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven8&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;350124197805280264&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-07-13&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 9&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;Steven9&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;Michael&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;500230197205314628&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1998-08-19&quot;&lt;span&gt;
    },
    {
        &lt;/span&gt;&quot;id&quot;: 10&lt;span&gt;,
        &lt;/span&gt;&quot;firstName&quot;: &quot;java666&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;lastName&quot;: &quot;springboot&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;idCard&quot;: &quot;330987193709193205&quot;&lt;span&gt;,
        &lt;/span&gt;&quot;dateOfBirth&quot;: &quot;1937-09-19&quot;&lt;span&gt;
    }
]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;span class=&quot;cnblogs_code_collapse&quot;&gt;View Code&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;分页查询：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;输入：http://localhost:8080/findByLastNameWithPageable/Michale &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;页面显示：lastName为Michale的共有5条记录，page设置：每页2个，共5页&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202144345324-521316903.png&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;输出结果与程序一致：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202144700617-56869246.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;附录：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;注解说明：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;@Entity: 指明了这是一个entity&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Table：指定生成的表名&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Id: 标记该entity的主键&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@GeneratedValue: 提供主键的生成策略&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Component：声明为一个组件&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Transactional：声明为事务&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Autowired：自动注入&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Query：查询操作&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Modifying：修改操作&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@PathVariable：将URL中的请求参数绑定到控制器的入参上&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Override：重写&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;@Param：声明属性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;语句说明：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1、使用SpEL表达式&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
@Query(&quot;select u from User u where u.idCard = ?1&quot;&lt;span&gt;)
User findByIdCard3(String idCard);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2、使用原生SQL（需添加&lt;/strong&gt;nativeQuery=true）&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
@Query(value = &quot;select * from user where ID_CARD = ?1&quot;, nativeQuery = &lt;span&gt;true&lt;/span&gt;&lt;span&gt;)
User findByIdCard2(String idCard);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3、使用属性表达式（Property Expressions）&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
User findByIdCard(String idCard);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;（注：上面的方法，JPA会转换成等价的查询语句：select * from User  u where u.idCard = ?1）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span&gt;官方文档上的JPA标准API：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;table class=&quot;tableblock frame-all grid-all fit-content&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;Keyword&lt;/th&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;Sample&lt;/th&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;JPQL snippet&lt;/th&gt;
&lt;/tr&gt;&lt;/thead&gt;&lt;tbody readability=&quot;29&quot;&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;And&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByLastnameAndFirstname&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.lastname = ?1 and x.firstname = ?2&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;Or&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByLastnameOrFirstname&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.lastname = ?1 or x.firstname = ?2&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;9&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;Is,Equals&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;7&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByFirstname&lt;/code&gt;,&lt;code&gt;findByFirstnameIs&lt;/code&gt;,&lt;code&gt;findByFirstnameEquals&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.firstname = ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;Between&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByStartDateBetween&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.startDate between ?1 and ?2&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;LessThan&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAgeLessThan&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age &amp;lt; ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;LessThanEqual&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAgeLessThanEqual&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age &amp;lt;= ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;GreaterThan&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAgeGreaterThan&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age &amp;gt; ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;GreaterThanEqual&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAgeGreaterThanEqual&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age &amp;gt;= ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;After&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByStartDateAfter&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.startDate &amp;gt; ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;Before&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByStartDateBefore&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.startDate &amp;lt; ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;IsNull&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAgeIsNull&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age is null&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;IsNotNull,NotNull&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAge(Is)NotNull&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age not null&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;Like&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByFirstnameLike&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.firstname like ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;NotLike&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByFirstnameNotLike&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.firstname not like ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;StartingWith&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByFirstnameStartingWith&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.firstname like ?1&lt;/code&gt;(parameter bound with appended &lt;code&gt;%&lt;/code&gt;)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;EndingWith&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByFirstnameEndingWith&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.firstname like ?1&lt;/code&gt;(parameter bound with prepended &lt;code&gt;%&lt;/code&gt;)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;Containing&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByFirstnameContaining&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.firstname like ?1&lt;/code&gt;(parameter bound wrapped in &lt;code&gt;%&lt;/code&gt;)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;OrderBy&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAgeOrderByLastnameDesc&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age = ?1 order by x.lastname desc&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;Not&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByLastnameNot&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.lastname &amp;lt;&amp;gt; ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;In&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAgeIn(Collection&amp;lt;Age&amp;gt; ages)&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age in ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;NotIn&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByAgeNotIn(Collection&amp;lt;Age&amp;gt; ages)&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.age not in ?1&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;True&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByActiveTrue()&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.active = true&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;3&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;False&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByActiveFalse()&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where x.active = false&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;tr readability=&quot;6&quot;&gt;&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;IgnoreCase&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;findByFirstnameIgnoreCase&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot; readability=&quot;5&quot;&gt;
&lt;p class=&quot;tableblock&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;code&gt;… where UPPER(x.firstame) = UPPER(?1)&lt;/code&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;strong&gt;4、使用命名参数（:参数名+@Param）&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;34&quot;&gt;
&lt;pre&gt;
@Query(&quot;select u from User u where u.firstName = :firstName or u.lastName = :lastName&quot;&lt;span&gt;)
List&lt;/span&gt;&amp;lt;User&amp;gt; findByFirstNameOrLastName(@Param(&quot;firstName&quot;&lt;span&gt;) String firstName,
                                     @Param(&lt;/span&gt;&quot;lastName&quot;) String lastName);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span&gt;&lt;strong&gt;H2数据库控制台：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;地址栏输入http://localhost:8080/h2-console/进入H2控制台&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202145028708-130287742.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202145044472-1590348258.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;程序运行流程图（调用关系）：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/864087/201812/864087-20181202150131742-170943671.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;以上就是SpringBoot JPA增删改查的简单应用，当然你也可以将数据库换成mysql。&lt;/p&gt;
&lt;p&gt;&lt;span&gt;官方参考文档&lt;/span&gt;：&lt;a href=&quot;https://docs.spring.io/spring-data/jpa/docs/current/reference/html/&quot; target=&quot;_blank&quot;&gt;https://docs.spring.io/spring-data/jpa/docs/current/reference/html/&lt;/a&gt;&lt;/p&gt;
</description>
<pubDate>Sun, 02 Dec 2018 07:03:00 +0000</pubDate>
<dc:creator>STM32STM32STM32</dc:creator>
<og:description>下面的例子是基于SpringBoot JPA以及H2数据库来实现的，下面就开始搭建项目吧。 首先看下项目的整体结构： 具体操作步骤： 打开IDEA，创建一个新的Spring Initializr项目，</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/stm32stm32/p/10052810.html</dc:identifier>
</item>
<item>
<title>在线编辑器(WangEditor) - 经济人</title>
<link>http://www.cnblogs.com/jingjiren/p/10042606.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/jingjiren/p/10042606.html</guid>
<description>&lt;p&gt;　　自己之前写了一篇关于POI 相关的博客， 想了想在公司中一般常用的不就是上传下载，poi，分页，定时等。好像还有个在线编辑器， 于是自己就花了两个多小时把编辑器相关的代码撸了遍，当然了是先百度找了找资料，看了看实现的逻辑，然后自己撸的。 编辑器自己使用的是WangEditor，网上也有很多关于Editor，kindEitor 的文章， 不过貌似好像没用。业务方面：在编辑器中编辑， 然后保存为word，或者将word中的内容加载进在线编辑器中再次编辑。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1539753/201812/1539753-20181202142053913-1064536879.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;http://www.wangeditor.com/   这是WangEditor的相关网址,其中api,文档，实例都有。 WangEditor使用，配置还是相对来说比较简单的，引入相关js，创建editor对象，初始化对象。&lt;/p&gt;
&lt;p&gt;　　&lt;img src=&quot;https://img2018.cnblogs.com/blog/1539753/201812/1539753-20181202121213286-952882581.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1539753/201812/1539753-20181202121256265-1645292852.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;editor.txt.html() 会将在编辑器中编辑的内容获取，然后你直接将其传入后台便可以获取到编辑器中编辑的内容。&lt;/p&gt;
&lt;p&gt;当你使用编辑器编辑并保存后，会在指定的保存位置生成一个word，txt文件夹和一天个htm文件。txt文件夹中是txt文件。txt文件和htm文件都是自动生成的。其中txt文件里是HTML中的标签语言，当你要将word中的内容加载进编辑器再次编辑时，&lt;em id=&quot;__mceDel&quot;&gt;获取的内容是相对应的txt文件中的内容。htm文件只有一个，是刚使用用WangEditor创建word成功后生成的，其就是个HTML文件，其中的标签，&lt;/em&gt;&lt;em id=&quot;__mceDel&quot;&gt;&lt;em id=&quot;__mceDel&quot;&gt;&lt;em id=&quot;__mceDel&quot;&gt;&lt;em id=&quot;__mceDel&quot;&gt;属性对应的都是编辑器中展示的模样。当你保存生成word时，是先读取htm中的内容，将${content}替换成你编辑的内容，样式什么的htm文件中模板原先就有。&lt;/em&gt;&lt;/em&gt;&lt;/em&gt;&lt;/em&gt;&lt;em id=&quot;__mceDel&quot;&gt;&lt;em id=&quot;__mceDel&quot;&gt;&lt;em id=&quot;__mceDel&quot;&gt;&lt;em id=&quot;__mceDel&quot;&gt;&lt;em id=&quot;__mceDel&quot;&gt;然后利用流将HTML中的内容写入到word中并生成word。&lt;/em&gt;&lt;/em&gt;&lt;/em&gt;&lt;/em&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;em&gt;&lt;em&gt;&lt;em&gt;&lt;em&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1539753/201812/1539753-20181202142240837-1402927115.png&quot; alt=&quot;&quot;/&gt;&lt;/em&gt;&lt;/em&gt;&lt;/em&gt;&lt;/em&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1539753/201812/1539753-20181202142403981-1517623849.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;package com.cn.platform.utils;&lt;/p&gt;
&lt;p&gt;import java.io.*;&lt;/p&gt;
&lt;p&gt;import javax.servlet.ServletOutputStream;&lt;br/&gt;import javax.servlet.http.HttpServletRequest;&lt;br/&gt;import javax.servlet.http.HttpServletResponse;&lt;/p&gt;
&lt;p&gt;public class EditorUtils {&lt;/p&gt;
&lt;p&gt;　　　　// 获取项目文件路径&lt;br/&gt;　　　　public static String getUploadPath(HttpServletRequest request,String name){&lt;br/&gt;　　　　　　　　　　StringBuilder sb = new StringBuilder();&lt;br/&gt;　　　　　　　　　　String path = request.getContextPath();&lt;br/&gt;　　　　　　　　　　String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path;&lt;br/&gt;　　　　　　　　　　String uploadPath = sb.append(basePath).append(&quot;/ui/CAndTFiles/&quot;).append(name).append(&quot;.doc&quot;).toString();&lt;br/&gt;　　　　　　　　　　return uploadPath;&lt;br/&gt;　　　　}&lt;/p&gt;
&lt;p&gt;　　　　//获取服务器，本地文件路径&lt;br/&gt;　　　　public static String getWindowsPath(HttpServletRequest request,String name){&lt;br/&gt;　　　　　　　　　　StringBuilder sb = new StringBuilder();&lt;br/&gt;　　　　　　　　　　String windowPath = sb.append(&quot;I:/yishangxincheng/ysdFiles/&quot;).append(name).append(&quot;.doc&quot;).toString();&lt;br/&gt;　　　　　　　　　　return windowPath;&lt;br/&gt;　　　　}&lt;/p&gt;
&lt;p&gt;　　　　//获取服务器，本地文件路径&lt;br/&gt;　　　　public static String getWindowsTxtPath(HttpServletRequest request,String name){&lt;br/&gt;　　　　　　　　　　StringBuilder sb = new StringBuilder();&lt;br/&gt;　　　　　　　　　　String windowPath = sb.append(&quot;I:/yishangxincheng/ysdFiles/txt/&quot;).append(name).append(&quot;.txt&quot;).toString();&lt;br/&gt;　　　　　　　　　　return windowPath;&lt;br/&gt;　　　　}&lt;/p&gt;
&lt;p&gt;/*public static void saveWord(String editTemplate,String windowPath,HttpServletRequest request,HttpServletResponse response) throws IOException{&lt;br/&gt;EditorUtils.setCode(request, response);&lt;br/&gt;if (editTemplate != null) {&lt;br/&gt;List&amp;lt;String&amp;gt; array = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;array.add(editTemplate);&lt;br/&gt;XWPFDocument doc = new XWPFDocument();&lt;br/&gt;XWPFParagraph para = doc.createParagraph();&lt;br/&gt;XWPFRun run = para.createRun();&lt;br/&gt;OutputStream os = new FileOutputStream(windowPath);&lt;br/&gt;for (String s : array) {&lt;br/&gt;//把doc输出到输出流&lt;br/&gt;run.setText(s);&lt;br/&gt;doc.write(os);&lt;br/&gt;}&lt;br/&gt;os.close();&lt;br/&gt;doc.close();&lt;br/&gt;}&lt;br/&gt;}*/&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;　　　　//设置编码&lt;br/&gt;　　　　public static void setCode(HttpServletRequest request,HttpServletResponse response) throws IOException {&lt;br/&gt;　　　　　　　　　　request.setCharacterEncoding(&quot;utf-8&quot;);&lt;br/&gt;　　　　　　　　　　response.setCharacterEncoding(&quot;utf-8&quot;);&lt;br/&gt;　　　　　　　　　　response.setContentType(&quot;text/html;charset=utf-8&quot;);&lt;br/&gt;　　　　}&lt;/p&gt;
&lt;p&gt;　　　　//导出&lt;br/&gt;　　　　public static void export(HttpServletRequest request,HttpServletResponse response,String url) throws IOException {&lt;br/&gt;　　　　　　　　　　EditorUtils.setCode(request, response);&lt;br/&gt;　　　　　　　　　　//获取文件下载路径&lt;br/&gt;　　　　　　　　　　String filename = url.substring(url.length()-4, url.length());&lt;br/&gt;　　　　　　if (filename.equals(&quot;docx&quot;)) {&lt;br/&gt;　　　　　　　　　　filename = url.substring(url.length()-6, url.length());&lt;br/&gt;　　　　　　}else{&lt;br/&gt;　　　　　　　　　　filename = url.substring(url.length()-5, url.length());&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　　　　　File file = new File(url);&lt;br/&gt;　　　　　　if(file.exists()){&lt;br/&gt;　　　　　　　　　　//设置相应类型让浏览器知道用什么打开 用application/octet-stream也可以，看是什么浏览器&lt;br/&gt;　　　　　　　　　　response.setContentType(&quot;application/x-msdownload&quot;);&lt;br/&gt;　　　　　　　　　　//设置头信息&lt;br/&gt;　　　　　　　　　　StringBuilder sb = new StringBuilder();&lt;br/&gt;　　　　　　　　　　response.setHeader(&quot;Content-Disposition&quot;, sb.append(&quot;attachment;filename=\&quot;&quot;).append(filename).append(&quot;\&quot;&quot;).toString());&lt;br/&gt;　　　　　　　　　　InputStream inputStream = new FileInputStream(file);&lt;br/&gt;　　　　　　　　　　ServletOutputStream ouputStream = response.getOutputStream();&lt;br/&gt;　　　　　　　　　　byte b[] = new byte[1024];&lt;br/&gt;　　　　　　　　　　int n ;&lt;br/&gt;　　　　　　while((n = inputStream.read(b)) != -1){&lt;br/&gt;　　　　　　　　　　ouputStream.write(b,0,n);&lt;br/&gt;　　　　　　}&lt;br/&gt;　　　　　　　　　　//关闭流&lt;br/&gt;　　　　　　　　　　ouputStream.close();&lt;br/&gt;　　　　　　　　　　inputStream.close();&lt;br/&gt;　　　　　　}&lt;br/&gt;　　　　}&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;　　　　// 读取.mht网页中的信息&lt;br/&gt;　　　　private static String readFile(String filePath) throws Exception{&lt;br/&gt;　　　　　　　　　　StringBuilder sb = new StringBuilder();&lt;br/&gt;　　　　　　　　　　BufferedReader br = null;&lt;br/&gt;　　　　　　try {&lt;br/&gt;　　　　　　　　　　br = new BufferedReader(new InputStreamReader(new FileInputStream(filePath),&quot;utf-8&quot;));&lt;br/&gt;　　　　　　　　while (br.ready()) {&lt;br/&gt;　　　　　　　　　　sb.append((char) br.read());&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　}catch(Exception e){&lt;br/&gt;　　　　　　　　　　e.printStackTrace();&lt;br/&gt;　　　　　　}finally {&lt;br/&gt;　　　　　　　　if (br!=null) {&lt;br/&gt;　　　　　　　　　　br.close();&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　}&lt;br/&gt;　　　　　　　　　　return sb.toString();&lt;br/&gt;　　　　}&lt;/p&gt;
&lt;p&gt;　　　　//将HTML转word&lt;br/&gt;　　　　private static boolean writeWordFile(String content ,String path,String fileName) throws Exception{&lt;br/&gt;　　　　　　　　　　boolean flag = false;&lt;br/&gt;　　　　　　　　　　FileOutputStream fos = null;&lt;br/&gt;　　　　　　　　　　StringBuilder sb = new StringBuilder();&lt;br/&gt;　　　　　　try {&lt;br/&gt;　　　　　　　　if(!&quot;&quot;.equals(path)){&lt;br/&gt;　　　　　　　　　　byte[]b = content.getBytes(&quot;utf-8&quot;);&lt;br/&gt;　　　　　　　　　　fos = new FileOutputStream(sb.append(path).append(fileName).append(&quot;.doc&quot;).toString());&lt;br/&gt;　　　　　　　　　　fos.write(b);&lt;br/&gt;　　　　　　　　　　fos.close();&lt;br/&gt;　　　　　　　　　　flag = true;&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　}catch (IOException e)&lt;br/&gt;　　　　　　{&lt;br/&gt;　　　　　　　　　　e.printStackTrace();&lt;br/&gt;　　　　　　}finally {&lt;br/&gt;　　　　　　　　if (fos !=null) {&lt;br/&gt;　　　　　　　　　　fos.close();&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　}&lt;br/&gt;　　　　　　　　　　return flag;&lt;br/&gt;　　　　}&lt;/p&gt;
&lt;p&gt;　　　　public static void htmlToWord(String editorContent,String htmlPath,HttpServletRequest request,String wordPath,String wordName) throws Exception{&lt;br/&gt;　　　　　　　　　　//读取网页中的内容&lt;br/&gt;　　　　　　　　　　String htmlFile = EditorUtils.readFile(htmlPath);&lt;br/&gt;　　　　　　　　　　// 替换后的内容&lt;br/&gt;　　　　　　　　　　String endContent = htmlFile.replace(&quot;${content}&quot;, editorContent);&lt;br/&gt;　　　　　　　　　　//转word&lt;br/&gt;　　　　　　　　　　EditorUtils.writeWordFile(endContent, wordPath, wordName);&lt;br/&gt;　　　　}&lt;/p&gt;&lt;p&gt;　　　　// 将editorContent存入txt中用于载入时直接使用&lt;br/&gt;　　　　public static void saveEditorContent(String editorContent,String targetPath,String fileName) throws IOException{&lt;br/&gt;　　　　　　　　　　FileOutputStream fos = null;&lt;br/&gt;　　　　　　　　　　StringBuilder sb = new StringBuilder();&lt;br/&gt;　　　　　　try {&lt;br/&gt;　　　　　　　　if(!&quot;&quot;.equals(targetPath)){&lt;br/&gt;　　　　　　　　　　byte[]b = editorContent.getBytes(&quot;utf-8&quot;);&lt;br/&gt;　　　　　　　　　　fos = new FileOutputStream(targetPath);&lt;br/&gt;　　　　　　　　　　fos.write(b);&lt;br/&gt;　　　　　　　　　　fos.close();&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　}catch (IOException e)&lt;br/&gt;　　　　　　{&lt;br/&gt;　　　　　　　　　　e.printStackTrace();&lt;br/&gt;　　　　　　}finally {&lt;br/&gt;　　　　　　　　if (fos !=null) {&lt;br/&gt;　　　　　　　　　　fos.close();&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　}&lt;br/&gt;　　　　}&lt;/p&gt;&lt;p&gt;　　　　//载入&lt;br/&gt;　　　　public static String load(String name,HttpServletRequest request,HttpServletResponse response) throws IOException{&lt;br/&gt;　　　　　　　　　　EditorUtils.setCode(request, response);&lt;br/&gt;　　　　　　　　　　String path = EditorUtils.getWindowsTxtPath(request, name);&lt;br/&gt;　　　　　　　　　　StringBuilder sb= new StringBuilder();&lt;br/&gt;　　　　　　　　　　BufferedReader br = null;&lt;br/&gt;　　　　　　try {&lt;br/&gt;　　　　　　　　　　br = new BufferedReader(new InputStreamReader(new FileInputStream(path),&quot;utf-8&quot;));&lt;br/&gt;　　　　　　　　while (br.ready()) {&lt;br/&gt;　　　　　　　　　　sb.append((char) br.read());&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　}catch(Exception e){&lt;br/&gt;　　　　　　　　　　e.printStackTrace();&lt;br/&gt;　　　　　　}finally {&lt;br/&gt;　　　　　　　　if (br!=null) {&lt;br/&gt;　　　　　　　　　　br.close();&lt;br/&gt;　　　　　　　　}&lt;br/&gt;　　　　　　}&lt;br/&gt;　　　　　　　　　　return sb.toString();&lt;br/&gt;　　　　　　}&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;　　 其中主要的代码就是工具类，代码都是能直接使用的。当然了，代码我还有10%没弄上来，不过我相信有了这些代码，看到此篇博客的人应该没问题。&lt;/p&gt;
&lt;p&gt;　　在此，希望此篇博客能帮助到一些人。&lt;/p&gt;

</description>
<pubDate>Sun, 02 Dec 2018 06:32:00 +0000</pubDate>
<dc:creator>经济人</dc:creator>
<og:description>自己之前写了一篇关于POI 相关的博客， 想了想在公司中一般常用的不就是上传下载，poi，分页，定时等。好像还有个在线编辑器， 于是自己就花了两个多小时把编辑器相关的代码撸了遍，当然了是先百度找了找资</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/jingjiren/p/10042606.html</dc:identifier>
</item>
<item>
<title>F#周报2018年第48期 - Ken.W</title>
<link>http://www.cnblogs.com/kenwoo/p/10053113.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/kenwoo/p/10053113.html</guid>
<description>[unable to retrieve full-text content]新闻 &quot;F 2018年圣诞日历&quot; &quot;Mac上的Visual Studio 2017新版本7.7&quot; &quot;Rider 2018.3将引入远程调试功能&quot; &quot;Visual Studio 2017新版本15.9.3&quot; 视频及幻灯片 &quot;重新思考直播编程中的编译器&quot; &quot;Elmish是什么&quot; &quot;面向对象vs函数式——</description>
<pubDate>Sun, 02 Dec 2018 06:29:00 +0000</pubDate>
<dc:creator>Ken.W</dc:creator>
<og:description>新闻 </og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/kenwoo/p/10053113.html</dc:identifier>
</item>
<item>
<title>redis 系列18 事件 - 花阴偷移</title>
<link>http://www.cnblogs.com/MrHSR/p/10053170.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/MrHSR/p/10053170.html</guid>
<description>&lt;p&gt;&lt;strong&gt;一.概述&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;　　Redis服务器是一个事件驱动程序，服务器需要处理两类事件：1文件事件，2时间事件。文件事件是关于客户端与服务器之间的通信操作。时间事件是关于服务器内部的一些定时操作。本篇还是参照&quot;Redis设计与实现&quot;书，简要了解下Redis事件。&lt;/p&gt;
&lt;p&gt;　&lt;strong&gt;　1. 文件事件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;　　　　文件事件(file event)是服务器对套接字操作的抽象（套接字，是支持TCP/IP的网络通信的基本操作单元，可以看做是不同主机之间的进程进行双向通信的端点），通过套接字与客户端或者其它Redis服务器进行连接,服务端与客户端的通信产生相应的文件事件，服务器则通过监听并处理这些文件事件来完成一系列网络通信操作。&lt;/p&gt;
&lt;p&gt;　　　　Redis基于Reactor(反应器)模式开发了自己的网络事件处理器，这个处理器被称为文件事件处理器。文件事件处理器使用I/O多路复用程序来同时监听多个套接字，并根据套接字目前执行的任务来为套接字关联不同的事件处理器。&lt;/p&gt;
&lt;p&gt;　　　　当被监听的套接字准备好执行连接应答，读取，写入，关闭等操作时，与操作相对应的文件事件就会产生，这时文件事件处理器就会调用套接字之前关联好的事件处理器来处理这些事件。&lt;/p&gt;
&lt;p&gt;　　　　文件事件处理器包括套接字，I/O多路复用程序，文件事件分派器，事件处理器。下面展示了四个组成部分。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/151560/201812/151560-20181202135304365-1559530522.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　　　　当多个套接字做连接，写入，读取，关闭等命令操作时，就会产生多个并发文件事件。I/O多路复用程序负责监听多个套接字放入队列中，然后通过队列，以有序，同步，每次一个套接字的方式向文件事件分派器传送, 当上一个套接字产生的事件被处理后，事件分派器会继续传送下一个套接字。&lt;/p&gt;
&lt;p&gt;　　　　下面简单描述一个通信过程：(1)当一个Redis客户端向服务器发起连接，那么监听套接字将产生ae_readable事件(该事件是指当客户端对套接字执行write,close,connect操作),触发连接应答处理器执行。 该处理器会对客户端的连接请求进行应答，然后创建客户端套接字，客户端状态。使得客户端可以向服务器发送命令请求。&lt;/p&gt;
&lt;p&gt;　　　　(2)执行客户端命令后将产生相应的命令回复，为了将这些命令回复传送回客户端，服务器会将客户端套接字的ae_writable事件(该事件是指客户端对套接字执行read操作)与命令回复处理器进行关联，当客户端尝试读取命令回复的时候，会触发命令回复处理器执行。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/151560/201812/151560-20181202135432441-1464236683.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;　&lt;strong&gt;　2.时间事件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;　　　　时间事件(time event)是Redis服务器中的一些操作如serverCron函数，需要在给定的时间点执行，而时间事件就是服务器对这类定时操作的抽象。时间事件分为两类: 1定时事件：让一段程序在指定的时间之后执行一次。2.周期性事件：让一段程序每隔指定时间表就执行一次。&lt;/p&gt;
&lt;p&gt;　　　　持续运行的Redis服务器需要定期对自身资源和状态进行检查和调整，从而确保服务器可以长期，稳定的运行，主要工作包括:&lt;/p&gt;
&lt;p&gt;　　　　(1) 更新服务器的各类统计信息，比如时间，内存占用，数据库占用情况等。&lt;/p&gt;
&lt;p&gt;　　　　(2) 清理数据库中的过期键值对。&lt;/p&gt;
&lt;p&gt;　　　　(3) 关闭和清理连接失败的客户端。&lt;/p&gt;
&lt;p&gt;　　　　(4) 尝试进行AOF和RDB持久化操作。&lt;/p&gt;
&lt;p&gt;　　　　(5) 如果服务器是主服务器，那么对从服务器进行定期同步。&lt;/p&gt;
&lt;p&gt;　　　　(6) 如果处于集群模式，对集群进行定期同步和连接测试。&lt;/p&gt;
&lt;p&gt;　　　　Redis服务器对周期性事件的方式运行redis.c/serverCron函数，直到服务器关闭为止。在配置上，用户通过修改hz选项来调整serverCron的每秒执行次数。默认是每秒执行10次。&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot; readability=&quot;32&quot;&gt;
&lt;pre&gt;
    &lt;span&gt;127.0&lt;/span&gt;.&lt;span&gt;0.1&lt;/span&gt;:&lt;span&gt;6379&lt;/span&gt;&amp;gt; config &lt;span&gt;get&lt;/span&gt;&lt;span&gt; hz
    &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;) &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hz&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;
    &lt;span&gt;2&lt;/span&gt;) &lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

</description>
<pubDate>Sun, 02 Dec 2018 06:23:00 +0000</pubDate>
<dc:creator>花阴偷移</dc:creator>
<og:description>一.概述 Redis服务器是一个事件驱动程序，服务器需要处理两类事件：1文件事件，2时间事件。文件事件是关于客户端与服务器之间的通信操作。时间事件是关于服务器内部的一些定时操作。本篇还是参照&quot;</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/MrHSR/p/10053170.html</dc:identifier>
</item>
<item>
<title>SpringBoot系列教程起步 - jimisun</title>
<link>http://www.cnblogs.com/jimisun/p/10053128.html</link>
<guid isPermaLink="true" >http://www.cnblogs.com/jimisun/p/10053128.html</guid>
<description>&lt;h3 id=&quot;本篇学习目标&quot;&gt;本篇学习目标&lt;/h3&gt;
&lt;h3 id=&quot;springboot-is-what&quot;&gt;SpringBoot is What?&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;Spring的目标是致力于全方位简化Java开发&lt;/li&gt;
&lt;li&gt;SpringBoot是简化Spring开发&lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;我们来探讨一下一个标准的spring程序我们需要该做什么&quot;&gt;我们来探讨一下一个标准的Spring程序我们需要该做什么&lt;/h4&gt;
&lt;ul&gt;&lt;li&gt;标准项目结构,以及必要的依赖&lt;/li&gt;
&lt;li&gt;web.xml文件(或一个WebAPplicationInitializer实现)&lt;/li&gt;
&lt;li&gt;Spring的相关配置&lt;/li&gt;
&lt;li&gt;Controller控制器&lt;/li&gt;
&lt;li&gt;WEB应用服务器(Tomcat)&lt;/li&gt;
&lt;/ul&gt;&lt;h4 id=&quot;我们可以发现只有一个controller是和我们的业务相关的其他的都是spring开发web应用程序的通用模板而springboot就能让你只写控制器即可剩下的全都交给springboot即可下面我们一起来看一下springboot是如何简化spring开发的&quot;&gt;我们可以发现只有一个Controller是和我们的业务相关的,其他的都是Spring开发Web应用程序的通用模板,而SpringBoot就能让你只写控制器即可,剩下的全都交给SpringBoot即可,下面我们一起来看一下SpringBoot是如何简化Spring开发的&lt;/h4&gt;
&lt;ul&gt;&lt;li&gt;起步依赖 : 告诉SpringBoot需要什么功能,它就能引入相关依赖&lt;/li&gt;
&lt;li&gt;自动配置 : 针对Spring常见功能自动提供相关配置&lt;/li&gt;
&lt;li&gt;命令行界面 : 编写部分代码就可以运行程序&lt;/li&gt;
&lt;li&gt;Actuator : 能让你深入到运行中的SpringBoot一探究竟&lt;/li&gt;
&lt;/ul&gt;&lt;h3 id=&quot;how-use-it&quot;&gt;How use it ?&lt;/h3&gt;
&lt;p&gt;构建SpringBoot项目,有很多种方法,例如下面所示,你可以使用任何一种方法构建SpringBoot项目&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;WEB界面(https://start.spring.io/)&lt;/li&gt;
&lt;li&gt;Spring Tool Suite&lt;/li&gt;
&lt;li&gt;IntelliJ IDEA&lt;/li&gt;
&lt;li&gt;SpringBoot CLI&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;下面是使用web界面构建SpringBoot项目示例图,另外几种方式不再一一累述&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1218060/201812/1218060-20181202141810085-1377068721.png&quot;/&gt;&lt;/p&gt;
&lt;h3 id=&quot;quick-to-use&quot;&gt;Quick to use&lt;/h3&gt;
&lt;blockquote readability=&quot;9.1855203619909&quot;&gt;
&lt;p&gt;现在我们要花上三分钟创建一个小的应用程序,是一个类似待办事项的小应用,从这个应用程序中,我们就能感受到SpringBoot的起步依赖和自动配置的强大魅力 &lt;a href=&quot;https://github.com/jimisun123/javacourse-springboot-in-action&quot;&gt;本章源码下载&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1218060/201812/1218060-20181202141823795-1068336464.png&quot;/&gt;&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;创建一个BOOK(实体类)&lt;/li&gt;
&lt;li&gt;创建一个Repository(仓库接口)&lt;/li&gt;
&lt;li&gt;创建一个Controller(控制器)&lt;/li&gt;
&lt;/ol&gt;&lt;p&gt;Book实体&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Entity
public class Book {

    @Id
    @GeneratedValue(strategy=GenerationType.AUTO)
    private Long id;
    private String reader;
    private String isbn;
    private String title;
    private String author;
    private String description;
    
    getter and setter .....
}
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;仓库接口&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Repository
public interface ReadingListRepository extends JpaRepository&amp;lt;Book, Long&amp;gt; {

    List&amp;lt;Book&amp;gt; findByReader(String reader);

}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;控制器&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@Controller
@RequestMapping(&quot;/readingList&quot;)
public class ReadingListController {

    private static final String reader = &quot;jimisun&quot;;

    @Autowired
    private ReadingListRepository readingListRepository;

    @RequestMapping(method = RequestMethod.GET)
    public String readersBooks(Model model) {

        List&amp;lt;Book&amp;gt; readingList = readingListRepository.findByReader(reader);
        if (readingList != null) {
            model.addAttribute(&quot;books&quot;, readingList);
        }
        return &quot;readingList&quot;;
    }

    @RequestMapping(method = RequestMethod.POST)
    public String addToReadingList(Book book) {
        book.setReader(reader);
        readingListRepository.save(book);
        return &quot;redirect:/readingList&quot;;
    }

}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;前端html&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;......&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;启动SpringBoot项目,访问 http://localhost:8080/readingList&lt;br/&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/1218060/201812/1218060-20181202141918327-1974357705.png&quot;/&gt;&lt;/p&gt;
&lt;h4 id=&quot;刚才发生了什么&quot;&gt;刚才发生了什么?&lt;/h4&gt;
&lt;p&gt;我们不是要进行配置一些类的配置吗?NO NO NO,使用SpringBoot让配置成为了过去,SpringBoot的自动配置(利用Spring的条件化配置)担任起了配置Spring的重任&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;因为ClassPath里有H2,所以会创建一个H2数据库的Bean,JPA实现需要它访问数据库&lt;/li&gt;
&lt;li&gt;因为ClassPath里有Hibernate(Spring Data JPA传递引入的)实体管理器,所以自动配置会配置与Hibernate有关的Bean&lt;/li&gt;
&lt;li&gt;因为ClassPath里有Spring Data JPA,所以会根据仓库的接口创建仓库的实现&lt;/li&gt;
&lt;li&gt;因为ClassPath里有Spring MVC(Web的起步依赖引入的),所以会配置Spring的DispatcherServlet并启用Spring MVC&lt;/li&gt;
&lt;li&gt;因为ClassPath里有Tomcat(Web起步依赖引入的),所以会启动一个嵌入式的Tomcat容器,监听8080端口&lt;/li&gt;
&lt;li&gt;......&lt;/li&gt;
&lt;/ul&gt;&lt;blockquote readability=&quot;12&quot;&gt;
&lt;p&gt;我们可以看到,得益于SpringBoot的起步依赖和自动配置,我们几乎不用做任何配置,但是在某些场景下自动配置可能并不如意,或者你需要另外一种配置,该怎么办?下一篇我们会一起来&lt;strong&gt;了解如何掌控SpringBoot的自动配置&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
<pubDate>Sun, 02 Dec 2018 06:11:00 +0000</pubDate>
<dc:creator>jimisun</dc:creator>
<og:description>本篇学习目标 SpringBoot is What? How use it ? Quick to use</og:description>
<dc:language>zh-cn</dc:language>
<dc:format>text/html</dc:format>
<dc:identifier>http://www.cnblogs.com/jimisun/p/10053128.html</dc:identifier>
</item>
</channel>
</rss>